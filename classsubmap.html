<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: submap Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classsubmap-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">submap Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="submap_8h_source.html">submap.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsubmap_1_1cosmetic__t.html">cosmetic_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsubmap_1_1tile__data.html">tile_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad91de73948aa60caa53ca4c8f7d397cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ad91de73948aa60caa53ca4c8f7d397cb">submap</a> ()=default</td></tr>
<tr class="separator:ad91de73948aa60caa53ca4c8f7d397cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00df700a559186bbf9a853fa32813d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aa00df700a559186bbf9a853fa32813d2">submap</a> (<a class="el" href="classsubmap.html">submap</a> &amp;&amp;) noexcept(<a class="el" href="compatibility_8h.html#a7d2d6538db629ada5554da88c83bcdd1">map_is_noexcept</a>)</td></tr>
<tr class="separator:aa00df700a559186bbf9a853fa32813d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a94867e037a16ad8620a23987baa0ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a9a94867e037a16ad8620a23987baa0ef">~submap</a> ()</td></tr>
<tr class="separator:a9a94867e037a16ad8620a23987baa0ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9987a438bf00259829a840adc441c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsubmap.html">submap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a4e9987a438bf00259829a840adc441c0">operator=</a> (<a class="el" href="classsubmap.html">submap</a> &amp;&amp;) noexcept</td></tr>
<tr class="separator:a4e9987a438bf00259829a840adc441c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7300e32a94213aa29ccf25092afc451a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a> ()</td></tr>
<tr class="separator:a7300e32a94213aa29ccf25092afc451a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02500ef34bc6475b7e5dad23952ed75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ac02500ef34bc6475b7e5dad23952ed75">revert_submap</a> (<a class="el" href="classsubmap.html">submap</a> &amp;sr)</td></tr>
<tr class="separator:ac02500ef34bc6475b7e5dad23952ed75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcfd2dd94b7e8675d8e1ae3dd56da6f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsubmap.html">submap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#abcfd2dd94b7e8675d8e1ae3dd56da6f1">get_revert_submap</a> () const</td></tr>
<tr class="separator:abcfd2dd94b7e8675d8e1ae3dd56da6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914e5f29a7d29e0eb3d7d73a60037dec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a914e5f29a7d29e0eb3d7d73a60037dec">get_trap</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:a914e5f29a7d29e0eb3d7d73a60037dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba9b57ae741f456d6d2a93aa8c5c7b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a2ba9b57ae741f456d6d2a93aa8c5c7b5">set_trap</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, <a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> <a class="el" href="structtrap.html">trap</a>)</td></tr>
<tr class="separator:a2ba9b57ae741f456d6d2a93aa8c5c7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf150f62b5ab49d2f322da304f0b5a6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#abf150f62b5ab49d2f322da304f0b5a6f">set_all_traps</a> (const <a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> &amp;<a class="el" href="structtrap.html">trap</a>)</td></tr>
<tr class="separator:abf150f62b5ab49d2f322da304f0b5a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df876dc4bca97aaa9a2c8d96c85649c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a6df876dc4bca97aaa9a2c8d96c85649c">get_furn</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:a6df876dc4bca97aaa9a2c8d96c85649c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f91089185f95840e72575bad626c442"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a2f91089185f95840e72575bad626c442">set_furn</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> furn)</td></tr>
<tr class="separator:a2f91089185f95840e72575bad626c442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a978f73a9bc50ebcce14957b3d6bba847"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a978f73a9bc50ebcce14957b3d6bba847">set_all_furn</a> (const <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> &amp;furn)</td></tr>
<tr class="separator:a978f73a9bc50ebcce14957b3d6bba847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded01c539ad7c8868e156e98c8417141"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aded01c539ad7c8868e156e98c8417141">get_map_damage</a> (const <a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a> &amp;p) const</td></tr>
<tr class="separator:aded01c539ad7c8868e156e98c8417141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8b69e6d61142f2a921ba718e07c0f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a4f8b69e6d61142f2a921ba718e07c0f4">set_map_damage</a> (const <a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a> &amp;p, int dmg)</td></tr>
<tr class="separator:a4f8b69e6d61142f2a921ba718e07c0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8b4e7ea9442a0b47ff1f548be596e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aeb8b4e7ea9442a0b47ff1f548be596e0">get_ter</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:aeb8b4e7ea9442a0b47ff1f548be596e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25c124e2017746b9d0329efd7e86e4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ad25c124e2017746b9d0329efd7e86e4e">set_ter</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> terr)</td></tr>
<tr class="separator:ad25c124e2017746b9d0329efd7e86e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdeb0ec7d69d9a390b2f994550a1d0ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#afdeb0ec7d69d9a390b2f994550a1d0ee">set_all_ter</a> (const <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> &amp;terr, bool uniform_ok=false)</td></tr>
<tr class="separator:afdeb0ec7d69d9a390b2f994550a1d0ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88205b88cc096392177c6dccf7e61c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ad88205b88cc096392177c6dccf7e61c8">get_radiation</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:ad88205b88cc096392177c6dccf7e61c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f52488e5c4ec3a34217904d7272c58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a29f52488e5c4ec3a34217904d7272c58">set_radiation</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const int radiation)</td></tr>
<tr class="separator:a29f52488e5c4ec3a34217904d7272c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b6ace5f36f11be57c954c823608c00"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aa6b6ace5f36f11be57c954c823608c00">get_lum</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:aa6b6ace5f36f11be57c954c823608c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af798f765d1975240fbe036cf9f63058c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af798f765d1975240fbe036cf9f63058c">set_lum</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, uint8_t luminance)</td></tr>
<tr class="separator:af798f765d1975240fbe036cf9f63058c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae4a44cf15110ecbeba984f60ab9899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a8ae4a44cf15110ecbeba984f60ab9899">update_lum_add</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const <a class="el" href="classitem.html">item</a> &amp;i)</td></tr>
<tr class="separator:a8ae4a44cf15110ecbeba984f60ab9899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffa669a4a9bad224035b65ffd580343"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#afffa669a4a9bad224035b65ffd580343">update_lum_rem</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const <a class="el" href="classitem.html">item</a> &amp;i)</td></tr>
<tr class="separator:afffa669a4a9bad224035b65ffd580343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d76f1627b141af2b3829980b66c450"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae5d76f1627b141af2b3829980b66c450">get_items</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:ae5d76f1627b141af2b3829980b66c450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2c290466740f75d48fd29afec48c5f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a3e2c290466740f75d48fd29afec48c5f">get_items</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:a3e2c290466740f75d48fd29afec48c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5725d35b43c5cef25b1b20516ba00a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfield.html">field</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a3f5725d35b43c5cef25b1b20516ba00a">get_field</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:a3f5725d35b43c5cef25b1b20516ba00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69944d2d4ac6ef303d3254f06927ac01"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfield.html">field</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a69944d2d4ac6ef303d3254f06927ac01">get_field</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:a69944d2d4ac6ef303d3254f06927ac01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc59626ae567534803c02238be61f24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#acbc59626ae567534803c02238be61f24">clear_fields</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:acbc59626ae567534803c02238be61f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a40b23fed34932f59b15ea7f3400239"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a4a40b23fed34932f59b15ea7f3400239">insert_cosmetic</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const std::string &amp;<a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const std::string &amp;str)</td></tr>
<tr class="separator:a4a40b23fed34932f59b15ea7f3400239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fcb857e4d6945511bd9604eff5df1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a93cd1578a96bdf194d4ec88eb50d904e">units::temperature_delta</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ac8fcb857e4d6945511bd9604eff5df1d">get_temperature_mod</a> () const</td></tr>
<tr class="separator:ac8fcb857e4d6945511bd9604eff5df1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396478bff66847708df18b545fb98102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a396478bff66847708df18b545fb98102">set_temperature_mod</a> (<a class="el" href="namespaceunits.html#a93cd1578a96bdf194d4ec88eb50d904e">units::temperature_delta</a> new_temperature_mod)</td></tr>
<tr class="separator:a396478bff66847708df18b545fb98102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1688ad582c8614cc0404d753a16d584"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae1688ad582c8614cc0404d753a16d584">has_graffiti</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:ae1688ad582c8614cc0404d753a16d584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85c570c7acde2bc8ab76b118d80f095"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aa85c570c7acde2bc8ab76b118d80f095">get_graffiti</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:aa85c570c7acde2bc8ab76b118d80f095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308eddf864275f1d97df5c5fd481ee26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a308eddf864275f1d97df5c5fd481ee26">set_graffiti</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const std::string &amp;new_graffiti)</td></tr>
<tr class="separator:a308eddf864275f1d97df5c5fd481ee26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700d0df13bb6952a458f2f0127afeae0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a700d0df13bb6952a458f2f0127afeae0">delete_graffiti</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:a700d0df13bb6952a458f2f0127afeae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ec98572ef0887b49dd58cc14405d72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a76ec98572ef0887b49dd58cc14405d72">has_signage</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:a76ec98572ef0887b49dd58cc14405d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801d50ed5b9762d90603c0cbef49b453"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a801d50ed5b9762d90603c0cbef49b453">get_signage</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:a801d50ed5b9762d90603c0cbef49b453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d5b843c200c6273e9455850309553c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af1d5b843c200c6273e9455850309553c">set_signage</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const std::string &amp;s)</td></tr>
<tr class="separator:af1d5b843c200c6273e9455850309553c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4dbe232989967bff72a0184eabd7990"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ad4dbe232989967bff72a0184eabd7990">delete_signage</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:ad4dbe232989967bff72a0184eabd7990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a6b7f2624ba910a2670ababa4184fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ad3a6b7f2624ba910a2670ababa4184fb">has_computer</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:ad3a6b7f2624ba910a2670ababa4184fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac047b6e1deffa960a472419cf97a58cf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classcomputer.html">computer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ac047b6e1deffa960a472419cf97a58cf">get_computer</a> (const <a class="el" href="structpoint.html">point</a> &amp;p) const</td></tr>
<tr class="separator:ac047b6e1deffa960a472419cf97a58cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04feed5b06e9b580f33d3ae5ab874514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcomputer.html">computer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a04feed5b06e9b580f33d3ae5ab874514">get_computer</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:a04feed5b06e9b580f33d3ae5ab874514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eb883155e66211b2e3ba77d23c28780"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a4eb883155e66211b2e3ba77d23c28780">set_computer</a> (const <a class="el" href="structpoint.html">point</a> &amp;p, const <a class="el" href="classcomputer.html">computer</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="separator:a4eb883155e66211b2e3ba77d23c28780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3543f583f13e943f43d71178a73775b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a3543f583f13e943f43d71178a73775b5">delete_computer</a> (const <a class="el" href="structpoint.html">point</a> &amp;p)</td></tr>
<tr class="separator:a3543f583f13e943f43d71178a73775b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15afcfd5f0efbbaae84d138a214847d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#af15afcfd5f0efbbaae84d138a214847d">contains_vehicle</a> (<a class="el" href="classvehicle.html">vehicle</a> *)</td></tr>
<tr class="separator:af15afcfd5f0efbbaae84d138a214847d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eec67d49daca2e63cf5bed11049f6af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a5eec67d49daca2e63cf5bed11049f6af">is_open_air</a> (const <a class="el" href="structpoint.html">point</a> &amp;) const</td></tr>
<tr class="separator:a5eec67d49daca2e63cf5bed11049f6af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b5eef233a79633cc3493d5452b66fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a61b5eef233a79633cc3493d5452b66fd">rotate</a> (int turns)</td></tr>
<tr class="separator:a61b5eef233a79633cc3493d5452b66fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8045ce0fc1551e2ce9c4168b5d4f2ce7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a8045ce0fc1551e2ce9c4168b5d4f2ce7">mirror</a> (bool horizontally)</td></tr>
<tr class="separator:a8045ce0fc1551e2ce9c4168b5d4f2ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d212dab698fe61a61c10061e8adf2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a67d212dab698fe61a61c10061e8adf2e">store</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout) const</td></tr>
<tr class="separator:a67d212dab698fe61a61c10061e8adf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cedaf720c31eec901844d78185461c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a1cedaf720c31eec901844d78185461c2">load</a> (const <a class="el" href="classJsonValue.html">JsonValue</a> &amp;jv, const std::string &amp;member_name, int version)</td></tr>
<tr class="separator:a1cedaf720c31eec901844d78185461c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf5c1f5b90e80c09fe9b799a0459a139"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a> () const</td></tr>
<tr class="separator:adf5c1f5b90e80c09fe9b799a0459a139"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ada9558cbc399cd122d23af327daa1c67"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structsubmap_1_1cosmetic__t.html">cosmetic_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a></td></tr>
<tr class="separator:ada9558cbc399cd122d23af327daa1c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14312fd2b32daf90ba20524a8272e70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classactive__item__cache.html">active_item_cache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a></td></tr>
<tr class="separator:ab14312fd2b32daf90ba20524a8272e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86d0130ed1d1556482b2f7478633778"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">field_count</a> = 0</td></tr>
<tr class="separator:aa86d0130ed1d1556482b2f7478633778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46123556cf8ed220cc78cfe639f76aea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">last_touched</a> = <a class="el" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></td></tr>
<tr class="separator:a46123556cf8ed220cc78cfe639f76aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcef59c39db2b0df1a96592d37a4b54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aedcef59c39db2b0df1a96592d37a4b54">reverted</a> = false</td></tr>
<tr class="separator:aedcef59c39db2b0df1a96592d37a4b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955a62ae7625cb18d39267c80b48f703"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structspawn__point.html">spawn_point</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a></td></tr>
<tr class="separator:a955a62ae7625cb18d39267c80b48f703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5623916cf7dbc2e67886538f837d8a86"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::unique_ptr&lt; <a class="el" href="classvehicle.html">vehicle</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a5623916cf7dbc2e67886538f837d8a86">vehicles</a></td></tr>
<tr class="memdesc:a5623916cf7dbc2e67886538f837d8a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vehicles on this submap (their (0,0) point is on this submap).  <a href="classsubmap.html#a5623916cf7dbc2e67886538f837d8a86">More...</a><br /></td></tr>
<tr class="separator:a5623916cf7dbc2e67886538f837d8a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8378470224a9f9395a39cbbcfffa4099"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="coordinates_8h.html#a84a1d9c2f4e544edff1b885bc7b09b12">tripoint_sm_ms</a>, <a class="el" href="structpartial__con.html">partial_con</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a8378470224a9f9395a39cbbcfffa4099">partial_constructions</a></td></tr>
<tr class="separator:a8378470224a9f9395a39cbbcfffa4099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6b800454648ba710233504494b2c34"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classbasecamp.html">basecamp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a></td></tr>
<tr class="separator:aab6b800454648ba710233504494b2c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae6b6b508bd05f08882227e5b0848f081"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a>, <a class="el" href="structsubmap_1_1tile__data.html">tile_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#ae6b6b508bd05f08882227e5b0848f081">ephemeral_data</a></td></tr>
<tr class="separator:ae6b6b508bd05f08882227e5b0848f081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeba53a78e62b516c1bd1be0c63542ca"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="structpoint.html">point</a>, <a class="el" href="classcomputer.html">computer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a></td></tr>
<tr class="separator:aeeba53a78e62b516c1bd1be0c63542ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28dc301cdeb20e234d7011e2cec52cbc"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structmaptile__soa.html">maptile_soa</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a></td></tr>
<tr class="separator:a28dc301cdeb20e234d7011e2cec52cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d1f58af7aeb06fc6affc5f663771c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">uniform_ter</a> = <a class="el" href="mapdata_8h.html#a7eaf3fb1c88b99d3594824fe3cb7003f">t_null</a></td></tr>
<tr class="separator:a23d1f58af7aeb06fc6affc5f663771c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750a7313d84dc5d9324eccdee7d34c0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a750a7313d84dc5d9324eccdee7d34c0d">temperature_mod</a> = 0</td></tr>
<tr class="separator:a750a7313d84dc5d9324eccdee7d34c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a6aa8eac8b516b65613b099399075fc4d"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a> = <a class="el" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="el" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></td></tr>
<tr class="separator:a6aa8eac8b516b65613b099399075fc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00069">69</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad91de73948aa60caa53ca4c8f7d397cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91de73948aa60caa53ca4c8f7d397cb">&#9670;&nbsp;</a></span>submap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">submap::submap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa00df700a559186bbf9a853fa32813d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00df700a559186bbf9a853fa32813d2">&#9670;&nbsp;</a></span>submap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">submap::submap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a94867e037a16ad8620a23987baa0ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a94867e037a16ad8620a23987baa0ef">&#9670;&nbsp;</a></span>~submap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">submap::~submap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acbc59626ae567534803c02238be61f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc59626ae567534803c02238be61f24">&#9670;&nbsp;</a></span>clear_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::clear_fields </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00032">32</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classfield.html">field</a> &amp;f = <a class="code" href="classsubmap.html#a3f5725d35b43c5cef25b1b20516ba00a">get_field</a>( p );</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">field_count</a> -= f.<a class="code" href="classfield.html#ad1c329c6123d286408463bfad21eca47">field_count</a>();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    f.<a class="code" href="classfield.html#ae97437dfcb63a1bf1a3c5184d660581e">clear</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00106">field.h:107</a></div></div>
<div class="ttc" id="aclassfield_html_ad1c329c6123d286408463bfad21eca47"><div class="ttname"><a href="classfield.html#ad1c329c6123d286408463bfad21eca47">field::field_count</a></div><div class="ttdeci">unsigned int field_count() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00212">field.cpp:212</a></div></div>
<div class="ttc" id="aclassfield_html_ae97437dfcb63a1bf1a3c5184d660581e"><div class="ttname"><a href="classfield.html#ae97437dfcb63a1bf1a3c5184d660581e">field::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Removes all fields.</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00202">field.cpp:202</a></div></div>
<div class="ttc" id="aclasssubmap_html_a3f5725d35b43c5cef25b1b20516ba00a"><div class="ttname"><a href="classsubmap.html#a3f5725d35b43c5cef25b1b20516ba00a">submap::get_field</a></div><div class="ttdeci">field &amp; get_field(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00212">submap.h:212</a></div></div>
<div class="ttc" id="aclasssubmap_html_aa86d0130ed1d1556482b2f7478633778"><div class="ttname"><a href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">submap::field_count</a></div><div class="ttdeci">int field_count</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00296">submap.h:296</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="field_8cpp_source.html#l00202">field::clear()</a>, and <a class="el" href="field_8cpp_source.html#l00212">field::field_count()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06660">map::clear_fields()</a>.</p>

</div>
</div>
<a id="af15afcfd5f0efbbaae84d138a214847d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15afcfd5f0efbbaae84d138a214847d">&#9670;&nbsp;</a></span>contains_vehicle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::contains_vehicle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvehicle.html">vehicle</a> *&#160;</td>
          <td class="paramname"><em>veh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00181">181</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> match = std::find_if(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                           begin( <a class="code" href="namespacevehicles.html">vehicles</a> ), <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>( <a class="code" href="namespacevehicles.html">vehicles</a> ),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    [veh]( <span class="keyword">const</span> std::unique_ptr&lt;vehicle&gt; &amp;v ) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> v.get() == veh;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    } );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> match != <a class="code" href="namespacevehicles.html">vehicles</a>.end();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
<div class="ttc" id="anamespacevehicles_html"><div class="ttname"><a href="namespacevehicles.html">vehicles</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00034">veh_type.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00095">keycode::end</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05773">map::process_items_in_vehicle()</a>, and <a class="el" href="map_8cpp_source.html#l05751">map::process_items_in_vehicles()</a>.</p>

</div>
</div>
<a id="a3543f583f13e943f43d71178a73775b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3543f583f13e943f43d71178a73775b5">&#9670;&nbsp;</a></span>delete_computer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::delete_computer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00176">176</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.erase( p );</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="ttc" id="aclasssubmap_html_aeeba53a78e62b516c1bd1be0c63542ca"><div class="ttname"><a href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">submap::computers</a></div><div class="ttdeci">std::map&lt; point, computer &gt; computers</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00315">submap.h:315</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00315">computers</a>.</p>

</div>
</div>
<a id="a700d0df13bb6952a458f2f0127afeae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700d0df13bb6952a458f2f0127afeae0">&#9670;&nbsp;</a></span>delete_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::delete_graffiti </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00092">92</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcosmetic__find__result.html">cosmetic_find_result</a> fresult = <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> );</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span>( fresult.<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a> ) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.<a class="code" href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">ndx</a> ] = <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.back();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.pop_back();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="ttc" id="aclasssubmap_html_a7300e32a94213aa29ccf25092afc451a"><div class="ttname"><a href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">submap::ensure_nonuniform</a></div><div class="ttdeci">void ensure_nonuniform()</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00078">submap.h:78</a></div></div>
<div class="ttc" id="aclasssubmap_html_ada9558cbc399cd122d23af327daa1c67"><div class="ttname"><a href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">submap::cosmetics</a></div><div class="ttdeci">std::vector&lt; cosmetic_t &gt; cosmetics</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00292">submap.h:292</a></div></div>
<div class="ttc" id="astructcosmetic__find__result_html"><div class="ttname"><a href="structcosmetic__find__result.html">cosmetic_find_result</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00044">submap.cpp:44</a></div></div>
<div class="ttc" id="astructcosmetic__find__result_html_a3de8fb543a40b815afeff4fafb7e1380"><div class="ttname"><a href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">cosmetic_find_result::result</a></div><div class="ttdeci">bool result</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00045">submap.cpp:45</a></div></div>
<div class="ttc" id="astructcosmetic__find__result_html_ad1139b9784fda2c6c13d10ed54a6c5a1"><div class="ttname"><a href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">cosmetic_find_result::ndx</a></div><div class="ttdeci">int ndx</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00046">submap.cpp:46</a></div></div>
<div class="ttc" id="asubmap_8cpp_html_a4d5b25696ee54fc885984be28fe429ac"><div class="ttname"><a href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a></div><div class="ttdeci">static cosmetic_find_result find_cosmetic(const std::vector&lt; submap::cosmetic_t &gt; &amp;cosmetics, const point &amp;p, const std::string &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00055">submap.cpp:55</a></div></div>
<div class="ttc" id="asubmap_8cpp_html_a81ce0969039472354e345d83af4e7d52"><div class="ttname"><a href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a></div><div class="ttdeci">static const std::string COSMETICS_GRAFFITI(&quot;GRAFFITI&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00046">cosmetic_find_result::ndx</a>, and <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l09167">map::delete_graffiti()</a>.</p>

</div>
</div>
<a id="ad4dbe232989967bff72a0184eabd7990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4dbe232989967bff72a0184eabd7990">&#9670;&nbsp;</a></span>delete_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::delete_signage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00131">131</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcosmetic__find__result.html">cosmetic_find_result</a> fresult = <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> );</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span>( fresult.<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a> ) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.<a class="code" href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">ndx</a> ] = <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.back();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.pop_back();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="asubmap_8cpp_html_a2ff8b1d4e9aff7d65b90a0daf67ae291"><div class="ttname"><a href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a></div><div class="ttdeci">static const std::string COSMETICS_SIGNAGE(&quot;SIGNAGE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00046">cosmetic_find_result::ndx</a>, and <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04879">map::delete_signage()</a>.</p>

</div>
</div>
<a id="a7300e32a94213aa29ccf25092afc451a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7300e32a94213aa29ccf25092afc451a">&#9670;&nbsp;</a></span>ensure_nonuniform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::ensure_nonuniform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00078">78</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                 {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a> = std::make_unique&lt;maptile_soa&gt;();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code" href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">uniform_ter</a> );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>() );</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, 0 );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;trp[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a> );</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;rad[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, 0 );</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        }</div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; furn_t &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclasssubmap_html_a23d1f58af7aeb06fc6affc5f663771c6"><div class="ttname"><a href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">submap::uniform_ter</a></div><div class="ttdeci">ter_id uniform_ter</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00317">submap.h:317</a></div></div>
<div class="ttc" id="aclasssubmap_html_a28dc301cdeb20e234d7011e2cec52cbc"><div class="ttname"><a href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">submap::m</a></div><div class="ttdeci">std::unique_ptr&lt; maptile_soa &gt; m</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00316">submap.h:316</a></div></div>
<div class="ttc" id="aclasssubmap_html_a6aa8eac8b516b65613b099399075fc4d"><div class="ttname"><a href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">submap::elements</a></div><div class="ttdeci">static constexpr size_t elements</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00320">submap.h:320</a></div></div>
<div class="ttc" id="aclasssubmap_html_adf5c1f5b90e80c09fe9b799a0459a139"><div class="ttname"><a href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">submap::is_uniform</a></div><div class="ttdeci">bool is_uniform() const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00288">submap.h:288</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a7b8e40eb2b50e3841e2d9f2d0531226a"><div class="ttname"><a href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a></div><div class="ttdeci">trap_id tr_null</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00421">trap.cpp:421</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00320">elements</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID()</a>, <a class="el" href="trap_8cpp_source.html#l00421">tr_null</a>, and <a class="el" href="submap_8h_source.html#l00317">uniform_ter</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="map_8cpp_source.html#l05329">map::add_item()</a>, <a class="el" href="mapgen_8cpp_source.html#l06713">map::add_vehicle()</a>, <a class="el" href="submap_8cpp_source.html#l00092">delete_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00131">delete_signage()</a>, <a class="el" href="map_8cpp_source.html#l01435">map::displace_vehicle()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, <a class="el" href="submap_8h_source.html#l00122">set_all_furn()</a>, <a class="el" href="submap_8h_source.html#l00150">set_all_ter()</a>, <a class="el" href="submap_8h_source.html#l00105">set_all_traps()</a>, <a class="el" href="submap_8h_source.html#l00117">set_furn()</a>, <a class="el" href="submap_8cpp_source.html#l00080">set_graffiti()</a>, <a class="el" href="submap_8h_source.html#l00180">set_lum()</a>, <a class="el" href="submap_8h_source.html#l00168">set_radiation()</a>, <a class="el" href="submap_8cpp_source.html#l00120">set_signage()</a>, <a class="el" href="submap_8h_source.html#l00145">set_ter()</a>, <a class="el" href="submap_8h_source.html#l00100">set_trap()</a>, <a class="el" href="submap_8h_source.html#l00185">update_lum_add()</a>, and <a class="el" href="submap_8cpp_source.html#l00356">update_lum_rem()</a>.</p>

</div>
</div>
<a id="a04feed5b06e9b580f33d3ae5ab874514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04feed5b06e9b580f33d3ae5ab874514">&#9670;&nbsp;</a></span>get_computer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcomputer.html">computer</a> * submap::get_computer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00157">157</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p );</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span>( it != <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() ) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">return</span> &amp;it-&gt;second;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00315">computers</a>.</p>

</div>
</div>
<a id="ac047b6e1deffa960a472419cf97a58cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac047b6e1deffa960a472419cf97a58cf">&#9670;&nbsp;</a></span>get_computer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcomputer.html">computer</a> * submap::get_computer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00146">146</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// the returned object will not get modified (should not, at least), so we</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// don&#39;t yet need to update to std::map</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p );</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span>( it != <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() ) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> &amp;it-&gt;second;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00315">computers</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l06928">map::add_computer()</a>.</p>

</div>
</div>
<a id="a3f5725d35b43c5cef25b1b20516ba00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f5725d35b43c5cef25b1b20516ba00a">&#9670;&nbsp;</a></span>get_field() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfield.html">field</a>&amp; submap::get_field </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00212">212</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                           {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <a class="code" href="classfield.html">field</a> <span class="keyword">static</span> nofield;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">return</span> nofield;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;fld[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="lightmap_8cpp_source.html#l00089">map::build_transparency_cache()</a>, <a class="el" href="map_8cpp_source.html#l03507">map::decay_fields_and_scent()</a>, <a class="el" href="map_8cpp_source.html#l06379">map::field_at()</a>, <a class="el" href="lightmap_8cpp_source.html#l00386">map::generate_lightmap()</a>, <a class="el" href="map_8cpp_source.html#l02434">map::move_cost()</a>, and <a class="el" href="map__field_8cpp_source.html#l00420">map::process_fields_in_submap()</a>.</p>

</div>
</div>
<a id="a69944d2d4ac6ef303d3254f06927ac01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69944d2d4ac6ef303d3254f06927ac01">&#9670;&nbsp;</a></span>get_field() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfield.html">field</a>&amp; submap::get_field </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00220">220</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                       {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <a class="code" href="classfield.html">field</a> <span class="keyword">static</span> nofield;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <span class="keywordflow">return</span> nofield;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;fld[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

</div>
</div>
<a id="a6df876dc4bca97aaa9a2c8d96c85649c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df876dc4bca97aaa9a2c8d96c85649c">&#9670;&nbsp;</a></span>get_furn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> submap::get_furn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00110">110</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                                 {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l09320">map::build_obstacle_cache()</a>, <a class="el" href="map_8cpp_source.html#l09262">map::build_outside_cache()</a>, <a class="el" href="lightmap_8cpp_source.html#l00089">map::build_transparency_cache()</a>, <a class="el" href="map_8cpp_source.html#l01722">map::furn()</a>, <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="lightmap_8cpp_source.html#l00386">map::generate_lightmap()</a>, <a class="el" href="map_8cpp_source.html#l03122">map::has_flag_ter_or_furn()</a>, <a class="el" href="map_8cpp_source.html#l02434">map::move_cost()</a>, <a class="el" href="map_8cpp_source.html#l02482">map::move_cost_ter_furn()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, and <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>.</p>

</div>
</div>
<a id="aa85c570c7acde2bc8ab76b118d80f095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85c570c7acde2bc8ab76b118d80f095">&#9670;&nbsp;</a></span>get_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; submap::get_graffiti </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00071">71</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcosmetic__find__result.html">cosmetic_find_result</a> fresult = <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> );</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span>( fresult.<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a> ) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.<a class="code" href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">ndx</a> ].str;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a6a2c6720a7afc5feb23a4ae8ca61f3e0">STRING_EMPTY</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="ttc" id="asubmap_8cpp_html_a6a2c6720a7afc5feb23a4ae8ca61f3e0"><div class="ttname"><a href="submap_8cpp.html#a6a2c6720a7afc5feb23a4ae8ca61f3e0">STRING_EMPTY</a></div><div class="ttdeci">static const std::string STRING_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00042">submap.cpp:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00046">cosmetic_find_result::ndx</a>, <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>, and <a class="el" href="submap_8cpp_source.html#l00042">STRING_EMPTY</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l09181">map::graffiti_at()</a>.</p>

</div>
</div>
<a id="ae5d76f1627b141af2b3829980b66c450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d76f1627b141af2b3829980b66c450">&#9670;&nbsp;</a></span>get_items() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt;<a class="el" href="classitem.html">item</a>&gt;&amp; submap::get_items </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00195">195</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                                      {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <a class="code" href="classcata_1_1colony.html">cata::colony&lt;item&gt;</a> <span class="keyword">static</span> noitems;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="keywordflow">return</span> noitems;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div>
<div class="ttc" id="aclasscata_1_1colony_html"><div class="ttname"><a href="classcata_1_1colony.html">cata::colony&lt; item &gt;</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05329">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l05890">map::has_items()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="map_8cpp_source.html#l05030">map::i_clear()</a>, <a class="el" href="map_8cpp_source.html#l05001">map::i_rem()</a>, <a class="el" href="map_8cpp_source.html#l05495">map::make_active()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, and <a class="el" href="savegame_8cpp_source.html#l01504">timed_event_manager::unserialize_all()</a>.</p>

</div>
</div>
<a id="a3e2c290466740f75d48fd29afec48c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2c290466740f75d48fd29afec48c5f">&#9670;&nbsp;</a></span>get_items() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classcata_1_1colony.html">cata::colony</a>&lt;<a class="el" href="classitem.html">item</a>&gt;&amp; submap::get_items </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00203">203</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                                                  {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <a class="code" href="classcata_1_1colony.html">cata::colony&lt;item&gt;</a> <span class="keyword">static</span> noitems;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">return</span> noitems;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

</div>
</div>
<a id="aa6b6ace5f36f11be57c954c823608c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b6ace5f36f11be57c954c823608c00">&#9670;&nbsp;</a></span>get_lum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t submap::get_lum </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00173">173</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                                {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="lightmap_8cpp_source.html#l00386">map::generate_lightmap()</a>.</p>

</div>
</div>
<a id="aded01c539ad7c8868e156e98c8417141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded01c539ad7c8868e156e98c8417141">&#9670;&nbsp;</a></span>get_map_damage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int submap::get_map_damage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00126">126</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                                         {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keyword">auto</span> it = <a class="code" href="classsubmap.html#ae6b6b508bd05f08882227e5b0848f081">ephemeral_data</a>.find( p );</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">if</span>( it != <a class="code" href="classsubmap.html#ae6b6b508bd05f08882227e5b0848f081">ephemeral_data</a>.end() ) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="keywordflow">return</span> it-&gt;second.damage;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="ttc" id="aclasssubmap_html_ae6b6b508bd05f08882227e5b0848f081"><div class="ttname"><a href="classsubmap.html#ae6b6b508bd05f08882227e5b0848f081">submap::ephemeral_data</a></div><div class="ttdeci">std::map&lt; point_sm_ms, tile_data &gt; ephemeral_data</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00314">submap.h:314</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00314">ephemeral_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01943">map::get_map_damage()</a>.</p>

</div>
</div>
<a id="ad88205b88cc096392177c6dccf7e61c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88205b88cc096392177c6dccf7e61c8">&#9670;&nbsp;</a></span>get_radiation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int submap::get_radiation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00161">161</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                  {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;rad[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04931">map::adjust_radiation()</a>, and <a class="el" href="map_8cpp_source.html#l04899">map::get_radiation()</a>.</p>

</div>
</div>
<a id="abcfd2dd94b7e8675d8e1ae3dd56da6f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfd2dd94b7e8675d8e1ae3dd56da6f1">&#9670;&nbsp;</a></span>get_revert_submap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsubmap.html">submap</a> submap::get_revert_submap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00345">345</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="classsubmap.html">submap</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.uniform_ter = <a class="code" href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">uniform_ter</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.m = std::make_unique&lt;maptile_soa&gt;( *<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a> );</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="ttc" id="aclasssubmap_html"><div class="ttname"><a href="classsubmap.html">submap</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00069">submap.h:70</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="submap_8h_source.html#l00317">uniform_ter</a>.</p>

</div>
</div>
<a id="a801d50ed5b9762d90603c0cbef49b453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a801d50ed5b9762d90603c0cbef49b453">&#9670;&nbsp;</a></span>get_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string submap::get_signage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00109">109</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() &amp;&amp; <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>].obj().has_flag( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a50ab909d866ce2d1530dcc0935d99492">ter_furn_flag::TFLAG_SIGN</a> ) ) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keyword">const</span> <a class="code" href="structcosmetic__find__result.html">cosmetic_find_result</a> fresult = <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">if</span>( fresult.<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a> ) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.<a class="code" href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">ndx</a> ].str;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a6a2c6720a7afc5feb23a4ae8ca61f3e0">STRING_EMPTY</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a50ab909d866ce2d1530dcc0935d99492"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a50ab909d866ce2d1530dcc0935d99492">ter_furn_flag::TFLAG_SIGN</a></div><div class="ttdeci">@ TFLAG_SIGN</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="submap_8cpp_source.html#l00046">cosmetic_find_result::ndx</a>, <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>, <a class="el" href="submap_8cpp_source.html#l00042">STRING_EMPTY</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a50ab909d866ce2d1530dcc0935d99492">TFLAG_SIGN</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04849">map::get_signage()</a>.</p>

</div>
</div>
<a id="ac8fcb857e4d6945511bd9604eff5df1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8fcb857e4d6945511bd9604eff5df1d">&#9670;&nbsp;</a></span>get_temperature_mod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a93cd1578a96bdf194d4ec88eb50d904e">units::temperature_delta</a> submap::get_temperature_mod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00246">246</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                                           {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceunits.html#a70f92b42412609565a84bf9a7ff422a0">units::from_fahrenheit_delta</a>( <a class="code" href="classsubmap.html#a750a7313d84dc5d9324eccdee7d34c0d">temperature_mod</a> );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="ttc" id="aclasssubmap_html_a750a7313d84dc5d9324eccdee7d34c0d"><div class="ttname"><a href="classsubmap.html#a750a7313d84dc5d9324eccdee7d34c0d">submap::temperature_mod</a></div><div class="ttdeci">int temperature_mod</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00318">submap.h:318</a></div></div>
<div class="ttc" id="anamespaceunits_html_a70f92b42412609565a84bf9a7ff422a0"><div class="ttname"><a href="namespaceunits.html#a70f92b42412609565a84bf9a7ff422a0">units::from_fahrenheit_delta</a></div><div class="ttdeci">constexpr quantity&lt; units::temperature_delta::value_type, temperature_delta_in_kelvin_tag &gt; from_fahrenheit_delta(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00495">units.h:495</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="units_8h_source.html#l00495">units::from_fahrenheit_delta()</a>, and <a class="el" href="submap_8h_source.html#l00318">temperature_mod</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04948">map::get_temperature_mod()</a>.</p>

</div>
</div>
<a id="aeb8b4e7ea9442a0b47ff1f548be596e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8b4e7ea9442a0b47ff1f548be596e0">&#9670;&nbsp;</a></span>get_ter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> submap::get_ter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00138">138</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                               {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">uniform_ter</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="submap_8h_source.html#l00317">uniform_ter</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08635">map::actualize()</a>, <a class="el" href="map_8cpp_source.html#l08701">map::add_roofs()</a>, <a class="el" href="map_8cpp_source.html#l09419">map::build_floor_cache()</a>, <a class="el" href="map_8cpp_source.html#l09320">map::build_obstacle_cache()</a>, <a class="el" href="map_8cpp_source.html#l09262">map::build_outside_cache()</a>, <a class="el" href="lightmap_8cpp_source.html#l00089">map::build_transparency_cache()</a>, <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="lightmap_8cpp_source.html#l00386">map::generate_lightmap()</a>, <a class="el" href="map_8cpp_source.html#l03122">map::has_flag_ter_or_furn()</a>, <a class="el" href="submap_8cpp_source.html#l00191">is_open_air()</a>, <a class="el" href="map_8cpp_source.html#l02434">map::move_cost()</a>, <a class="el" href="map_8cpp_source.html#l02482">map::move_cost_ter_furn()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, <a class="el" href="map_8cpp_source.html#l08144">map::saven()</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>, and <a class="el" href="map_8cpp_source.html#l06297">map::trap_set()</a>.</p>

</div>
</div>
<a id="a914e5f29a7d29e0eb3d7d73a60037dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914e5f29a7d29e0eb3d7d73a60037dec">&#9670;&nbsp;</a></span>get_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> submap::get_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00093">93</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                                 {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;trp[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>];</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="trap_8cpp_source.html#l00421">tr_null</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08635">map::actualize()</a>, <a class="el" href="map_8cpp_source.html#l06338">map::remove_trap()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, <a class="el" href="map_8cpp_source.html#l06213">map::tr_at()</a>, and <a class="el" href="map_8cpp_source.html#l06297">map::trap_set()</a>.</p>

</div>
</div>
<a id="ad3a6b7f2624ba910a2670ababa4184fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a6b7f2624ba910a2670ababa4184fb">&#9670;&nbsp;</a></span>has_computer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::has_computer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00141">141</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() &amp;&amp; <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p ) != <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00315">computers</a>, and <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>.</p>

</div>
</div>
<a id="ae1688ad582c8614cc0404d753a16d584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1688ad582c8614cc0404d753a16d584">&#9670;&nbsp;</a></span>has_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::has_graffiti </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00066">66</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> ).<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, and <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l09197">map::has_graffiti_at()</a>.</p>

</div>
</div>
<a id="a76ec98572ef0887b49dd58cc14405d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ec98572ef0887b49dd58cc14405d72">&#9670;&nbsp;</a></span>has_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::has_signage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00101">101</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() &amp;&amp; <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>].obj().has_flag( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a50ab909d866ce2d1530dcc0935d99492">ter_furn_flag::TFLAG_SIGN</a> ) ) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> ).<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a50ab909d866ce2d1530dcc0935d99492">TFLAG_SIGN</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

</div>
</div>
<a id="a4a40b23fed34932f59b15ea7f3400239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a40b23fed34932f59b15ea7f3400239">&#9670;&nbsp;</a></span>insert_cosmetic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::insert_cosmetic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00236">236</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            cosmetic_t ins;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            ins.pos = p;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            ins.type = <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            ins.str = str;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>.push_back( ins );</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8h_source.html#l00231">submap::cosmetic_t::pos</a>, <a class="el" href="submap_8h_source.html#l00233">submap::cosmetic_t::str</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, and <a class="el" href="submap_8h_source.html#l00232">submap::cosmetic_t::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00080">set_graffiti()</a>, and <a class="el" href="submap_8cpp_source.html#l00120">set_signage()</a>.</p>

</div>
</div>
<a id="a5eec67d49daca2e63cf5bed11049f6af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eec67d49daca2e63cf5bed11049f6af">&#9670;&nbsp;</a></span>is_open_air()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::is_open_air </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00191">191</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classint__id.html">ter_id</a> t = <a class="code" href="classsubmap.html#aeb8b4e7ea9442a0b47ff1f548be596e0">get_ter</a>( p );</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> t-&gt;<a class="code" href="structter__t.html#ac732273f5e5c2f3298182003c032f871">trap</a> == <a class="code" href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclasssubmap_html_aeb8b4e7ea9442a0b47ff1f548be596e0"><div class="ttname"><a href="classsubmap.html#aeb8b4e7ea9442a0b47ff1f548be596e0">submap::get_ter</a></div><div class="ttdeci">ter_id get_ter(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00138">submap.h:138</a></div></div>
<div class="ttc" id="astructter__t_html_ac732273f5e5c2f3298182003c032f871"><div class="ttname"><a href="structter__t.html#ac732273f5e5c2f3298182003c032f871">ter_t::trap</a></div><div class="ttdeci">trap_id trap</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00618">mapdata.h:618</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a9d7e5dc72cb6e99095b4cb3d0d26ecd4"><div class="ttname"><a href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a></div><div class="ttdeci">const trap_str_id tr_ledge(&quot;tr_ledge&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00138">get_ter()</a>, <a class="el" href="trap_8cpp.html#a9d7e5dc72cb6e99095b4cb3d0d26ecd4">tr_ledge</a>, and <a class="el" href="mapdata_8h_source.html#l00618">ter_t::trap</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="map_8cpp_source.html#l02419">map::is_open_air()</a>, and <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>.</p>

</div>
</div>
<a id="adf5c1f5b90e80c09fe9b799a0459a139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5c1f5b90e80c09fe9b799a0459a139">&#9670;&nbsp;</a></span>is_uniform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::is_uniform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00288">288</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">return</span> !<span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a> );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00316">m</a>.</p>

<p class="reference">Referenced by <a class="el" href="lightmap_8cpp_source.html#l00089">map::build_transparency_cache()</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00212">get_field()</a>, <a class="el" href="submap_8h_source.html#l00110">get_furn()</a>, <a class="el" href="submap_8h_source.html#l00195">get_items()</a>, <a class="el" href="submap_8h_source.html#l00173">get_lum()</a>, <a class="el" href="submap_8h_source.html#l00161">get_radiation()</a>, <a class="el" href="submap_8cpp_source.html#l00345">get_revert_submap()</a>, <a class="el" href="submap_8cpp_source.html#l00109">get_signage()</a>, <a class="el" href="submap_8h_source.html#l00138">get_ter()</a>, <a class="el" href="submap_8h_source.html#l00093">get_trap()</a>, <a class="el" href="submap_8cpp_source.html#l00141">has_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00101">has_signage()</a>, <a class="el" href="submap_8cpp_source.html#l00274">mirror()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, <a class="el" href="submap_8cpp_source.html#l00197">rotate()</a>, <a class="el" href="submap_8h_source.html#l00150">set_all_ter()</a>, and <a class="el" href="map_8cpp_source.html#l08762">map::spawn_monsters_submap_group()</a>.</p>

</div>
</div>
<a id="a1cedaf720c31eec901844d78185461c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cedaf720c31eec901844d78185461c2">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonValue.html">JsonValue</a> &amp;&#160;</td>
          <td class="paramname"><em>jv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>member_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l04894">4894</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;{</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    <span class="keywordtype">bool</span> rubpow_update = version &lt; 22;</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;turn_last_touched&quot;</span> ) {</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        <a class="code" href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">last_touched</a> = <a class="code" href="classtime__point.html">time_point</a>( jv.<a class="code" href="classJsonValue.html#a4de4b750aeb8f7256392866e04fff586">get_int</a>() );</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;temperature&quot;</span> ) {</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;        <a class="code" href="classsubmap.html#a750a7313d84dc5d9324eccdee7d34c0d">temperature_mod</a> = jv.<a class="code" href="classJsonValue.html#a4de4b750aeb8f7256392866e04fff586">get_int</a>();</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;terrain&quot;</span> ) {</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;        <span class="comment">// TODO: try block around this to error out if we come up short?</span></div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> terrain_json = jv;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;        <span class="comment">// Small duplication here so that the update check is only performed once</span></div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;        <span class="keywordflow">if</span>( rubpow_update ) {</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;            <a class="code" href="classitem.html">item</a> rock = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;rock&quot;</span>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;            <a class="code" href="classitem.html">item</a> chunk = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;steel_chunk&quot;</span>, <a class="code" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a> );</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classstring__id.html">ter_str_id</a> tid( terrain_json.<a class="code" href="classJsonArray.html#a0b9f2991ca4cbc0d3181d1c87314067d">next_string</a>() );</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160; </div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;                    <span class="keywordflow">if</span>( tid == <a class="code" href="savegame__json_8cpp.html#a923dadc88bafa4cb37215971a85210d8">ter_t_rubble</a> ) {</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = <a class="code" href="savegame__json_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[i][j] = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">furn_id</a>( <span class="stringliteral">&quot;f_rubble&quot;</span> );</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[i][j].insert( rock );</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[i][j].insert( rock );</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tid == <a class="code" href="savegame__json_8cpp.html#a00a06ef40d9e00bcff3af856798a77b8">ter_t_wreckage</a> ) {</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = <a class="code" href="savegame__json_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>;</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[i][j] = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">furn_id</a>( <span class="stringliteral">&quot;f_wreckage&quot;</span> );</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[i][j].insert( chunk );</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[i][j].insert( chunk );</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tid == <a class="code" href="savegame__json_8cpp.html#a11622e79f9bce941b46436c32edec69a">ter_t_ash</a> ) {</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = <a class="code" href="savegame__json_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>;</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[i][j] = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">furn_id</a>( <span class="stringliteral">&quot;f_ash&quot;</span> );</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tid == <a class="code" href="savegame__json_8cpp.html#a0ae358bc40f308b2343664ee6548db89">ter_t_pwr_sb_support_l</a> ) {</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = <a class="code" href="savegame__json_8cpp.html#a810e371ef31f5f0740fb61f1f476fa89">ter_t_support_l</a>;</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tid == <a class="code" href="savegame__json_8cpp.html#a8f16118408887248e03387f52b5cb619">ter_t_pwr_sb_switchgear_l</a> ) {</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = <a class="code" href="savegame__json_8cpp.html#a9766a2a4de5e03607160200c600ae511">ter_t_switchgear_l</a>;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tid == <a class="code" href="savegame__json_8cpp.html#ab4a00c6deb8d1d736b7aa0a131b3def1">ter_t_pwr_sb_switchgear_s</a> ) {</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = <a class="code" href="savegame__json_8cpp.html#a97fb76cef3b3115c8a786fd3f7f222ab">ter_t_switchgear_s</a>;</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = tid.id();</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;                    }</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;                }</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;            }</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;            <span class="comment">// terrain is encoded using simple RLE</span></div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;            <span class="keywordtype">int</span> remaining = 0;</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;            <a class="code" href="classint__id.html">int_id&lt;ter_t&gt;</a> iid_ter;</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;            <a class="code" href="classint__id.html">int_id&lt;furn_t&gt;</a> iid_furn;</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;                <span class="comment">// NOLINTNEXTLINE(modernize-loop-convert)</span></div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;                    <span class="keywordflow">if</span>( !remaining ) {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;                        <a class="code" href="classJsonValue.html">JsonValue</a> terrain_entry = terrain_json.<a class="code" href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">next_value</a>();</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;                        <span class="keyword">auto</span> migrate_terstr = [&amp;]( <a class="code" href="classstring__id.html">ter_str_id</a> terstr ) {</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;                            <span class="keywordflow">if</span>( <span class="keyword">auto</span> it = <a class="code" href="savegame__json_8cpp.html#af1e83a418bbf0cb9bcd7efc4fede4458">ter_migrations</a>.find( terstr ); it != <a class="code" href="savegame__json_8cpp.html#af1e83a418bbf0cb9bcd7efc4fede4458">ter_migrations</a>.end() ) {</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;                                terstr = it-&gt;second.first;</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;                                <span class="keywordflow">if</span>( it-&gt;second.second != <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;                                    iid_furn = it-&gt;second.second.<a class="code" href="structfurn__t.html#a90af2d486432fed3a9d006bf1d47ab76">id</a>();</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;                                }</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;                            }</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;                            <span class="keywordflow">if</span>( terstr.is_valid() ) {</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;                                iid_ter = terstr.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>();</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;                                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid ter_str_id &#39;%s&#39;&quot;</span>, terstr.c_str() );</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;                                iid_ter = <a class="code" href="savegame__json_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>;</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;                            }</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;                        };</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;                        <span class="keywordflow">if</span>( terrain_entry.<a class="code" href="classJsonValue.html#ab4604bb5c981402bd376a8302b4546fa">test_string</a>() ) {</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;                            migrate_terstr( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a36b8ebb9405c51cf8ed0ab80c96b4672">ter_str_id</a>( terrain_entry.<a class="code" href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">get_string</a>() ) );</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( terrain_entry.<a class="code" href="classJsonValue.html#a330b5aee6bbf5749eb972c833d8d7b2a">test_array</a>() ) {</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;                            <a class="code" href="classJsonArray.html">JsonArray</a> terrain_rle = terrain_entry;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;                            migrate_terstr( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a36b8ebb9405c51cf8ed0ab80c96b4672">ter_str_id</a>( terrain_rle.<a class="code" href="classJsonArray.html#a0b9f2991ca4cbc0d3181d1c87314067d">next_string</a>() ) );</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;                            remaining = terrain_rle.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>() - 1;</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;                            <span class="keywordflow">if</span>( terrain_rle.<a class="code" href="classJsonArray.html#a9ee612fc471db675827c4220d15a6040">size</a>() &gt; 2 ) {</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;                                terrain_rle.<a class="code" href="classJsonArray.html#a27c2a5630ec4fc8ad2d6e948cc2ccd71">throw_error</a>( <span class="stringliteral">&quot;Too many values for terrain RLE&quot;</span> );</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;                            }</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;                            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Mapbuffer terrain data is corrupt, expected string or array.&quot;</span> );</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;                        }</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;                        --remaining;</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;                    }</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;                    <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = iid_ter;</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;                    <span class="keywordflow">if</span>( iid_furn ) {</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;                        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[i][j] = iid_furn;</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;                    }</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;                }</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;            }</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;            <span class="keywordflow">if</span>( remaining ) {</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Mapbuffer terrain data is corrupt, tile data remaining.&quot;</span> );</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;            }</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;        }</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;radiation&quot;</span> ) {</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;        <span class="keywordtype">int</span> rad_cell = 0;</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> radiation_rle = jv;</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        <span class="keywordflow">while</span>( radiation_rle.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;            <span class="keywordtype">int</span> rad_strength = radiation_rle.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;            <span class="keywordtype">int</span> rad_num = radiation_rle.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; rad_num; ++i ) {</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;                <span class="keywordflow">if</span>( rad_cell &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> ) {</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;                    <a class="code" href="classsubmap.html#a29f52488e5c4ec3a34217904d7272c58">set_radiation</a>( { rad_cell % <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, rad_cell / <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> }, rad_strength );</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;                    rad_cell++;</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;                }</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;            }</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;        }</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;furniture&quot;</span> ) {</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;        <a class="code" href="classint__id.html">int_id&lt;ter_t&gt;</a> iid_ter;</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;        <a class="code" href="classint__id.html">int_id&lt;furn_t&gt;</a> iid_furn;</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> furniture_json = jv;</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> furniture_entry : furniture_json ) {</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;            <span class="keywordtype">int</span> i = furniture_entry.next_int();</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;            <span class="keywordtype">int</span> j = furniture_entry.next_int();</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;            <a class="code" href="classstring__id.html">furn_str_id</a> furnstr( furniture_entry.next_string() );</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;            <span class="keywordflow">if</span>( <span class="keyword">auto</span> it = <a class="code" href="savegame__json_8cpp.html#ab1873e0136d73daef1cbfc4f0eca0053">furn_migrations</a>.find( furnstr ); it != <a class="code" href="savegame__json_8cpp.html#ab1873e0136d73daef1cbfc4f0eca0053">furn_migrations</a>.end() ) {</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;                furnstr = it-&gt;second.second;</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;                <span class="keywordflow">if</span>( it-&gt;second.first != <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">ter_str_id::NULL_ID</a>() ) {</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;                    <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j] = it-&gt;second.first.id();</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;                }</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;            }</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;            <span class="keywordflow">if</span>( furnstr.is_valid() ) {</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;                iid_furn = furnstr.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>();</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid furn_str_id &#39;%s&#39;&quot;</span>, furnstr.c_str() );</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;                iid_furn = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">furn_str_id::NULL_ID</a>().<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;            }</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[i][j] = iid_furn;</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;            <span class="keywordflow">if</span>( furniture_entry.size() &gt; 3 ) {</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;                furniture_entry.throw_error( <span class="stringliteral">&quot;Too many values for furniture entry.&quot;</span> );</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;            }</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;        }</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;items&quot;</span> ) {</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> items_json = jv;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;        <span class="keywordflow">while</span>( items_json.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;            <span class="keywordtype">int</span> i = items_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;            <span class="keywordtype">int</span> j = items_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160; </div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;            <span class="keywordflow">if</span>( !items_json.<a class="code" href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">next_value</a>().<a class="code" href="classJsonValue.html#a1262851fe4201cfd471f481212da3de7">read</a>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[p.x][p.y], <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Items array is corrupt in submap at: %s, skipping&quot;</span>, p.to_string() );</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;            }</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;            <span class="comment">// some portion could&#39;ve been read even if error occurred</span></div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[p.x][p.y] ) {</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;                <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() ) {</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;                    <a class="code" href="classsubmap.html#a8ae4a44cf15110ecbeba984f60ab9899">update_lum_add</a>( p, it );</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;                }</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;                <a class="code" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code" href="classactive__item__cache.html#aba8474a3e07fda3e9f3ab42a39252a0f">add</a>( it, p );</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;            }</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;        }</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;traps&quot;</span> ) {</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> traps_json = jv;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> trap_entry : traps_json ) {</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;            <span class="keywordtype">int</span> i = trap_entry.next_int();</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;            <span class="keywordtype">int</span> j = trap_entry.next_int();</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;            <span class="comment">// TODO: jsin should support returning an id like jsin.get_id&lt;trap&gt;()</span></div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">trap_str_id</a> trid( trap_entry.next_string() );</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;trp[p.x][p.y] = trid.id();</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;            <span class="keywordflow">if</span>( trap_entry.size() &gt; 3 ) {</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;                trap_entry.throw_error( <span class="stringliteral">&quot;Too many values for trap entry&quot;</span> );</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;            }</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;        }</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;fields&quot;</span> ) {</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> fields_json = jv;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;        <span class="keywordflow">while</span>( fields_json.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;            <span class="comment">// Coordinates loop</span></div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;            <span class="keywordtype">int</span> i = fields_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;            <span class="keywordtype">int</span> j = fields_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;            <a class="code" href="classJsonArray.html">JsonArray</a> field_json = fields_json.<a class="code" href="classJsonArray.html#ac5ad6d12c1f9d6713842a79406e5889b">next_array</a>();</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;            <span class="keywordflow">while</span>( field_json.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;                <span class="comment">// TODO: Check enum-&gt;string migration below</span></div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;                <span class="keywordtype">int</span> type_int = 0;</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;                std::string type_str;</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;                <a class="code" href="classJsonValue.html">JsonValue</a> type_value = field_json.<a class="code" href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">next_value</a>();</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;                <span class="keywordflow">if</span>( type_value.<a class="code" href="classJsonValue.html#a5e050b9aef62412a87bc0f329577a923">test_int</a>() ) {</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;                    type_int = type_value.<a class="code" href="classJsonValue.html#a4de4b750aeb8f7256392866e04fff586">get_int</a>();</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;                    type_str = type_value.<a class="code" href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">get_string</a>();</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;                }</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a> = field_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;                <span class="keywordtype">int</span> age = field_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;                <a class="code" href="classint__id.html">field_type_id</a> ft;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;                <span class="keywordflow">if</span>( !type_str.empty() ) {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;                    ft = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561">field_type_id</a>( type_str );</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;                    ft = <a class="code" href="namespacefield__types.html#aed4acf984fcafa3166ca8c817edd9943">field_types::get_field_type_by_legacy_enum</a>( type_int ).<a class="code" href="structfield__type.html#a7b1c65d99a37643b4ec84a3abfdfb1a0">id</a>;</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;                }</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;fld[i][j].add_field( ft, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( age ) ) ) {</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;                    <a class="code" href="classsubmap.html#aa86d0130ed1d1556482b2f7478633778">field_count</a>++;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;                }</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;            }</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;        }</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;graffiti&quot;</span> ) {</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> graffiti_json = jv;</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> graffiti_entry : graffiti_json ) {</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;            <span class="keywordtype">int</span> i = graffiti_entry.next_int();</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;            <span class="keywordtype">int</span> j = graffiti_entry.next_int();</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;            <a class="code" href="classsubmap.html#a308eddf864275f1d97df5c5fd481ee26">set_graffiti</a>( p, graffiti_entry.next_string() );</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;            <span class="keywordflow">if</span>( graffiti_entry.size() &gt; 3 ) {</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;                graffiti_entry.throw_error( <span class="stringliteral">&quot;Too many values for graffiti&quot;</span> );</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;            }</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        }</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;cosmetics&quot;</span> ) {</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> cosmetics_json = jv;</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;        std::map&lt;std::string, std::string&gt; tcosmetics;</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160; </div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> cosmetic_entry : cosmetics_json ) {</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;            <span class="keywordtype">int</span> i = cosmetic_entry.next_int();</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;            <span class="keywordtype">int</span> j = cosmetic_entry.next_int();</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;            std::string <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>;</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;            std::string str;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;            <a class="code" href="classJsonValue.html">JsonValue</a> cosmetic_value = cosmetic_entry.next_value();</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;            <span class="comment">// Try to read as current format</span></div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;            <span class="keywordflow">if</span>( cosmetic_value.<a class="code" href="classJsonValue.html#ab4604bb5c981402bd376a8302b4546fa">test_string</a>() ) {</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;                <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = cosmetic_value.<a class="code" href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">get_string</a>();</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;                str = cosmetic_entry.next_string();</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;                <a class="code" href="classsubmap.html#a4a40b23fed34932f59b15ea7f3400239">insert_cosmetic</a>( p, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, str );</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;                <span class="comment">// Otherwise read as most recent old format</span></div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;                cosmetic_value.<a class="code" href="classJsonValue.html#a1262851fe4201cfd471f481212da3de7">read</a>( tcosmetics );</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;cosm : tcosmetics ) {</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;                    <a class="code" href="classsubmap.html#a4a40b23fed34932f59b15ea7f3400239">insert_cosmetic</a>( p, cosm.first, cosm.second );</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;                }</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;                tcosmetics.clear();</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;            }</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;            <span class="keywordflow">if</span>( cosmetic_entry.has_more() ) {</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;                cosmetic_entry.throw_error( <span class="stringliteral">&quot;Too many values for cosmetics&quot;</span> );</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;            }</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;        }</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;spawns&quot;</span> ) {</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> spawns_json = jv;</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> spawn_entry : spawns_json ) {</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;            <span class="comment">// TODO: json should know how to read an string_id</span></div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">mtype_id</a> <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>( spawn_entry.next_string() );</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;            <span class="keywordtype">int</span> count = spawn_entry.next_int();</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;            <span class="keywordtype">int</span> i = spawn_entry.next_int();</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;            <span class="keywordtype">int</span> j = spawn_entry.next_int();</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="classstring__id.html">faction_id</a> = spawn_entry.next_int();</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="structmission__id.html">mission_id</a> = spawn_entry.next_int();</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> = spawn_entry.next_bool();</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;            std::optional&lt;std::string&gt; <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = std::nullopt;</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;            spawn_entry.read_next( <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;            <span class="keywordflow">if</span>( spawn_entry.has_more() ) {</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;                spawn_entry.throw_error( <span class="stringliteral">&quot;Too many values for spawn&quot;</span> );</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;            }</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;            <a class="code" href="structspawn__point.html">spawn_point</a> tmp( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, count, p, <a class="code" href="classstring__id.html">faction_id</a>, <a class="code" href="structmission__id.html">mission_id</a>, <a class="code" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;            <a class="code" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a>.push_back( tmp );</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;        }</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;vehicles&quot;</span> ) {</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> vehicles_json = jv;</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonValue.html">JsonValue</a> vehicle_json : vehicles_json ) {</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;                std::unique_ptr&lt;vehicle&gt; veh = std::make_unique&lt;vehicle&gt;( <a class="code" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a>() );</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;                veh-&gt;deserialize( vehicle_json );</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;                <a class="code" href="namespacevehicles.html">vehicles</a>.emplace_back( std::move( veh ) );</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;            } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code" href="classJsonError.html">JsonError</a> &amp;err ) {</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;                <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( err.what() );</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;            }</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;        }</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;partial_constructions&quot;</span> ) {</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;        <a class="code" href="classJsonArray.html">JsonArray</a> partial_constructions_json = jv;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;        <span class="keywordflow">while</span>( partial_constructions_json.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;            <a class="code" href="structpartial__con.html">partial_con</a> pc;</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;            <span class="keywordtype">int</span> i = partial_constructions_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;            <span class="keywordtype">int</span> j = partial_constructions_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;            <span class="keywordtype">int</span> k = partial_constructions_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;            <a class="code" href="classcoords_1_1coord__point.html">tripoint_sm_ms</a> pt( i, j, k );</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;            pc.<a class="code" href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">counter</a> = partial_constructions_json.<a class="code" href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">next_int</a>();</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;            <a class="code" href="classJsonValue.html">JsonValue</a> construction_id_value = partial_constructions_json.<a class="code" href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">next_value</a>();</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;            <span class="keywordflow">if</span>( construction_id_value.<a class="code" href="classJsonValue.html#a5e050b9aef62412a87bc0f329577a923">test_int</a>() ) {</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;                <span class="comment">// Oops, int id incorrectly saved by legacy code, just load it and hope for the best</span></div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;                pc.<a class="code" href="structpartial__con.html#a1cbf6d24b8616500c5af5d5355c8983b">id</a> = <a class="code" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a>( construction_id_value.<a class="code" href="classJsonValue.html#a4de4b750aeb8f7256392866e04fff586">get_int</a>() );</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;                pc.<a class="code" href="structpartial__con.html#a1cbf6d24b8616500c5af5d5355c8983b">id</a> = <a class="code" href="type__id_8h.html#abb14ce5588f6fe430a78b1cc63218b86">construction_str_id</a>( construction_id_value.<a class="code" href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">get_string</a>() ).<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;            }</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;            <a class="code" href="classJsonArray.html">JsonArray</a> components_json = partial_constructions_json.<a class="code" href="classJsonArray.html#ac5ad6d12c1f9d6713842a79406e5889b">next_array</a>();</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> component_json : components_json ) {</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;                <a class="code" href="classitem.html">item</a> tmp;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;                tmp.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( component_json );</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;                pc.<a class="code" href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">components</a>.push_back( tmp );</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;            }</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;            <a class="code" href="classsubmap.html#a8378470224a9f9395a39cbbcfffa4099">partial_constructions</a>[pt] = pc;</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;        }</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;computers&quot;</span> ) {</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;        <span class="keywordflow">if</span>( jv.<a class="code" href="classJsonValue.html#a330b5aee6bbf5749eb972c833d8d7b2a">test_array</a>() ) {</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;            <a class="code" href="classJsonArray.html">JsonArray</a> computers_json = jv;</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;            <span class="keywordflow">while</span>( computers_json.<a class="code" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;                <a class="code" href="structpoint.html">point</a> loc;</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;                computers_json.<a class="code" href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">next_value</a>().<a class="code" href="classJsonValue.html#a1262851fe4201cfd471f481212da3de7">read</a>( loc );</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;                <span class="keyword">auto</span> new_comp_it = <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.emplace( loc, <a class="code" href="classcomputer.html">computer</a>( <span class="stringliteral">&quot;BUGGED_COMPUTER&quot;</span>, -100,</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;                                                      <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> ) ).first;</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;                computers_json.<a class="code" href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">next_value</a>().<a class="code" href="classJsonValue.html#a1262851fe4201cfd471f481212da3de7">read</a>( new_comp_it-&gt;second );</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;            }</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;        }</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( member_name == <span class="stringliteral">&quot;camp&quot;</span> ) {</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;        <a class="code" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> = std::make_unique&lt;basecamp&gt;();</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;        <a class="code" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a>-&gt;deserialize( jv );</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    }</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561">cata_variant_type::field_type_id</a></div><div class="ttdeci">@ field_type_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a36b8ebb9405c51cf8ed0ab80c96b4672"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a36b8ebb9405c51cf8ed0ab80c96b4672">cata_variant_type::ter_str_id</a></div><div class="ttdeci">@ ter_str_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">cata_variant_type::mtype_id</a></div><div class="ttdeci">@ mtype_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">cata_variant_type::furn_id</a></div><div class="ttdeci">@ furn_id</div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00346">flexbuffer_json.h:347</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a0b9f2991ca4cbc0d3181d1c87314067d"><div class="ttname"><a href="classJsonArray.html#a0b9f2991ca4cbc0d3181d1c87314067d">JsonArray::next_string</a></div><div class="ttdeci">std::string next_string()</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00692">flexbuffer_json-inl.h:692</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a12e952546232a62428cb2a1741364006"><div class="ttname"><a href="classJsonArray.html#a12e952546232a62428cb2a1741364006">JsonArray::has_more</a></div><div class="ttdeci">bool has_more() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00463">flexbuffer_json.h:463</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a27c2a5630ec4fc8ad2d6e948cc2ccd71"><div class="ttname"><a href="classJsonArray.html#a27c2a5630ec4fc8ad2d6e948cc2ccd71">JsonArray::throw_error</a></div><div class="ttdeci">void throw_error(const std::string &amp;message) const noexcept(false)</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00128">flexbuffer_json.h:128</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a4be0315dea3282725c6323c0fbcaa2f4"><div class="ttname"><a href="classJsonArray.html#a4be0315dea3282725c6323c0fbcaa2f4">JsonArray::next_int</a></div><div class="ttdeci">int next_int()</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00710">flexbuffer_json-inl.h:710</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a91dea1dc354ab7bdc57d7977006fc07e"><div class="ttname"><a href="classJsonArray.html#a91dea1dc354ab7bdc57d7977006fc07e">JsonArray::next_value</a></div><div class="ttdeci">JsonValue next_value()</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00743">flexbuffer_json-inl.h:743</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a9ee612fc471db675827c4220d15a6040"><div class="ttname"><a href="classJsonArray.html#a9ee612fc471db675827c4220d15a6040">JsonArray::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00398">flexbuffer_json.h:398</a></div></div>
<div class="ttc" id="aclassJsonArray_html_ac5ad6d12c1f9d6713842a79406e5889b"><div class="ttname"><a href="classJsonArray.html#ac5ad6d12c1f9d6713842a79406e5889b">JsonArray::next_array</a></div><div class="ttdeci">JsonArray next_array()</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00729">flexbuffer_json-inl.h:729</a></div></div>
<div class="ttc" id="aclassJsonError_html"><div class="ttname"><a href="classJsonError.html">JsonError</a></div><div class="ttdef"><b>Definition:</b> <a href="json__error_8h_source.html#l00007">json_error.h:8</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00166">flexbuffer_json.h:167</a></div></div>
<div class="ttc" id="aclassJsonValue_html_a0af34c133b1b07979137f415b1508c69"><div class="ttname"><a href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">JsonValue::get_string</a></div><div class="ttdeci">std::string get_string() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00234">flexbuffer_json-inl.h:234</a></div></div>
<div class="ttc" id="aclassJsonValue_html_a1262851fe4201cfd471f481212da3de7"><div class="ttname"><a href="classJsonValue.html#a1262851fe4201cfd471f481212da3de7">JsonValue::read</a></div><div class="ttdeci">bool read(bool &amp;b, bool throw_on_error=false) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00143">flexbuffer_json.cpp:143</a></div></div>
<div class="ttc" id="aclassJsonValue_html_a330b5aee6bbf5749eb972c833d8d7b2a"><div class="ttname"><a href="classJsonValue.html#a330b5aee6bbf5749eb972c833d8d7b2a">JsonValue::test_array</a></div><div class="ttdeci">bool test_array() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00225">flexbuffer_json-inl.h:225</a></div></div>
<div class="ttc" id="aclassJsonValue_html_a4de4b750aeb8f7256392866e04fff586"><div class="ttname"><a href="classJsonValue.html#a4de4b750aeb8f7256392866e04fff586">JsonValue::get_int</a></div><div class="ttdeci">int get_int() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00242">flexbuffer_json-inl.h:242</a></div></div>
<div class="ttc" id="aclassJsonValue_html_a5e050b9aef62412a87bc0f329577a923"><div class="ttname"><a href="classJsonValue.html#a5e050b9aef62412a87bc0f329577a923">JsonValue::test_int</a></div><div class="ttdeci">bool test_int() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00213">flexbuffer_json-inl.h:213</a></div></div>
<div class="ttc" id="aclassJsonValue_html_ab4604bb5c981402bd376a8302b4546fa"><div class="ttname"><a href="classJsonValue.html#ab4604bb5c981402bd376a8302b4546fa">JsonValue::test_string</a></div><div class="ttdeci">bool test_string() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00201">flexbuffer_json-inl.h:201</a></div></div>
<div class="ttc" id="aclassactive__item__cache_html_aba8474a3e07fda3e9f3ab42a39252a0f"><div class="ttname"><a href="classactive__item__cache.html#aba8474a3e07fda3e9f3ab42a39252a0f">active_item_cache::add</a></div><div class="ttdeci">bool add(item &amp;it, point location, item *parent=nullptr, std::vector&lt; item_pocket const * &gt; const &amp;pocket_chain={})</div><div class="ttdoc">Adds the reference to the cache.</div><div class="ttdef"><b>Definition:</b> <a href="active__item__cache_8cpp_source.html#l00020">active_item_cache.cpp:20</a></div></div>
<div class="ttc" id="aclasscomputer_html"><div class="ttname"><a href="classcomputer.html">computer</a></div><div class="ttdef"><b>Definition:</b> <a href="computer_8h_source.html#l00119">computer.h:120</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point</a></div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00228">coordinates.h:230</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a4aa2c202069a8cdda0c1bb24fb8179c1"><div class="ttname"><a href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">item::deserialize</a></div><div class="ttdeci">void deserialize(const JsonObject &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l03086">savegame_json.cpp:3086</a></div></div>
<div class="ttc" id="aclassitem_html_aa25047563db389e8372f4f40ef7ac965"><div class="ttname"><a href="classitem.html#aa25047563db389e8372f4f40ef7ac965">item::is_emissive</a></div><div class="ttdeci">bool is_emissive() const</div><div class="ttdoc">Whether the item emits any light at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09943">item.cpp:9943</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclasssubmap_html_a29f52488e5c4ec3a34217904d7272c58"><div class="ttname"><a href="classsubmap.html#a29f52488e5c4ec3a34217904d7272c58">submap::set_radiation</a></div><div class="ttdeci">void set_radiation(const point &amp;p, const int radiation)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00168">submap.h:168</a></div></div>
<div class="ttc" id="aclasssubmap_html_a308eddf864275f1d97df5c5fd481ee26"><div class="ttname"><a href="classsubmap.html#a308eddf864275f1d97df5c5fd481ee26">submap::set_graffiti</a></div><div class="ttdeci">void set_graffiti(const point &amp;p, const std::string &amp;new_graffiti)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8cpp_source.html#l00080">submap.cpp:80</a></div></div>
<div class="ttc" id="aclasssubmap_html_a46123556cf8ed220cc78cfe639f76aea"><div class="ttname"><a href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">submap::last_touched</a></div><div class="ttdeci">time_point last_touched</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00297">submap.h:297</a></div></div>
<div class="ttc" id="aclasssubmap_html_a4a40b23fed34932f59b15ea7f3400239"><div class="ttname"><a href="classsubmap.html#a4a40b23fed34932f59b15ea7f3400239">submap::insert_cosmetic</a></div><div class="ttdeci">void insert_cosmetic(const point &amp;p, const std::string &amp;type, const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00236">submap.h:236</a></div></div>
<div class="ttc" id="aclasssubmap_html_a8378470224a9f9395a39cbbcfffa4099"><div class="ttname"><a href="classsubmap.html#a8378470224a9f9395a39cbbcfffa4099">submap::partial_constructions</a></div><div class="ttdeci">std::map&lt; tripoint_sm_ms, partial_con &gt; partial_constructions</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00306">submap.h:306</a></div></div>
<div class="ttc" id="aclasssubmap_html_a8ae4a44cf15110ecbeba984f60ab9899"><div class="ttname"><a href="classsubmap.html#a8ae4a44cf15110ecbeba984f60ab9899">submap::update_lum_add</a></div><div class="ttdeci">void update_lum_add(const point &amp;p, const item &amp;i)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00185">submap.h:185</a></div></div>
<div class="ttc" id="aclasssubmap_html_a955a62ae7625cb18d39267c80b48f703"><div class="ttname"><a href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">submap::spawns</a></div><div class="ttdeci">std::vector&lt; spawn_point &gt; spawns</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00299">submap.h:299</a></div></div>
<div class="ttc" id="aclasssubmap_html_aab6b800454648ba710233504494b2c34"><div class="ttname"><a href="classsubmap.html#aab6b800454648ba710233504494b2c34">submap::camp</a></div><div class="ttdeci">std::unique_ptr&lt; basecamp &gt; camp</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00307">submap.h:307</a></div></div>
<div class="ttc" id="aclasssubmap_html_ab14312fd2b32daf90ba20524a8272e70"><div class="ttname"><a href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">submap::active_items</a></div><div class="ttdeci">active_item_cache active_items</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00294">submap.h:294</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00221">calendar.h:221</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00459">calendar.h:460</a></div></div>
<div class="ttc" id="acreature_8h_html_a299ec0c42ccc5a2d79d1739428ac3210"><div class="ttname"><a href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a></div><div class="ttdeci">int intensity</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00240">creature.h:240</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00042">game_constants.h:42</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00043">game_constants.h:43</a></div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="anamespacecalendar_html_a2830b54b0424fe452c0933f87d6201b3"><div class="ttname"><a href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></div><div class="ttdeci">constexpr time_point turn_zero</div><div class="ttdoc">Represents time point 0.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00541">calendar.h:541</a></div></div>
<div class="ttc" id="anamespacefield__types_html_aed4acf984fcafa3166ca8c817edd9943"><div class="ttname"><a href="namespacefield__types.html#aed4acf984fcafa3166ca8c817edd9943">field_types::get_field_type_by_legacy_enum</a></div><div class="ttdeci">field_type get_field_type_by_legacy_enum(int legacy_enum_id)</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00412">field_type.cpp:412</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06412">overmap.cpp:6412</a></div></div>
<div class="ttc" id="anpc_8h_html_ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9"><div class="ttname"><a href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">attitude_group::friendly</a></div><div class="ttdeci">@ friendly</div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a00a06ef40d9e00bcff3af856798a77b8"><div class="ttname"><a href="savegame__json_8cpp.html#a00a06ef40d9e00bcff3af856798a77b8">ter_t_wreckage</a></div><div class="ttdeci">static const ter_str_id ter_t_wreckage(&quot;t_wreckage&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a0ae358bc40f308b2343664ee6548db89"><div class="ttname"><a href="savegame__json_8cpp.html#a0ae358bc40f308b2343664ee6548db89">ter_t_pwr_sb_support_l</a></div><div class="ttdeci">static const ter_str_id ter_t_pwr_sb_support_l(&quot;t_pwr_sb_support_l&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a11622e79f9bce941b46436c32edec69a"><div class="ttname"><a href="savegame__json_8cpp.html#a11622e79f9bce941b46436c32edec69a">ter_t_ash</a></div><div class="ttdeci">static const ter_str_id ter_t_ash(&quot;t_ash&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a39faa1c7d3f986d7dd89f347f4e2f43f"><div class="ttname"><a href="savegame__json_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a></div><div class="ttdeci">static const ter_str_id ter_t_dirt(&quot;t_dirt&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a810e371ef31f5f0740fb61f1f476fa89"><div class="ttname"><a href="savegame__json_8cpp.html#a810e371ef31f5f0740fb61f1f476fa89">ter_t_support_l</a></div><div class="ttdeci">static const ter_str_id ter_t_support_l(&quot;t_support_l&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a8f16118408887248e03387f52b5cb619"><div class="ttname"><a href="savegame__json_8cpp.html#a8f16118408887248e03387f52b5cb619">ter_t_pwr_sb_switchgear_l</a></div><div class="ttdeci">static const ter_str_id ter_t_pwr_sb_switchgear_l(&quot;t_pwr_sb_switchgear_l&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a923dadc88bafa4cb37215971a85210d8"><div class="ttname"><a href="savegame__json_8cpp.html#a923dadc88bafa4cb37215971a85210d8">ter_t_rubble</a></div><div class="ttdeci">static const ter_str_id ter_t_rubble(&quot;t_rubble&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a9766a2a4de5e03607160200c600ae511"><div class="ttname"><a href="savegame__json_8cpp.html#a9766a2a4de5e03607160200c600ae511">ter_t_switchgear_l</a></div><div class="ttdeci">static const ter_str_id ter_t_switchgear_l(&quot;t_switchgear_l&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_a97fb76cef3b3115c8a786fd3f7f222ab"><div class="ttname"><a href="savegame__json_8cpp.html#a97fb76cef3b3115c8a786fd3f7f222ab">ter_t_switchgear_s</a></div><div class="ttdeci">static const ter_str_id ter_t_switchgear_s(&quot;t_switchgear_s&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_ab1873e0136d73daef1cbfc4f0eca0053"><div class="ttname"><a href="savegame__json_8cpp.html#ab1873e0136d73daef1cbfc4f0eca0053">furn_migrations</a></div><div class="ttdeci">static std::unordered_map&lt; furn_str_id, std::pair&lt; ter_str_id, furn_str_id &gt; &gt; furn_migrations</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l04622">savegame_json.cpp:4622</a></div></div>
<div class="ttc" id="asavegame__json_8cpp_html_ab4a00c6deb8d1d736b7aa0a131b3def1"><div class="ttname"><a href="savegame__json_8cpp.html#ab4a00c6deb8d1d736b7aa0a131b3def1">ter_t_pwr_sb_switchgear_s</a></div><div class="ttdeci">static const ter_str_id ter_t_pwr_sb_switchgear_s(&quot;t_pwr_sb_switchgear_s&quot;)</div></div>
<div class="ttc" id="asavegame__json_8cpp_html_af1e83a418bbf0cb9bcd7efc4fede4458"><div class="ttname"><a href="savegame__json_8cpp.html#af1e83a418bbf0cb9bcd7efc4fede4458">ter_migrations</a></div><div class="ttdeci">static std::unordered_map&lt; ter_str_id, std::pair&lt; ter_str_id, furn_str_id &gt; &gt; ter_migrations</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l04621">savegame_json.cpp:4621</a></div></div>
<div class="ttc" id="astructfield__type_html_a7b1c65d99a37643b4ec84a3abfdfb1a0"><div class="ttname"><a href="structfield__type.html#a7b1c65d99a37643b4ec84a3abfdfb1a0">field_type::id</a></div><div class="ttdeci">field_type_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8h_source.html#l00189">field_type.h:189</a></div></div>
<div class="ttc" id="astructfurn__t_html_a90af2d486432fed3a9d006bf1d47ab76"><div class="ttname"><a href="structfurn__t.html#a90af2d486432fed3a9d006bf1d47ab76">furn_t::id</a></div><div class="ttdeci">furn_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00645">mapdata.h:645</a></div></div>
<div class="ttc" id="astructmission__id_html"><div class="ttname"><a href="structmission__id.html">mission_id</a></div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00103">mission_companion.h:103</a></div></div>
<div class="ttc" id="astructpartial__con_html"><div class="ttname"><a href="structpartial__con.html">partial_con</a></div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00032">construction.h:32</a></div></div>
<div class="ttc" id="astructpartial__con_html_a1cbf6d24b8616500c5af5d5355c8983b"><div class="ttname"><a href="structpartial__con.html#a1cbf6d24b8616500c5af5d5355c8983b">partial_con::id</a></div><div class="ttdeci">construction_id id</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00035">construction.h:35</a></div></div>
<div class="ttc" id="astructpartial__con_html_a4660d0ab4eb556e12889b93c20742923"><div class="ttname"><a href="structpartial__con.html#a4660d0ab4eb556e12889b93c20742923">partial_con::components</a></div><div class="ttdeci">std::list&lt; item &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00034">construction.h:34</a></div></div>
<div class="ttc" id="astructpartial__con_html_a85b4cad2bfa67cb504ee89ca3129c17d"><div class="ttname"><a href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">partial_con::counter</a></div><div class="ttdeci">int counter</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00033">construction.h:33</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructspawn__point_html"><div class="ttname"><a href="structspawn__point.html">spawn_point</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00039">submap.h:39</a></div></div>
<div class="ttc" id="atype__id_8h_html_a64efc8ab51816a59711440d464136eda"><div class="ttname"><a href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a></div><div class="ttdeci">string_id&lt; vehicle_prototype &gt; vproto_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00298">type_id.h:298</a></div></div>
<div class="ttc" id="atype__id_8h_html_a7de4e933ae593eb3de0a138f3cd84657"><div class="ttname"><a href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a></div><div class="ttdeci">int_id&lt; construction &gt; construction_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00310">type_id.h:310</a></div></div>
<div class="ttc" id="atype__id_8h_html_abb14ce5588f6fe430a78b1cc63218b86"><div class="ttname"><a href="type__id_8h.html#abb14ce5588f6fe430a78b1cc63218b86">construction_str_id</a></div><div class="ttdeci">string_id&lt; construction &gt; construction_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00311">type_id.h:311</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, <a class="el" href="construction_8h_source.html#l00034">partial_con::components</a>, <a class="el" href="construction_8h_source.html#l00033">partial_con::counter</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="savegame__json_8cpp_source.html#l03086">item::deserialize()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561">field_type_id</a>, <a class="el" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">furn_id</a>, <a class="el" href="savegame__json_8cpp_source.html#l04622">furn_migrations</a>, <a class="el" href="field__type_8cpp_source.html#l00412">field_types::get_field_type_by_legacy_enum()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00242">JsonValue::get_int()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00234">JsonValue::get_string()</a>, <a class="el" href="flexbuffer__json_8h_source.html#l00463">JsonArray::has_more()</a>, <a class="el" href="construction_8h_source.html#l00035">partial_con::id</a>, <a class="el" href="field__type_8h_source.html#l00189">field_type::id</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="mapdata_8h_source.html#l00645">furn_t::id</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="creature_8h_source.html#l00240">intensity</a>, <a class="el" href="item_8cpp_source.html#l09943">item::is_emissive()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00729">JsonArray::next_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00710">JsonArray::next_int()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00692">JsonArray::next_string()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00743">JsonArray::next_value()</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; furn_t &gt;::NULL_ID()</a>, <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; ter_t &gt;::NULL_ID()</a>, <a class="el" href="flexbuffer__json_8cpp_source.html#l00143">JsonValue::read()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="flexbuffer__json_8h_source.html#l00398">JsonArray::size()</a>, <a class="el" href="savegame__json_8cpp_source.html#l04621">ter_migrations</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a36b8ebb9405c51cf8ed0ab80c96b4672">ter_str_id</a>, <a class="el" href="savegame__json_8cpp.html#a11622e79f9bce941b46436c32edec69a">ter_t_ash</a>, <a class="el" href="savegame__json_8cpp.html#a39faa1c7d3f986d7dd89f347f4e2f43f">ter_t_dirt</a>, <a class="el" href="savegame__json_8cpp.html#a0ae358bc40f308b2343664ee6548db89">ter_t_pwr_sb_support_l</a>, <a class="el" href="savegame__json_8cpp.html#a8f16118408887248e03387f52b5cb619">ter_t_pwr_sb_switchgear_l</a>, <a class="el" href="savegame__json_8cpp.html#ab4a00c6deb8d1d736b7aa0a131b3def1">ter_t_pwr_sb_switchgear_s</a>, <a class="el" href="savegame__json_8cpp.html#a923dadc88bafa4cb37215971a85210d8">ter_t_rubble</a>, <a class="el" href="savegame__json_8cpp.html#a810e371ef31f5f0740fb61f1f476fa89">ter_t_support_l</a>, <a class="el" href="savegame__json_8cpp.html#a9766a2a4de5e03607160200c600ae511">ter_t_switchgear_l</a>, <a class="el" href="savegame__json_8cpp.html#a97fb76cef3b3115c8a786fd3f7f222ab">ter_t_switchgear_s</a>, <a class="el" href="savegame__json_8cpp.html#a00a06ef40d9e00bcff3af856798a77b8">ter_t_wreckage</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00225">JsonValue::test_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00213">JsonValue::test_int()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00201">JsonValue::test_string()</a>, <a class="el" href="flexbuffer__json_8h_source.html#l00128">JsonArray::throw_error()</a>, <a class="el" href="point_8cpp_source.html#l00051">point::to_string()</a>, <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>, <a class="el" href="calendar_8h_source.html#l00541">calendar::turn_zero</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

</div>
</div>
<a id="a8045ce0fc1551e2ce9c4168b5d4f2ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8045ce0fc1551e2ce9c4168b5d4f2ce7">&#9670;&nbsp;</a></span>mirror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::mirror </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>horizontally</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00274">274</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    std::map&lt;point, computer&gt; mirror_comp;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span>( horizontally ) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0, ie = <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> / 2; i &lt; ie; i++ ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; k++ ) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;swap_soa_tile( { i, k }, { <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - 1 - i, k } );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structsubmap_1_1cosmetic__t.html">submap::cosmetic_t</a> &amp;elem : <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a> ) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            elem.pos = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( -elem.pos.x, elem.pos.y ) + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - 1, 0 );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code" href="classactive__item__cache.html#aa309a6797c9efe764668b76a5006574b">mirror</a>( { <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> }, true );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> ) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            mirror_comp.emplace( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( -elem.first.x, elem.first.y ) + <a class="code" href="structpoint.html">point</a>( <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - 1, 0 ), elem.second );</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> = mirror_comp;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = 0, ke = <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> / 2; k &lt; ke; k++ ) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;swap_soa_tile( { i, k }, { i, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - 1 - k } );</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structsubmap_1_1cosmetic__t.html">submap::cosmetic_t</a> &amp;elem : <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a> ) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            elem.pos = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( elem.pos.x, -elem.pos.y ) + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - 1 );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code" href="classactive__item__cache.html#aa309a6797c9efe764668b76a5006574b">mirror</a>( { <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> }, false );</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            mirror_comp.emplace( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( elem.first.x, -elem.first.y ) + <a class="code" href="structpoint.html">point</a>( 0, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - 1 ), elem.second );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> = mirror_comp;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="aclassactive__item__cache_html_aa309a6797c9efe764668b76a5006574b"><div class="ttname"><a href="classactive__item__cache.html#aa309a6797c9efe764668b76a5006574b">active_item_cache::mirror</a></div><div class="ttdeci">void mirror(const point &amp;dim, bool horizontally)</div><div class="ttdef"><b>Definition:</b> <a href="active__item__cache_8cpp_source.html#l00152">active_item_cache.cpp:152</a></div></div>
<div class="ttc" id="astructsubmap_1_1cosmetic__t_html"><div class="ttname"><a href="structsubmap_1_1cosmetic__t.html">submap::cosmetic_t</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00230">submap.h:230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00294">active_items</a>, <a class="el" href="submap_8h_source.html#l00315">computers</a>, <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="active__item__cache_8cpp_source.html#l00152">active_item_cache::mirror()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, and <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>.</p>

</div>
</div>
<a id="a4e9987a438bf00259829a840adc441c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e9987a438bf00259829a840adc441c0">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsubmap.html">submap</a> &amp; submap::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac02500ef34bc6475b7e5dad23952ed75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02500ef34bc6475b7e5dad23952ed75">&#9670;&nbsp;</a></span>revert_submap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::revert_submap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a> &amp;&#160;</td>
          <td class="paramname"><em>sr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00318">318</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="classsubmap.html#aedcef59c39db2b0df1a96592d37a4b54">reverted</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span>( sr.<a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>.reset();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="classsubmap.html#afdeb0ec7d69d9a390b2f994550a1d0ee">set_all_ter</a>( sr.<a class="code" href="classsubmap.html#aeb8b4e7ea9442a0b47ff1f548be596e0">get_ter</a>( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> ), <span class="keyword">true</span> );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = 0; x &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; x++ ) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = 0; y &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; y++ ) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="structpoint.html">point</a> pt( x, y );</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[x][y] = sr.<a class="code" href="classsubmap.html#a6df876dc4bca97aaa9a2c8d96c85649c">get_furn</a>( pt );</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[x][y] = sr.<a class="code" href="classsubmap.html#aeb8b4e7ea9442a0b47ff1f548be596e0">get_ter</a>( pt );</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;trp[x][y] = sr.<a class="code" href="classsubmap.html#a914e5f29a7d29e0eb3d7d73a60037dec">get_trap</a>( pt );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[x][y] = sr.<a class="code" href="classsubmap.html#ae5d76f1627b141af2b3829980b66c450">get_items</a>( pt );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;itm : <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[x][y] ) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="keywordflow">if</span>( itm.is_emissive() ) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                    this-&gt;<a class="code" href="classsubmap.html#a8ae4a44cf15110ecbeba984f60ab9899">update_lum_add</a>( pt, itm );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <a class="code" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code" href="classactive__item__cache.html#aba8474a3e07fda3e9f3ab42a39252a0f">add</a>( itm, pt );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="ttc" id="aclasssubmap_html_a6df876dc4bca97aaa9a2c8d96c85649c"><div class="ttname"><a href="classsubmap.html#a6df876dc4bca97aaa9a2c8d96c85649c">submap::get_furn</a></div><div class="ttdeci">furn_id get_furn(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00110">submap.h:110</a></div></div>
<div class="ttc" id="aclasssubmap_html_a914e5f29a7d29e0eb3d7d73a60037dec"><div class="ttname"><a href="classsubmap.html#a914e5f29a7d29e0eb3d7d73a60037dec">submap::get_trap</a></div><div class="ttdeci">trap_id get_trap(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00093">submap.h:93</a></div></div>
<div class="ttc" id="aclasssubmap_html_ae5d76f1627b141af2b3829980b66c450"><div class="ttname"><a href="classsubmap.html#ae5d76f1627b141af2b3829980b66c450">submap::get_items</a></div><div class="ttdeci">cata::colony&lt; item &gt; &amp; get_items(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00195">submap.h:195</a></div></div>
<div class="ttc" id="aclasssubmap_html_aedcef59c39db2b0df1a96592d37a4b54"><div class="ttname"><a href="classsubmap.html#aedcef59c39db2b0df1a96592d37a4b54">submap::reverted</a></div><div class="ttdeci">bool reverted</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00298">submap.h:298</a></div></div>
<div class="ttc" id="aclasssubmap_html_afdeb0ec7d69d9a390b2f994550a1d0ee"><div class="ttname"><a href="classsubmap.html#afdeb0ec7d69d9a390b2f994550a1d0ee">submap::set_all_ter</a></div><div class="ttdeci">void set_all_ter(const ter_id &amp;terr, bool uniform_ok=false)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00150">submap.h:150</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00294">active_items</a>, <a class="el" href="active__item__cache_8cpp_source.html#l00020">active_item_cache::add()</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00110">get_furn()</a>, <a class="el" href="submap_8h_source.html#l00195">get_items()</a>, <a class="el" href="submap_8h_source.html#l00138">get_ter()</a>, <a class="el" href="submap_8h_source.html#l00093">get_trap()</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="submap_8h_source.html#l00298">reverted</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="submap_8h_source.html#l00150">set_all_ter()</a>, and <a class="el" href="submap_8h_source.html#l00185">update_lum_add()</a>.</p>

</div>
</div>
<a id="a61b5eef233a79633cc3493d5452b66fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b5eef233a79633cc3493d5452b66fd">&#9670;&nbsp;</a></span>rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::rotate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>turns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00197">197</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    turns = turns % 4;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span>( turns == 0 ) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a> = [turns]( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp; p ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">return</span> p.<a class="code" href="structtripoint.html#a27c40b9dab670c0322f2d569c7b54b46">rotate</a>( turns, { <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> } );</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    };</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> rotate_point_ccw = [turns]( <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> &amp; p ) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">return</span> p.<a class="code" href="structtripoint.html#a27c40b9dab670c0322f2d569c7b54b46">rotate</a>( 4 - turns, { <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> } );</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    };</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span>( turns == 2 ) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="comment">// Swap horizontal stripes.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0, je = <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> / 2; j &lt; je; ++j ) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = j, ie = <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - j; i &lt; ie; ++i ) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;swap_soa_tile( { i, j }, <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( { i, j } ) );</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// Swap vertical stripes so that they don&#39;t overlap with</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// the already swapped horizontals.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0, ie = <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> / 2; i &lt; ie; ++i ) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = i + 1, je = <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - i - 1; j &lt; je; ++j ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;swap_soa_tile( { i, j }, <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( { i, j } ) );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0, je = <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> / 2; j &lt; je; ++j ) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = j, ie = <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - j - 1; i &lt; ie; ++i ) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                <a class="code" href="structpoint.html">point</a> p = <a class="code" href="structpoint.html">point</a>{ i, j };</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <a class="code" href="structpoint.html">point</a> pp = p;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="comment">// three swaps are enough to perform the circular shift of four elements:</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="comment">// 0123 -&gt; 3120 -&gt; 3102 -&gt; 3012</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k = 0; k &lt; 3; ++k ) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    p = pp;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    pp = rotate_point_ccw( pp );</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;swap_soa_tile( p, pp );</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classsubmap.html#ab14312fd2b32daf90ba20524a8272e70">active_items</a>.<a class="code" href="classactive__item__cache.html#a0a27abec1dd9248b460d36341f864dcf">rotate_locations</a>( turns, { <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>, <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> } );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structsubmap_1_1cosmetic__t.html">submap::cosmetic_t</a> &amp;elem : <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a> ) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        elem.pos = <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.pos );</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structspawn__point.html">spawn_point</a> &amp;elem : <a class="code" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a> ) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        elem.pos = <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.pos );</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="namespacevehicles.html">vehicles</a> ) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> new_pos = <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem-&gt;pos );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        elem-&gt;pos = new_pos;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">// turn the steering wheel, vehicle::turn does not actually</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="comment">// move the vehicle.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        elem-&gt;turn( turns * 90_degrees );</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">// The facing direction and recalculate the positions of the parts</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        elem-&gt;face = <a class="code" href="classtileray.html">tileray</a>( elem-&gt;turn_dir );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        elem-&gt;precalc_mounts( 0, elem-&gt;turn_dir, elem-&gt;pivot_anchor[0] );</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    std::map&lt;point, computer&gt; rot_comp;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> ) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        rot_comp.emplace( <a class="code" href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a>( elem.first ), elem.second );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> = rot_comp;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="aclassactive__item__cache_html_a0a27abec1dd9248b460d36341f864dcf"><div class="ttname"><a href="classactive__item__cache.html#a0a27abec1dd9248b460d36341f864dcf">active_item_cache::rotate_locations</a></div><div class="ttdeci">void rotate_locations(int turns, const point &amp;dim)</div><div class="ttdef"><b>Definition:</b> <a href="active__item__cache_8cpp_source.html#l00143">active_item_cache.cpp:143</a></div></div>
<div class="ttc" id="aclasstileray_html"><div class="ttname"><a href="classtileray.html">tileray</a></div><div class="ttdef"><b>Definition:</b> <a href="tileray_8h_source.html#l00028">tileray.h:29</a></div></div>
<div class="ttc" id="amapgen__functions_8cpp_html_a60321e5661fe285e032f87708c5430f6"><div class="ttname"><a href="mapgen__functions_8cpp.html#a60321e5661fe285e032f87708c5430f6">rotate_point</a></div><div class="ttdeci">tripoint rotate_point(const tripoint &amp;p, int rotations)</div><div class="ttdoc">Calculates the coordinates of a rotated point.</div><div class="ttdef"><b>Definition:</b> <a href="mapgen__functions_8cpp_source.html#l00079">mapgen_functions.cpp:79</a></div></div>
<div class="ttc" id="astructtripoint_html_a27c40b9dab670c0322f2d569c7b54b46"><div class="ttname"><a href="structtripoint.html#a27c40b9dab670c0322f2d569c7b54b46">tripoint::rotate</a></div><div class="ttdeci">tripoint rotate(int turns, const point &amp;dim={ 1, 1 }) const</div><div class="ttdoc">Rotates just the x,y component of the tripoint.</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00209">point.h:209</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00294">active_items</a>, <a class="el" href="submap_8h_source.html#l00315">computers</a>, <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00209">tripoint::rotate()</a>, <a class="el" href="active__item__cache_8cpp_source.html#l00143">active_item_cache::rotate_locations()</a>, <a class="el" href="mapgen__functions_8cpp_source.html#l00079">rotate_point()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, and <a class="el" href="submap_8h_source.html#l00299">spawns</a>.</p>

</div>
</div>
<a id="a978f73a9bc50ebcce14957b3d6bba847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a978f73a9bc50ebcce14957b3d6bba847">&#9670;&nbsp;</a></span>set_all_furn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_all_furn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a> &amp;&#160;</td>
          <td class="paramname"><em>furn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00122">122</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                                 {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, furn );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00320">elements</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, and <a class="el" href="submap_8h_source.html#l00316">m</a>.</p>

</div>
</div>
<a id="afdeb0ec7d69d9a390b2f994550a1d0ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdeb0ec7d69d9a390b2f994550a1d0ee">&#9670;&nbsp;</a></span>set_all_ter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_all_ter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> &amp;&#160;</td>
          <td class="paramname"><em>terr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>uniform_ok</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00150">150</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                                        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">if</span>( !uniform_ok ) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <a class="code" href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">uniform_ter</a> = terr;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, terr );</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00320">elements</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, and <a class="el" href="submap_8h_source.html#l00317">uniform_ter</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, and <a class="el" href="savegame_8cpp_source.html#l01504">timed_event_manager::unserialize_all()</a>.</p>

</div>
</div>
<a id="abf150f62b5ab49d2f322da304f0b5a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf150f62b5ab49d2f322da304f0b5a6f">&#9670;&nbsp;</a></span>set_all_traps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_all_traps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> &amp;&#160;</td>
          <td class="paramname"><em>trap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00105">105</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                                  {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            std::uninitialized_fill_n( &amp;<a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;trp[0][0], <a class="code" href="classsubmap.html#a6aa8eac8b516b65613b099399075fc4d">elements</a>, <a class="code" href="structtrap.html">trap</a> );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdoc">Some traps aren't actually traps in the usual sense of the word.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00109">trap.h:109</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00320">elements</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, and <a class="el" href="submap_8h_source.html#l00316">m</a>.</p>

</div>
</div>
<a id="a4eb883155e66211b2e3ba77d23c28780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eb883155e66211b2e3ba77d23c28780">&#9670;&nbsp;</a></span>set_computer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_computer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcomputer.html">computer</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00166">166</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.find( p );</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span>( it != <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.end() ) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        it-&gt;second = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.emplace( p, <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">static constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01568">magic.cpp:1568</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01568">c</a>, and <a class="el" href="submap_8h_source.html#l00315">computers</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l06928">map::add_computer()</a>.</p>

</div>
</div>
<a id="a2f91089185f95840e72575bad626c442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f91089185f95840e72575bad626c442">&#9670;&nbsp;</a></span>set_furn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_furn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a6bc1468ac54b6176b517879f5f77564e">furn_id</a>&#160;</td>
          <td class="paramname"><em>furn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00117">117</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                                      {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;frn[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = furn;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, and <a class="el" href="savegame_8cpp_source.html#l01504">timed_event_manager::unserialize_all()</a>.</p>

</div>
</div>
<a id="a308eddf864275f1d97df5c5fd481ee26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a308eddf864275f1d97df5c5fd481ee26">&#9670;&nbsp;</a></span>set_graffiti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_graffiti </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>new_graffiti</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00080">80</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// Find signage at p if available</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcosmetic__find__result.html">cosmetic_find_result</a> fresult = <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a> );</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span>( fresult.<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a> ) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.<a class="code" href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">ndx</a> ].str = new_graffiti;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="classsubmap.html#a4a40b23fed34932f59b15ea7f3400239">insert_cosmetic</a>( p, <a class="code" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI</a>, new_graffiti );</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a81ce0969039472354e345d83af4e7d52">COSMETICS_GRAFFITI()</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8h_source.html#l00236">insert_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00046">cosmetic_find_result::ndx</a>, and <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l09153">map::set_graffiti()</a>.</p>

</div>
</div>
<a id="af798f765d1975240fbe036cf9f63058c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af798f765d1975240fbe036cf9f63058c">&#9670;&nbsp;</a></span>set_lum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_lum </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>luminance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00180">180</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                                          {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = luminance;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05030">map::i_clear()</a>.</p>

</div>
</div>
<a id="a4f8b69e6d61142f2a921ba718e07c0f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8b69e6d61142f2a921ba718e07c0f4">&#9670;&nbsp;</a></span>set_map_damage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_map_damage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dmg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00134">134</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                             {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="classsubmap.html#ae6b6b508bd05f08882227e5b0848f081">ephemeral_data</a>[p] = { dmg };</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00314">ephemeral_data</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l01743">map::furn_set()</a>, <a class="el" href="map_8cpp_source.html#l01958">map::set_map_damage()</a>, and <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>.</p>

</div>
</div>
<a id="a29f52488e5c4ec3a34217904d7272c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f52488e5c4ec3a34217904d7272c58">&#9670;&nbsp;</a></span>set_radiation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_radiation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>radiation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00168">168</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                                                  {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;rad[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = radiation;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04931">map::adjust_radiation()</a>, and <a class="el" href="map_8cpp_source.html#l04915">map::set_radiation()</a>.</p>

</div>
</div>
<a id="af1d5b843c200c6273e9455850309553c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d5b843c200c6273e9455850309553c">&#9670;&nbsp;</a></span>set_signage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_signage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00120">120</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// Find signage at p if available</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">const</span> <a class="code" href="structcosmetic__find__result.html">cosmetic_find_result</a> fresult = <a class="code" href="submap_8cpp.html#a4d5b25696ee54fc885984be28fe429ac">find_cosmetic</a>( <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>, p, <a class="code" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a> );</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span>( fresult.<a class="code" href="structcosmetic__find__result.html#a3de8fb543a40b815afeff4fafb7e1380">result</a> ) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a>[ fresult.<a class="code" href="structcosmetic__find__result.html#ad1139b9784fda2c6c13d10ed54a6c5a1">ndx</a> ].str = s;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="classsubmap.html#a4a40b23fed34932f59b15ea7f3400239">insert_cosmetic</a>( p, <a class="code" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE</a>, s );</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00292">cosmetics</a>, <a class="el" href="submap_8cpp.html#a2ff8b1d4e9aff7d65b90a0daf67ae291">COSMETICS_SIGNAGE()</a>, <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8cpp_source.html#l00055">find_cosmetic()</a>, <a class="el" href="submap_8h_source.html#l00236">insert_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00046">cosmetic_find_result::ndx</a>, and <a class="el" href="submap_8cpp_source.html#l00045">cosmetic_find_result::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04864">map::set_signage()</a>.</p>

</div>
</div>
<a id="a396478bff66847708df18b545fb98102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396478bff66847708df18b545fb98102">&#9670;&nbsp;</a></span>set_temperature_mod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_temperature_mod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunits.html#a93cd1578a96bdf194d4ec88eb50d904e">units::temperature_delta</a>&#160;</td>
          <td class="paramname"><em>new_temperature_mod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00250">250</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                                                               {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="classsubmap.html#a750a7313d84dc5d9324eccdee7d34c0d">temperature_mod</a> = <a class="code" href="namespaceunits.html#aeb8137b871270efbb596a5881aa67527">units::to_fahrenheit_delta</a>( new_temperature_mod );</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div>
<div class="ttc" id="anamespaceunits_html_aeb8137b871270efbb596a5881aa67527"><div class="ttname"><a href="namespaceunits.html#aeb8137b871270efbb596a5881aa67527">units::to_fahrenheit_delta</a></div><div class="ttdeci">constexpr value_type to_fahrenheit_delta(const quantity&lt; value_type, temperature_delta_in_kelvin_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00509">units.h:509</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00318">temperature_mod</a>, and <a class="el" href="units_8h_source.html#l00509">units::to_fahrenheit_delta()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l04963">map::set_temperature_mod()</a>.</p>

</div>
</div>
<a id="ad25c124e2017746b9d0329efd7e86e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25c124e2017746b9d0329efd7e86e4e">&#9670;&nbsp;</a></span>set_ter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_ter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>&#160;</td>
          <td class="paramname"><em>terr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00145">145</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                                    {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = terr;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08701">map::add_roofs()</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, and <a class="el" href="savegame_8cpp_source.html#l01504">timed_event_manager::unserialize_all()</a>.</p>

</div>
</div>
<a id="a2ba9b57ae741f456d6d2a93aa8c5c7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba9b57ae741f456d6d2a93aa8c5c7b5">&#9670;&nbsp;</a></span>set_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::set_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a>&#160;</td>
          <td class="paramname"><em>trap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00100">100</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                                      {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;trp[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = <a class="code" href="structtrap.html">trap</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06338">map::remove_trap()</a>, <a class="el" href="map_8cpp_source.html#l06297">map::trap_set()</a>, and <a class="el" href="savegame_8cpp_source.html#l01504">timed_event_manager::unserialize_all()</a>.</p>

</div>
</div>
<a id="a67d212dab698fe61a61c10061e8adf2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d212dab698fe61a61c10061e8adf2e">&#9670;&nbsp;</a></span>store()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>jsout</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l04677">4677</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;{</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;turn_last_touched&quot;</span>, <a class="code" href="classsubmap.html#a46123556cf8ed220cc78cfe639f76aea">last_touched</a> );</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;temperature&quot;</span>, <a class="code" href="classsubmap.html#a750a7313d84dc5d9324eccdee7d34c0d">temperature_mod</a> );</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160; </div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;    <span class="comment">// Terrain is saved using a simple RLE scheme.  Legacy saves don&#39;t have</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    <span class="comment">// this feature but the algorithm is backward compatible.</span></div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;terrain&quot;</span> );</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#adf5c1f5b90e80c09fe9b799a0459a139">is_uniform</a>() ) {</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;        <a class="code" href="namespaceanonymous__namespace_02savegame__json_8cpp_03.html#a737a7d7adf0a6f6bf7b3f9a94c6e3b0f">_write_rle_terrain</a>( jsout, <a class="code" href="classsubmap.html#a23d1f58af7aeb06fc6affc5f663771c6">uniform_ter</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> );</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;    }</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;    std::string last_id;</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;    <span class="keywordtype">int</span> num_same = 1;</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;        <span class="comment">// NOLINTNEXTLINE(modernize-loop-convert)</span></div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;            <span class="keyword">const</span> std::string this_id = <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;ter[i][j].obj().id.str();</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;            <span class="keywordflow">if</span>( !last_id.empty() ) {</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;                <span class="keywordflow">if</span>( this_id == last_id ) {</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;                    num_same++;</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;                    <span class="keywordflow">if</span>( num_same == 1 ) {</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;                        <span class="comment">// if there&#39;s only one element don&#39;t write as an array</span></div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;                        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;                        <a class="code" href="namespaceanonymous__namespace_02savegame__json_8cpp_03.html#a737a7d7adf0a6f6bf7b3f9a94c6e3b0f">_write_rle_terrain</a>( jsout, last_id, num_same );</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;                        num_same = 1;</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;                    }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;                    last_id = this_id;</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;                }</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;                last_id = this_id;</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;            }</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;        }</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    }</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    <span class="comment">// Because of the RLE scheme we have to do one last pass</span></div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;    <span class="keywordflow">if</span>( num_same == 1 ) {</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( last_id );</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( num_same );</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    }</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160; </div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    <span class="comment">// Write out the radiation array in a simple RLE scheme.</span></div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;    <span class="comment">// written in intensity, count pairs</span></div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;radiation&quot;</span> );</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    <span class="keywordtype">int</span> lastrad = -1;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;            <span class="comment">// Save radiation, re-examine this because it doesn&#39;t look like it works right</span></div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;            <span class="keywordtype">int</span> r = <a class="code" href="classsubmap.html#ad88205b88cc096392177c6dccf7e61c8">get_radiation</a>( p );</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;            <span class="keywordflow">if</span>( r == lastrad ) {</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;                count++;</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;                <span class="keywordflow">if</span>( count ) {</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( count );</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;                }</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( r );</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;                lastrad = r;</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;                count = 1;</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;            }</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;        }</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    }</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( count );</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160; </div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;furniture&quot;</span> );</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;            <span class="comment">// Save furniture</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#a6df876dc4bca97aaa9a2c8d96c85649c">get_furn</a>( p ) ) {</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.x );</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.y );</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code" href="classsubmap.html#a6df876dc4bca97aaa9a2c8d96c85649c">get_furn</a>( p ).obj().<span class="keywordtype">id</span> );</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;            }</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;        }</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;    }</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160; </div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;items&quot;</span> );</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[i][j].empty() ) {</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;            }</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( i );</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( j );</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[i][j] );</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;        }</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;    }</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160; </div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;traps&quot;</span> );</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( i, j );</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;            <span class="comment">// Save traps</span></div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#a914e5f29a7d29e0eb3d7d73a60037dec">get_trap</a>( p ) ) {</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.x );</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( p.y );</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;                <span class="comment">// TODO: jsout should support writing an id like jsout.write( trap_id )</span></div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <a class="code" href="classsubmap.html#a914e5f29a7d29e0eb3d7d73a60037dec">get_trap</a>( p ).<span class="keywordtype">id</span>().str() );</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;            }</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;        }</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    }</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160; </div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;fields&quot;</span> );</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; j++ ) {</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; i++ ) {</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;            <span class="comment">// Save fields</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;fld[i][j].field_count() &gt; 0 ) {</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( i );</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( j );</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;fld[i][j] ) {</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classfield__entry.html">field_entry</a> &amp;cur = elem.second;</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cur.<a class="code" href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">get_field_type</a>().<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() );</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cur.<a class="code" href="classfield__entry.html#a5ee5768041fa90ed1518442b9bd7daab">get_field_intensity</a>() );</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cur.<a class="code" href="classfield__entry.html#a7eb2efd29a27ad81d198009ad674a61d">get_field_age</a>() );</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;                }</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;                jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;            }</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;        }</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    }</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160; </div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;    <span class="comment">// Write out as array of arrays of single entries</span></div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;cosmetics&quot;</span> );</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structsubmap_1_1cosmetic__t.html">submap::cosmetic_t</a> &amp;cosm : <a class="code" href="classsubmap.html#ada9558cbc399cd122d23af327daa1c67">cosmetics</a> ) {</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.pos.x );</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.pos.y );</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.type );</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( cosm.str );</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;    }</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160; </div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <span class="comment">// Output the spawn points</span></div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;spawns&quot;</span> );</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structspawn__point.html">spawn_point</a> &amp;elem : <a class="code" href="classsubmap.html#a955a62ae7625cb18d39267c80b48f703">spawns</a> ) {</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;        <span class="comment">// TODO: json should know how to write string_ids</span></div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.type.str() );</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.count );</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.pos.x );</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.pos.y );</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.faction_id );</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.mission_id );</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.friendly );</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.name );</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;    }</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160; </div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;vehicles&quot;</span> );</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="namespacevehicles.html">vehicles</a> ) {</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;        <span class="comment">// json lib doesn&#39;t know how to turn a vehicle * into a vehicle,</span></div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;        <span class="comment">// so we have to iterate manually.</span></div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( *elem );</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    }</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160; </div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;partial_constructions&quot;</span> );</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classsubmap.html#a8378470224a9f9395a39cbbcfffa4099">partial_constructions</a> ) {</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first.x() );</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first.y() );</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first.z() );</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.second.counter );</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.second.id.id() );</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : elem.second.<a class="code" href="classitem.html#acb2cc7e78ca9e1515b2e44a633d9f25c">components</a> ) {</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( it );</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;        }</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    }</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160; </div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a>.empty() ) {</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;computers&quot;</span> );</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classsubmap.html#aeeba53a78e62b516c1bd1be0c63542ca">computers</a> ) {</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.first );</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( elem.second );</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;        }</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;    }</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160; </div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <span class="comment">// Output base camp if any</span></div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> ) {</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;camp&quot;</span>, *<a class="code" href="classsubmap.html#aab6b800454648ba710233504494b2c34">camp</a> );</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;    }</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02346">json.cpp:2346</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02335">json.cpp:2335</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4b8c8e50e3be57e737ae971ecf2c3fd5"><div class="ttname"><a href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">JsonOut::write</a></div><div class="ttdeci">void write(T val)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00776">json.h:776</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="aclassfield__entry_html"><div class="ttname"><a href="classfield__entry.html">field_entry</a></div><div class="ttdoc">An active or passive effect existing on a tile.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00020">field.h:21</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a5ee5768041fa90ed1518442b9bd7daab"><div class="ttname"><a href="classfield__entry.html#a5ee5768041fa90ed1518442b9bd7daab">field_entry::get_field_intensity</a></div><div class="ttdeci">int get_field_intensity() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00053">field.cpp:53</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a7eb2efd29a27ad81d198009ad674a61d"><div class="ttname"><a href="classfield__entry.html#a7eb2efd29a27ad81d198009ad674a61d">field_entry::get_field_age</a></div><div class="ttdeci">time_duration get_field_age() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00070">field.cpp:70</a></div></div>
<div class="ttc" id="aclassfield__entry_html_af76e247514edaeed4bdc58638bfa0ae1"><div class="ttname"><a href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">field_entry::get_field_type</a></div><div class="ttdeci">field_type_id get_field_type() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00037">field.cpp:37</a></div></div>
<div class="ttc" id="aclassitem_html_acb2cc7e78ca9e1515b2e44a633d9f25c"><div class="ttname"><a href="classitem.html#acb2cc7e78ca9e1515b2e44a633d9f25c">item::components</a></div><div class="ttdeci">item_components components</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03075">item.h:3075</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aclasssubmap_html_ad88205b88cc096392177c6dccf7e61c8"><div class="ttname"><a href="classsubmap.html#ad88205b88cc096392177c6dccf7e61c8">submap::get_radiation</a></div><div class="ttdeci">int get_radiation(const point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00161">submap.h:161</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02savegame__json_8cpp_03_html_a737a7d7adf0a6f6bf7b3f9a94c6e3b0f"><div class="ttname"><a href="namespaceanonymous__namespace_02savegame__json_8cpp_03.html#a737a7d7adf0a6f6bf7b3f9a94c6e3b0f">anonymous_namespace{savegame_json.cpp}::_write_rle_terrain</a></div><div class="ttdeci">void _write_rle_terrain(JsonOut &amp;jsout, const std::string_view ter, int num)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l04611">savegame_json.cpp:4611</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="savegame__json_8cpp_source.html#l04611">anonymous_namespace{savegame_json.cpp}::_write_rle_terrain()</a>, <a class="el" href="item_8h_source.html#l03075">item::components</a>, <a class="el" href="json_8cpp_source.html#l02346">JsonOut::end_array()</a>, <a class="el" href="field_8cpp_source.html#l00070">field_entry::get_field_age()</a>, <a class="el" href="field_8cpp_source.html#l00053">field_entry::get_field_intensity()</a>, <a class="el" href="field_8cpp_source.html#l00037">field_entry::get_field_type()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, <a class="el" href="json_8cpp_source.html#l02422">JsonOut::member()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="json_8cpp_source.html#l02335">JsonOut::start_array()</a>, <a class="el" href="json_8h_source.html#l00776">JsonOut::write()</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

</div>
</div>
<a id="a8ae4a44cf15110ecbeba984f60ab9899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae4a44cf15110ecbeba984f60ab9899">&#9670;&nbsp;</a></span>update_lum_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void submap::update_lum_add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00185">185</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                                             {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">if</span>( i.<a class="code" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() &amp;&amp; <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &lt; 255 ) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>]++;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="item_8cpp_source.html#l09943">item::is_emissive()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05329">map::add_item()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, and <a class="el" href="map_8cpp_source.html#l05524">map::update_lum()</a>.</p>

</div>
</div>
<a id="afffa669a4a9bad224035b65ffd580343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffa669a4a9bad224035b65ffd580343">&#9670;&nbsp;</a></span>update_lum_rem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void submap::update_lum_rem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpoint.html">point</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8cpp_source.html#l00356">356</a> of file <a class="el" href="submap_8cpp_source.html">submap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="classsubmap.html#a7300e32a94213aa29ccf25092afc451a">ensure_nonuniform</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span>( !i.<a class="code" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() ) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &amp;&amp; <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] &lt; 255 ) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>]--;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// Have to scan through all items to be sure removing i will actually lower</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// the count below 255.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;itm[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] ) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#aa25047563db389e8372f4f40ef7ac965">is_emissive</a>() ) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            count++;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span>( count &lt;= 256 ) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="classsubmap.html#a28dc301cdeb20e234d7011e2cec52cbc">m</a>-&gt;lum[p.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>][p.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>( count - 1 );</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="item_8cpp_source.html#l09943">item::is_emissive()</a>, <a class="el" href="submap_8h_source.html#l00316">m</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05001">map::i_rem()</a>, and <a class="el" href="map_8cpp_source.html#l05524">map::update_lum()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab14312fd2b32daf90ba20524a8272e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab14312fd2b32daf90ba20524a8272e70">&#9670;&nbsp;</a></span>active_items</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classactive__item__cache.html">active_item_cache</a> submap::active_items</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00294">294</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05329">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l08206">map::loadn()</a>, <a class="el" href="map_8cpp_source.html#l05495">map::make_active()</a>, <a class="el" href="submap_8cpp_source.html#l00274">mirror()</a>, <a class="el" href="map_8cpp_source.html#l05663">map::process_items()</a>, <a class="el" href="map_8cpp_source.html#l05710">map::process_items_in_submap()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, and <a class="el" href="submap_8cpp_source.html#l00197">rotate()</a>.</p>

</div>
</div>
<a id="aab6b800454648ba710233504494b2c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab6b800454648ba710233504494b2c34">&#9670;&nbsp;</a></span>camp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classbasecamp.html">basecamp</a>&gt; submap::camp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00307">307</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06785">map::hoist_submap_camp()</a>, and <a class="el" href="map_8cpp_source.html#l06775">map::remove_submap_camp()</a>.</p>

</div>
</div>
<a id="aeeba53a78e62b516c1bd1be0c63542ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeba53a78e62b516c1bd1be0c63542ca">&#9670;&nbsp;</a></span>computers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="structpoint.html">point</a>, <a class="el" href="classcomputer.html">computer</a>&gt; submap::computers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00315">315</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00176">delete_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00146">get_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00141">has_computer()</a>, <a class="el" href="submap_8cpp_source.html#l00274">mirror()</a>, <a class="el" href="submap_8cpp_source.html#l00197">rotate()</a>, and <a class="el" href="submap_8cpp_source.html#l00166">set_computer()</a>.</p>

</div>
</div>
<a id="ada9558cbc399cd122d23af327daa1c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9558cbc399cd122d23af327daa1c67">&#9670;&nbsp;</a></span>cosmetics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structsubmap_1_1cosmetic__t.html">cosmetic_t</a>&gt; submap::cosmetics</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00292">292</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00092">delete_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00131">delete_signage()</a>, <a class="el" href="submap_8cpp_source.html#l00071">get_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00109">get_signage()</a>, <a class="el" href="submap_8cpp_source.html#l00066">has_graffiti()</a>, <a class="el" href="submap_8cpp_source.html#l00101">has_signage()</a>, <a class="el" href="submap_8h_source.html#l00236">insert_cosmetic()</a>, <a class="el" href="submap_8cpp_source.html#l00274">mirror()</a>, <a class="el" href="submap_8cpp_source.html#l00197">rotate()</a>, <a class="el" href="submap_8cpp_source.html#l00080">set_graffiti()</a>, and <a class="el" href="submap_8cpp_source.html#l00120">set_signage()</a>.</p>

</div>
</div>
<a id="a6aa8eac8b516b65613b099399075fc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa8eac8b516b65613b099399075fc4d">&#9670;&nbsp;</a></span>elements</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t submap::elements = <a class="el" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> * <a class="el" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00320">320</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00122">set_all_furn()</a>, <a class="el" href="submap_8h_source.html#l00150">set_all_ter()</a>, and <a class="el" href="submap_8h_source.html#l00105">set_all_traps()</a>.</p>

</div>
</div>
<a id="ae6b6b508bd05f08882227e5b0848f081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6b6b508bd05f08882227e5b0848f081">&#9670;&nbsp;</a></span>ephemeral_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="coordinates_8h.html#a0ac9d32a9fb320505f70e5f6834d82f4">point_sm_ms</a>, <a class="el" href="structsubmap_1_1tile__data.html">tile_data</a>&gt; submap::ephemeral_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00314">314</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00126">get_map_damage()</a>, and <a class="el" href="submap_8h_source.html#l00134">set_map_damage()</a>.</p>

</div>
</div>
<a id="aa86d0130ed1d1556482b2f7478633778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86d0130ed1d1556482b2f7478633778">&#9670;&nbsp;</a></span>field_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int submap::field_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00296">296</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="map_8cpp_source.html#l03507">map::decay_fields_and_scent()</a>, <a class="el" href="map_8cpp_source.html#l06640">map::delete_field()</a>, <a class="el" href="map_8cpp_source.html#l08206">map::loadn()</a>, <a class="el" href="map__field_8cpp_source.html#l00162">map::process_fields()</a>, and <a class="el" href="map__field_8cpp_source.html#l00420">map::process_fields_in_submap()</a>.</p>

</div>
</div>
<a id="a46123556cf8ed220cc78cfe639f76aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46123556cf8ed220cc78cfe639f76aea">&#9670;&nbsp;</a></span>last_touched</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> submap::last_touched = <a class="el" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00297">297</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08635">map::actualize()</a>, and <a class="el" href="map_8cpp_source.html#l08144">map::saven()</a>.</p>

</div>
</div>
<a id="a28dc301cdeb20e234d7011e2cec52cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28dc301cdeb20e234d7011e2cec52cbc">&#9670;&nbsp;</a></span>m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structmaptile__soa.html">maptile_soa</a>&gt; submap::m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00316">316</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8h_source.html#l00212">get_field()</a>, <a class="el" href="submap_8h_source.html#l00110">get_furn()</a>, <a class="el" href="submap_8h_source.html#l00195">get_items()</a>, <a class="el" href="submap_8h_source.html#l00173">get_lum()</a>, <a class="el" href="submap_8h_source.html#l00161">get_radiation()</a>, <a class="el" href="submap_8cpp_source.html#l00345">get_revert_submap()</a>, <a class="el" href="submap_8cpp_source.html#l00109">get_signage()</a>, <a class="el" href="submap_8h_source.html#l00138">get_ter()</a>, <a class="el" href="submap_8h_source.html#l00093">get_trap()</a>, <a class="el" href="submap_8cpp_source.html#l00101">has_signage()</a>, <a class="el" href="submap_8h_source.html#l00288">is_uniform()</a>, <a class="el" href="submap_8cpp_source.html#l00274">mirror()</a>, <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>, <a class="el" href="submap_8cpp_source.html#l00197">rotate()</a>, <a class="el" href="submap_8h_source.html#l00122">set_all_furn()</a>, <a class="el" href="submap_8h_source.html#l00150">set_all_ter()</a>, <a class="el" href="submap_8h_source.html#l00105">set_all_traps()</a>, <a class="el" href="submap_8h_source.html#l00117">set_furn()</a>, <a class="el" href="submap_8h_source.html#l00180">set_lum()</a>, <a class="el" href="submap_8h_source.html#l00168">set_radiation()</a>, <a class="el" href="submap_8h_source.html#l00145">set_ter()</a>, <a class="el" href="submap_8h_source.html#l00100">set_trap()</a>, <a class="el" href="submap_8h_source.html#l00185">update_lum_add()</a>, and <a class="el" href="submap_8cpp_source.html#l00356">update_lum_rem()</a>.</p>

</div>
</div>
<a id="a8378470224a9f9395a39cbbcfffa4099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8378470224a9f9395a39cbbcfffa4099">&#9670;&nbsp;</a></span>partial_constructions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="coordinates_8h.html#a84a1d9c2f4e544edff1b885bc7b09b12">tripoint_sm_ms</a>, <a class="el" href="structpartial__con.html">partial_con</a>&gt; submap::partial_constructions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00306">306</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l06244">map::partial_con_at()</a>, <a class="el" href="map_8cpp_source.html#l06262">map::partial_con_remove()</a>, and <a class="el" href="map_8cpp_source.html#l06281">map::partial_con_set()</a>.</p>

</div>
</div>
<a id="aedcef59c39db2b0df1a96592d37a4b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedcef59c39db2b0df1a96592d37a4b54">&#9670;&nbsp;</a></span>reverted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool submap::reverted = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00298">298</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8cpp_source.html#l00318">revert_submap()</a>.</p>

</div>
</div>
<a id="a955a62ae7625cb18d39267c80b48f703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955a62ae7625cb18d39267c80b48f703">&#9670;&nbsp;</a></span>spawns</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structspawn__point.html">spawn_point</a>&gt; submap::spawns</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00299">299</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mapgen_8cpp_source.html#l06686">map::add_spawn()</a>, <a class="el" href="editmap_8cpp_source.html#l01830">editmap::mapgen_preview()</a>, <a class="el" href="submap_8cpp_source.html#l00197">rotate()</a>, and <a class="el" href="map_8cpp_source.html#l08905">map::spawn_monsters_submap()</a>.</p>

</div>
</div>
<a id="a750a7313d84dc5d9324eccdee7d34c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750a7313d84dc5d9324eccdee7d34c0d">&#9670;&nbsp;</a></span>temperature_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int submap::temperature_mod = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00318">318</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00246">get_temperature_mod()</a>, and <a class="el" href="submap_8h_source.html#l00250">set_temperature_mod()</a>.</p>

</div>
</div>
<a id="a23d1f58af7aeb06fc6affc5f663771c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d1f58af7aeb06fc6affc5f663771c6">&#9670;&nbsp;</a></span>uniform_ter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a> submap::uniform_ter = <a class="el" href="mapdata_8h.html#a7eaf3fb1c88b99d3594824fe3cb7003f">t_null</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00317">317</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="submap_8h_source.html#l00078">ensure_nonuniform()</a>, <a class="el" href="submap_8cpp_source.html#l00345">get_revert_submap()</a>, <a class="el" href="submap_8h_source.html#l00138">get_ter()</a>, and <a class="el" href="submap_8h_source.html#l00150">set_all_ter()</a>.</p>

</div>
</div>
<a id="a5623916cf7dbc2e67886538f837d8a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5623916cf7dbc2e67886538f837d8a86">&#9670;&nbsp;</a></span>vehicles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::unique_ptr&lt;<a class="el" href="classvehicle.html">vehicle</a>&gt; &gt; submap::vehicles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vehicles on this submap (their (0,0) point is on this submap). </p>
<p>This vehicle objects are deleted by this submap when it gets deleted. </p>

<p class="definition">Definition at line <a class="el" href="submap_8h_source.html#l00305">305</a> of file <a class="el" href="submap_8h_source.html">submap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l08635">map::actualize()</a>, <a class="el" href="mapgen_8cpp_source.html#l06713">map::add_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l08748">map::copy_grid()</a>, <a class="el" href="map_8cpp_source.html#l00569">map::detach_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l01435">map::displace_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l01278">map::get_vehicles()</a>, <a class="el" href="map_8cpp_source.html#l08206">map::loadn()</a>, <a class="el" href="editmap_8cpp_source.html#l01830">editmap::mapgen_preview()</a>, <a class="el" href="editmap_8cpp_source.html#l02038">editmap::mapgen_veh_destroy()</a>, <a class="el" href="editmap_8cpp_source.html#l02000">editmap::mapgen_veh_query()</a>, <a class="el" href="map_8cpp_source.html#l05751">map::process_items_in_vehicles()</a>, and <a class="el" href="map_8cpp_source.html#l00560">map::update_vehicle_list()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="submap_8h_source.html">submap.h</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
<li>src/<a class="el" href="submap_8cpp_source.html">submap.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:44 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
