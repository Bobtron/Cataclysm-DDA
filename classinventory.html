<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: inventory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classinventory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">inventory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="inventory_8h_source.html">inventory.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inventory:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinventory.png" usemap="#inventory_map" alt=""/>
  <map id="inventory_map" name="inventory_map">
<area href="classvisitable.html" title="Read-write interface for the &quot;container of items&quot;." alt="visitable" shape="rect" coords="0,56,122,80"/>
<area href="classread__only__visitable.html" title="Read-only interface for the &quot;container of items&quot;." alt="read_only_visitable" shape="rect" coords="0,0,122,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51bfb1f66b7b07d630b403bf964e84f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a51bfb1f66b7b07d630b403bf964e84f9">slice</a> ()</td></tr>
<tr class="separator:a51bfb1f66b7b07d630b403bf964e84f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e15113cfaa6ef3a732d35f55768a13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aa3e15113cfaa6ef3a732d35f55768a13">const_slice</a> () const</td></tr>
<tr class="separator:aa3e15113cfaa6ef3a732d35f55768a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f615a8478d03953310f91bc45f79543"><td class="memItemLeft" align="right" valign="top">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a> (int i) const</td></tr>
<tr class="separator:a8f615a8478d03953310f91bc45f79543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a62ddae83430e06da3c08d5b3fd5e4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a> () const</td></tr>
<tr class="separator:a51a62ddae83430e06da3c08d5b3fd5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9963f0cfe64d75ae5ddd69ab22eab2f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a> ()</td></tr>
<tr class="separator:a9963f0cfe64d75ae5ddd69ab22eab2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0bd02cee55e7fdd8520b14edd98304"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#adc0bd02cee55e7fdd8520b14edd98304">inventory</a> (<a class="el" href="classinventory.html">inventory</a> &amp;&amp;) noexcept=default</td></tr>
<tr class="separator:adc0bd02cee55e7fdd8520b14edd98304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2f74c64b0ad40cf8f9c8cfc171a10a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a5c2f74c64b0ad40cf8f9c8cfc171a10a">inventory</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;)=default</td></tr>
<tr class="separator:a5c2f74c64b0ad40cf8f9c8cfc171a10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1afcd873501d220fb25b6e76102ed043"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a1afcd873501d220fb25b6e76102ed043">operator=</a> (<a class="el" href="classinventory.html">inventory</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a1afcd873501d220fb25b6e76102ed043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1586bcc6905bbf14d28a63e81282b8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab1586bcc6905bbf14d28a63e81282b8a">operator=</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;)=default</td></tr>
<tr class="separator:ab1586bcc6905bbf14d28a63e81282b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acee42093ab126ce2dba4cc8c5c5198"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8acee42093ab126ce2dba4cc8c5c5198">operator+=</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;rhs)</td></tr>
<tr class="separator:a8acee42093ab126ce2dba4cc8c5c5198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39043a7d5bc7db8e26644ef6ff22f3d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a39043a7d5bc7db8e26644ef6ff22f3d5">operator+=</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs)</td></tr>
<tr class="separator:a39043a7d5bc7db8e26644ef6ff22f3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127bb39197d94fde2dfbdf75397bf29c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a127bb39197d94fde2dfbdf75397bf29c">operator+=</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;rhs)</td></tr>
<tr class="separator:a127bb39197d94fde2dfbdf75397bf29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa997ae9d0b9038d986d1cc464adf57db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aa997ae9d0b9038d986d1cc464adf57db">operator+=</a> (const <a class="el" href="classitem__components.html">item_components</a> &amp;rhs)</td></tr>
<tr class="separator:aa997ae9d0b9038d986d1cc464adf57db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae486a4d5a17a6a4586bfcd184b1749bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ae486a4d5a17a6a4586bfcd184b1749bc">operator+=</a> (const std::vector&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;rhs)</td></tr>
<tr class="separator:ae486a4d5a17a6a4586bfcd184b1749bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4148748a76382dd4686e326936ef6c55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a4148748a76382dd4686e326936ef6c55">operator+=</a> (const <a class="el" href="classitem__stack.html">item_stack</a> &amp;rhs)</td></tr>
<tr class="separator:a4148748a76382dd4686e326936ef6c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2c692e644161503b97d3b5175e0ffd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ada2c692e644161503b97d3b5175e0ffd">operator+</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;rhs)</td></tr>
<tr class="separator:ada2c692e644161503b97d3b5175e0ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58bf03d9be48a5ca001819240bbf70ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a58bf03d9be48a5ca001819240bbf70ef">operator+</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs)</td></tr>
<tr class="separator:a58bf03d9be48a5ca001819240bbf70ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd3a278aec0985b245daebec1ccc2e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#abfd3a278aec0985b245daebec1ccc2e1">operator+</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;rhs)</td></tr>
<tr class="separator:abfd3a278aec0985b245daebec1ccc2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa5c4406fb43aa1517a4c97c1df3995"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6fa5c4406fb43aa1517a4c97c1df3995">operator+</a> (const <a class="el" href="classitem__components.html">item_components</a> &amp;rhs)</td></tr>
<tr class="separator:a6fa5c4406fb43aa1517a4c97c1df3995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ac26748e30d2d0f6c137734d55b2b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a14ac26748e30d2d0f6c137734d55b2b5">unsort</a> ()</td></tr>
<tr class="separator:a14ac26748e30d2d0f6c137734d55b2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff8096e3549bbf9dce01aa9a1f42f09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#abff8096e3549bbf9dce01aa9a1f42f09">clear</a> ()</td></tr>
<tr class="separator:abff8096e3549bbf9dce01aa9a1f42f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc0c051b701e87b3ce58dad4f8c5288"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;newits)</td></tr>
<tr class="separator:a2fc0c051b701e87b3ce58dad4f8c5288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3840801d19b8b8b3ae4be0e832bd1c7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a> (<a class="el" href="classitem.html">item</a> newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</td></tr>
<tr class="separator:a3840801d19b8b8b3ae4be0e832bd1c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af337d643c1be27e03426962d8f08f9a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af337d643c1be27e03426962d8f08f9a9">add_item_keep_invlet</a> (const <a class="el" href="classitem.html">item</a> &amp;newit)</td></tr>
<tr class="separator:af337d643c1be27e03426962d8f08f9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c43fdc5add3f54217525cd4597fa6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a15c43fdc5add3f54217525cd4597fa6d">push_back</a> (const <a class="el" href="classitem.html">item</a> &amp;newit)</td></tr>
<tr class="separator:a15c43fdc5add3f54217525cd4597fa6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366f3faf3a7ba32e384b843d36bc0d6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">provide_pseudo_item</a> (const <a class="el" href="classitem.html">item</a> &amp;tool)</td></tr>
<tr class="separator:a366f3faf3a7ba32e384b843d36bc0d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435062269d636f5088218b88122b7c94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a435062269d636f5088218b88122b7c94">provide_pseudo_item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;tool_type)</td></tr>
<tr class="separator:a435062269d636f5088218b88122b7c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4ce038ec34e8a1e16a6fbd92469b78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6e4ce038ec34e8a1e16a6fbd92469b78">restack</a> (<a class="el" href="classCharacter.html">Character</a> &amp;p)</td></tr>
<tr class="separator:a6e4ce038ec34e8a1e16a6fbd92469b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c54ee4eb1fe931c7a5f9e134241a558"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6c54ee4eb1fe931c7a5f9e134241a558">form_from_zone</a> (<a class="el" href="classmap.html">map</a> &amp;m, std::unordered_set&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;zone_pts, const <a class="el" href="classCharacter.html">Character</a> *pl=nullptr, bool assign_invlet=true)</td></tr>
<tr class="separator:a6c54ee4eb1fe931c7a5f9e134241a558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bf20ee0144627b5fba528b81559bc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin, int range, const <a class="el" href="classCharacter.html">Character</a> *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</td></tr>
<tr class="separator:a31bf20ee0144627b5fba528b81559bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19bdc794ff37fa95780aa68c1948492"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af19bdc794ff37fa95780aa68c1948492">form_from_map</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin, int range, const <a class="el" href="classCharacter.html">Character</a> *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</td></tr>
<tr class="separator:af19bdc794ff37fa95780aa68c1948492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b0a2a744424cf2648de273f64b9378"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a62b0a2a744424cf2648de273f64b9378">form_from_map</a> (<a class="el" href="classmap.html">map</a> &amp;m, std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; pts, const <a class="el" href="classCharacter.html">Character</a> *pl, bool assign_invlet=true)</td></tr>
<tr class="separator:a62b0a2a744424cf2648de273f64b9378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e4b99300e1fe64920ce52911c04127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a> (const <a class="el" href="classitem.html">item</a> *it)</td></tr>
<tr class="memdesc:a36e4b99300e1fe64920ce52911c04127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a specific item from the inventory.  <a href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">More...</a><br /></td></tr>
<tr class="separator:a36e4b99300e1fe64920ce52911c04127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b24dc07f1e52c4426eef07993ea7b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af0b24dc07f1e52c4426eef07993ea7b4">remove_item</a> (int position)</td></tr>
<tr class="separator:af0b24dc07f1e52c4426eef07993ea7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534997d1d7b8d16423f39f32c3ea45a0"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a534997d1d7b8d16423f39f32c3ea45a0">remove_randomly_by_volume</a> (const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;<a class="el" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a>)</td></tr>
<tr class="memdesc:a534997d1d7b8d16423f39f32c3ea45a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly select items until the volume quota is filled.  <a href="classinventory.html#a534997d1d7b8d16423f39f32c3ea45a0">More...</a><br /></td></tr>
<tr class="separator:a534997d1d7b8d16423f39f32c3ea45a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676eaf73095dd3bb5d80d11c6161193c"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a676eaf73095dd3bb5d80d11c6161193c">reduce_stack</a> (int position, int quantity)</td></tr>
<tr class="separator:a676eaf73095dd3bb5d80d11c6161193c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3327fb977cf0d264d61e708527f0d2c0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">find_item</a> (int position) const</td></tr>
<tr class="separator:a3327fb977cf0d264d61e708527f0d2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a437329c5c3614c03b1d31f27eb3351"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a2a437329c5c3614c03b1d31f27eb3351">find_item</a> (int position)</td></tr>
<tr class="separator:a2a437329c5c3614c03b1d31f27eb3351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d780fd8e9fd35527160b3e153695a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">position_by_item</a> (const <a class="el" href="classitem.html">item</a> *it) const</td></tr>
<tr class="memdesc:ac0d780fd8e9fd35527160b3e153695a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the item position of the stack that contains the given item (compared by pointers).  <a href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">More...</a><br /></td></tr>
<tr class="separator:ac0d780fd8e9fd35527160b3e153695a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83456dac16cd4a8057c9372ae8648a52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a83456dac16cd4a8057c9372ae8648a52">position_by_type</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;<a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>) const</td></tr>
<tr class="separator:a83456dac16cd4a8057c9372ae8648a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b73dfb2263f722d09f6ad6433dbdcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab2b73dfb2263f722d09f6ad6433dbdcc">invlet_to_position</a> (char invlet) const</td></tr>
<tr class="memdesc:ab2b73dfb2263f722d09f6ad6433dbdcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the item position of the item with given invlet, return INT_MIN if the inventory does not have such an item with that invlet.  <a href="classinventory.html#ab2b73dfb2263f722d09f6ad6433dbdcc">More...</a><br /></td></tr>
<tr class="separator:ab2b73dfb2263f722d09f6ad6433dbdcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38c8a447a1fa902fb46f90b53f1e976"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ad38c8a447a1fa902fb46f90b53f1e976">use_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:ad38c8a447a1fa902fb46f90b53f1e976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea85b6a2464a8c73336f2227748adfc5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aea85b6a2464a8c73336f2227748adfc5">worst_item_value</a> (<a class="el" href="classnpc.html">npc</a> *p) const</td></tr>
<tr class="separator:aea85b6a2464a8c73336f2227748adfc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8183f0eebbaa418f6cc2982dc6d1d35"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab8183f0eebbaa418f6cc2982dc6d1d35">has_enough_painkiller</a> (int <a class="el" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a>) const</td></tr>
<tr class="separator:ab8183f0eebbaa418f6cc2982dc6d1d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9162b2e2ec09247821b21bb815a037e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a9162b2e2ec09247821b21bb815a037e1">most_appropriate_painkiller</a> (int <a class="el" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a>)</td></tr>
<tr class="separator:a9162b2e2ec09247821b21bb815a037e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f45453e09ab86b12361a196009617c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a5f45453e09ab86b12361a196009617c0">rust_iron_items</a> ()</td></tr>
<tr class="separator:a5f45453e09ab86b12361a196009617c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827410aeab7a7e7c74bc4adb5bf616ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a827410aeab7a7e7c74bc4adb5bf616ea">weight</a> () const</td></tr>
<tr class="separator:a827410aeab7a7e7c74bc4adb5bf616ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a143711f16cdfcb6dc072da9beff3eaa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a143711f16cdfcb6dc072da9beff3eaa3">weight_without</a> (const std::map&lt; const <a class="el" href="classitem.html">item</a> *, int &gt; &amp;) const</td></tr>
<tr class="separator:a143711f16cdfcb6dc072da9beff3eaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6a20058fa80f78b727c3524f9a8fb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a> () const</td></tr>
<tr class="separator:aec6a20058fa80f78b727c3524f9a8fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d39c8e42cbb79f8b28692e5b01672c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ad8d39c8e42cbb79f8b28692e5b01672c">volume_without</a> (const std::map&lt; const <a class="el" href="classitem.html">item</a> *, int &gt; &amp;) const</td></tr>
<tr class="separator:ad8d39c8e42cbb79f8b28692e5b01672c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1499a3a3a1db7da261efe25329a5ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8e1499a3a3a1db7da261efe25329a5ee">dump</a> (std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;dest)</td></tr>
<tr class="separator:a8e1499a3a3a1db7da261efe25329a5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0c66c14f2cca9004e39d86435f6051"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aef0c66c14f2cca9004e39d86435f6051">dump</a> (std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; &amp;dest) const</td></tr>
<tr class="separator:aef0c66c14f2cca9004e39d86435f6051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41f960e01bcde3d7555f9dbc22c9d79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ae41f960e01bcde3d7555f9dbc22c9d79">json_load_invcache</a> (const <a class="el" href="classJsonValue.html">JsonValue</a> &amp;jsin)</td></tr>
<tr class="separator:ae41f960e01bcde3d7555f9dbc22c9d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f897bb7a34f9cead506bc338e6b513"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a09f897bb7a34f9cead506bc338e6b513">json_load_items</a> (const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;ja)</td></tr>
<tr class="separator:a09f897bb7a34f9cead506bc338e6b513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1b72905da350e7028ba253a9ea8f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a1c1b72905da350e7028ba253a9ea8f38">json_save_invcache</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a1c1b72905da350e7028ba253a9ea8f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a8cf709ff16fce9850547d68b34dbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a97a8cf709ff16fce9850547d68b34dbe">json_save_items</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a97a8cf709ff16fce9850547d68b34dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad56f923ec6824aadf028d8ba1ba89d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a> (<a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classCharacter.html">Character</a> &amp;p, bool <a class="el" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a>=false)</td></tr>
<tr class="separator:aaad56f923ec6824aadf028d8ba1ba89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6048276bd408eea6a3229705bffc4c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aa6048276bd408eea6a3229705bffc4c0">reassign_item</a> (<a class="el" href="classitem.html">item</a> &amp;it, char invlet, bool remove_old=true)</td></tr>
<tr class="separator:aa6048276bd408eea6a3229705bffc4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2026a085cd6fea1c24c2a2201a4ce5c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a2026a085cd6fea1c24c2a2201a4ce5c6">update_invlet</a> (<a class="el" href="classitem.html">item</a> &amp;it, bool assign_invlet=true, const <a class="el" href="classitem.html">item</a> *ignore_invlet_collision_with=nullptr)</td></tr>
<tr class="separator:a2026a085cd6fea1c24c2a2201a4ce5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e21dba4d2b32791908b021ef6746c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af2e21dba4d2b32791908b021ef6746c3">allocated_invlets</a> () const</td></tr>
<tr class="separator:af2e21dba4d2b32791908b021ef6746c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8d527ded5634738012cd5086aafa7c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">get_binned_items</a> () const</td></tr>
<tr class="memdesc:a0b8d527ded5634738012cd5086aafa7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns visitable items binned by their itype.  <a href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">More...</a><br /></td></tr>
<tr class="separator:a0b8d527ded5634738012cd5086aafa7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6632e04576710c1d9ee979850958e63c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a> (<a class="el" href="classitem.html">item</a> &amp;newit)</td></tr>
<tr class="separator:a6632e04576710c1d9ee979850958e63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50eb4dd255916e673dc53c1ec5d87d74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a50eb4dd255916e673dc53c1ec5d87d74">copy_invlet_of</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;<a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>)</td></tr>
<tr class="separator:a50eb4dd255916e673dc53c1ec5d87d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea5b46242887fdb01eae34129310a8d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classenchant__cache.html">enchant_cache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aea5b46242887fdb01eae34129310a8d4">get_active_enchantment_cache</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;owner) const</td></tr>
<tr class="separator:aea5b46242887fdb01eae34129310a8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e48b6ff6b76a00740eaadd006d6867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">count_item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_type) const</td></tr>
<tr class="separator:a41e48b6ff6b76a00740eaadd006d6867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a00726c3122a183a2577161e9a67ce5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbook__proficiency__bonuses.html">book_proficiency_bonuses</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a9a00726c3122a183a2577161e9a67ce5">get_book_proficiency_bonuses</a> () const</td></tr>
<tr class="separator:a9a00726c3122a183a2577161e9a67ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8646038685427ab8967fd8ea2ee36e92"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8646038685427ab8967fd8ea2ee36e92">has_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual, int level=1, int qty=1) const override</td></tr>
<tr class="memdesc:a8646038685427ab8967fd8ea2ee36e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if instance has amount (or more) items of at least quality level.  <a href="classinventory.html#a8646038685427ab8967fd8ea2ee36e92">More...</a><br /></td></tr>
<tr class="separator:a8646038685427ab8967fd8ea2ee36e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedfcbcc42894db90a0d5ccef809597f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aedfcbcc42894db90a0d5ccef809597f2">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;<a class="el" href="structfunc.html">func</a>) const override</td></tr>
<tr class="memdesc:aedfcbcc42894db90a0d5ccef809597f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses this object and any child items contained using a visitor pattern.  <a href="classinventory.html#aedfcbcc42894db90a0d5ccef809597f2">More...</a><br /></td></tr>
<tr class="separator:aedfcbcc42894db90a0d5ccef809597f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4899d8dfc5105fa58e9aa26dce0ca0"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a7b4899d8dfc5105fa58e9aa26dce0ca0">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, int count=INT_MAX) override</td></tr>
<tr class="memdesc:a7b4899d8dfc5105fa58e9aa26dce0ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes items contained by this instance which match the filter.  <a href="classinventory.html#a7b4899d8dfc5105fa58e9aa26dce0ca0">More...</a><br /></td></tr>
<tr class="separator:a7b4899d8dfc5105fa58e9aa26dce0ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5702debf38c9bd88deab93d7979c2511"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a5702debf38c9bd88deab93d7979c2511">charges_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;, const std::function&lt; void(int)&gt; &amp;visitor=nullptr, bool in_tools=false) const override</td></tr>
<tr class="memdesc:a5702debf38c9bd88deab93d7979c2511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count maximum available charges from this instance and any contained items.  <a href="classinventory.html#a5702debf38c9bd88deab93d7979c2511">More...</a><br /></td></tr>
<tr class="separator:a5702debf38c9bd88deab93d7979c2511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cbf53a62daa5d2bbda87304fc26f81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a67cbf53a62daa5d2bbda87304fc26f81">amount_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, bool pseudo=true, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const override</td></tr>
<tr class="memdesc:a67cbf53a62daa5d2bbda87304fc26f81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count items matching id including both this instance and any contained items.  <a href="classinventory.html#a67cbf53a62daa5d2bbda87304fc26f81">More...</a><br /></td></tr>
<tr class="separator:a67cbf53a62daa5d2bbda87304fc26f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae94c3fe7f569349808616595d4dbcd10"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ae94c3fe7f569349808616595d4dbcd10">kcal_range</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="classCharacter.html">Character</a> &amp;player_character) const</td></tr>
<tr class="separator:ae94c3fe7f569349808616595d4dbcd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4e26f2ab84baf458b3a7e04b8c62b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aaa4e26f2ab84baf458b3a7e04b8c62b1">must_use_liq_container</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, int to_use) const</td></tr>
<tr class="separator:aaa4e26f2ab84baf458b3a7e04b8c62b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a620458c9cf322dbc44d7d1d5244bf70d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a620458c9cf322dbc44d7d1d5244bf70d">must_use_hallu_poison</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, int to_use) const</td></tr>
<tr class="separator:a620458c9cf322dbc44d7d1d5244bf70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f147fecd25dc1ef701a11d5b3a51689"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a4f147fecd25dc1ef701a11d5b3a51689">update_liq_container_count</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, int count)</td></tr>
<tr class="separator:a4f147fecd25dc1ef701a11d5b3a51689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4316a82c5561bcf2ae63d4186d614c3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a4316a82c5561bcf2ae63d4186d614c3a">replace_liq_container_count</a> (const std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt; &amp;newmap, bool use_max=false)</td></tr>
<tr class="separator:a4316a82c5561bcf2ae63d4186d614c3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvisitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvisitable.html">visitable</a></td></tr>
<tr class="memitem:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes and returns the item which must be contained by this instance.  <a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">More...</a><br /></td></tr>
<tr class="separator:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classread__only__visitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classread__only__visitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classread__only__visitable.html">read_only_visitable</a></td></tr>
<tr class="memitem:a3a7175757e90fc8cfe7c528c07ec1a8e inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a3a7175757e90fc8cfe7c528c07ec1a8e">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a3a7175757e90fc8cfe7c528c07ec1a8e inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the immediate parent container (if any) for an item.  <a href="classread__only__visitable.html#a3a7175757e90fc8cfe7c528c07ec1a8e">More...</a><br /></td></tr>
<tr class="separator:a3a7175757e90fc8cfe7c528c07ec1a8e inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e5199434b3bbe599ff120b10a3e089 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ae4e5199434b3bbe599ff120b10a3e089">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:ae4e5199434b3bbe599ff120b10a3e089 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vector of parent containers (if any) starting with the innermost.  <a href="classread__only__visitable.html#ae4e5199434b3bbe599ff120b10a3e089">More...</a><br /></td></tr>
<tr class="separator:ae4e5199434b3bbe599ff120b10a3e089 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96237fc0f8bcc53da1f26c9335fe1998 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a96237fc0f8bcc53da1f26c9335fe1998">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a96237fc0f8bcc53da1f26c9335fe1998 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this visitable instance contains the item.  <a href="classread__only__visitable.html#a96237fc0f8bcc53da1f26c9335fe1998">More...</a><br /></td></tr>
<tr class="separator:a96237fc0f8bcc53da1f26c9335fe1998 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f81c9261e36e1b729eebc43d9ce4710 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a3f81c9261e36e1b729eebc43d9ce4710">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="memdesc:a3f81c9261e36e1b729eebc43d9ce4710 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if any item (including those within a container) matches the filter.  <a href="classread__only__visitable.html#a3f81c9261e36e1b729eebc43d9ce4710">More...</a><br /></td></tr>
<tr class="separator:a3f81c9261e36e1b729eebc43d9ce4710 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df3bf0832f3b1dc21558aaf4d51d4f1 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a2df3bf0832f3b1dc21558aaf4d51d4f1">kcal_range</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="classCharacter.html">Character</a> &amp;player_character) const</td></tr>
<tr class="separator:a2df3bf0832f3b1dc21558aaf4d51d4f1 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39970768f8a1c70610e29582bdc3d59 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ab39970768f8a1c70610e29582bdc3d59">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:ab39970768f8a1c70610e29582bdc3d59 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check instance provides at least qty of an item (.  <a href="classread__only__visitable.html#ab39970768f8a1c70610e29582bdc3d59">More...</a><br /></td></tr>
<tr class="separator:ab39970768f8a1c70610e29582bdc3d59 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66999ccfe23df4a4ef128d5d52a98c6d inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a66999ccfe23df4a4ef128d5d52a98c6d">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>)</td></tr>
<tr class="memdesc:a66999ccfe23df4a4ef128d5d52a98c6d inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all items (including those within a container) matching the filter.  <a href="classread__only__visitable.html#a66999ccfe23df4a4ef128d5d52a98c6d">More...</a><br /></td></tr>
<tr class="separator:a66999ccfe23df4a4ef128d5d52a98c6d inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c803df3df2373e23dd2300c00b2a33 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ab7c803df3df2373e23dd2300c00b2a33">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:ab7c803df3df2373e23dd2300c00b2a33 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaae1e436ec4cceb83d3c702ada1523c inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#afaae1e436ec4cceb83d3c702ada1523c">~read_only_visitable</a> ()=default</td></tr>
<tr class="separator:afaae1e436ec4cceb83d3c702ada1523c inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b566803c5e02f2bcf2f5c92e654a0c6 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a1b566803c5e02f2bcf2f5c92e654a0c6">has_tools</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a1b566803c5e02f2bcf2f5c92e654a0c6 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b0489fd9982cbe82a7a51d490235e2 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ad5b0489fd9982cbe82a7a51d490235e2">has_components</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:ad5b0489fd9982cbe82a7a51d490235e2 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ab02b5ae44854ce2869532a222ee8d inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a97ab02b5ae44854ce2869532a222ee8d">has_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a97ab02b5ae44854ce2869532a222ee8d inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><td class="memItemLeft" align="right" valign="top">std::map&lt; char, <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a></td></tr>
<tr class="separator:a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:addb070dde1f49b79a5edd46f369ba034"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#addb070dde1f49b79a5edd46f369ba034">find_usable_cached_invlet</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_type)</td></tr>
<tr class="separator:addb070dde1f49b79a5edd46f369ba034"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab2ef1a3c297246e94093b7741cf721a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinvlet__favorites.html">invlet_favorites</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a></td></tr>
<tr class="separator:ab2ef1a3c297246e94093b7741cf721a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90c7cdc1166330628541c9779681c9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#afc81687955ea7764f1c3a118dde35cbb">invstack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a></td></tr>
<tr class="separator:ad90c7cdc1166330628541c9779681c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b615f10d281eae01cc7efe9e5fadd49"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a></td></tr>
<tr class="separator:a6b615f10d281eae01cc7efe9e5fadd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e05ce318f8621249911ef4b32003627"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a7e05ce318f8621249911ef4b32003627">provisioned_pseudo_tools</a></td></tr>
<tr class="separator:a7e05ce318f8621249911ef4b32003627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad82feadf8429c99e5184064fc21a7a54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = false</td></tr>
<tr class="separator:ad82feadf8429c99e5184064fc21a7a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ec6a121fe8dc7cf8155835245f7dc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a></td></tr>
<tr class="memdesc:ac3ec6a121fe8dc7cf8155835245f7dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Items binned by their type.  <a href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">More...</a><br /></td></tr>
<tr class="separator:ac3ec6a121fe8dc7cf8155835245f7dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f54e4dcb2826d8b39f26fd879743f0c"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="structquality__query.html">quality_query</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a7f54e4dcb2826d8b39f26fd879743f0c">qualities_cache</a></td></tr>
<tr class="separator:a7f54e4dcb2826d8b39f26fd879743f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header related_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('related_classvisitable')"><img src="closed.png" alt="-"/>&#160;Related Functions inherited from <a class="el" href="classvisitable.html">visitable</a></td></tr>
<tr class="memitem:a31e8c573cb6e4870cc005915efc103b3 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a31e8c573cb6e4870cc005915efc103b3">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a31e8c573cb6e4870cc005915efc103b3 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace0518040ae61106a76987d6c98b9ad inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aace0518040ae61106a76987d6c98b9ad">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:aace0518040ae61106a76987d6c98b9ad inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49d5ef7b3f2f0a8664c23097a56373f inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:af49d5ef7b3f2f0a8664c23097a56373f inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf24bf044bbf16def702fd78351fc46f inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:abf24bf044bbf16def702fd78351fc46f inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a228d9848d433246417bde5cfc1bf67 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5a228d9848d433246417bde5cfc1bf67">has_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual, int level, int qty) const</td></tr>
<tr class="memdesc:a5a228d9848d433246417bde5cfc1bf67 inherit related_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if instance has amount (or more) items of at least quality level.  <a href="classvisitable.html#a5a228d9848d433246417bde5cfc1bf67">More...</a><br /></td></tr>
<tr class="separator:a5a228d9848d433246417bde5cfc1bf67 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2cb1acccff210289e90eb29ca02db8 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual) const</td></tr>
<tr class="memdesc:a2d2cb1acccff210289e90eb29ca02db8 inherit related_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return maximum tool quality level provided by instance or INT_MIN if not found.  <a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">More...</a><br /></td></tr>
<tr class="separator:a2d2cb1acccff210289e90eb29ca02db8 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e80572268abd951cf016d275febe4e6 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3e80572268abd951cf016d275febe4e6">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:a3e80572268abd951cf016d275febe4e6 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>)</td></tr>
<tr class="separator:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4344dbee8099d2944b6db42aad56c20 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;<a class="el" href="structfunc.html">func</a>) const</td></tr>
<tr class="memdesc:ac4344dbee8099d2944b6db42aad56c20 inherit related_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses this object and any child items contained using a visitor pattern.  <a href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">More...</a><br /></td></tr>
<tr class="separator:ac4344dbee8099d2944b6db42aad56c20 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fde40e08f9504f038740d679096ff09 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a1fde40e08f9504f038740d679096ff09">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;e)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, int count)</td></tr>
<tr class="separator:a1fde40e08f9504f038740d679096ff09 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aabbf21a8f5c44bff1a22bbe882a9d2 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0aabbf21a8f5c44bff1a22bbe882a9d2">charges_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int limit, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, const std::function&lt; void(int)&gt; &amp;visitor, bool in_tools) const</td></tr>
<tr class="memdesc:a0aabbf21a8f5c44bff1a22bbe882a9d2 inherit related_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count maximum available charges from this instance and any contained items.  <a href="classvisitable.html#a0aabbf21a8f5c44bff1a22bbe882a9d2">More...</a><br /></td></tr>
<tr class="separator:a0aabbf21a8f5c44bff1a22bbe882a9d2 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa550b3edde9fa25410d6883f285df5c6 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa550b3edde9fa25410d6883f285df5c6">amount_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, bool pseudo, int limit, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="memdesc:aa550b3edde9fa25410d6883f285df5c6 inherit related_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count items matching id including both this instance and any contained items.  <a href="classvisitable.html#aa550b3edde9fa25410d6883f285df5c6">More...</a><br /></td></tr>
<tr class="separator:aa550b3edde9fa25410d6883f285df5c6 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa199bd0ea7a41c50a2de5761dd987338 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:aa199bd0ea7a41c50a2de5761dd987338 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00107">107</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9963f0cfe64d75ae5ddd69ab22eab2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9963f0cfe64d75ae5ddd69ab22eab2f6">&#9670;&nbsp;</a></span>inventory() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inventory::inventory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00221">operator+()</a>.</p>

</div>
</div>
<a id="adc0bd02cee55e7fdd8520b14edd98304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc0bd02cee55e7fdd8520b14edd98304">&#9670;&nbsp;</a></span>inventory() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inventory::inventory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinventory.html">inventory</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c2f74c64b0ad40cf8f9c8cfc171a10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c2f74c64b0ad40cf8f9c8cfc171a10a">&#9670;&nbsp;</a></span>inventory() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inventory::inventory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3840801d19b8b8b3ae4be0e832bd1c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3840801d19b8b8b3ae4be0e832bd1c7d">&#9670;&nbsp;</a></span>add_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; inventory::add_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a>&#160;</td>
          <td class="paramname"><em>newit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keep_invlet</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_stack</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00301">301</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span>( should_stack ) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">// See if we can&#39;t stack this item.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            std::list&lt;item&gt;::iterator it_ref = elem.begin();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">if</span>( it_ref-&gt;stacks_with( newit ) ) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">if</span>( it_ref-&gt;merge_charges( newit ) ) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <span class="keywordflow">return</span> *it_ref;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">if</span>( it_ref-&gt;invlet == <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">if</span>( !keep_invlet ) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <a class="code" href="classinventory.html#a2026a085cd6fea1c24c2a2201a4ce5c6">update_invlet</a>( newit, assign_invlet );</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    <a class="code" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( newit );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    it_ref-&gt;invlet = newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = it_ref-&gt;invlet;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                elem.emplace_back( std::move( newit ) );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">return</span> elem.back();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( keep_invlet &amp;&amp; assign_invlet &amp;&amp; it_ref-&gt;invlet == newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="comment">// If keep_invlet is true, we&#39;ll be forcing other items out of their current invlet.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <a class="code" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( *it_ref, player_character );</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// Couldn&#39;t stack the item, proceed.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span>( !keep_invlet ) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="classinventory.html#a2026a085cd6fea1c24c2a2201a4ce5c6">update_invlet</a>( newit, assign_invlet );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( newit );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.emplace_back( std::list&lt;item&gt; { std::move( newit ) } );</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.back().back();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassinventory_html_a2026a085cd6fea1c24c2a2201a4ce5c6"><div class="ttname"><a href="classinventory.html#a2026a085cd6fea1c24c2a2201a4ce5c6">inventory::update_invlet</a></div><div class="ttdeci">void update_invlet(item &amp;it, bool assign_invlet=true, const item *ignore_invlet_collision_with=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01067">inventory.cpp:1067</a></div></div>
<div class="ttc" id="aclassinventory_html_a6632e04576710c1d9ee979850958e63c"><div class="ttname"><a href="classinventory.html#a6632e04576710c1d9ee979850958e63c">inventory::update_cache_with_item</a></div><div class="ttdeci">void update_cache_with_item(item &amp;newit)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00267">inventory.cpp:267</a></div></div>
<div class="ttc" id="aclassinventory_html_aaad56f923ec6824aadf028d8ba1ba89d"><div class="ttname"><a href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">inventory::assign_empty_invlet</a></div><div class="ttdeci">void assign_empty_invlet(item &amp;it, const Character &amp;p, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01004">inventory.cpp:1004</a></div></div>
<div class="ttc" id="aclassinventory_html_ad82feadf8429c99e5184064fc21a7a54"><div class="ttname"><a href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">inventory::binned</a></div><div class="ttdeci">bool binned</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00287">inventory.h:287</a></div></div>
<div class="ttc" id="aclassinventory_html_ad90c7cdc1166330628541c9779681c9c"><div class="ttname"><a href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">inventory::items</a></div><div class="ttdeci">invstack items</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00280">inventory.h:280</a></div></div>
<div class="ttc" id="aclassitem_html_af38d78ce6d128f6c7a1999b7f9e00965"><div class="ttname"><a href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">item::invlet</a></div><div class="ttdeci">char invlet</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03211">item.h:3211</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01004">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8cpp_source.html#l00267">update_cache_with_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l01067">update_invlet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00342">add_item_keep_invlet()</a>, <a class="el" href="basecamp_8cpp_source.html#l00708">basecamp::form_crafting_inventory()</a>, <a class="el" href="inventory_8cpp_source.html#l00520">form_from_map()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01696">vpart_position::form_inventory()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05037">om_set_hide_site()</a>, <a class="el" href="inventory_8cpp_source.html#l00179">operator+=()</a>, <a class="el" href="inventory_8cpp_source.html#l00356">provide_pseudo_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00259">push_back()</a>, and <a class="el" href="inventory_8cpp_source.html#l00389">restack()</a>.</p>

</div>
</div>
<a id="af337d643c1be27e03426962d8f08f9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af337d643c1be27e03426962d8f08f9a9">&#9670;&nbsp;</a></span>add_item_keep_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::add_item_keep_invlet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>newit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00342">342</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( newit, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a3840801d19b8b8b3ae4be0e832bd1c7d"><div class="ttname"><a href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">inventory::add_item</a></div><div class="ttdeci">item &amp; add_item(item newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00301">inventory.cpp:301</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="af2e21dba4d2b32791908b021ef6746c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e21dba4d2b32791908b021ef6746c3">&#9670;&nbsp;</a></span>allocated_invlets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a> inventory::allocated_invlets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01108">1108</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;{</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a> invlets;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stack : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> invlet = stack.front().invlet;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        invlets.set( invlet );</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    invlets[0] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">return</span> invlets;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="ttc" id="ainventory_8h_html_a8083657433fe21615a7edf95be784480"><div class="ttname"><a href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a></div><div class="ttdeci">std::bitset&lt; std::numeric_limits&lt; char &gt;::max()&gt; invlets_bitset</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00043">inventory.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

</div>
</div>
<a id="a67cbf53a62daa5d2bbda87304fc26f81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67cbf53a62daa5d2bbda87304fc26f81">&#9670;&nbsp;</a></span>amount_of()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::amount_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pseudo</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em> = <code>INT_MAX</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;&#160;<a class="el" href="classitem.html">item</a>&#160;&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count items matching id including both this instance and any contained items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">what</td><td>ID of items to count. "any" will count all items (usually used with a filter) </td></tr>
    <tr><td class="paramname">pseudo</td><td>whether pseudo-items (from map/vehicle tiles, bionics etc) are considered </td></tr>
    <tr><td class="paramname">limit</td><td>stop searching after this many matches </td></tr>
    <tr><td class="paramname">filter</td><td>only count items that match the filter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>items must be empty to be considered a match </dd></dl>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#aee3c322d6bc78937ef19bc4baa7d8951">read_only_visitable</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc__attack_8cpp_source.html#l00722">npc_attack_throw::evaluate()</a>, <a class="el" href="character__crafting_8cpp_source.html#l00193">Character::get_books_for_recipe()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02781">repair_item_actor::handle_components()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02019">repair_inventory_preset::repair_inventory_preset()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02385">repair_item_finish()</a>.</p>

</div>
</div>
<a id="aaad56f923ec6824aadf028d8ba1ba89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad56f923ec6824aadf028d8ba1ba89d">&#9670;&nbsp;</a></span>assign_empty_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::assign_empty_invlet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01004">1004</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;{</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keyword">const</span> std::string auto_setting = get_option&lt;std::string&gt;( <span class="stringliteral">&quot;AUTO_INV_ASSIGN&quot;</span> );</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span>( auto_setting == <span class="stringliteral">&quot;disabled&quot;</span> || ( ( auto_setting == <span class="stringliteral">&quot;favorites&quot;</span> ) &amp;&amp; !it.<a class="code" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) ) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <a class="code" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a> cur_inv = p.<a class="code" href="classCharacter.html#a51a93e4225d09d4991fe636623373446">allocated_invlets</a>();</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="classstring__id.html">itype_id</a> target_type = it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;iter : <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a> ) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">if</span>( iter.second == target_type &amp;&amp; !cur_inv[iter.first] ) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = iter.first;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">if</span>( cur_inv.count() &lt; <a class="code" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a>.size() ) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="comment">// XXX YUCK I don&#39;t know how else to get the keybindings</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="comment">// FIXME: Find a better way to get bound keys</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="classinventory__selector.html">inventory_selector</a> selector( <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>() );</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">char</span> &amp;inv_char : <a class="code" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a> ) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.count( inv_char ) ) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <span class="comment">// don&#39;t overwrite assigned keys</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">if</span>( selector.action_bound_to_key( inv_char ) != <span class="stringliteral">&quot;ERROR&quot;</span> ) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="comment">// don&#39;t auto-assign bound keys</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">if</span>( !cur_inv[inv_char] ) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = inv_char;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> ) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = 0;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">// No free hotkey exist, re-use some of the existing ones</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <a class="code" href="classitem.html">item</a> &amp;o = elem.front();</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">if</span>( o.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> != 0 ) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = o.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            o.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = 0;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;could not find a hotkey for %s&quot;</span>, it.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() );</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="aclassCharacter_html_a51a93e4225d09d4991fe636623373446"><div class="ttname"><a href="classCharacter.html#a51a93e4225d09d4991fe636623373446">Character::allocated_invlets</a></div><div class="ttdeci">std::bitset&lt; std::numeric_limits&lt; char &gt;::max()&gt; allocated_invlets() const</div><div class="ttdoc">Only use for UI things.</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00636">character_inventory.cpp:636</a></div></div>
<div class="ttc" id="aclassinventory__selector_html"><div class="ttname"><a href="classinventory__selector.html">inventory_selector</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00604">inventory_ui.h:605</a></div></div>
<div class="ttc" id="aclassinventory_html_a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><div class="ttname"><a href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">inventory::assigned_invlet</a></div><div class="ttdeci">std::map&lt; char, itype_id &gt; assigned_invlet</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00116">inventory.h:116</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a05c24ca1052a7a8cb9fd314acdb49f40"><div class="ttname"><a href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">item::is_favorite</a></div><div class="ttdeci">bool is_favorite</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03213">item.h:3213</a></div></div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassitem_html_a4a9972e826d25be6736b749ab94b230f"><div class="ttname"><a href="classitem.html#a4a9972e826d25be6736b749ab94b230f">item::typeId</a></div><div class="ttdeci">itype_id typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11850">item.cpp:11850</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="acreature_8h_html_a4b73e33b57ae387dc418906492d5f998"><div class="ttname"><a href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a></div><div class="ttdeci">bool force</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00241">creature.h:241</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_ababaf576567206360a0baa12078e132c"><div class="ttname"><a href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a></div><div class="ttdeci">const invlet_wrapper inv_chars(&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\&quot;#&amp;()+.:;=@[\\]^_{|}&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory__ui_8cpp_source.html#l03272">inventory_selector::action_bound_to_key()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00636">Character::allocated_invlets()</a>, <a class="el" href="inventory_8h_source.html#l00116">assigned_invlet</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="creature_8h_source.html#l00241">force</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars()</a>, <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="item_8h_source.html#l03213">item::is_favorite</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, and <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00389">restack()</a>, and <a class="el" href="inventory_8cpp_source.html#l01067">update_invlet()</a>.</p>

</div>
</div>
<a id="a5702debf38c9bd88deab93d7979c2511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5702debf38c9bd88deab93d7979c2511">&#9670;&nbsp;</a></span>charges_of()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::charges_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em> = <code>INT_MAX</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;&#160;<a class="el" href="classitem.html">item</a>&#160;&gt;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(int)&gt; &amp;&#160;</td>
          <td class="paramname"><em>visitor</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_tools</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count maximum available charges from this instance and any contained items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">what</td><td>ID of item to count charges of </td></tr>
    <tr><td class="paramname">limit</td><td>stop searching after this many charges have been found </td></tr>
    <tr><td class="paramname">filter</td><td>only count charges of items that match the filter </td></tr>
    <tr><td class="paramname">visitor</td><td>is called when UPS charge is used (parameter is the charge itself) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#a7954d2f5aa1b7bc13f2c57b664c69f60">read_only_visitable</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc__attack_8cpp_source.html#l00722">npc_attack_throw::evaluate()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02781">repair_item_actor::handle_components()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02019">repair_inventory_preset::repair_inventory_preset()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02385">repair_item_finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l06921">iexamine::smoker_options()</a>, and <a class="el" href="iuse_8cpp_source.html#l08152">iuse::wash_items()</a>.</p>

</div>
</div>
<a id="abff8096e3549bbf9dce01aa9a1f42f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff8096e3549bbf9dce01aa9a1f42f09">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00251">251</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.clear();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>.clear();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="classinventory.html#a7f54e4dcb2826d8b39f26fd879743f0c">qualities_cache</a>.clear();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a6b615f10d281eae01cc7efe9e5fadd49"><div class="ttname"><a href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">inventory::max_empty_liq_cont</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; max_empty_liq_cont</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00282">inventory.h:282</a></div></div>
<div class="ttc" id="aclassinventory_html_a7f54e4dcb2826d8b39f26fd879743f0c"><div class="ttname"><a href="classinventory.html#a7f54e4dcb2826d8b39f26fd879743f0c">inventory::qualities_cache</a></div><div class="ttdeci">std::map&lt; quality_query, bool &gt; qualities_cache</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00295">inventory.h:295</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8h_source.html#l00282">max_empty_liq_cont</a>, and <a class="el" href="inventory_8h_source.html#l00295">qualities_cache</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission__companion_8cpp_source.html#l02472">talk_function::companion_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">basecamp::finish_return()</a>, <a class="el" href="basecamp_8cpp_source.html#l00708">basecamp::form_crafting_inventory()</a>, and <a class="el" href="savegame_8cpp_source.html#l01742">npc::import_and_clean()</a>.</p>

</div>
</div>
<a id="aa3e15113cfaa6ef3a732d35f55768a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e15113cfaa6ef3a732d35f55768a13">&#9670;&nbsp;</a></span>const_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a> inventory::const_slice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00142">142</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a> stacks;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classitem.html">item</a> : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        stacks.push_back( &amp;<a class="code" href="classitem.html">item</a> );</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> stacks;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="ttc" id="ainventory_8h_html_a15a1f7253eeeeec12b3b0503fc37925c"><div class="ttname"><a href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a></div><div class="ttdeci">std::vector&lt; const std::list&lt; item &gt; * &gt; const_invslice</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00040">inventory.h:40</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__crafting_8cpp_source.html#l00122">Character::get_recipes_from_books()</a>, and <a class="el" href="character__crafting_8cpp_source.html#l00138">Character::get_recipes_from_ebooks()</a>.</p>

</div>
</div>
<a id="a8f615a8478d03953310f91bc45f79543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f615a8478d03953310f91bc45f79543">&#9670;&nbsp;</a></span>const_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp; inventory::const_stack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00151">151</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span>( i &lt; 0 || i &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size() ) ) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted to access stack %d in an inventory (size %d)&quot;</span>, i, <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size() );</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> std::list&lt;item&gt; nullstack{};</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span> nullstack;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    invstack::const_iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; i; ++j ) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        ++iter;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> *iter;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, and <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission__companion_8cpp_source.html#l02472">talk_function::companion_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">basecamp::finish_return()</a>, and <a class="el" href="inventory_8cpp_source.html#l00171">operator+=()</a>.</p>

</div>
</div>
<a id="a50eb4dd255916e673dc53c1ec5d87d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50eb4dd255916e673dc53c1ec5d87d74">&#9670;&nbsp;</a></span>copy_invlet_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::copy_invlet_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01142">1142</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;{</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a> = <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.assigned_invlet;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a> = <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.invlet_cache;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_ab2ef1a3c297246e94093b7741cf721a5"><div class="ttname"><a href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">inventory::invlet_cache</a></div><div class="ttdeci">invlet_favorites invlet_cache</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00277">inventory.h:277</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">oter_travel_cost_type::other</a></div><div class="ttdeci">@ other</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00116">assigned_invlet</a>, <a class="el" href="inventory_8h_source.html#l00277">invlet_cache</a>, and <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.</p>

</div>
</div>
<a id="a41e48b6ff6b76a00740eaadd006d6867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e48b6ff6b76a00740eaadd006d6867">&#9670;&nbsp;</a></span>count_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::count_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00990">990</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;{</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordtype">int</span> num = 0;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keyword">const</span> <a class="code" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> bin = <a class="code" href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">get_binned_items</a>();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">if</span>( bin.find( item_type ) == bin.end() ) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">return</span> num;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keyword">const</span> std::list&lt;const item *&gt; <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> = <a class="code" href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">get_binned_items</a>().find( item_type )-&gt;second;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *it : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        num += it-&gt;count();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">return</span> num;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a0b8d527ded5634738012cd5086aafa7c"><div class="ttname"><a href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">inventory::get_binned_items</a></div><div class="ttdeci">const itype_bin &amp; get_binned_items() const</div><div class="ttdoc">Returns visitable items binned by their itype.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01120">inventory.cpp:1120</a></div></div>
<div class="ttc" id="ainventory_8h_html_a533f054f56e1c2f1ac14a167db55a569"><div class="ttname"><a href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a></div><div class="ttdeci">std::unordered_map&lt; itype_id, std::list&lt; const item * &gt; &gt; itype_bin</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00042">inventory.h:42</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01120">get_binned_items()</a>, and <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01164">must_use_hallu_poison()</a>, <a class="el" href="inventory_8cpp_source.html#l01153">must_use_liq_container()</a>, and <a class="el" href="crafting__gui_8cpp_source.html#l00367">recipe_info()</a>.</p>

</div>
</div>
<a id="aef0c66c14f2cca9004e39d86435f6051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef0c66c14f2cca9004e39d86435f6051">&#9670;&nbsp;</a></span>dump() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::dump </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00705">705</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;{</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            dest.push_back( &amp;elem_stack_iter );</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

</div>
</div>
<a id="a8e1499a3a3a1db7da261efe25329a5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1499a3a3a1db7da261efe25329a5ee">&#9670;&nbsp;</a></span>dump() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::dump </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00696">696</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;{</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            dest.push_back( &amp;elem_stack_iter );</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission_8cpp_source.html#l00467">mission::is_complete()</a>, and <a class="el" href="mission_8cpp_source.html#l00373">mission::wrap_up()</a>.</p>

</div>
</div>
<a id="a2a437329c5c3614c03b1d31f27eb3351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a437329c5c3614c03b1d31f27eb3351">&#9670;&nbsp;</a></span>find_item() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; inventory::find_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00726">726</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classitem.html">item</a> &amp;<span class="keyword">&gt;</span>( <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code" href="classinventory.html">inventory</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code" href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">find_item</a>( position ) );</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00107">inventory.h:108</a></div></div>
<div class="ttc" id="aclassinventory_html_a3327fb977cf0d264d61e708527f0d2c0"><div class="ttname"><a href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">inventory::find_item</a></div><div class="ttdeci">const item &amp; find_item(int position) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00714">inventory.cpp:714</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00714">find_item()</a>.</p>

</div>
</div>
<a id="a3327fb977cf0d264d61e708527f0d2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3327fb977cf0d264d61e708527f0d2c0">&#9670;&nbsp;</a></span>find_item() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> &amp; inventory::find_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00714">714</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;{</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span>( position &lt; 0 || position &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size() ) ) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a>();</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    invstack::const_iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; position; ++j ) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        ++iter;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> iter-&gt;front();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="ttc" id="aitem_8cpp_html_a69e37326c7c5f142d13f8ac8e070b728"><div class="ttname"><a href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00248">item.cpp:248</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, and <a class="el" href="item_8cpp_source.html#l00248">null_item_reference()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00726">find_item()</a>.</p>

</div>
</div>
<a id="addb070dde1f49b79a5edd46f369ba034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb070dde1f49b79a5edd46f369ba034">&#9670;&nbsp;</a></span>find_usable_cached_invlet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char inventory::find_usable_cached_invlet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00282">282</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Some of our preferred letters might already be used.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">char</span> invlet : <a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code" href="classinvlet__favorites.html#aa975a40dd49918705e737a47bad9ee9d">invlets_for</a>( item_type ) ) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">// Don&#39;t overwrite user assignments.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.count( invlet ) ) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="comment">// Check if anything is using this invlet.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a72814cbd916b863b7b20b43345ef2329">invlet_to_item</a>( invlet ) != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">return</span> invlet;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a72814cbd916b863b7b20b43345ef2329"><div class="ttname"><a href="classCharacter.html#a72814cbd916b863b7b20b43345ef2329">Character::invlet_to_item</a></div><div class="ttdeci">item * invlet_to_item(int invlet) const</div><div class="ttdoc">Return the item pointer of the item with given invlet, return nullptr if the player does not have suc...</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00540">character_inventory.cpp:540</a></div></div>
<div class="ttc" id="aclassinvlet__favorites_html_aa975a40dd49918705e737a47bad9ee9d"><div class="ttname"><a href="classinvlet__favorites.html#aa975a40dd49918705e737a47bad9ee9d">invlet_favorites::invlets_for</a></div><div class="ttdeci">std::string invlets_for(const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00116">inventory.cpp:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00116">assigned_invlet</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="inventory_8h_source.html#l00277">invlet_cache</a>, <a class="el" href="character__inventory_8cpp_source.html#l00540">Character::invlet_to_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l00116">invlet_favorites::invlets_for()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01067">update_invlet()</a>.</p>

</div>
</div>
<a id="a31bf20ee0144627b5fba528b81559bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bf20ee0144627b5fba528b81559bc6">&#9670;&nbsp;</a></span>form_from_map() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear_path</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00483">483</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>(), <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, range, pl, assign_invlet, clear_path );</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a31bf20ee0144627b5fba528b81559bc6"><div class="ttname"><a href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">inventory::form_from_map</a></div><div class="ttdeci">void form_from_map(const tripoint &amp;origin, int range, const Character *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00483">inventory.cpp:483</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00065">coordinates.h:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01563">Character::can_continue_craft()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00352">iuse_transform::can_use()</a>, <a class="el" href="crafting_8cpp_source.html#l02144">Character::consume_items()</a>, <a class="el" href="crafting_8cpp_source.html#l02456">Character::consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l02301">Character::craft_consume_tools()</a>, <a class="el" href="craft__command_8cpp_source.html#l00428">craft_command::create_in_progress_craft()</a>, <a class="el" href="craft__command_8cpp_source.html#l00123">craft_command::execute()</a>, <a class="el" href="inventory_8cpp_source.html#l00501">form_from_map()</a>, <a class="el" href="inventory_8cpp_source.html#l00490">form_from_zone()</a>, <a class="el" href="suffer_8cpp_source.html#l00540">suffer::from_asthma()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00092">veh_utils::repair_part()</a>, and <a class="el" href="magic_8cpp_source.html#l01112">spell::use_components()</a>.</p>

</div>
</div>
<a id="af19bdc794ff37fa95780aa68c1948492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19bdc794ff37fa95780aa68c1948492">&#9670;&nbsp;</a></span>form_from_map() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear_path</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00501">501</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// populate a grid of spots that can be reached</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    std::vector&lt;tripoint&gt; reachable_pts = {};</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// If we need a clear path we care about the reachability of points</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span>( clear_path ) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        m.<a class="code" href="classmap.html#ac5b071f269f509ae698f95bc9966cbf7">reachable_flood_steps</a>( reachable_pts, <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, range, 1, 100 );</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// Fill reachable points with points_in_radius</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> in_radius = m.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, range );</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : in_radius ) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            reachable_pts.emplace_back( p );</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( m, reachable_pts, pl, assign_invlet );</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10109">map.cpp:10109</a></div></div>
<div class="ttc" id="aclassmap_html_ac5b071f269f509ae698f95bc9966cbf7"><div class="ttname"><a href="classmap.html#ac5b071f269f509ae698f95bc9966cbf7">map::reachable_flood_steps</a></div><div class="ttdeci">void reachable_flood_steps(std::vector&lt; tripoint &gt; &amp;reachable_pts, const tripoint &amp;f, int range, int cost_min, int cost_max) const</div><div class="ttdoc">Populates a vector of points that are reachable within a number of steps from a point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07639">map.cpp:7639</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00483">form_from_map()</a>, <a class="el" href="map_8cpp_source.html#l10109">map::points_in_radius()</a>, and <a class="el" href="map_8cpp_source.html#l07639">map::reachable_flood_steps()</a>.</p>

</div>
</div>
<a id="a62b0a2a744424cf2648de273f64b9378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b0a2a744424cf2648de273f64b9378">&#9670;&nbsp;</a></span>form_from_map() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td>
          <td class="paramname"><em>pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00520">520</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.clear();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="classinventory.html#a7e05ce318f8621249911ef4b32003627">provisioned_pseudo_tools</a>.clear();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : pts ) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">// a temporary hack while trees are terrain</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span>( m.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p )-&gt;<a class="code" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054abe48b536fff3d333d53c8c4e5c07b664">ter_furn_flag::TFLAG_TREE</a> ) ) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <a class="code" href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">provide_pseudo_item</a>( <a class="code" href="inventory_8cpp.html#a9b6d0a74851488e9b4b00541b22b2c91">itype_butchery_tree_pseudo</a> );</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// Another terrible hack, as terrain can&#39;t provide pseudo items, and construction can&#39;t do multi-step furniture</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="classint__id.html">ter_id</a> brick_oven( <span class="stringliteral">&quot;t_brick_oven&quot;</span> );</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">if</span>( m.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == brick_oven ) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <a class="code" href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">provide_pseudo_item</a>( <a class="code" href="inventory_8cpp.html#ab6590961e768d15595bbf02e43882865">itype_brick_oven_pseudo</a> );</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keyword">const</span> <a class="code" href="structfurn__t.html">furn_t</a> &amp;f = m.<a class="code" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classitem.html">item</a> *furn_item = <a class="code" href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">provide_pseudo_item</a>( f.<a class="code" href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">crafting_pseudo_item</a> ) ) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structitype.html">itype</a> *ammo : f.<a class="code" href="structfurn__t.html#a5fd0a85be4c0336196a1c4c173513ff4">crafting_ammo_item_types</a>() ) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                <span class="keywordflow">if</span>( furn_item-&gt;has_pocket_type( <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">pocket_type::MAGAZINE</a> ) ) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                    <span class="comment">// NOTE: This only works if the pseudo item has a MAGAZINE pocket, not a MAGAZINE_WELL!</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> using_ammotype = f.<a class="code" href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a19159ceefe62f93e360f7b9485ceb149">ter_furn_flag::TFLAG_AMMOTYPE_RELOAD</a> );</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                    <span class="keywordtype">int</span> amount = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                    <a class="code" href="classstring__id.html">itype_id</a> ammo_id = ammo-&gt;<a class="code" href="structitype.html#a291870408701f0174d8c46b7f770fbaf">get_id</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    <span class="comment">// Some furniture can consume more than one item type.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    <span class="comment">// This might be redundant now that we iterate over the ammotypes.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                    <span class="keywordflow">if</span>( using_ammotype ) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                        amount = <a class="code" href="inventory_8cpp.html#a0270df10fe59879068e7fde158e3fe0b">count_charges_in_list</a>( &amp;ammo-&gt;ammo-&gt;type, m.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ), ammo_id );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                        amount = <a class="code" href="inventory_8cpp.html#a0270df10fe59879068e7fde158e3fe0b">count_charges_in_list</a>( ammo, m.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ) );</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <span class="keywordflow">if</span>( amount &gt; 0 ) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        <a class="code" href="classitem.html">item</a> furn_ammo( ammo_id, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, amount );</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        furn_item-&gt;put_in( furn_ammo, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">pocket_type::MAGAZINE</a> );</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">if</span>( m.<a class="code" href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">accessible_items</a>( p ) ) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;i : m.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ) ) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="comment">// if it&#39;s *the* player requesting this from from map inventory</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="comment">// then don&#39;t allow items owned by another faction to be factored into recipe components etc.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">if</span>( pl &amp;&amp; !i.is_owned_by( *pl, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">if</span>( !i.made_of( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="keywordflow">if</span>( i.empty_container() &amp;&amp; i.is_watertight_container() ) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> count = i.count_by_charges() ? i.charges : 1;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                        <a class="code" href="classinventory.html#a4f147fecd25dc1ef701a11d5b3a51689">update_liq_container_count</a>( i.typeId(), count );</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( i, <span class="keyword">false</span>, assign_invlet );</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// Kludges for now!</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">if</span>( m.<a class="code" href="classmap.html#a67707f0985510ddac284d02f7e161d9c">has_nearby_fire</a>( p, 0 ) ) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classitem.html">item</a> *<a class="code" href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a> = <a class="code" href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">provide_pseudo_item</a>( <a class="code" href="inventory_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a> ) ) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <a class="code" href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a>-&gt;charges = 1;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="comment">// Handle any water from map sources.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <a class="code" href="classitem.html">item</a> <a class="code" href="omdata_8h.html#ac214d1ec2c5c346a2ba8d8805839d08da9460370bb0ca1c98a779b1bcc6861c2c">water</a> = m.<a class="code" href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">water_from</a>( p );</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="omdata_8h.html#ac214d1ec2c5c346a2ba8d8805839d08da9460370bb0ca1c98a779b1bcc6861c2c">water</a>.is_null() ) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( <a class="code" href="omdata_8h.html#ac214d1ec2c5c346a2ba8d8805839d08da9460370bb0ca1c98a779b1bcc6861c2c">water</a> );</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// keg-kludge</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">if</span>( m.<a class="code" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p )-&gt;<a class="code" href="structmap__data__common__t.html#a23ced64302b56354f897716bc8784896">has_examine</a>( <a class="code" href="namespaceiexamine.html#ae1b5f8bc538c251b5038acf2525e1b52">iexamine::keg</a> ) ) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <a class="code" href="classmap__stack.html">map_stack</a> liq_contained = m.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p );</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;i : liq_contained ) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">if</span>( i.made_of( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( i );</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="comment">// form from vehicle</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = m.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ) ) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            vp-&gt;form_inventory( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    pts.clear();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassinventory_html_a366f3faf3a7ba32e384b843d36bc0d6a"><div class="ttname"><a href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">inventory::provide_pseudo_item</a></div><div class="ttdeci">item * provide_pseudo_item(const item &amp;tool)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00356">inventory.cpp:356</a></div></div>
<div class="ttc" id="aclassinventory_html_a4f147fecd25dc1ef701a11d5b3a51689"><div class="ttname"><a href="classinventory.html#a4f147fecd25dc1ef701a11d5b3a51689">inventory::update_liq_container_count</a></div><div class="ttdeci">void update_liq_container_count(const itype_id &amp;id, int count)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01148">inventory.cpp:1148</a></div></div>
<div class="ttc" id="aclassinventory_html_a7e05ce318f8621249911ef4b32003627"><div class="ttname"><a href="classinventory.html#a7e05ce318f8621249911ef4b32003627">inventory::provisioned_pseudo_tools</a></div><div class="ttdeci">std::set&lt; itype_id &gt; provisioned_pseudo_tools</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00285">inventory.h:285</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:107</a></div></div>
<div class="ttc" id="aclassmap_html_a3fea339e0cf553409e982fd0fb385d84"><div class="ttname"><a href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">map::water_from</a></div><div class="ttdeci">item water_from(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05415">map.cpp:5415</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassmap_html_a67707f0985510ddac284d02f7e161d9c"><div class="ttname"><a href="classmap.html#a67707f0985510ddac284d02f7e161d9c">map::has_nearby_fire</a></div><div class="ttdeci">bool has_nearby_fire(const tripoint &amp;p, int radius=1) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03600">map.cpp:3600</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassmap_html_ab669e4df068956bf9b69599c85c2a0b2"><div class="ttname"><a href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">map::accessible_items</a></div><div class="ttdeci">bool accessible_items(const tripoint &amp;t) const</div><div class="ttdoc">Check whether the player can access the items located .</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07834">map.cpp:7834</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassmap_html_af55e014aab791bbe4c8630361c1311dd"><div class="ttname"><a href="classmap.html#af55e014aab791bbe4c8630361c1311dd">map::furn</a></div><div class="ttdeci">furn_id furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01722">map.cpp:1722</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="ahandle__action_8cpp_html_ad56544ec96a0f79ea4e47ae8f8754d10"><div class="ttname"><a href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a></div><div class="ttdeci">static void fire()</div><div class="ttdef"><b>Definition:</b> <a href="handle__action_8cpp_source.html#l01635">handle_action.cpp:1635</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_a0270df10fe59879068e7fde158e3fe0b"><div class="ttname"><a href="inventory_8cpp.html#a0270df10fe59879068e7fde158e3fe0b">count_charges_in_list</a></div><div class="ttdeci">static int count_charges_in_list(const itype *type, const map_stack &amp;items)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00452">inventory.cpp:452</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_a9b6d0a74851488e9b4b00541b22b2c91"><div class="ttname"><a href="inventory_8cpp.html#a9b6d0a74851488e9b4b00541b22b2c91">itype_butchery_tree_pseudo</a></div><div class="ttdeci">static const itype_id itype_butchery_tree_pseudo(&quot;butchery_tree_pseudo&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_aa5ffa4fd2e1363b9474c32c3a47a6df9"><div class="ttname"><a href="inventory_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a></div><div class="ttdeci">static const itype_id itype_fire(&quot;fire&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_ab6590961e768d15595bbf02e43882865"><div class="ttname"><a href="inventory_8cpp.html#ab6590961e768d15595bbf02e43882865">itype_brick_oven_pseudo</a></div><div class="ttdeci">static const itype_id itype_brick_oven_pseudo(&quot;brick_oven_pseudo&quot;)</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a19159ceefe62f93e360f7b9485ceb149"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a19159ceefe62f93e360f7b9485ceb149">ter_furn_flag::TFLAG_AMMOTYPE_RELOAD</a></div><div class="ttdeci">@ TFLAG_AMMOTYPE_RELOAD</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054abe48b536fff3d333d53c8c4e5c07b664"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054abe48b536fff3d333d53c8c4e5c07b664">ter_furn_flag::TFLAG_TREE</a></div><div class="ttdeci">@ TFLAG_TREE</div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_ae1b5f8bc538c251b5038acf2525e1b52"><div class="ttname"><a href="namespaceiexamine.html#ae1b5f8bc538c251b5038acf2525e1b52">iexamine::keg</a></div><div class="ttdeci">void keg(Character &amp;you, const tripoint &amp;examp)</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l04058">iexamine.cpp:4058</a></div></div>
<div class="ttc" id="aomdata_8h_html_ac214d1ec2c5c346a2ba8d8805839d08da9460370bb0ca1c98a779b1bcc6861c2c"><div class="ttname"><a href="omdata_8h.html#ac214d1ec2c5c346a2ba8d8805839d08da9460370bb0ca1c98a779b1bcc6861c2c">oter_flags::water</a></div><div class="ttdeci">@ water</div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">pocket_type::MAGAZINE</a></div><div class="ttdeci">@ MAGAZINE</div></div>
<div class="ttc" id="astructfurn__t_html"><div class="ttname"><a href="structfurn__t.html">furn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00641">mapdata.h:641</a></div></div>
<div class="ttc" id="astructfurn__t_html_a1c2dba493686253a3366982da99c7345"><div class="ttname"><a href="structfurn__t.html#a1c2dba493686253a3366982da99c7345">furn_t::crafting_pseudo_item</a></div><div class="ttdeci">itype_id crafting_pseudo_item</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00650">mapdata.h:650</a></div></div>
<div class="ttc" id="astructfurn__t_html_a5fd0a85be4c0336196a1c4c173513ff4"><div class="ttname"><a href="structfurn__t.html#a5fd0a85be4c0336196a1c4c173513ff4">furn_t::crafting_ammo_item_types</a></div><div class="ttdeci">std::vector&lt; const itype * &gt; crafting_ammo_item_types() const</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l04684">iexamine.cpp:4684</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01186">itype.h:1186</a></div></div>
<div class="ttc" id="astructitype_html_a291870408701f0174d8c46b7f770fbaf"><div class="ttname"><a href="structitype.html#a291870408701f0174d8c46b7f770fbaf">itype::get_id</a></div><div class="ttdeci">itype_id get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01497">itype.h:1497</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a23ced64302b56354f897716bc8784896"><div class="ttname"><a href="structmap__data__common__t.html#a23ced64302b56354f897716bc8784896">map_data_common_t::has_examine</a></div><div class="ttdeci">bool has_examine(iexamine_examine_function func) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00573">mapdata.cpp:573</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a630778707744fb147436b9aa0c370a7e"><div class="ttname"><a href="structmap__data__common__t.html#a630778707744fb147436b9aa0c370a7e">map_data_common_t::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00534">mapdata.h:534</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l07834">map::accessible_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, <a class="el" href="itype_8h_source.html#l01212">itype::ammo</a>, <a class="el" href="inventory_8cpp_source.html#l00452">count_charges_in_list()</a>, <a class="el" href="iexamine_8cpp_source.html#l04684">furn_t::crafting_ammo_item_types()</a>, <a class="el" href="mapdata_8h_source.html#l00650">furn_t::crafting_pseudo_item</a>, <a class="el" href="handle__action_8cpp_source.html#l01635">fire()</a>, <a class="el" href="map_8cpp_source.html#l01722">map::furn()</a>, <a class="el" href="mapdata_8cpp_source.html#l00573">map_data_common_t::has_examine()</a>, <a class="el" href="mapdata_8h_source.html#l00534">map_data_common_t::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03600">map::has_nearby_fire()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8cpp.html#ab6590961e768d15595bbf02e43882865">itype_brick_oven_pseudo</a>, <a class="el" href="inventory_8cpp.html#a9b6d0a74851488e9b4b00541b22b2c91">itype_butchery_tree_pseudo</a>, <a class="el" href="inventory_8cpp.html#aa5ffa4fd2e1363b9474c32c3a47a6df9">itype_fire</a>, <a class="el" href="iexamine_8cpp_source.html#l04058">iexamine::keg()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">MAGAZINE</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="inventory_8cpp_source.html#l00356">provide_pseudo_item()</a>, <a class="el" href="inventory_8h_source.html#l00285">provisioned_pseudo_tools</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a19159ceefe62f93e360f7b9485ceb149">TFLAG_AMMOTYPE_RELOAD</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054abe48b536fff3d333d53c8c4e5c07b664">TFLAG_TREE</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="inventory_8cpp_source.html#l01148">update_liq_container_count()</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, <a class="el" href="omdata_8h.html#ac214d1ec2c5c346a2ba8d8805839d08da9460370bb0ca1c98a779b1bcc6861c2c">water</a>, and <a class="el" href="map_8cpp_source.html#l05415">map::water_from()</a>.</p>

</div>
</div>
<a id="a6c54ee4eb1fe931c7a5f9e134241a558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c54ee4eb1fe931c7a5f9e134241a558">&#9670;&nbsp;</a></span>form_from_zone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_zone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_set&lt; <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>zone_pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00490">490</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    std::vector&lt;tripoint&gt; pts;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    pts.reserve( zone_pts.size() );</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> &amp;elem : zone_pts ) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        pts.push_back( m.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( elem ) );</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( m, pts, pl, assign_invlet );</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00483">form_from_map()</a>, and <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00708">basecamp::form_crafting_inventory()</a>.</p>

</div>
</div>
<a id="aea5b46242887fdb01eae34129310a8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea5b46242887fdb01eae34129310a8d4">&#9670;&nbsp;</a></span>get_active_enchantment_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classenchant__cache.html">enchant_cache</a> inventory::get_active_enchantment_cache </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00970">970</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;{</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <a class="code" href="classenchant__cache.html">enchant_cache</a> temp_cache;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::list&lt;item&gt; &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;check_item : elem ) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classenchant__cache.html">enchant_cache</a> &amp;ench : check_item.get_proc_enchantments() ) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                <span class="keywordflow">if</span>( ench.is_active( owner, check_item ) ) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                    temp_cache.<a class="code" href="classenchant__cache.html#a428efe65867a052b75312b2b8f51c169">force_add</a>( ench );</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classenchantment.html">enchantment</a> &amp;ench : check_item.get_defined_enchantments() ) {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="keywordflow">if</span>( ench.is_active( owner, check_item ) ) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    temp_cache.<a class="code" href="classenchant__cache.html#a428efe65867a052b75312b2b8f51c169">force_add</a>( ench, owner );</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">return</span> temp_cache;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;}</div>
<div class="ttc" id="aclassenchant__cache_html"><div class="ttname"><a href="classenchant__cache.html">enchant_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00280">magic_enchantment.h:281</a></div></div>
<div class="ttc" id="aclassenchant__cache_html_a428efe65867a052b75312b2b8f51c169"><div class="ttname"><a href="classenchant__cache.html#a428efe65867a052b75312b2b8f51c169">enchant_cache::force_add</a></div><div class="ttdeci">void force_add(const enchantment &amp;rhs, const Character &amp;guy)</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8cpp_source.html#l00677">magic_enchantment.cpp:677</a></div></div>
<div class="ttc" id="aclassenchantment_html"><div class="ttname"><a href="classenchantment.html">enchantment</a></div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00181">magic_enchantment.h:182</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic__enchantment_8cpp_source.html#l00677">enchant_cache::force_add()</a>, and <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

</div>
</div>
<a id="a0b8d527ded5634738012cd5086aafa7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b8d527ded5634738012cd5086aafa7c">&#9670;&nbsp;</a></span>get_binned_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> &amp; inventory::get_binned_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns visitable items binned by their itype. </p>
<p>May not contain items that wouldn't be visited by <a class="el" href="classvisitable.html">visitable</a> methods. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01120">1120</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;{</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> ) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <a class="code" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>.clear();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// HACK: Hack warning</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="classinventory.html">inventory</a> *this_nonconst = <span class="keyword">const_cast&lt;</span><a class="code" href="classinventory.html">inventory</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    this_nonconst-&gt;<a class="code" href="classinventory.html#aedfcbcc42894db90a0d5ccef809597f2">visit_items</a>( [ <span class="keyword">this</span> ]( <a class="code" href="classitem.html">item</a> * e, <a class="code" href="classitem.html">item</a> * ) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>[ e-&gt;<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() ].push_back( e );</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *it : e-&gt;<a class="code" href="classitem.html#a9212d253f21baa539e5aa28dc6e7fe44">softwares</a>() ) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <a class="code" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>[it-&gt;typeId()].push_back( it );</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    } );</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_ac3ec6a121fe8dc7cf8155835245f7dc8"><div class="ttname"><a href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">inventory::binned_items</a></div><div class="ttdeci">itype_bin binned_items</div><div class="ttdoc">Items binned by their type.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00293">inventory.h:293</a></div></div>
<div class="ttc" id="aclassinventory_html_aedfcbcc42894db90a0d5ccef809597f2"><div class="ttname"><a href="classinventory.html#aedfcbcc42894db90a0d5ccef809597f2">inventory::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func) const override</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div></div>
<div class="ttc" id="aclassitem_html_a9212d253f21baa539e5aa28dc6e7fe44"><div class="ttname"><a href="classitem.html#a9212d253f21baa539e5aa28dc6e7fe44">item::softwares</a></div><div class="ttdeci">std::vector&lt; const item * &gt; softwares() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11232">item.cpp:11232</a></div></div>
<div class="ttc" id="avisitable_8h_html_ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="inventory_8h_source.html#l00293">binned_items</a>, <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="item_8cpp_source.html#l11232">item::softwares()</a>, <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>, and <a class="el" href="classinventory.html#aedfcbcc42894db90a0d5ccef809597f2">visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00990">count_item()</a>.</p>

</div>
</div>
<a id="a9a00726c3122a183a2577161e9a67ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a00726c3122a183a2577161e9a67ce5">&#9670;&nbsp;</a></span>get_book_proficiency_bonuses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbook__proficiency__bonuses.html">book_proficiency_bonuses</a> inventory::get_book_proficiency_bonuses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00380">380</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="classbook__proficiency__bonuses.html">book_proficiency_bonuses</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::list&lt;item&gt; &amp;it : this-&gt;<a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        ret += it.front().get_book_proficiency_bonuses();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="ttc" id="aclassbook__proficiency__bonuses_html"><div class="ttname"><a href="classbook__proficiency__bonuses.html">book_proficiency_bonuses</a></div><div class="ttdef"><b>Definition:</b> <a href="proficiency_8h_source.html#l00211">proficiency.h:212</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="recipe_8cpp_source.html#l01108">recipe::missing_proficiencies_string()</a>, <a class="el" href="recipe_8cpp_source.html#l01073">proficiency_skill_malus()</a>, and <a class="el" href="recipe_8cpp_source.html#l01038">proficiency_time_malus()</a>.</p>

</div>
</div>
<a id="ab8183f0eebbaa418f6cc2982dc6d1d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8183f0eebbaa418f6cc2982dc6d1d35">&#9670;&nbsp;</a></span>has_enough_painkiller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::has_enough_painkiller </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pain</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00807">807</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;{</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it = elem.front();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> &lt;= 35 &amp;&amp; ( it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a>  || it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#a4873215470cf97d1b0e3f9cb7cc670cb">itype_acetaminophen</a> ||</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                              it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#a3c1324f66d564bcd95561d0c0a639779">itype_ibuprofen</a> ) ) ||</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            ( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> &gt;= 50 &amp;&amp; it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a> ) ||</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a> || it.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a> ) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e"><div class="ttname"><a href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">distraction_type::pain</a></div><div class="ttdeci">@ pain</div></div>
<div class="ttc" id="ainventory_8cpp_html_a3c1324f66d564bcd95561d0c0a639779"><div class="ttname"><a href="inventory_8cpp.html#a3c1324f66d564bcd95561d0c0a639779">itype_ibuprofen</a></div><div class="ttdeci">static const itype_id itype_ibuprofen(&quot;ibuprofen&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a4149e085887fd5399da6ff00e543ed59"><div class="ttname"><a href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a></div><div class="ttdeci">static const itype_id itype_codeine(&quot;codeine&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a4873215470cf97d1b0e3f9cb7cc670cb"><div class="ttname"><a href="inventory_8cpp.html#a4873215470cf97d1b0e3f9cb7cc670cb">itype_acetaminophen</a></div><div class="ttdeci">static const itype_id itype_acetaminophen(&quot;acetaminophen&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a7d4ebbd26f5b5558b6abac5cc20a39bf"><div class="ttname"><a href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a></div><div class="ttdeci">static const itype_id itype_aspirin(&quot;aspirin&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a8a33dee95265955fc5e9b0478d6ad4c2"><div class="ttname"><a href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a></div><div class="ttdeci">static const itype_id itype_oxycodone(&quot;oxycodone&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_aae7916dda7c85f2a67f4870056ab3891"><div class="ttname"><a href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a></div><div class="ttdeci">static const itype_id itype_tramadol(&quot;tramadol&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8cpp.html#a4873215470cf97d1b0e3f9cb7cc670cb">itype_acetaminophen</a>, <a class="el" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a>, <a class="el" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a>, <a class="el" href="inventory_8cpp.html#a3c1324f66d564bcd95561d0c0a639779">itype_ibuprofen</a>, <a class="el" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a>, <a class="el" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a>, <a class="el" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a>, and <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>.</p>

</div>
</div>
<a id="a8646038685427ab8967fd8ea2ee36e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8646038685427ab8967fd8ea2ee36e92">&#9670;&nbsp;</a></span>has_quality()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::has_quality </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;&#160;</td>
          <td class="paramname"><em>qual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if instance has amount (or more) items of at least quality level. </p>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#a7951c309092f6ae00ba69bb1ee9f7b1f">read_only_visitable</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__use_8cpp_source.html#l01822">vehicle::build_interact_menu()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00352">iuse_transform::can_use()</a>, <a class="el" href="veh__interact_8cpp_source.html#l00631">veh_interact::cant_do()</a>, <a class="el" href="iexamine_8cpp_source.html#l02676">iexamine::harvest_plant()</a>, <a class="el" href="iuse_8cpp_source.html#l07431">iuse::multicooker()</a>, <a class="el" href="iexamine_8cpp_source.html#l04326">iexamine::tree_maple()</a>, and <a class="el" href="iexamine_8cpp_source.html#l04372">iexamine::tree_maple_tapped()</a>.</p>

</div>
</div>
<a id="ab2b73dfb2263f722d09f6ad6433dbdcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b73dfb2263f722d09f6ad6433dbdcc">&#9670;&nbsp;</a></span>invlet_to_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::invlet_to_position </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>invlet</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the item position of the item with given invlet, return INT_MIN if the inventory does not have such an item with that invlet. </p>
<p>Don't use this on npcs inventory. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00731">731</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;{</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">if</span>( elem.begin()-&gt;invlet == invlet ) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        ++i;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

</div>
</div>
<a id="ae41f960e01bcde3d7555f9dbc22c9d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41f960e01bcde3d7555f9dbc22c9d79">&#9670;&nbsp;</a></span>json_load_invcache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_load_invcache </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonValue.html">JsonValue</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02341">2341</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;{</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        std::unordered_map&lt;itype_id, std::string&gt; <a class="code" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">map</a>;</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> jo : jsin.<a class="code" href="classJsonValue.html#ab7d103bab8c971a0c80972b04a18148f">get_array</a>() ) {</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;            jo.allow_omitted_members();</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonMember.html">JsonMember</a> <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a> : jo ) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                std::string invlets;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> i : <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a>.get_array() ) {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                    invlets.push_back( i );</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                }</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                <a class="code" href="classmap.html">map</a>[<a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a>.name() )] = invlets;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            }</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a> = <a class="code" href="classinvlet__favorites.html">invlet_favorites</a>{ <a class="code" href="classmap.html">map</a> };</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code" href="classJsonError.html">JsonError</a> &amp;jsonerr ) {</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;bad invcache json:\n%s&quot;</span>, jsonerr.<a class="code" href="classJsonError.html#a0410313762dadcc275463255af393353">c_str</a>() );</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    }</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="aclassJsonError_html"><div class="ttname"><a href="classJsonError.html">JsonError</a></div><div class="ttdef"><b>Definition:</b> <a href="json__error_8h_source.html#l00007">json_error.h:8</a></div></div>
<div class="ttc" id="aclassJsonError_html_a0410313762dadcc275463255af393353"><div class="ttname"><a href="classJsonError.html#a0410313762dadcc275463255af393353">JsonError::c_str</a></div><div class="ttdeci">const char * c_str() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="json__error_8h_source.html#l00011">json_error.h:11</a></div></div>
<div class="ttc" id="aclassJsonMember_html"><div class="ttname"><a href="classJsonMember.html">JsonMember</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00501">flexbuffer_json.h:502</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonValue_html_ab7d103bab8c971a0c80972b04a18148f"><div class="ttname"><a href="classJsonValue.html#ab7d103bab8c971a0c80972b04a18148f">JsonValue::get_array</a></div><div class="ttdeci">JsonArray get_array() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00263">flexbuffer_json-inl.h:263</a></div></div>
<div class="ttc" id="aclassinvlet__favorites_html"><div class="ttname"><a href="classinvlet__favorites.html">invlet_favorites</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00075">inventory.h:76</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="acondition_8h_html_a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3"><div class="ttname"><a href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">jarg::member</a></div><div class="ttdeci">@ member</div></div>
<div class="ttc" id="acraft__command_8h_html_a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae"><div class="ttname"><a href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">usage_from::map</a></div><div class="ttdeci">@ map</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json__error_8h_source.html#l00011">JsonError::c_str()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00263">JsonValue::get_array()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="craft__command_8h.html#a78e9fef1fc6aaee4239b8fa5cc3cd21fa1d78dc8ed51214e518b5114fe24490ae">map</a>, and <a class="el" href="condition_8h.html#a56caa864bd8a797e79177057e53088f7aaa08769cdcb26674c6706093503ff0a3">member</a>.</p>

</div>
</div>
<a id="a09f897bb7a34f9cead506bc338e6b513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f897bb7a34f9cead506bc338e6b513">&#9670;&nbsp;</a></span>json_load_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_load_items </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ja</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02375">2375</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;{</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> jo : ja ) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <a class="code" href="classitem.html">item</a> tmp;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;        tmp.<a class="code" href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">deserialize</a>( jo );</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( tmp, <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    }</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a4aa2c202069a8cdda0c1bb24fb8179c1"><div class="ttname"><a href="classitem.html#a4aa2c202069a8cdda0c1bb24fb8179c1">item::deserialize</a></div><div class="ttdeci">void deserialize(const JsonObject &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l03086">savegame_json.cpp:3086</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="savegame__json_8cpp_source.html#l03086">item::deserialize()</a>.</p>

</div>
</div>
<a id="a1c1b72905da350e7028ba253a9ea8f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c1b72905da350e7028ba253a9ea8f38">&#9670;&nbsp;</a></span>json_save_invcache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_save_invcache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02322">2322</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;{</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code" href="classinvlet__favorites.html#a95977daeac8b90fa25a075fe645b9fb6">get_invlets_by_id</a>() ) {</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;        json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( elem.first.str() );</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">char</span> &amp;_sym : elem.second ) {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;            json.<a class="code" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( _sym ) );</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        }</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;        json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    }</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02346">json.cpp:2346</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02335">json.cpp:2335</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02316">json.cpp:2316</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4b8c8e50e3be57e737ae971ecf2c3fd5"><div class="ttname"><a href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">JsonOut::write</a></div><div class="ttdeci">void write(T val)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00776">json.h:776</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02327">json.cpp:2327</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="aclassinvlet__favorites_html_a95977daeac8b90fa25a075fe645b9fb6"><div class="ttname"><a href="classinvlet__favorites.html#a95977daeac8b90fa25a075fe645b9fb6">invlet_favorites::get_invlets_by_id</a></div><div class="ttdeci">const std::unordered_map&lt; itype_id, std::string &gt; &amp; get_invlets_by_id() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00126">inventory.cpp:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02346">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l02327">JsonOut::end_object()</a>, <a class="el" href="json_8cpp_source.html#l02422">JsonOut::member()</a>, <a class="el" href="json_8cpp_source.html#l02335">JsonOut::start_array()</a>, <a class="el" href="json_8cpp_source.html#l02316">JsonOut::start_object()</a>, and <a class="el" href="json_8h_source.html#l00776">JsonOut::write()</a>.</p>

</div>
</div>
<a id="a97a8cf709ff16fce9850547d68b34dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a8cf709ff16fce9850547d68b34dbe">&#9670;&nbsp;</a></span>json_save_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_save_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l02364">2364</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;{</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    json.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            elem_stack_iter.serialize( json );</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;        }</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    }</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    json.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02346">JsonOut::end_array()</a>, and <a class="el" href="json_8cpp_source.html#l02335">JsonOut::start_array()</a>.</p>

</div>
</div>
<a id="ae94c3fe7f569349808616595d4dbcd10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae94c3fe7f569349808616595d4dbcd10">&#9670;&nbsp;</a></span>kcal_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; int, int &gt; inventory::kcal_range </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>player_character</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00882">882</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;{</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="visitable_8cpp.html#a40674ca3842b5100959afcb94b5aa511">kcal_range_of_internal</a>( *<span class="keyword">this</span>, <span class="keywordtype">id</span>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, player_character );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="avisitable_8cpp_html_a40674ca3842b5100959afcb94b5aa511"><div class="ttname"><a href="visitable_8cpp.html#a40674ca3842b5100959afcb94b5aa511">kcal_range_of_internal</a></div><div class="ttdeci">static std::pair&lt; int, int &gt; kcal_range_of_internal(const T &amp;self, const itype_id &amp;id, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, Character &amp;player_character)</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00857">visitable.cpp:857</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, and <a class="el" href="visitable_8cpp_source.html#l00857">kcal_range_of_internal()</a>.</p>

</div>
</div>
<a id="a9162b2e2ec09247821b21bb815a037e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9162b2e2ec09247821b21bb815a037e1">&#9670;&nbsp;</a></span>most_appropriate_painkiller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * inventory::most_appropriate_painkiller </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00821">821</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;{</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordtype">int</span> difference = 9999;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="classitem.html">item</a> *<a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = &amp;<a class="code" href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a>();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordtype">int</span> diff = 9999;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = elem.front().typeId();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a> || <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#a4873215470cf97d1b0e3f9cb7cc670cb">itype_acetaminophen</a> || <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#a3c1324f66d564bcd95561d0c0a639779">itype_ibuprofen</a> ) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            diff = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> - 15 );</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a> ) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            diff = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> - 30 );</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a> ) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            diff = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> - 60 );</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#a602a4545d7fea7f8d58209af7c31a94c">itype_heroin</a> ) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            diff = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> - 100 );</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <a class="code" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a> ) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            diff = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a> - 40 ) / 2; <span class="comment">// Bonus since it&#39;s long-acting</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">if</span>( diff &lt; difference ) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            difference = diff;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = &amp;elem.front();</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="ainventory_8cpp_html_a602a4545d7fea7f8d58209af7c31a94c"><div class="ttname"><a href="inventory_8cpp.html#a602a4545d7fea7f8d58209af7c31a94c">itype_heroin</a></div><div class="ttdeci">static const itype_id itype_heroin(&quot;heroin&quot;)</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8cpp.html#a4873215470cf97d1b0e3f9cb7cc670cb">itype_acetaminophen</a>, <a class="el" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a>, <a class="el" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a>, <a class="el" href="inventory_8cpp.html#a602a4545d7fea7f8d58209af7c31a94c">itype_heroin</a>, <a class="el" href="inventory_8cpp.html#a3c1324f66d564bcd95561d0c0a639779">itype_ibuprofen</a>, <a class="el" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a>, <a class="el" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a>, <a class="el" href="item_8cpp_source.html#l00248">null_item_reference()</a>, <a class="el" href="enums_8h.html#aa183bf705d2a0eb8309dfc13fb1adddca87a429872c7faee7e8bc9268d5bf548e">pain</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="a620458c9cf322dbc44d7d1d5244bf70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a620458c9cf322dbc44d7d1d5244bf70d">&#9670;&nbsp;</a></span>must_use_hallu_poison()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::must_use_hallu_poison </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>to_use</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01164">1164</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;{</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> total = <a class="code" href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">count_item</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacecharacter__health__category.html#a4753966d991dfdb30d1434e1095ed9a5">bad</a> = 0;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::list&lt;item&gt; &amp;item_list : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : item_list ) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="keywordflow">if</span>( it.typeId() == <span class="keywordtype">id</span> &amp;&amp; ( it.has_flag( <a class="code" href="flag_8cpp.html#a9cbb8a5112cb5a6227de1e4867bf5d41">flag_HIDDEN_POISON</a> ) ||</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                       it.has_flag( <a class="code" href="flag_8cpp.html#a3113b401ba0ad2aa13b463985dd33812">flag_HIDDEN_HALLU</a> ) ) ) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="keywordflow">if</span>( it.count_by_charges() ) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                    <a class="code" href="namespacecharacter__health__category.html#a4753966d991dfdb30d1434e1095ed9a5">bad</a> += it.charges;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    <a class="code" href="namespacecharacter__health__category.html#a4753966d991dfdb30d1434e1095ed9a5">bad</a> += it.count();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">return</span> total - <a class="code" href="namespacecharacter__health__category.html#a4753966d991dfdb30d1434e1095ed9a5">bad</a> &lt; to_use;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a41e48b6ff6b76a00740eaadd006d6867"><div class="ttname"><a href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">inventory::count_item</a></div><div class="ttdeci">int count_item(const itype_id &amp;item_type) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00990">inventory.cpp:990</a></div></div>
<div class="ttc" id="aflag_8cpp_html_a3113b401ba0ad2aa13b463985dd33812"><div class="ttname"><a href="flag_8cpp.html#a3113b401ba0ad2aa13b463985dd33812">flag_HIDDEN_HALLU</a></div><div class="ttdeci">const flag_id flag_HIDDEN_HALLU(&quot;HIDDEN_HALLU&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a9cbb8a5112cb5a6227de1e4867bf5d41"><div class="ttname"><a href="flag_8cpp.html#a9cbb8a5112cb5a6227de1e4867bf5d41">flag_HIDDEN_POISON</a></div><div class="ttdeci">const flag_id flag_HIDDEN_POISON(&quot;HIDDEN_POISON&quot;)</div></div>
<div class="ttc" id="anamespacecharacter__health__category_html_a4753966d991dfdb30d1434e1095ed9a5"><div class="ttname"><a href="namespacecharacter__health__category.html#a4753966d991dfdb30d1434e1095ed9a5">character_health_category::bad</a></div><div class="ttdeci">constexpr int bad</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00225">game_constants.h:225</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game__constants_8h_source.html#l00225">character_health_category::bad</a>, <a class="el" href="inventory_8cpp_source.html#l00990">count_item()</a>, <a class="el" href="flag_8cpp.html#a3113b401ba0ad2aa13b463985dd33812">flag_HIDDEN_HALLU</a>, <a class="el" href="flag_8cpp.html#a9cbb8a5112cb5a6227de1e4867bf5d41">flag_HIDDEN_POISON</a>, and <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="requirements_8cpp_source.html#l00983">item_comp::get_color()</a>.</p>

</div>
</div>
<a id="aaa4e26f2ab84baf458b3a7e04b8c62b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4e26f2ab84baf458b3a7e04b8c62b1">&#9670;&nbsp;</a></span>must_use_liq_container()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::must_use_liq_container </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>to_use</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01153">1153</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> total = <a class="code" href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">count_item</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keyword">auto</span> iter = <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">if</span>( iter == <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>.end() ) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">return</span> total &gt; 0;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> leftover = iter-&gt;second - to_use;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">return</span> leftover &lt; 0 &amp;&amp; leftover * -1 &lt;= total - iter-&gt;second;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00990">count_item()</a>, and <a class="el" href="inventory_8h_source.html#l00282">max_empty_liq_cont</a>.</p>

<p class="reference">Referenced by <a class="el" href="requirements_8cpp_source.html#l00983">item_comp::get_color()</a>.</p>

</div>
</div>
<a id="ada2c692e644161503b97d3b5175e0ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2c692e644161503b97d3b5175e0ffd">&#9670;&nbsp;</a></span>operator+() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00221">221</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a9963f0cfe64d75ae5ddd69ab22eab2f6"><div class="ttname"><a href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory::inventory</a></div><div class="ttdeci">inventory()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="a58bf03d9be48a5ca001819240bbf70ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58bf03d9be48a5ca001819240bbf70ef">&#9670;&nbsp;</a></span>operator+() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00236">236</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="a6fa5c4406fb43aa1517a4c97c1df3995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa5c4406fb43aa1517a4c97c1df3995">&#9670;&nbsp;</a></span>operator+() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__components.html">item_components</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00231">231</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="abfd3a278aec0985b245daebec1ccc2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd3a278aec0985b245daebec1ccc2e1">&#9670;&nbsp;</a></span>operator+() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00226">226</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="a8acee42093ab126ce2dba4cc8c5c5198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acee42093ab126ce2dba4cc8c5c5198">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00171">171</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; rhs.<a class="code" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a>(); i++ ) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a>( rhs.<a class="code" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a>( i ) );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a2fc0c051b701e87b3ce58dad4f8c5288"><div class="ttname"><a href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">inventory::push_back</a></div><div class="ttdeci">void push_back(const std::list&lt; item &gt; &amp;newits)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00259">inventory.cpp:259</a></div></div>
<div class="ttc" id="aclassinventory_html_a51a62ddae83430e06da3c08d5b3fd5e4"><div class="ttname"><a href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">inventory::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00166">inventory.cpp:166</a></div></div>
<div class="ttc" id="aclassinventory_html_a8f615a8478d03953310f91bc45f79543"><div class="ttname"><a href="classinventory.html#a8f615a8478d03953310f91bc45f79543">inventory::const_stack</a></div><div class="ttdeci">const std::list&lt; item &gt; &amp; const_stack(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00151">inventory.cpp:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00151">const_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00259">push_back()</a>, and <a class="el" href="inventory_8cpp_source.html#l00166">size()</a>.</p>

</div>
</div>
<a id="a39043a7d5bc7db8e26644ef6ff22f3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39043a7d5bc7db8e26644ef6ff22f3d5">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00205">205</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rhs );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="aa997ae9d0b9038d986d1cc464adf57db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa997ae9d0b9038d986d1cc464adf57db">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__components.html">item_components</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00187">187</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem__components.html#ae53abc627bb93e24e9710fdb2b2d0153">item_components::type_vector_pair</a> &amp;tvp : rhs ) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;rh : tvp.second ) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rh, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="aclassitem__components_html_ae53abc627bb93e24e9710fdb2b2d0153"><div class="ttname"><a href="classitem__components.html#ae53abc627bb93e24e9710fdb2b2d0153">item_components::type_vector_pair</a></div><div class="ttdeci">std::pair&lt; const itype_id, std::vector&lt; item &gt; &gt; type_vector_pair</div><div class="ttdef"><b>Definition:</b> <a href="item__components_8h_source.html#l00027">item_components.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="a4148748a76382dd4686e326936ef6c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4148748a76382dd4686e326936ef6c55">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__stack.html">item_stack</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00211">211</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;p : rhs ) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span>( !p.made_of( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, and <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>.</p>

</div>
</div>
<a id="a127bb39197d94fde2dfbdf75397bf29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127bb39197d94fde2dfbdf75397bf29c">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00179">179</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;rh : rhs ) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rh, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="ae486a4d5a17a6a4586bfcd184b1749bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae486a4d5a17a6a4586bfcd184b1749bc">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00197">197</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;rh : rhs ) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rh, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="ab1586bcc6905bbf14d28a63e81282b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1586bcc6905bbf14d28a63e81282b8a">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a>&amp; inventory::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1afcd873501d220fb25b6e76102ed043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1afcd873501d220fb25b6e76102ed043">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a>&amp; inventory::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinventory.html">inventory</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac0d780fd8e9fd35527160b3e153695a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d780fd8e9fd35527160b3e153695a9">&#9670;&nbsp;</a></span>position_by_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::position_by_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the item position of the stack that contains the given item (compared by pointers). </p>
<p>Returns INT_MIN if the item is not found. Note that this may lose some information, for example the returned position is the same when the given item points to the container and when it points to the item inside the container. All items that are part of the same stack have the same item position. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00743">743</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;{</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordtype">int</span> p = 0;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stack : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;e : stack ) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">if</span>( e.has_item( *it ) ) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        p++;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00389">restack()</a>.</p>

</div>
</div>
<a id="a83456dac16cd4a8057c9372ae8648a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83456dac16cd4a8057c9372ae8648a52">&#9670;&nbsp;</a></span>position_by_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::position_by_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00757">757</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;{</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span>( elem.front().typeId() == <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> ) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        ++i;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="a366f3faf3a7ba32e384b843d36bc0d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a366f3faf3a7ba32e384b843d36bc0d6a">&#9670;&nbsp;</a></span>provide_pseudo_item() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * inventory::provide_pseudo_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>tool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00356">356</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classinventory.html#a7e05ce318f8621249911ef4b32003627">provisioned_pseudo_tools</a>.insert( tool.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() ).second ) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="comment">// already provided tool -&gt; return existing</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;stack : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">if</span>( stack.front().typeId() == tool.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() ) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="keywordflow">return</span> &amp;stack.front();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="classitem.html">item</a> *res = &amp;<a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( tool );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    res-&gt;<a class="code" href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">set_flag</a>( <a class="code" href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a> );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a5b29c86dff457effe5dc4b9e7a24da12"><div class="ttname"><a href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const flag_id &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07602">item.cpp:7602</a></div></div>
<div class="ttc" id="aflag_8cpp_html_afa7c0e8f7a4654a1b825f73111f5fe8e"><div class="ttname"><a href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a></div><div class="ttdeci">const flag_id flag_PSEUDO(&quot;PSEUDO&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, <a class="el" href="flag_8cpp.html#afa7c0e8f7a4654a1b825f73111f5fe8e">flag_PSEUDO</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8h_source.html#l00285">provisioned_pseudo_tools</a>, <a class="el" href="item_8cpp_source.html#l07602">item::set_flag()</a>, and <a class="el" href="itype_8h_source.html#l01197">itype::tool</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00520">form_from_map()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01696">vpart_position::form_inventory()</a>, and <a class="el" href="inventory_8cpp_source.html#l00372">provide_pseudo_item()</a>.</p>

</div>
</div>
<a id="a435062269d636f5088218b88122b7c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435062269d636f5088218b88122b7c94">&#9670;&nbsp;</a></span>provide_pseudo_item() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * inventory::provide_pseudo_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>tool_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00372">372</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span>( !tool_type.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#a366f3faf3a7ba32e384b843d36bc0d6a">provide_pseudo_item</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( tool_type, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="inventory_8cpp_source.html#l00356">provide_pseudo_item()</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

</div>
</div>
<a id="a15c43fdc5add3f54217525cd4597fa6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15c43fdc5add3f54217525cd4597fa6d">&#9670;&nbsp;</a></span>push_back() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::push_back </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>newit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00347">347</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( newit );</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="a2fc0c051b701e87b3ce58dad4f8c5288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc0c051b701e87b3ce58dad4f8c5288">&#9670;&nbsp;</a></span>push_back() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::push_back </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>newits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00259">259</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;newit : newits ) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( newit, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l07431">iuse::multicooker()</a>, <a class="el" href="faction__camp_8cpp_source.html#l04775">om_harvest_ter()</a>, and <a class="el" href="inventory_8cpp_source.html#l00171">operator+=()</a>.</p>

</div>
</div>
<a id="aa6048276bd408eea6a3229705bffc4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6048276bd408eea6a3229705bffc4c0">&#9670;&nbsp;</a></span>reassign_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::reassign_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>invlet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove_old</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01055">1055</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;{</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> == invlet ) { <span class="comment">// no change needed</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">if</span>( remove_old &amp;&amp; it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code" href="classinvlet__favorites.html#a4bb4998afef3ac7fae0445b34a9c296e">erase</a>( it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> );</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    it.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = invlet;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( it );</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;}</div>
<div class="ttc" id="aclassinvlet__favorites_html_a4bb4998afef3ac7fae0445b34a9c296e"><div class="ttname"><a href="classinvlet__favorites.html#a4bb4998afef3ac7fae0445b34a9c296e">invlet_favorites::erase</a></div><div class="ttdeci">void erase(char invlet)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00097">inventory.cpp:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00097">invlet_favorites::erase()</a>, <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00277">invlet_cache</a>, and <a class="el" href="inventory_8cpp_source.html#l00267">update_cache_with_item()</a>.</p>

</div>
</div>
<a id="a676eaf73095dd3bb5d80d11c6161193c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676eaf73095dd3bb5d80d11c6161193c">&#9670;&nbsp;</a></span>reduce_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; inventory::reduce_stack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00604">604</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    std::list&lt;item&gt; <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter ) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span>( position == <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordflow">if</span>( quantity &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( iter-&gt;size() ) || quantity &lt; 0 ) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = *iter;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( iter );</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0 ; i &lt; quantity ; i++ ) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( <a class="code" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a>( &amp;iter-&gt;front() ) );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        ++<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a36e4b99300e1fe64920ce52911c04127"><div class="ttname"><a href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">inventory::remove_item</a></div><div class="ttdeci">item remove_item(const item *it)</div><div class="ttdoc">Remove a specific item from the inventory.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00626">inventory.cpp:626</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="inventory_8cpp_source.html#l00626">remove_item()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a36e4b99300e1fe64920ce52911c04127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e4b99300e1fe64920ce52911c04127">&#9670;&nbsp;</a></span>remove_item() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> inventory::remove_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a specific item from the inventory. </p>
<p>The item is compared by pointer. Contents of the item are removed as well. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>A pointer to the item to be removed. The item <em>must</em> exists in this inventory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A copy of the removed item. </dd></dl>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00626">626</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keyword">auto</span> tmp = <a class="code" href="classinventory.html#a7b4899d8dfc5105fa58e9aa26dce0ca0">remove_items_with</a>( [&amp;it]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">return</span> &amp;i == it;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }, 1 );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span>( !tmp.empty() ) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">return</span> tmp.front();</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to remove a item not in inventory.&quot;</span> );</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a7b4899d8dfc5105fa58e9aa26dce0ca0"><div class="ttname"><a href="classinventory.html#a7b4899d8dfc5105fa58e9aa26dce0ca0">inventory::remove_items_with</a></div><div class="ttdeci">std::list&lt; item &gt; remove_items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int count=INT_MAX) override</div><div class="ttdoc">Removes items contained by this instance which match the filter.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, and <a class="el" href="classinventory.html#a7b4899d8dfc5105fa58e9aa26dce0ca0">remove_items_with()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction__camp_8cpp_source.html#l03547">farm_action()</a>, and <a class="el" href="inventory_8cpp_source.html#l00604">reduce_stack()</a>.</p>

</div>
</div>
<a id="af0b24dc07f1e52c4426eef07993ea7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b24dc07f1e52c4426eef07993ea7b4">&#9670;&nbsp;</a></span>remove_item() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> inventory::remove_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00639">639</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter ) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">if</span>( position == <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span>( iter-&gt;size() &gt; 1 ) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                std::list&lt;item&gt;::iterator stack_member = iter-&gt;begin();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="keywordtype">char</span> invlet = stack_member-&gt;invlet;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                ++stack_member;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                stack_member-&gt;invlet = invlet;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <a class="code" href="classitem.html">item</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = iter-&gt;front();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            iter-&gt;erase( iter-&gt;begin() );</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">if</span>( iter-&gt;empty() ) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( iter );</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        ++<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a7b4899d8dfc5105fa58e9aa26dce0ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4899d8dfc5105fa58e9aa26dce0ca0">&#9670;&nbsp;</a></span>remove_items_with()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="classitem.html">item</a>&gt; inventory::remove_items_with </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em> = <code>INT_MAX</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes items contained by this instance which match the filter. </p>
<dl class="section note"><dt>Note</dt><dd>: Implement for each class that will implement the visitable interface </dd>
<dd>
if this instance itself is an item it will not be considered by the filter</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>a UnaryPredicate which should return true if the item is to be removed </td></tr>
    <tr><td class="paramname">count</td><td>maximum number of items to if unspecified unlimited. A count of zero is a no-op </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>any items removed (items counted by charges are not guaranteed to be stacked) </dd></dl>

<p>Implements <a class="el" href="classvisitable.html#ae25a15f203774f16e23e94b86bafaca2">visitable</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l06600">mill_load_food()</a>, and <a class="el" href="inventory_8cpp_source.html#l00626">remove_item()</a>.</p>

</div>
</div>
<a id="a534997d1d7b8d16423f39f32c3ea45a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534997d1d7b8d16423f39f32c3ea45a0">&#9670;&nbsp;</a></span>remove_randomly_by_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; inventory::remove_randomly_by_volume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>volume</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Randomly select items until the volume quota is filled. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00664">664</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    std::list&lt;item&gt; result;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> volume_dropped = 0_ml;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">while</span>( volume_dropped &lt; <a class="code" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a> ) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> cumulative_volume = 0_ml;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keyword">auto</span> chosen_stack = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin();</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keyword">auto</span> chosen_item = chosen_stack-&gt;begin();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> stack = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); stack != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++stack ) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> stack_it = stack-&gt;begin(); stack_it != stack-&gt;end(); ++stack_it ) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                cumulative_volume += stack_it-&gt;volume();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( stack_it-&gt;volume().value(), cumulative_volume.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() ) ) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    chosen_item = stack_it;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    chosen_stack = stack;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        volume_dropped += chosen_item-&gt;volume();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        result.push_back( std::move( *chosen_item ) );</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        chosen_item = chosen_stack-&gt;erase( chosen_item );</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">if</span>( chosen_item == chosen_stack-&gt;begin() &amp;&amp; !chosen_stack-&gt;empty() ) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="comment">// preserve the invlet when removing the first item of a stack</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            chosen_item-&gt;invlet = result.back().invlet;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">if</span>( chosen_stack-&gt;empty() ) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( chosen_stack );</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00784">calendar.cpp:784</a></div></div>
<div class="ttc" id="aclassinventory_html_aec6a20058fa80f78b727c3524f9a8fb1"><div class="ttname"><a href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">inventory::volume</a></div><div class="ttdeci">units::volume volume() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00941">inventory.cpp:941</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html_a96f3f957dba2ea5583a55060ffa04363"><div class="ttname"><a href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">units::quantity::value</a></div><div class="ttdeci">constexpr const value_type &amp; value() const</div><div class="ttdoc">Access the raw dimensionless value.</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00060">units.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="units_8h_source.html#l00060">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="inventory_8cpp_source.html#l00941">volume()</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

</div>
</div>
<a id="a4316a82c5561bcf2ae63d4186d614c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4316a82c5561bcf2ae63d4186d614c3a">&#9670;&nbsp;</a></span>replace_liq_container_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::replace_liq_container_count </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>newmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_max</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01183">1183</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;{</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : newmap ) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">if</span>( !use_max || <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>.find( it.first ) == <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>.end() ||</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>.at( it.first ) &lt; it.second ) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>[it.first] = it.second;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00282">max_empty_liq_cont</a>.</p>

</div>
</div>
<a id="a6e4ce038ec34e8a1e16a6fbd92469b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4ce038ec34e8a1e16a6fbd92469b78">&#9670;&nbsp;</a></span>restack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::restack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00389">389</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// tasks that the old restack seemed to do:</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// 1. reassign inventory letters</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// 2. remove items from non-matching stacks</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// 3. combine matching stacks</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    std::list&lt;item&gt; to_restack;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordtype">int</span> idx = 0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter, ++idx ) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        std::list&lt;item&gt; &amp;stack = *iter;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="classitem.html">item</a> &amp;topmost = stack.front();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *invlet_item = p.<a class="code" href="classCharacter.html#a72814cbd916b863b7b20b43345ef2329">invlet_to_item</a>( topmost.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> );</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a>.<a class="code" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( topmost.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) || ( invlet_item != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                <a class="code" href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">position_by_item</a>( invlet_item ) != idx ) ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <a class="code" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( topmost, p );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;stack_iter : stack ) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                stack_iter.invlet = topmost.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">// remove non-matching items, stripping off end of stack so the first item keeps the invlet.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">while</span>( stack.size() &gt; 1 &amp;&amp; !topmost.<a class="code" href="classitem.html#ab5544519ee3b45fbedf045dc14e9931f">stacks_with</a>( stack.back() ) ) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            to_restack.splice( to_restack.begin(), *iter, --stack.end() );</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">// combine matching stacks</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// separate loop to ensure that ALL stacks are homogeneous</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter ) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">for</span>( invstack::iterator <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> = iter; <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">if</span>( iter != <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> &amp;&amp; iter-&gt;front().stacks_with( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;front() ) ) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;front().count_by_charges() ) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    iter-&gt;front().charges += <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;front().charges;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    iter-&gt;splice( iter-&gt;begin(), *<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                --<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">//re-add non-matching items</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;elem : to_restack ) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( elem );</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">//Ensure that all items in the same stack have the same invlet.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">for</span>( std::list&lt; item &gt; &amp;outer : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;inner : outer ) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            inner.invlet = outer.front().invlet;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.sort( <a class="code" href="inventory_8cpp.html#ae219ebd7bf82ef7ea5d9c0684c39cbf7">stack_compare</a> );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    remove_stale_inventory_quick_shortcuts();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_ac0d780fd8e9fd35527160b3e153695a9"><div class="ttname"><a href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">inventory::position_by_item</a></div><div class="ttdeci">int position_by_item(const item *it) const</div><div class="ttdoc">Returns the item position of the stack that contains the given item (compared by pointers).</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00743">inventory.cpp:743</a></div></div>
<div class="ttc" id="aclassinvlet__wrapper_html_a7c0b7eaf67cf02bae041ada17aa1f71d"><div class="ttname"><a href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">invlet_wrapper::valid</a></div><div class="ttdeci">bool valid(int invlet) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00059">inventory.cpp:59</a></div></div>
<div class="ttc" id="aclassitem_html_ab5544519ee3b45fbedf045dc14e9931f"><div class="ttname"><a href="classitem.html#ab5544519ee3b45fbedf045dc14e9931f">item::stacks_with</a></div><div class="ttdeci">stacking_info stacks_with(const item &amp;rhs, bool check_components=false, bool combine_liquid=false, bool check_cat=false, int depth=0, int maxdepth=2, bool precise=false) const</div><div class="ttdoc">Check wether each element of tname::segments stacks, ie.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01636">item.cpp:1636</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_ae219ebd7bf82ef7ea5d9c0684c39cbf7"><div class="ttname"><a href="inventory_8cpp.html#ae219ebd7bf82ef7ea5d9c0684c39cbf7">stack_compare</a></div><div class="ttdeci">static bool stack_compare(const std::list&lt; item &gt; &amp;lhs, const std::list&lt; item &gt; &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00246">inventory.cpp:246</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01004">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars()</a>, <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="character__inventory_8cpp_source.html#l00540">Character::invlet_to_item()</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, <a class="el" href="inventory_8cpp_source.html#l00743">position_by_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00246">stack_compare()</a>, <a class="el" href="item_8cpp_source.html#l01636">item::stacks_with()</a>, and <a class="el" href="inventory_8cpp_source.html#l00059">invlet_wrapper::valid()</a>.</p>

</div>
</div>
<a id="a5f45453e09ab86b12361a196009617c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f45453e09ab86b12361a196009617c0">&#9670;&nbsp;</a></span>rust_iron_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::rust_iron_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00848">848</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;{</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">if</span>( elem_stack_iter.made_of( <a class="code" href="inventory_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a> ) &amp;&amp;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                !elem_stack_iter.has_flag( <a class="code" href="flag_8cpp.html#a91b719509dce6a71673f9183835e8939">flag_WATERPROOF_GUN</a> ) &amp;&amp;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                !elem_stack_iter.has_flag( <a class="code" href="flag_8cpp.html#afdcbe92b4cfe80f041e754948472a4ca">flag_WATERPROOF</a> ) &amp;&amp;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                elem_stack_iter.damage() &lt; elem_stack_iter.max_damage() / 2 &amp;&amp;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <span class="comment">//Passivation layer prevents further rusting</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 500 ) &amp;&amp;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                <span class="comment">//Scale with volume, bigger = slower (see #24204)</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>(</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                        14 * std::cbrt(</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                            0.5 * <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>(</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                0.05, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                    elem_stack_iter.base_volume().value() ) / 250 ) ) ) ) &amp;&amp;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <span class="comment">//                       ^season length   ^14/5*0.75/pi (from volume of sphere)</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="comment">//Freshwater without oxygen rusts slower than air</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                here.<a class="code" href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">water_from</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ).<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() == <a class="code" href="inventory_8cpp.html#a650bbad0228bdf2e0c41aa9fbc46d780">itype_salt_water</a> ) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <span class="comment">// rusting never completely destroys an item, so no need to handle return value</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                elem_stack_iter.inc_damage();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your %s is damaged by rust.&quot;</span> ), elem_stack_iter.tname() );</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
<div class="ttc" id="aflag_8cpp_html_a91b719509dce6a71673f9183835e8939"><div class="ttname"><a href="flag_8cpp.html#a91b719509dce6a71673f9183835e8939">flag_WATERPROOF_GUN</a></div><div class="ttdeci">const flag_id flag_WATERPROOF_GUN(&quot;WATERPROOF_GUN&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_afdcbe92b4cfe80f041e754948472a4ca"><div class="ttname"><a href="flag_8cpp.html#afdcbe92b4cfe80f041e754948472a4ca">flag_WATERPROOF</a></div><div class="ttdeci">const flag_id flag_WATERPROOF(&quot;WATERPROOF&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a650bbad0228bdf2e0c41aa9fbc46d780"><div class="ttname"><a href="inventory_8cpp.html#a650bbad0228bdf2e0c41aa9fbc46d780">itype_salt_water</a></div><div class="ttdeci">static const itype_id itype_salt_water(&quot;salt_water&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a770eb7c8ac46ca214eafc8a3778dc4be"><div class="ttname"><a href="inventory_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a></div><div class="ttdeci">static const material_id material_iron(&quot;iron&quot;)</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="flag_8cpp.html#afdcbe92b4cfe80f041e754948472a4ca">flag_WATERPROOF</a>, <a class="el" href="flag_8cpp.html#a91b719509dce6a71673f9183835e8939">flag_WATERPROOF_GUN</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="inventory_8cpp.html#a650bbad0228bdf2e0c41aa9fbc46d780">itype_salt_water</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="inventory_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>, and <a class="el" href="map_8cpp_source.html#l05415">map::water_from()</a>.</p>

</div>
</div>
<a id="a51a62ddae83430e06da3c08d5b3fd5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a62ddae83430e06da3c08d5b3fd5e4">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t inventory::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00166">166</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission__companion_8cpp_source.html#l02472">talk_function::companion_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03771">basecamp::finish_return()</a>, and <a class="el" href="inventory_8cpp_source.html#l00171">operator+=()</a>.</p>

</div>
</div>
<a id="a51bfb1f66b7b07d630b403bf964e84f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51bfb1f66b7b07d630b403bf964e84f9">&#9670;&nbsp;</a></span>slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a> inventory::slice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00133">133</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a> stacks;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        stacks.push_back( &amp;elem );</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> stacks;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="ainventory_8h_html_a1d1a58da8e9c617f38902ba44c72b6b2"><div class="ttname"><a href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a></div><div class="ttdeci">std::vector&lt; std::list&lt; item &gt; * &gt; invslice</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00039">inventory.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>.</p>

</div>
</div>
<a id="a14ac26748e30d2d0f6c137734d55b2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ac26748e30d2d0f6c137734d55b2b5">&#9670;&nbsp;</a></span>unsort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::unsort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00241">241</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>.</p>

</div>
</div>
<a id="a6632e04576710c1d9ee979850958e63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6632e04576710c1d9ee979850958e63c">&#9670;&nbsp;</a></span>update_cache_with_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::update_cache_with_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>newit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00267">267</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// This function does two things:</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// 1. It adds newit&#39;s invlet to the list of favorite letters for newit&#39;s item type.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// 2. It removes newit&#39;s invlet from the list of favorite letters for all other item types.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// no invlet item, just return.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// TODO: Should we instead remember that the invlet was cleared?</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span>( newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> == 0 ) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code" href="classinvlet__favorites.html#a0b5e033b4b47c7b5024450dc2a671785">set</a>( newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>, newit.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>() );</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="ttc" id="aclassinvlet__favorites_html_a0b5e033b4b47c7b5024450dc2a671785"><div class="ttname"><a href="classinvlet__favorites.html#a0b5e033b4b47c7b5024450dc2a671785">invlet_favorites::set</a></div><div class="ttdeci">void set(char invlet, const itype_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00086">inventory.cpp:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00277">invlet_cache</a>, <a class="el" href="inventory_8cpp_source.html#l00086">invlet_favorites::set()</a>, and <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l01055">reassign_item()</a>.</p>

</div>
</div>
<a id="a2026a085cd6fea1c24c2a2201a4ce5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2026a085cd6fea1c24c2a2201a4ce5c6">&#9670;&nbsp;</a></span>update_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::update_invlet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>ignore_invlet_collision_with</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01067">1067</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span>( newit.invlet ) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="comment">// Avoid letters that have been manually assigned to other things.</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.find( newit.invlet ) != <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.end() ) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>[newit.invlet] != newit.typeId() ) {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                newit.invlet = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="comment">// Remove letters that are not in the favorites cache</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code" href="classinvlet__favorites.html#a753803f21462fcbb5ec11fadb5d6ff3a">contains</a>( newit.invlet, newit.typeId() ) ) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            newit.invlet = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    }</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="comment">// Remove letters that have been assigned to other items in the inventory</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span>( newit.invlet ) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordtype">char</span> tmp_invlet = newit.invlet;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        newit.invlet = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <a class="code" href="classitem.html">item</a> *collidingItem = player_character.<a class="code" href="classCharacter.html#a72814cbd916b863b7b20b43345ef2329">invlet_to_item</a>( tmp_invlet );</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">if</span>( collidingItem == <span class="keyword">nullptr</span> || collidingItem == ignore_invlet_collision_with ) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            newit.<a class="code" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = tmp_invlet;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">if</span>( assign_invlet ) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="comment">// Assign a cached letter to the item</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span>( !newit.invlet ) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            newit.invlet = <a class="code" href="classinventory.html#addb070dde1f49b79a5edd46f369ba034">find_usable_cached_invlet</a>( newit.typeId() );</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="comment">// Give the item an invlet if it has none</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">if</span>( !newit.invlet ) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <a class="code" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( newit, player_character );</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_addb070dde1f49b79a5edd46f369ba034"><div class="ttname"><a href="classinventory.html#addb070dde1f49b79a5edd46f369ba034">inventory::find_usable_cached_invlet</a></div><div class="ttdeci">char find_usable_cached_invlet(const itype_id &amp;item_type)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00282">inventory.cpp:282</a></div></div>
<div class="ttc" id="aclassinvlet__favorites_html_a753803f21462fcbb5ec11fadb5d6ff3a"><div class="ttname"><a href="classinvlet__favorites.html#a753803f21462fcbb5ec11fadb5d6ff3a">invlet_favorites::contains</a></div><div class="ttdeci">bool contains(char invlet, const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00110">inventory.cpp:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01004">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00116">assigned_invlet</a>, <a class="el" href="inventory_8cpp_source.html#l00110">invlet_favorites::contains()</a>, <a class="el" href="inventory_8cpp_source.html#l00282">find_usable_cached_invlet()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8h_source.html#l03211">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00277">invlet_cache</a>, <a class="el" href="character__inventory_8cpp_source.html#l00540">Character::invlet_to_item()</a>, and <a class="el" href="item_8cpp_source.html#l11850">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>.</p>

</div>
</div>
<a id="a4f147fecd25dc1ef701a11d5b3a51689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f147fecd25dc1ef701a11d5b3a51689">&#9670;&nbsp;</a></span>update_liq_container_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::update_liq_container_count </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01148">1148</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="classinventory.html#a6b615f10d281eae01cc7efe9e5fadd49">max_empty_liq_cont</a>[<a class="code" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>] += count;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00105">basecamp.h:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="basecamp_8h_source.html#l00105">base_camps::id</a>, and <a class="el" href="inventory_8h_source.html#l00282">max_empty_liq_cont</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00520">form_from_map()</a>, and <a class="el" href="vehicle__use_8cpp_source.html#l01696">vpart_position::form_inventory()</a>.</p>

</div>
</div>
<a id="ad38c8a447a1fa902fb46f90b53f1e976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38c8a447a1fa902fb46f90b53f1e976">&#9670;&nbsp;</a></span>use_amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; inventory::use_amount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00769">769</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.sort( <a class="code" href="inventory_8cpp.html#ae219ebd7bf82ef7ea5d9c0684c39cbf7">stack_compare</a> );</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    std::list&lt;item&gt; <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end() &amp;&amp; quantity &gt; 0; <span class="comment">/* noop */</span> ) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">for</span>( std::list&lt;item&gt;::iterator stack_iter = iter-&gt;begin();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;             stack_iter != iter-&gt;end() &amp;&amp; quantity &gt; 0;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;             <span class="comment">/* noop */</span> ) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keywordflow">if</span>( stack_iter-&gt;use_amount( it, quantity, <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> ) ) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                stack_iter = iter-&gt;erase( stack_iter );</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                ++stack_iter;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">if</span>( iter-&gt;empty() ) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            iter = <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( iter );</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( iter != <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end() ) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            ++iter;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00287">binned</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="inventory_8cpp_source.html#l00246">stack_compare()</a>.</p>

</div>
</div>
<a id="aedfcbcc42894db90a0d5ccef809597f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedfcbcc42894db90a0d5ccef809597f2">&#9670;&nbsp;</a></span>visit_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a> inventory::visit_items </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverses this object and any child items contained using a visitor pattern. </p>
<dl class="section note"><dt>Note</dt><dd>Implement for each class that will implement the visitable interface. Other <code>visit_items</code> variants rely on this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>visitor function called for each node which controls whether traversal continues. The first argument is the node and the second is the parent node (if any) The visitor function should return VisitResponse::Next to recursively process child items, VisitResponse::Skip to ignore children of the current node or VisitResponse::Abort to skip all remaining nodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method itself only ever returns VisitResponse::Next or VisitResponse::Abort. </dd></dl>

<p>Implements <a class="el" href="classread__only__visitable.html#a63b128f0dfc53c5b51f5c036c61360d1">read_only_visitable</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01120">get_binned_items()</a>.</p>

</div>
</div>
<a id="aec6a20058fa80f78b727c3524f9a8fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6a20058fa80f78b727c3524f9a8fb1">&#9670;&nbsp;</a></span>volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> inventory::volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00941">941</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;{</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_ml;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem_stack_iter.volume();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00664">remove_randomly_by_volume()</a>, and <a class="el" href="inventory_8cpp_source.html#l00952">volume_without()</a>.</p>

</div>
</div>
<a id="ad8d39c8e42cbb79f8b28692e5b01672c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d39c8e42cbb79f8b28692e5b01672c">&#9670;&nbsp;</a></span>volume_without()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> inventory::volume_without </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; const <a class="el" href="classitem.html">item</a> *, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>without</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00952">952</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;{</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a>();</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="inventory_8cpp.html#af95775da552facfa9248d88c998de41d">for_each_item_in_both</a>( <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>, without,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    [&amp;]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= i.<a class="code" href="classitem.html#a686df014e8aa8bc4637883802d05f935">volume</a>();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                         );</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> &lt; 0_ml ) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Negative volume after removing some of inventory&quot;</span> );</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_ml;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a686df014e8aa8bc4637883802d05f935"><div class="ttname"><a href="classitem.html#a686df014e8aa8bc4637883802d05f935">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false, bool ignore_contents=false, int charges_in_vol=-1) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07360">item.cpp:7360</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_af95775da552facfa9248d88c998de41d"><div class="ttname"><a href="inventory_8cpp.html#af95775da552facfa9248d88c998de41d">for_each_item_in_both</a></div><div class="ttdeci">void for_each_item_in_both(const invstack &amp;items, const std::map&lt; const item *, int &gt; &amp;other, const F &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00892">inventory.cpp:892</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="inventory_8cpp_source.html#l00892">for_each_item_in_both()</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="inventory_8cpp_source.html#l00941">volume()</a>, and <a class="el" href="item_8cpp_source.html#l07360">item::volume()</a>.</p>

</div>
</div>
<a id="a827410aeab7a7e7c74bc4adb5bf616ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827410aeab7a7e7c74bc4adb5bf616ea">&#9670;&nbsp;</a></span>weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> inventory::weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00878">878</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;{</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::mass</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_gram;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem_stack_iter.weight();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00923">weight_without()</a>.</p>

</div>
</div>
<a id="a143711f16cdfcb6dc072da9beff3eaa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a143711f16cdfcb6dc072da9beff3eaa3">&#9670;&nbsp;</a></span>weight_without()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> inventory::weight_without </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; const <a class="el" href="classitem.html">item</a> *, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>without</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00923">923</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;{</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::mass</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classinventory.html#a827410aeab7a7e7c74bc4adb5bf616ea">weight</a>();</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="inventory_8cpp.html#af95775da552facfa9248d88c998de41d">for_each_item_in_both</a>( <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>, without,</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    [&amp;]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= i.<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>();</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                         );</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> &lt; 0_gram ) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Negative mass after removing some of inventory&quot;</span> );</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = {};</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;}</div>
<div class="ttc" id="aclassinventory_html_a827410aeab7a7e7c74bc4adb5bf616ea"><div class="ttname"><a href="classinventory.html#a827410aeab7a7e7c74bc4adb5bf616ea">inventory::weight</a></div><div class="ttdeci">units::mass weight() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00878">inventory.cpp:878</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdoc">Total weight of an item accounting for all contained/integrated items.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07081">item.cpp:7081</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="inventory_8cpp_source.html#l00892">for_each_item_in_both()</a>, <a class="el" href="inventory_8h_source.html#l00280">items</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="inventory_8cpp_source.html#l00878">weight()</a>, and <a class="el" href="item_8cpp_source.html#l07081">item::weight()</a>.</p>

</div>
</div>
<a id="aea85b6a2464a8c73336f2227748adfc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea85b6a2464a8c73336f2227748adfc5">&#9670;&nbsp;</a></span>worst_item_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::worst_item_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00794">794</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;{</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">int</span> worst = 99999;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it = elem.front();</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordtype">int</span> val = p-&gt;<a class="code" href="classnpc.html#a29fad2798be32c49e72523a6cab2b7f9">value</a>( it );</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">if</span>( val &lt; worst ) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            worst = val;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">return</span> worst;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="ttc" id="aclassnpc_html_a29fad2798be32c49e72523a6cab2b7f9"><div class="ttname"><a href="classnpc.html#a29fad2798be32c49e72523a6cab2b7f9">npc::value</a></div><div class="ttdeci">double value(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02050">npc.cpp:2050</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00280">items</a>, and <a class="el" href="npc_8cpp_source.html#l02050">npc::value()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a72e5a1a88b44c6e5fc1bdbdbb5e855a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">&#9670;&nbsp;</a></span>assigned_invlet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;char, <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&gt; inventory::assigned_invlet</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00116">116</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01004">assign_empty_invlet()</a>, <a class="el" href="inventory_8cpp_source.html#l01142">copy_invlet_of()</a>, <a class="el" href="inventory_8cpp_source.html#l00282">find_usable_cached_invlet()</a>, and <a class="el" href="inventory_8cpp_source.html#l01067">update_invlet()</a>.</p>

</div>
</div>
<a id="ad82feadf8429c99e5184064fc21a7a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad82feadf8429c99e5184064fc21a7a54">&#9670;&nbsp;</a></span>binned</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::binned = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00287">287</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00251">clear()</a>, <a class="el" href="inventory_8cpp_source.html#l01120">get_binned_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00604">reduce_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00626">remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00664">remove_randomly_by_volume()</a>, <a class="el" href="inventory_8cpp_source.html#l00389">restack()</a>, <a class="el" href="inventory_8cpp_source.html#l00241">unsort()</a>, and <a class="el" href="inventory_8cpp_source.html#l00769">use_amount()</a>.</p>

</div>
</div>
<a id="ac3ec6a121fe8dc7cf8155835245f7dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ec6a121fe8dc7cf8155835245f7dc8">&#9670;&nbsp;</a></span>binned_items</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> inventory::binned_items</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Items binned by their type. </p>
<p>That is, item_bin["carrot"] is a list of pointers to all carrots in inventory. <code>mutable</code> because this is a pure cache that doesn't affect the contained items. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00293">293</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01120">get_binned_items()</a>.</p>

</div>
</div>
<a id="ab2ef1a3c297246e94093b7741cf721a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ef1a3c297246e94093b7741cf721a5">&#9670;&nbsp;</a></span>invlet_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinvlet__favorites.html">invlet_favorites</a> inventory::invlet_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00277">277</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01142">copy_invlet_of()</a>, <a class="el" href="inventory_8cpp_source.html#l00282">find_usable_cached_invlet()</a>, <a class="el" href="inventory_8cpp_source.html#l01055">reassign_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00267">update_cache_with_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l01067">update_invlet()</a>.</p>

</div>
</div>
<a id="ad90c7cdc1166330628541c9779681c9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90c7cdc1166330628541c9779681c9c">&#9670;&nbsp;</a></span>items</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#afc81687955ea7764f1c3a118dde35cbb">invstack</a> inventory::items</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00280">280</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00301">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01108">allocated_invlets()</a>, <a class="el" href="inventory_8cpp_source.html#l01004">assign_empty_invlet()</a>, <a class="el" href="inventory_8cpp_source.html#l00251">clear()</a>, <a class="el" href="inventory_8cpp_source.html#l00142">const_slice()</a>, <a class="el" href="inventory_8cpp_source.html#l00151">const_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00990">count_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00696">dump()</a>, <a class="el" href="inventory_8cpp_source.html#l00714">find_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00520">form_from_map()</a>, <a class="el" href="inventory_8cpp_source.html#l00970">get_active_enchantment_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l00380">get_book_proficiency_bonuses()</a>, <a class="el" href="inventory_8cpp_source.html#l00807">has_enough_painkiller()</a>, <a class="el" href="visitable_8cpp_source.html#l00153">visitable::has_quality()</a>, <a class="el" href="inventory_8cpp_source.html#l00731">invlet_to_position()</a>, <a class="el" href="inventory_8cpp_source.html#l00821">most_appropriate_painkiller()</a>, <a class="el" href="inventory_8cpp_source.html#l01164">must_use_hallu_poison()</a>, <a class="el" href="inventory_8cpp_source.html#l00743">position_by_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00757">position_by_type()</a>, <a class="el" href="inventory_8cpp_source.html#l00356">provide_pseudo_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00604">reduce_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00639">remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00664">remove_randomly_by_volume()</a>, <a class="el" href="inventory_8cpp_source.html#l00389">restack()</a>, <a class="el" href="inventory_8cpp_source.html#l00848">rust_iron_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00166">size()</a>, <a class="el" href="inventory_8cpp_source.html#l00133">slice()</a>, <a class="el" href="inventory_8cpp_source.html#l00769">use_amount()</a>, <a class="el" href="inventory_8cpp_source.html#l00941">volume()</a>, <a class="el" href="inventory_8cpp_source.html#l00952">volume_without()</a>, <a class="el" href="inventory_8cpp_source.html#l00878">weight()</a>, <a class="el" href="inventory_8cpp_source.html#l00923">weight_without()</a>, and <a class="el" href="inventory_8cpp_source.html#l00794">worst_item_value()</a>.</p>

</div>
</div>
<a id="a6b615f10d281eae01cc7efe9e5fadd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b615f10d281eae01cc7efe9e5fadd49">&#9670;&nbsp;</a></span>max_empty_liq_cont</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int&gt; inventory::max_empty_liq_cont</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00282">282</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00251">clear()</a>, <a class="el" href="inventory_8cpp_source.html#l01153">must_use_liq_container()</a>, <a class="el" href="inventory_8cpp_source.html#l01183">replace_liq_container_count()</a>, and <a class="el" href="inventory_8cpp_source.html#l01148">update_liq_container_count()</a>.</p>

</div>
</div>
<a id="a7e05ce318f8621249911ef4b32003627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e05ce318f8621249911ef4b32003627">&#9670;&nbsp;</a></span>provisioned_pseudo_tools</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&gt; inventory::provisioned_pseudo_tools</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00285">285</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00520">form_from_map()</a>, and <a class="el" href="inventory_8cpp_source.html#l00356">provide_pseudo_item()</a>.</p>

</div>
</div>
<a id="a7f54e4dcb2826d8b39f26fd879743f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f54e4dcb2826d8b39f26fd879743f0c">&#9670;&nbsp;</a></span>qualities_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="structquality__query.html">quality_query</a>, bool&gt; inventory::qualities_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00295">295</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00251">clear()</a>, and <a class="el" href="visitable_8cpp_source.html#l00153">visitable::has_quality()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="inventory_8h_source.html">inventory.h</a></li>
<li>src/<a class="el" href="inventory_8cpp_source.html">inventory.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
<li>src/<a class="el" href="visitable_8cpp_source.html">visitable.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:39 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
