<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: item_location Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classitem__location-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">item_location Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)serialized to/from JSON Provides a generic interface of querying, obtaining and removing an item Is invalidated by many operations (including copying of the item)  
 <a href="classitem__location.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="item__location_8h_source.html">item_location.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html">impl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a038e108475b9fb4f9833268f5fa2888d"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> : int { <br />
&#160;&#160;<a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888dafedb2d84cafe20862cb4399751a8a7e3">invalid</a> = 0
, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">character</a> = 1
, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">map</a> = 2
, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">vehicle</a> = 3
, <br />
&#160;&#160;<a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">container</a> = 4
<br />
 }</td></tr>
<tr class="separator:a038e108475b9fb4f9833268f5fa2888d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d1a7b5bc343f8771751142b294ef84e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location</a> ()</td></tr>
<tr class="separator:a4d1a7b5bc343f8771751142b294ef84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0a7b662c4bf75b0de47ac40bbe50e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a5a0a7b662c4bf75b0de47ac40bbe50e2">item_location</a> (<a class="el" href="classCharacter.html">Character</a> &amp;ch, <a class="el" href="classitem.html">item</a> *which)</td></tr>
<tr class="separator:a5a0a7b662c4bf75b0de47ac40bbe50e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf5fc16bc04ce3ee11e5d96054f97f58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#adf5fc16bc04ce3ee11e5d96054f97f58">item_location</a> (const <a class="el" href="classmap__cursor.html">map_cursor</a> &amp;mc, <a class="el" href="classitem.html">item</a> *which)</td></tr>
<tr class="separator:adf5fc16bc04ce3ee11e5d96054f97f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac47edfc278681294839d748c2cd92334"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ac47edfc278681294839d748c2cd92334">item_location</a> (const <a class="el" href="classvehicle__cursor.html">vehicle_cursor</a> &amp;vc, <a class="el" href="classitem.html">item</a> *which)</td></tr>
<tr class="separator:ac47edfc278681294839d748c2cd92334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94128fa517a6ed1ba6b504d14e0256c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a94128fa517a6ed1ba6b504d14e0256c1">item_location</a> (const <a class="el" href="classitem__location.html">item_location</a> &amp;container, <a class="el" href="classitem.html">item</a> *which)</td></tr>
<tr class="separator:a94128fa517a6ed1ba6b504d14e0256c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a275ba051e71a9d43c39cd4d3d103968e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a275ba051e71a9d43c39cd4d3d103968e">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;js) const</td></tr>
<tr class="separator:a275ba051e71a9d43c39cd4d3d103968e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac30dbe2dd50002ba0a9726f25f7420"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a9ac30dbe2dd50002ba0a9726f25f7420">deserialize</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;obj)</td></tr>
<tr class="separator:a9ac30dbe2dd50002ba0a9726f25f7420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab196cde795460480acc5299bae96ba5e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ab196cde795460480acc5299bae96ba5e">operator==</a> (const <a class="el" href="classitem__location.html">item_location</a> &amp;rhs) const</td></tr>
<tr class="separator:ab196cde795460480acc5299bae96ba5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa18dd2f784fdf89adda3f57325dbe55"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#aaa18dd2f784fdf89adda3f57325dbe55">operator!=</a> (const <a class="el" href="classitem__location.html">item_location</a> &amp;rhs) const</td></tr>
<tr class="separator:aaa18dd2f784fdf89adda3f57325dbe55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d5f6ad6915ec34fcaa285638e213b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a69d5f6ad6915ec34fcaa285638e213b9">operator bool</a> () const</td></tr>
<tr class="separator:a69d5f6ad6915ec34fcaa285638e213b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f9cd017cd660065bba8457b608631d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ad2f9cd017cd660065bba8457b608631d">operator*</a> ()</td></tr>
<tr class="separator:ad2f9cd017cd660065bba8457b608631d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54814f0629249b34b360a114a39b1b1e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a54814f0629249b34b360a114a39b1b1e">operator*</a> () const</td></tr>
<tr class="separator:a54814f0629249b34b360a114a39b1b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab321255bbec2139fb5822b27886ca41e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ab321255bbec2139fb5822b27886ca41e">operator-&gt;</a> ()</td></tr>
<tr class="separator:ab321255bbec2139fb5822b27886ca41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4485ce07a64c59e71cd25bcd9860f4cd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a4485ce07a64c59e71cd25bcd9860f4cd">operator-&gt;</a> () const</td></tr>
<tr class="separator:a4485ce07a64c59e71cd25bcd9860f4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f73e1c094e3e36d6455d46436e299a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a> () const</td></tr>
<tr class="memdesc:a0f73e1c094e3e36d6455d46436e299a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of location where the item is found.  <a href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">More...</a><br /></td></tr>
<tr class="separator:a0f73e1c094e3e36d6455d46436e299a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8620185442e2923bd811d251af1aaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a2c8620185442e2923bd811d251af1aaa">where_recursive</a> () const</td></tr>
<tr class="memdesc:a2c8620185442e2923bd811d251af1aaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of location where the topmost container of the item is found.  <a href="classitem__location.html#a2c8620185442e2923bd811d251af1aaa">More...</a><br /></td></tr>
<tr class="separator:a2c8620185442e2923bd811d251af1aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2a92227d0946b673eb95b0a53c766c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">position</a> () const</td></tr>
<tr class="memdesc:a7c2a92227d0946b673eb95b0a53c766c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the position where the item is found.  <a href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">More...</a><br /></td></tr>
<tr class="separator:a7c2a92227d0946b673eb95b0a53c766c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c1c7c6ce962dbe787ce5bc4fe36786"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a34c1c7c6ce962dbe787ce5bc4fe36786">pos_bub</a> () const</td></tr>
<tr class="separator:a34c1c7c6ce962dbe787ce5bc4fe36786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2ca6a2e19f2a5e7e92e000117bf3d7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#abc2ca6a2e19f2a5e7e92e000117bf3d7">describe</a> (const <a class="el" href="classCharacter.html">Character</a> *ch=nullptr) const</td></tr>
<tr class="memdesc:abc2ca6a2e19f2a5e7e92e000117bf3d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes the item location.  <a href="classitem__location.html#abc2ca6a2e19f2a5e7e92e000117bf3d7">More...</a><br /></td></tr>
<tr class="separator:abc2ca6a2e19f2a5e7e92e000117bf3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b090f9b4c37858e4a7b85e9265f34d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a61b090f9b4c37858e4a7b85e9265f34d">obtain</a> (<a class="el" href="classCharacter.html">Character</a> &amp;ch, int qty=-1)</td></tr>
<tr class="memdesc:a61b090f9b4c37858e4a7b85e9265f34d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move an item from the location to the character inventory If the player fails to obtain the item (likely due to a menu) returns <a class="el" href="classitem__location.html" title="A lightweight handle to an item independent of it&#39;s location Unlike a raw pointer can be (de-)seriali...">item_location</a>{}.  <a href="classitem__location.html#a61b090f9b4c37858e4a7b85e9265f34d">More...</a><br /></td></tr>
<tr class="separator:a61b090f9b4c37858e4a7b85e9265f34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61eb40367834d791602ff3a2ca5c5a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ac61eb40367834d791602ff3a2ca5c5a9">obtain_cost</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;ch, int qty=-1) const</td></tr>
<tr class="memdesc:ac61eb40367834d791602ff3a2ca5c5a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate (but do not deduct) number of moves required to obtain an item.  <a href="classitem__location.html#ac61eb40367834d791602ff3a2ca5c5a9">More...</a><br /></td></tr>
<tr class="separator:ac61eb40367834d791602ff3a2ca5c5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e90133672d99aa1cecde670e37c23c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a> ()</td></tr>
<tr class="memdesc:a41e90133672d99aa1cecde670e37c23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the selected item from the game.  <a href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">More...</a><br /></td></tr>
<tr class="separator:a41e90133672d99aa1cecde670e37c23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae27f98a520a46e960cb7e258f7a9e30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#aae27f98a520a46e960cb7e258f7a9e30">on_contents_changed</a> ()</td></tr>
<tr class="memdesc:aae27f98a520a46e960cb7e258f7a9e30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles updates to the item location, mostly for caching.  <a href="classitem__location.html#aae27f98a520a46e960cb7e258f7a9e30">More...</a><br /></td></tr>
<tr class="separator:aae27f98a520a46e960cb7e258f7a9e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fe8f49804524de3dcdfedd523be549"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#aa7fe8f49804524de3dcdfedd523be549">make_active</a> ()</td></tr>
<tr class="separator:aa7fe8f49804524de3dcdfedd523be549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a350bb267073f30205f780b394324a32c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a> ()</td></tr>
<tr class="memdesc:a350bb267073f30205f780b394324a32c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the selected item or nullptr.  <a href="classitem__location.html#a350bb267073f30205f780b394324a32c">More...</a><br /></td></tr>
<tr class="separator:a350bb267073f30205f780b394324a32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a618ae9bd37ccee538cdf6bdf9c22d719"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a618ae9bd37ccee538cdf6bdf9c22d719">get_item</a> () const</td></tr>
<tr class="separator:a618ae9bd37ccee538cdf6bdf9c22d719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282d636b1fb2b9be4d62123d2a4963e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a282d636b1fb2b9be4d62123d2a4963e0">set_should_stack</a> (bool should_stack) const</td></tr>
<tr class="separator:a282d636b1fb2b9be4d62123d2a4963e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c318c46c6daaa28c9ed522ae6d13a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a> () const</td></tr>
<tr class="memdesc:ad2c318c46c6daaa28c9ed522ae6d13a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the parent item, or an invalid location if it has no parent  <a href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">More...</a><br /></td></tr>
<tr class="separator:ad2c318c46c6daaa28c9ed522ae6d13a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbceea8bfe96a2132afa87b08bff716"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__pocket.html">item_pocket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a> () const</td></tr>
<tr class="separator:aedbceea8bfe96a2132afa87b08bff716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469707b7c1bb9b13683fec7adcaa26a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a469707b7c1bb9b13683fec7adcaa26a9">carrier</a> () const</td></tr>
<tr class="memdesc:a469707b7c1bb9b13683fec7adcaa26a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the character whose inventory contains this item, nullptr if none  <a href="classitem__location.html#a469707b7c1bb9b13683fec7adcaa26a9">More...</a><br /></td></tr>
<tr class="separator:a469707b7c1bb9b13683fec7adcaa26a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337696f1679154f092c1e941dc10ba12"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a337696f1679154f092c1e941dc10ba12">held_by</a> (<a class="el" href="classCharacter.html">Character</a> const &amp;who) const</td></tr>
<tr class="memdesc:a337696f1679154f092c1e941dc10ba12"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true if the item is in the inventory of the given character  <a href="classitem__location.html#a337696f1679154f092c1e941dc10ba12">More...</a><br /></td></tr>
<tr class="separator:a337696f1679154f092c1e941dc10ba12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbeb9ca7c1b58ec0564c0ffa437e415a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a> () const</td></tr>
<tr class="memdesc:afbeb9ca7c1b58ec0564c0ffa437e415a"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if this item location can and does have a parent  <a href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">More...</a><br /></td></tr>
<tr class="separator:afbeb9ca7c1b58ec0564c0ffa437e415a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065a2225ed0ad8902834e316d8b57a5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a065a2225ed0ad8902834e316d8b57a5f">volume_capacity</a> () const</td></tr>
<tr class="memdesc:a065a2225ed0ad8902834e316d8b57a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns available volume capacity where this item is located.  <a href="classitem__location.html#a065a2225ed0ad8902834e316d8b57a5f">More...</a><br /></td></tr>
<tr class="separator:a065a2225ed0ad8902834e316d8b57a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f3d551f22b07236798bf5fc01c0ea7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a75f3d551f22b07236798bf5fc01c0ea7">weight_capacity</a> () const</td></tr>
<tr class="memdesc:a75f3d551f22b07236798bf5fc01c0ea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns available weight capacity where this item is located.  <a href="classitem__location.html#a75f3d551f22b07236798bf5fc01c0ea7">More...</a><br /></td></tr>
<tr class="separator:a75f3d551f22b07236798bf5fc01c0ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38bd2c86f3c2036ab039bf2aa9df042c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a38bd2c86f3c2036ab039bf2aa9df042c">check_parent_capacity_recursive</a> () const</td></tr>
<tr class="memdesc:a38bd2c86f3c2036ab039bf2aa9df042c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if volume and weight capacity of all parent pockets &gt;= 0.  <a href="classitem__location.html#a38bd2c86f3c2036ab039bf2aa9df042c">More...</a><br /></td></tr>
<tr class="separator:a38bd2c86f3c2036ab039bf2aa9df042c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27947ba825ff3b12521a557d0c3c44d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a27947ba825ff3b12521a557d0c3c44d8">protected_from_liquids</a> () const</td></tr>
<tr class="memdesc:a27947ba825ff3b12521a557d0c3c44d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if the item is inside a not open watertight container  <a href="classitem__location.html#a27947ba825ff3b12521a557d0c3c44d8">More...</a><br /></td></tr>
<tr class="separator:a27947ba825ff3b12521a557d0c3c44d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc3e085525739ad057a65065cf70b75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a9dc3e085525739ad057a65065cf70b75">parents_can_contain_recursive</a> (<a class="el" href="classitem.html">item</a> *it) const</td></tr>
<tr class="separator:a9dc3e085525739ad057a65065cf70b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750a046a3b1edfcd1e5b08a08fdecfba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classret__val.html">ret_val</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a750a046a3b1edfcd1e5b08a08fdecfba">max_charges_by_parent_recursive</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a750a046a3b1edfcd1e5b08a08fdecfba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845dee70a12d66e7f6c41c68796068e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a845dee70a12d66e7f6c41c68796068e7">eventually_contains</a> (<a class="el" href="classitem__location.html">item_location</a> loc) const</td></tr>
<tr class="memdesc:a845dee70a12d66e7f6c41c68796068e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether another item is eventually contained by this item.  <a href="classitem__location.html#a845dee70a12d66e7f6c41c68796068e7">More...</a><br /></td></tr>
<tr class="separator:a845dee70a12d66e7f6c41c68796068e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf908a183e86dfb9b9a22fc555f13c4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#acf908a183e86dfb9b9a22fc555f13c4e">overflow</a> ()</td></tr>
<tr class="memdesc:acf908a183e86dfb9b9a22fc555f13c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overflow items into parent pockets recursively.  <a href="classitem__location.html#acf908a183e86dfb9b9a22fc555f13c4e">More...</a><br /></td></tr>
<tr class="separator:acf908a183e86dfb9b9a22fc555f13c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac32191753a11cc2f4aa2ad6d50e6405b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">nowhere</a></td></tr>
<tr class="separator:ac32191753a11cc2f4aa2ad6d50e6405b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a62b2b94aee35409e682f16e43952b257"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classitem__location_1_1impl.html">impl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a></td></tr>
<tr class="separator:a62b2b94aee35409e682f16e43952b257"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)serialized to/from JSON Provides a generic interface of querying, obtaining and removing an item Is invalidated by many operations (including copying of the item) </p>

<p class="definition">Definition at line <a class="el" href="item__location_8h_source.html#l00028">28</a> of file <a class="el" href="item__location_8h_source.html">item_location.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a038e108475b9fb4f9833268f5fa2888d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038e108475b9fb4f9833268f5fa2888d">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">item_location::type</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a038e108475b9fb4f9833268f5fa2888dafedb2d84cafe20862cb4399751a8a7e3"></a>invalid&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e"></a>character&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae"></a>map&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2"></a>vehicle&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863"></a>container&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="item__location_8h_source.html#l00031">31</a> of file <a class="el" href="item__location_8h_source.html">item_location.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                        : <span class="keywordtype">int</span> {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            <a class="code" href="namespaceiexamine.html#a371ca377784ccb87e3d8bf4e3da17c21">invalid</a> = 0,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            character = 1,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <a class="code" href="classmap.html">map</a> = 2,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <a class="code" href="classvehicle.html">vehicle</a> = 3,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            container = 4</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        };</div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_a371ca377784ccb87e3d8bf4e3da17c21"><div class="ttname"><a href="namespaceiexamine.html#a371ca377784ccb87e3d8bf4e3da17c21">iexamine::invalid</a></div><div class="ttdeci">void invalid(Character &amp;you, const tripoint &amp;examp)</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l07322">iexamine.cpp:7322</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d1a7b5bc343f8771751142b294ef84e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1a7b5bc343f8771751142b294ef84e">&#9670;&nbsp;</a></span>item_location() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_location::item_location </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00755">755</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    : <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>( <span class="keyword">new</span> impl::nowhere() ) {}</div>
<div class="ttc" id="aclassitem__location_html_a62b2b94aee35409e682f16e43952b257"><div class="ttname"><a href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">item_location::ptr</a></div><div class="ttdeci">std::shared_ptr&lt; impl &gt; ptr</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00160">item_location.h:158</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00156">item_location::impl::nowhere::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00669">item_location::impl::item_in_container::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00238">item_location::impl::item_on_map::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00384">item_location::impl::item_on_person::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l01027">obtain()</a>, and <a class="el" href="item__location_8cpp_source.html#l00085">item_location::impl::parent_item()</a>.</p>

</div>
</div>
<a id="a5a0a7b662c4bf75b0de47ac40bbe50e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a0a7b662c4bf75b0de47ac40bbe50e2">&#9670;&nbsp;</a></span>item_location() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_location::item_location </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00761">761</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    : <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>( <span class="keyword">new</span> impl::item_on_person( ch, which ) ) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adf5fc16bc04ce3ee11e5d96054f97f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5fc16bc04ce3ee11e5d96054f97f58">&#9670;&nbsp;</a></span>item_location() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_location::item_location </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmap__cursor.html">map_cursor</a> &amp;&#160;</td>
          <td class="paramname"><em>mc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00758">758</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    : <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>( <span class="keyword">new</span> impl::item_on_map( mc, which ) ) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac47edfc278681294839d748c2cd92334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac47edfc278681294839d748c2cd92334">&#9670;&nbsp;</a></span>item_location() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_location::item_location </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvehicle__cursor.html">vehicle_cursor</a> &amp;&#160;</td>
          <td class="paramname"><em>vc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00764">764</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    : <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>( <span class="keyword">new</span> impl::item_on_vehicle( vc, which ) ) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a94128fa517a6ed1ba6b504d14e0256c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94128fa517a6ed1ba6b504d14e0256c1">&#9670;&nbsp;</a></span>item_location() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">item_location::item_location </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__location.html">item_location</a> &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00767">767</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    : <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>( <span class="keyword">new</span> impl::item_in_container( container, which ) ) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a469707b7c1bb9b13683fec7adcaa26a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a469707b7c1bb9b13683fec7adcaa26a9">&#9670;&nbsp;</a></span>carrier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCharacter.html">Character</a> * item_location::carrier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the character whose inventory contains this item, nullptr if none </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01102">1102</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;{</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;carrier();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">advanced_inventory::action_examine()</a>, <a class="el" href="item__location_8cpp_source.html#l00636">item_location::impl::item_in_container::carrier()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04782">reload_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04621">insert_item_activity_actor::finish()</a>, <a class="el" href="item__location_8cpp_source.html#l01107">held_by()</a>, and <a class="el" href="item__pocket_8cpp_source.html#l01806">item_pocket::overflow()</a>.</p>

</div>
</div>
<a id="a38bd2c86f3c2036ab039bf2aa9df042c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38bd2c86f3c2036ab039bf2aa9df042c">&#9670;&nbsp;</a></span>check_parent_capacity_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::check_parent_capacity_recursive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if volume and weight capacity of all parent pockets &gt;= 0. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01122">1122</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;{</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;check_parent_capacity_recursive();</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00747">item_location::impl::item_in_container::check_parent_capacity_recursive()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l04782">reload_activity_actor::finish()</a>.</p>

</div>
</div>
<a id="abc2ca6a2e19f2a5e7e92e000117bf3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2ca6a2e19f2a5e7e92e000117bf3d7">&#9670;&nbsp;</a></span>describe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string item_location::describe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>ch</em> = <code>nullptr</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describes the item location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td>if set description is relative to character location </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01022">1022</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;{</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;describe( ch );</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l03145">inventory_selector::_uncategorize()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03457">inventory_selector::action_examine()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03007">ebooksave_activity_actor::completed_scanning_current_book()</a>, and <a class="el" href="game__inventory_8cpp_source.html#l02786">select_ammo_inventory_preset::select_ammo_inventory_preset()</a>.</p>

</div>
</div>
<a id="a9ac30dbe2dd50002ba0a9726f25f7420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac30dbe2dd50002ba0a9726f25f7420">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::deserialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00810">810</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    std::string <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> = obj.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;type&quot;</span> );</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">int</span> idx = -1;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;idx&quot;</span>, idx );</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;pos&quot;</span>, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> == <span class="stringliteral">&quot;character&quot;</span> ) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="classcharacter__id.html">character_id</a> who_id;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">if</span>( obj.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;character&quot;</span> ) ) {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;character&quot;</span>, who_id );</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="comment">// This is for migrating saves before npc item locations were supported and all</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="comment">// character item locations were assumed to be on g-&gt;u</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            who_id = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.reset( <span class="keyword">new</span> impl::item_on_person( who_id, idx ) );</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> == <span class="stringliteral">&quot;map&quot;</span> ) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.reset( <span class="keyword">new</span> impl::item_on_map( <a class="code" href="classmap__cursor.html">map_cursor</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ), idx ) );</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> == <span class="stringliteral">&quot;vehicle&quot;</span> ) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> veh = <a class="code" href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().veh_at( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) );</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordtype">int</span> part = obj.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;part&quot;</span> );</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">if</span>( veh &amp;&amp; part &gt;= 0 &amp;&amp; part &lt; veh-&gt;part_count() ) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.reset( <span class="keyword">new</span> impl::item_on_vehicle( <a class="code" href="classvehicle__cursor.html">vehicle_cursor</a>( *veh, part ), idx ) );</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> == <span class="stringliteral">&quot;in_container&quot;</span> ) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <a class="code" href="classitem__location.html">item_location</a> parent;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;parent&quot;</span>, parent );</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">if</span>( !parent.<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;valid() ) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;parent location does not point to valid item&quot;</span> );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.reset( <span class="keyword">new</span> impl::item_on_map( <a class="code" href="classmap__cursor.html">map_cursor</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ), idx ) ); <span class="comment">// drop on ground</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keyword">const</span> std::list&lt;item *&gt; parent_contents = parent-&gt;<a class="code" href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">all_items_top</a>();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">if</span>( idx &gt; -1 &amp;&amp; idx &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( parent_contents.size() ) ) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="keyword">auto</span> iter = parent_contents.begin();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            std::advance( iter, idx );</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.reset( <span class="keyword">new</span> impl::item_in_container( parent, *iter ) );</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="comment">// probably pointing to the wrong item</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;contents index greater than contents size&quot;</span> );</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a532ea812759469d654c7fde4738d11d5"><div class="ttname"><a href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">JsonObject::get_int</a></div><div class="ttdeci">int get_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00840">flexbuffer_json-inl.h:840</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a619cb4eae7922f357db47479fc71cf9b"><div class="ttname"><a href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00944">flexbuffer_json-inl.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclasscharacter__id_html"><div class="ttname"><a href="classcharacter__id.html">character_id</a></div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00009">character_id.h:10</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888d"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">item_location::type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00031">item_location.h:31</a></div></div>
<div class="ttc" id="aclassitem_html_a10898a02e2696873c90e6b9ea3aca7bc"><div class="ttname"><a href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">item::all_items_top</a></div><div class="ttdeci">std::list&lt; const item * &gt; all_items_top() const</div><div class="ttdoc">returns a list of pointers to all top-level items that are not mods</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14951">item.cpp:14951</a></div></div>
<div class="ttc" id="aclassmap__cursor_html"><div class="ttname"><a href="classmap__cursor.html">map_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="map__selector_8h_source.html#l00015">map_selector.h:16</a></div></div>
<div class="ttc" id="aclassvehicle__cursor_html"><div class="ttname"><a href="classvehicle__cursor.html">vehicle_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle__selector_8h_source.html#l00018">vehicle_selector.h:19</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="apoint_8h_html_afa8693bb804568b71fece8ab73d959bf"><div class="ttname"><a href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a></div><div class="ttdeci">constexpr tripoint tripoint_min</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00293">point.h:293</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="avpart__position_8h_html_a8da46e924794d004c9899494ecd600c5"><div class="ttname"><a href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a></div><div class="ttdeci">vehicle * veh_pointer_or_null(const optional_vpart_position &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00185">vpart_position.h:185</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l14951">item::all_items_top()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00840">JsonObject::get_int()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00813">JsonObject::get_string()</a>, <a class="el" href="character_8cpp_source.html#l00652">Character::getID()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00944">JsonObject::has_member()</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="item__location_8h_source.html#l00158">ptr</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l01059">JsonObject::read()</a>, <a class="el" href="point_8h_source.html#l00293">tripoint_min</a>, and <a class="el" href="vpart__position_8h_source.html#l00185">veh_pointer_or_null()</a>.</p>

</div>
</div>
<a id="a845dee70a12d66e7f6c41c68796068e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845dee70a12d66e7f6c41c68796068e7">&#9670;&nbsp;</a></span>eventually_contains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::eventually_contains </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a>&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether another item is eventually contained by this item. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00986">986</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;{</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">while</span>( loc.<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">if</span>( ( loc = loc.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>() ) == *<span class="keyword">this</span> ) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_ad2c318c46c6daaa28c9ed522ae6d13a4"><div class="ttname"><a href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">item_location::parent_item</a></div><div class="ttdeci">item_location parent_item() const</div><div class="ttdoc">returns the parent item, or an invalid location if it has no parent</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00860">item_location.cpp:860</a></div></div>
<div class="ttc" id="aclassitem__location_html_afbeb9ca7c1b58ec0564c0ffa437e415a"><div class="ttname"><a href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">item_location::has_parent</a></div><div class="ttdeci">bool has_parent() const</div><div class="ttdoc">true if this item location can and does have a parent</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00876">item_location.cpp:876</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00876">has_parent()</a>, and <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l00830">inventory_holster_preset::is_shown()</a>.</p>

</div>
</div>
<a id="a350bb267073f30205f780b394324a32c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350bb267073f30205f780b394324a32c">&#9670;&nbsp;</a></span>get_item() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item_location::get_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the selected item or nullptr. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01087">1087</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;{</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctrade_8cpp_source.html#l00197">anonymous_namespace{npctrade.cpp}::_trading_price()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01542">advanced_inventory::action_move_item()</a>, <a class="el" href="monexamine_8cpp_source.html#l00082">anonymous_namespace{monexamine.cpp}::attach_saddle_to()</a>, <a class="el" href="item_8cpp_source.html#l10112">item::can_contain()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03772">craft_activity_actor::canceled()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05234">disassemble_activity_actor::canceled()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00191">advanced_inv_area::canputitems()</a>, <a class="el" href="player__display_8cpp_source.html#l01155">change_armor_sprite()</a>, <a class="el" href="npctalk_8cpp_source.html#l00199">item_search_data::check()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03592">craft_activity_actor::check_if_craft_okay()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05148">check_if_disassemble_okay()</a>, <a class="el" href="crafting_8cpp_source.html#l02726">Character::complete_disassemble()</a>, <a class="el" href="consumption_8cpp_source.html#l01891">Character::consume()</a>, <a class="el" href="crafting_8cpp_source.html#l02540">Character::create_in_progress_disassembly()</a>, <a class="el" href="character_8cpp_source.html#l10140">Character::crush_frozen_liquid()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01619">salvage_actor::cut_up()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03064">damage_item()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03843">inventory_multiselector::deselect_contained_items()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00589">disassemble_inventory_preset::disassemble_inventory_preset()</a>, <a class="el" href="bionics_8cpp_source.html#l00575">npc::discharge_cbm_weapon()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06161">invoke_item_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03631">craft_activity_actor::do_turn()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03277">inventory_pick_selector::execute()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04448">unload_selector::execute()</a>, <a class="el" href="game_8cpp_source.html#l09916">favorite_ammo_or_select()</a>, <a class="el" href="npcmove_8cpp_source.html#l03492">npc::find_item()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00651">gunmod_remove_activity_actor::finish()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02626">bionic_install_preset::get_anesth_amount()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03448">get_auto_consume_moves()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00150">get_autopickup_items()</a>, <a class="el" href="character__attire_8cpp_source.html#l02402">get_child_pocket_with_parent()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01280">gunmod_remove_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01975">attach_veh_tool_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02574">bionic_install_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02663">bionic_install_surgeon_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02603">bionic_install_preset::get_failure_chance()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02689">bionic_install_surgeon_preset::get_failure_chance()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00168">liquid_handler::get_liquid_target()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02596">bionic_install_preset::get_operation_duration()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02682">bionic_install_surgeon_preset::get_operation_duration()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03786">craft_activity_actor::get_progress_message()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01261">gunmod_remove_inventory_preset::gunmod_remove_inventory_preset()</a>, <a class="el" href="iuse_8cpp_source.html#l04866">heat_item()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02608">activity_handlers::heat_item_finish()</a>, <a class="el" href="game_8cpp_source.html#l02035">game::inventory_item_menu()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00830">inventory_holster_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02001">salvage_inventory_preset::is_shown()</a>, <a class="el" href="item__action_8cpp_source.html#l00249">game::item_action_menu()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00472">liquid_inventory_selector_preset::liquid_inventory_selector_preset()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00492">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="map_8cpp_source.html#l05495">map::make_active()</a>, <a class="el" href="item__location_8cpp_source.html#l00927">max_charges_by_parent_recursive()</a>, <a class="el" href="ranged_8cpp_source.html#l00455">target_handler::mode_reach()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">advanced_inventory::move_all_items()</a>, <a class="el" href="item__location_8cpp_source.html#l00996">overflow()</a>, <a class="el" href="item__location_8cpp_source.html#l00884">parents_can_contain_recursive()</a>, <a class="el" href="melee_8cpp_source.html#l01801">Character::perform_technique()</a>, <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00982">avatar_action::plthrow()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">advanced_inventory::print_items()</a>, <a class="el" href="game_8cpp_source.html#l02013">rate_action_insert()</a>, <a class="el" href="handle__action_8cpp_source.html#l01602">read()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="game_8cpp_source.html#l09936">game::reload()</a>, <a class="el" href="iexamine_8cpp_source.html#l04738">reload_furniture()</a>, <a class="el" href="npctalk_8cpp_source.html#l02808">run_item_eocs()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01992">salvage_inventory_preset::salvage_inventory_preset()</a>, <a class="el" href="npctrade_8cpp_source.html#l00226">item_pricing::set_values()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03618">craft_activity_actor::start()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01791">read_activity_actor::start()</a>, <a class="el" href="crafting_8cpp_source.html#l00922">Character::start_craft()</a>, <a class="el" href="melee_8cpp_source.html#l02929">avatar::steal()</a>, <a class="el" href="npc_8cpp_source.html#l01294">npc::stow_item()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03604">inventory_multiselector::toggle_entries()</a>, <a class="el" href="iexamine_8cpp_source.html#l04326">iexamine::tree_maple()</a>, <a class="el" href="iexamine_8cpp_source.html#l04372">iexamine::tree_maple_tapped()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01485">salvage_actor::try_to_cut_up()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03482">unload_activity_actor::unload()</a>, <a class="el" href="map_8cpp_source.html#l05524">map::update_lum()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02547">holster_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04117">molle_attach_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04255">detach_gunmods_actor::use()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01555">salvage_actor::valid_to_cut_up()</a>, and <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>.</p>

</div>
</div>
<a id="a618ae9bd37ccee538cdf6bdf9c22d719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a618ae9bd37ccee538cdf6bdf9c22d719">&#9670;&nbsp;</a></span>get_item() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> * item_location::get_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01092">1092</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;{</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="afbeb9ca7c1b58ec0564c0ffa437e415a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbeb9ca7c1b58ec0564c0ffa437e415a">&#9670;&nbsp;</a></span>has_parent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::has_parent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>true if this item location can and does have a parent </p>
<p>exists because calling <a class="el" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4" title="returns the parent item, or an invalid location if it has no parent">parent_item()</a> naively causes debug messages </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00876">876</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;{</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a>() == <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">type::container</a> ) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">return</span> !!<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;parent_item();</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::type::container</a></div><div class="ttdeci">@ container</div></div>
<div class="ttc" id="aclassitem__location_html_a0f73e1c094e3e36d6455d46436e299a9"><div class="ttname"><a href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">item_location::where</a></div><div class="ttdeci">type where() const</div><div class="ttdoc">Returns the type of location where the item is found.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01001">item_location.cpp:1001</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">container</a>, <a class="el" href="item__location_8h_source.html#l00158">ptr</a>, and <a class="el" href="item__location_8cpp_source.html#l01001">where()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l03145">inventory_selector::_uncategorize()</a>, <a class="el" href="character__attire_8cpp_source.html#l02467">outfit::add_stash()</a>, <a class="el" href="character_8cpp_source.html#l10093">Character::can_crush_frozen_liquid()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01309">advanced_inventory::change_square()</a>, <a class="el" href="item__location_8cpp_source.html#l00986">eventually_contains()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03396">get_comestible_order()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00853">inventory_holster_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00521">pickup_inventory_preset::get_denial()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00817">comestible_inventory_preset::get_order()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00050">Character::handle_contents_changed()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03476">inventory_selector::highlight()</a>, <a class="el" href="game_8cpp_source.html#l02035">game::inventory_item_menu()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00399">wear_inventory_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00569">pickup_inventory_preset::is_shown()</a>, <a class="el" href="item__location_8cpp_source.html#l00927">max_charges_by_parent_recursive()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04090">obtain_activity_items()</a>, <a class="el" href="item__location_8cpp_source.html#l00884">parents_can_contain_recursive()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00114">anonymous_namespace{inventory_ui.cpp}::path_to_top()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">advanced_inventory::print_items()</a>, <a class="el" href="item__location_8cpp_source.html#l01127">protected_from_liquids()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler::unseal_pocket_containing()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, and <a class="el" href="inventory__ui_8cpp_source.html#l00164">anonymous_namespace{inventory_ui.cpp}::wielded_worn_category()</a>.</p>

</div>
</div>
<a id="a337696f1679154f092c1e941dc10ba12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337696f1679154f092c1e941dc10ba12">&#9670;&nbsp;</a></span>held_by()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::held_by </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> const &amp;&#160;</td>
          <td class="paramname"><em>who</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns true if the item is in the inventory of the given character </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01107">1107</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a469707b7c1bb9b13683fec7adcaa26a9">carrier</a>() == &amp;who;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a469707b7c1bb9b13683fec7adcaa26a9"><div class="ttname"><a href="classitem__location.html#a469707b7c1bb9b13683fec7adcaa26a9">item_location::carrier</a></div><div class="ttdeci">Character * carrier() const</div><div class="ttdoc">returns the character whose inventory contains this item, nullptr if none</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01102">item_location.cpp:1102</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l01102">carrier()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01542">advanced_inventory::action_move_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">advanced_inventory::move_all_items()</a>, <a class="el" href="item__location_8cpp_source.html#l00669">item_location::impl::item_in_container::obtain()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, and <a class="el" href="npc_8cpp_source.html#l01814">npc::wants_to_sell()</a>.</p>

</div>
</div>
<a id="aa7fe8f49804524de3dcdfedd523be549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fe8f49804524de3dcdfedd523be549">&#9670;&nbsp;</a></span>make_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::make_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01060">1060</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;{</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;valid() ) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item location does not point to valid item&quot;</span> );</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a>() ) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">type::container</a>: {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>().<a class="code" href="classitem__location.html#aa7fe8f49804524de3dcdfedd523be549">make_active</a>();</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">type::map</a>: {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#abc7101be108a49131b6646bfb29d381f">make_active</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">type::vehicle</a>: {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <span class="keyword">dynamic_cast&lt;</span>impl::item_on_vehicle *<span class="keyword">&gt;</span>( <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.get() )-&gt;<a class="code" href="classitem__location.html#aa7fe8f49804524de3dcdfedd523be549">make_active</a>( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888dafedb2d84cafe20862cb4399751a8a7e3">type::invalid</a>:</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">type::character</a>: {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            <span class="comment">// NOOP: characters don&#39;t cache active items</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::type::map</a></div><div class="ttdeci">@ map</div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">item_location::type::vehicle</a></div><div class="ttdeci">@ vehicle</div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">item_location::type::character</a></div><div class="ttdeci">@ character</div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888dafedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888dafedb2d84cafe20862cb4399751a8a7e3">item_location::type::invalid</a></div><div class="ttdeci">@ invalid</div></div>
<div class="ttc" id="aclassitem__location_html_aa7fe8f49804524de3dcdfedd523be549"><div class="ttname"><a href="classitem__location.html#aa7fe8f49804524de3dcdfedd523be549">item_location::make_active</a></div><div class="ttdeci">void make_active()</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01060">item_location.cpp:1060</a></div></div>
<div class="ttc" id="aclassmap_html_abc7101be108a49131b6646bfb29d381f"><div class="ttname"><a href="classmap.html#abc7101be108a49131b6646bfb29d381f">map::make_active</a></div><div class="ttdeci">void make_active(item_location &amp;loc)</div><div class="ttdoc">Update an item's active status, for example when adding hot or perishable liquid to a container.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05495">map.cpp:5495</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">character</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">container</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888dafedb2d84cafe20862cb4399751a8a7e3">invalid</a>, <a class="el" href="item__location_8cpp_source.html#l01060">make_active()</a>, <a class="el" href="map_8cpp_source.html#l05495">map::make_active()</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">map</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="item__location_8h_source.html#l00158">ptr</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5a76e813d6a0a40548b91acc11557bd2">vehicle</a>, and <a class="el" href="item__location_8cpp_source.html#l01001">where()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__actor_8cpp_source.html#l04621">insert_item_activity_actor::finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, <a class="el" href="item__location_8cpp_source.html#l01060">make_active()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00350">liquid_handler::perform_liquid_transfer()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>.</p>

</div>
</div>
<a id="a750a046a3b1edfcd1e5b08a08fdecfba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750a046a3b1edfcd1e5b08a08fdecfba">&#9670;&nbsp;</a></span>max_charges_by_parent_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classret__val.html">ret_val</a>&lt; int &gt; item_location::max_charges_by_parent_recursive </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00927">927</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;{</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;int&gt;::make_success</a>( <a class="code" href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">item::INFINITE_CHARGES</a> );</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordtype">float</span> weight_multiplier = 1.0f;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordtype">float</span> volume_multiplier = 1.0f;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::mass</a> max_weight = 1000_kilogram;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> max_volume = <a class="code" href="game__constants_8h.html#a754a537584865360f440ffe301069538">MAX_ITEM_VOLUME</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> current_location = *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">//item_location class cannot return current pocket so use first pocket for innermost container</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="comment">//Only used for weight and volume multipliers</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem__pocket.html">item_pocket</a> *current_pocket = <a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#a3b1020ac3a6c78a50597536bde0a22b7">get_all_standard_pockets</a>().front();</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keyword">const</span> <a class="code" href="classpocket__data.html">pocket_data</a> *current_pocket_data = current_pocket-&gt;<a class="code" href="classitem__pocket.html#a91e0a387599aed20ad342c64bf1805c7">get_pocket_data</a>();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">//Repeat until top-most container reached</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">while</span>( current_location.<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="comment">//Multiply weight and volume multipliers for each container</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        weight_multiplier = weight_multiplier * current_pocket_data-&gt;<a class="code" href="classpocket__data.html#a4da23871745ae5f2a07e10c6d643cc7c">weight_multiplier</a>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        volume_multiplier = volume_multiplier * current_pocket_data-&gt;<a class="code" href="classpocket__data.html#a83fa026c0309f96d9f52fd3636178877">volume_multiplier</a>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="comment">//Inserting into rigid pockets will not affect parent volume so stop keeping track</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">if</span>( current_pocket-&gt;<a class="code" href="classitem__pocket.html#a12e7694d523a2d64b6bae67e75eb9e14">rigid</a>() ) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            volume_multiplier = 0.0f;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        };</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="comment">//Weight multiplier of zero means parent containers are no longer affected so stop keeping track</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordflow">if</span>( weight_multiplier &gt; 0 ) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="comment">//Calculate effective remaining weight for current parent</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <a class="code" href="classunits_1_1quantity.html">units::mass</a> temp_weight = <a class="code" href="classitem__location.html#a75f3d551f22b07236798bf5fc01c0ea7">weight_capacity</a>() / weight_multiplier;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="comment">//Find the most restrictive weight to determine maximum charges</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            max_weight = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( max_weight, temp_weight );</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="comment">//Volume multiplier of zero means parent containers are no longer affected so stop keeping track</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">if</span>( volume_multiplier &gt; 0 ) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="comment">//Calculate effective remaining volume for current parent</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <a class="code" href="classunits_1_1quantity.html">units::volume</a> temp_volume = <a class="code" href="classitem__location.html#a065a2225ed0ad8902834e316d8b57a5f">volume_capacity</a>() / volume_multiplier;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="comment">//Find the most restrictive volume to determine maximum charges</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            max_volume = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( max_volume, temp_volume );</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="comment">//Move up one level of containers</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        current_pocket = current_location.<a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>();</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        current_pocket_data = current_pocket-&gt;<a class="code" href="classitem__pocket.html#a91e0a387599aed20ad342c64bf1805c7">get_pocket_data</a>();</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        current_location = current_location.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>();</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordtype">int</span> charges_weight = it.<a class="code" href="classitem.html#a732ea713c6965bb7a15ba7f2fe08f2b5">charges_per_weight</a>( max_weight, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">if</span>( charges_weight == 0 ) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;int&gt;::make_failure</a>( 0, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;item is too heavy for a parent pocket&quot;</span> ) );</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordtype">int</span> charges_volume = it.<a class="code" href="classitem.html#a902e330a0505ae225e2ed05921bdf004">charges_per_volume</a>( max_volume, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">if</span>( charges_volume == 0 ) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;int&gt;::make_failure</a>( 0, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;item is too big for a parent pocket&quot;</span> ) );</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;int&gt;::make_success</a>( <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( charges_weight, charges_volume ) );</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a065a2225ed0ad8902834e316d8b57a5f"><div class="ttname"><a href="classitem__location.html#a065a2225ed0ad8902834e316d8b57a5f">item_location::volume_capacity</a></div><div class="ttdeci">units::volume volume_capacity() const</div><div class="ttdoc">Returns available volume capacity where this item is located.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01112">item_location.cpp:1112</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01087">item_location.cpp:1087</a></div></div>
<div class="ttc" id="aclassitem__location_html_a75f3d551f22b07236798bf5fc01c0ea7"><div class="ttname"><a href="classitem__location.html#a75f3d551f22b07236798bf5fc01c0ea7">item_location::weight_capacity</a></div><div class="ttdeci">units::mass weight_capacity() const</div><div class="ttdoc">Returns available weight capacity where this item is located.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01117">item_location.cpp:1117</a></div></div>
<div class="ttc" id="aclassitem__location_html_aedbceea8bfe96a2132afa87b08bff716"><div class="ttname"><a href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">item_location::parent_pocket</a></div><div class="ttdeci">item_pocket * parent_pocket() const</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00868">item_location.cpp:868</a></div></div>
<div class="ttc" id="aclassitem__pocket_html"><div class="ttname"><a href="classitem__pocket.html">item_pocket</a></div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00036">item_pocket.h:37</a></div></div>
<div class="ttc" id="aclassitem__pocket_html_a12e7694d523a2d64b6bae67e75eb9e14"><div class="ttname"><a href="classitem__pocket.html#a12e7694d523a2d64b6bae67e75eb9e14">item_pocket::rigid</a></div><div class="ttdeci">bool rigid() const</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8cpp_source.html#l02066">item_pocket.cpp:2066</a></div></div>
<div class="ttc" id="aclassitem__pocket_html_a91e0a387599aed20ad342c64bf1805c7"><div class="ttname"><a href="classitem__pocket.html#a91e0a387599aed20ad342c64bf1805c7">item_pocket::get_pocket_data</a></div><div class="ttdeci">const pocket_data * get_pocket_data() const</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8cpp_source.html#l02112">item_pocket.cpp:2112</a></div></div>
<div class="ttc" id="aclassitem_html_a109dfb20d6dac296bab6c44db0f8ab1a"><div class="ttname"><a href="classitem.html#a109dfb20d6dac296bab6c44db0f8ab1a">item::INFINITE_CHARGES</a></div><div class="ttdeci">static const int INFINITE_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03072">item.h:3072</a></div></div>
<div class="ttc" id="aclassitem_html_a3b1020ac3a6c78a50597536bde0a22b7"><div class="ttname"><a href="classitem.html#a3b1020ac3a6c78a50597536bde0a22b7">item::get_all_standard_pockets</a></div><div class="ttdeci">std::vector&lt; const item_pocket * &gt; get_all_standard_pockets() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09711">item.cpp:9711</a></div></div>
<div class="ttc" id="aclassitem_html_a732ea713c6965bb7a15ba7f2fe08f2b5"><div class="ttname"><a href="classitem.html#a732ea713c6965bb7a15ba7f2fe08f2b5">item::charges_per_weight</a></div><div class="ttdeci">int charges_per_weight(const units::mass &amp;m, bool suppress_warning=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01356">item.cpp:1356</a></div></div>
<div class="ttc" id="aclassitem_html_a902e330a0505ae225e2ed05921bdf004"><div class="ttname"><a href="classitem.html#a902e330a0505ae225e2ed05921bdf004">item::charges_per_volume</a></div><div class="ttdeci">int charges_per_volume(const units::volume &amp;vol, bool suppress_warning=false) const</div><div class="ttdoc">Number of (charges of) this item that fit into the given volume.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01332">item.cpp:1332</a></div></div>
<div class="ttc" id="aclasspocket__data_html"><div class="ttname"><a href="classpocket__data.html">pocket_data</a></div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00450">item_pocket.h:451</a></div></div>
<div class="ttc" id="aclasspocket__data_html_a4da23871745ae5f2a07e10c6d643cc7c"><div class="ttname"><a href="classpocket__data.html#a4da23871745ae5f2a07e10c6d643cc7c">pocket_data::weight_multiplier</a></div><div class="ttdeci">float weight_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00496">item_pocket.h:496</a></div></div>
<div class="ttc" id="aclasspocket__data_html_a83fa026c0309f96d9f52fd3636178877"><div class="ttname"><a href="classpocket__data.html#a83fa026c0309f96d9f52fd3636178877">pocket_data::volume_multiplier</a></div><div class="ttdeci">float volume_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00498">item_pocket.h:498</a></div></div>
<div class="ttc" id="aclassret__val_html_a0bbde13713bc279563fa85782599f957"><div class="ttname"><a href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val::make_success</a></div><div class="ttdeci">static ret_val make_success(T val=default_success::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00063">ret_val.h:63</a></div></div>
<div class="ttc" id="aclassret__val_html_a415798e6fd736bd724329890cae0df4a"><div class="ttname"><a href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val::make_failure</a></div><div class="ttdeci">static ret_val make_failure(T val=default_failure::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00067">ret_val.h:67</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a754a537584865360f440ffe301069538"><div class="ttname"><a href="game__constants_8h.html#a754a537584865360f440ffe301069538">MAX_ITEM_VOLUME</a></div><div class="ttdeci">constexpr units::volume MAX_ITEM_VOLUME</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00033">game_constants.h:33</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="item_8cpp_source.html#l01332">item::charges_per_volume()</a>, <a class="el" href="item_8cpp_source.html#l01356">item::charges_per_weight()</a>, <a class="el" href="item_8cpp_source.html#l09711">item::get_all_standard_pockets()</a>, <a class="el" href="item__location_8cpp_source.html#l01087">get_item()</a>, <a class="el" href="item__pocket_8cpp_source.html#l02112">item_pocket::get_pocket_data()</a>, <a class="el" href="item__location_8cpp_source.html#l00876">has_parent()</a>, <a class="el" href="item_8h_source.html#l03072">item::INFINITE_CHARGES</a>, <a class="el" href="ret__val_8h_source.html#l00067">ret_val&lt; T &gt;::make_failure()</a>, <a class="el" href="ret__val_8h_source.html#l00063">ret_val&lt; T &gt;::make_success()</a>, <a class="el" href="game__constants_8h_source.html#l00033">MAX_ITEM_VOLUME</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00868">parent_pocket()</a>, <a class="el" href="item__pocket_8cpp_source.html#l02066">item_pocket::rigid()</a>, <a class="el" href="item__location_8cpp_source.html#l01112">volume_capacity()</a>, <a class="el" href="item__pocket_8h_source.html#l00498">pocket_data::volume_multiplier</a>, <a class="el" href="item__location_8cpp_source.html#l01117">weight_capacity()</a>, and <a class="el" href="item__pocket_8h_source.html#l00496">pocket_data::weight_multiplier</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__attire_8cpp_source.html#l02467">outfit::add_stash()</a>, and <a class="el" href="character_8cpp_source.html#l06103">Character::pour_into()</a>.</p>

</div>
</div>
<a id="a61b090f9b4c37858e4a7b85e9265f34d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b090f9b4c37858e4a7b85e9265f34d">&#9670;&nbsp;</a></span>obtain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html">item_location</a> item_location::obtain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move an item from the location to the character inventory If the player fails to obtain the item (likely due to a menu) returns <a class="el" href="classitem__location.html" title="A lightweight handle to an item independent of it&#39;s location Unlike a raw pointer can be (de-)seriali...">item_location</a>{}. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch</td><td><a class="el" href="classCharacter.html">Character</a> who's inventory gets the item </td></tr>
    <tr><td class="paramname">qty</td><td>if specified limits maximum obtained charges </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>caller should restack inventory if item is to remain in it </dd>
<dd>
all further operations using this class are invalid </dd>
<dd>
it is unsafe to call this within unsequenced operations (see #15542) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classitem__location.html" title="A lightweight handle to an item independent of it&#39;s location Unlike a raw pointer can be (de-)seriali...">item_location</a> for the item </dd></dl>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01027">1027</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;{</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;valid() ) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item location does not point to valid item&quot;</span> );</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location</a>();</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;obtain( ch, qty );</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a4d1a7b5bc343f8771751142b294ef84e"><div class="ttname"><a href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location::item_location</a></div><div class="ttdeci">item_location()</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00755">item_location.cpp:755</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="item__location_8cpp_source.html#l00755">item_location()</a>, and <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l01182">npc::do_npc_read()</a>, <a class="el" href="handle__action_8cpp_source.html#l01602">read()</a>, <a class="el" href="game_8cpp_source.html#l09936">game::reload()</a>, <a class="el" href="armor__layers_8cpp_source.html#l00605">outfit::sort_armor()</a>, <a class="el" href="handle__action_8cpp_source.html#l01590">takeoff()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03981">saw_barrel_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04042">saw_stock_actor::use()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, and <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>.</p>

</div>
</div>
<a id="ac61eb40367834d791602ff3a2ca5c5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac61eb40367834d791602ff3a2ca5c5a9">&#9670;&nbsp;</a></span>obtain_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int item_location::obtain_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate (but do not deduct) number of moves required to obtain an item. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classitem__location.html#a61b090f9b4c37858e4a7b85e9265f34d" title="Move an item from the location to the character inventory If the player fails to obtain the item (lik...">item_location::obtain</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01036">1036</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;{</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;obtain_cost( ch, qty );</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__actor_8cpp_source.html#l04090">obtain_activity_items()</a>, <a class="el" href="item__location_8cpp_source.html#l00709">item_location::impl::item_in_container::obtain_cost()</a>, <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>, <a class="el" href="avatar_8cpp_source.html#l01385">avatar::wield()</a>, and <a class="el" href="character_8cpp_source.html#l12939">Character::wield_contents()</a>.</p>

</div>
</div>
<a id="aae27f98a520a46e960cb7e258f7a9e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae27f98a520a46e960cb7e258f7a9e30">&#9670;&nbsp;</a></span>on_contents_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::on_contents_changed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles updates to the item location, mostly for caching. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01051">1051</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;{</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;valid() ) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item location does not point to valid item&quot;</span> );</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;on_contents_changed();</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, and <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler::unseal_pocket_containing()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>.</p>

</div>
</div>
<a id="a69d5f6ad6915ec34fcaa285638e213b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d5f6ad6915ec34fcaa285638e213b9">&#9670;&nbsp;</a></span>operator bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">item_location::operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00780">780</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;{</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;valid();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa18dd2f784fdf89adda3f57325dbe55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa18dd2f784fdf89adda3f57325dbe55">&#9670;&nbsp;</a></span>operator!=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="enum__traits_8h.html#aeb9756d1cf0993ad7806b815ec378a3d">item_location::operator!</a>= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__location.html">item_location</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00775">775</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;{</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target() != rhs.<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="ad2f9cd017cd660065bba8457b608631d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f9cd017cd660065bba8457b608631d">&#9670;&nbsp;</a></span>operator*() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; item_location::operator* </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00785">785</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;{</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="a54814f0629249b34b360a114a39b1b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54814f0629249b34b360a114a39b1b1e">&#9670;&nbsp;</a></span>operator*() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> &amp; item_location::operator* </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00790">790</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="ab321255bbec2139fb5822b27886ca41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab321255bbec2139fb5822b27886ca41e">&#9670;&nbsp;</a></span>operator-&gt;() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item_location::operator-&gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00795">795</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;{</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="a4485ce07a64c59e71cd25bcd9860f4cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4485ce07a64c59e71cd25bcd9860f4cd">&#9670;&nbsp;</a></span>operator-&gt;() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> * item_location::operator-&gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00800">800</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;{</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="ab196cde795460480acc5299bae96ba5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab196cde795460480acc5299bae96ba5e">&#9670;&nbsp;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__location.html">item_location</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00770">770</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target() == rhs.<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;target();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="acf908a183e86dfb9b9a22fc555f13c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf908a183e86dfb9b9a22fc555f13c4e">&#9670;&nbsp;</a></span>overflow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::overflow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overflow items into parent pockets recursively. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00996">996</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;{</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#ab9096a37a5f340f3ac5b6b564ec668cf">overflow</a>( <a class="code" href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">position</a>(), *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a7c2a92227d0946b673eb95b0a53c766c"><div class="ttname"><a href="classitem__location.html#a7c2a92227d0946b673eb95b0a53c766c">item_location::position</a></div><div class="ttdeci">tripoint position() const</div><div class="ttdoc">Returns the position where the item is found.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01011">item_location.cpp:1011</a></div></div>
<div class="ttc" id="aclassitem_html_ab9096a37a5f340f3ac5b6b564ec668cf"><div class="ttname"><a href="classitem.html#ab9096a37a5f340f3ac5b6b564ec668cf">item::overflow</a></div><div class="ttdeci">void overflow(const tripoint &amp;pos, const item_location &amp;loc=item_location::nowhere)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10235">item.cpp:10235</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l01087">get_item()</a>, <a class="el" href="item_8cpp_source.html#l10235">item::overflow()</a>, and <a class="el" href="item__location_8cpp_source.html#l01011">position()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__actor_8cpp_source.html#l02330">move_items_activity_actor::do_turn()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00665">Character::drop_invalid_inventory()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00956">avatar_action::eat()</a>, <a class="el" href="item__pocket_8cpp_source.html#l01806">item_pocket::overflow()</a>, <a class="el" href="iexamine_8cpp_source.html#l06554">smoker_load_food()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>.</p>

</div>
</div>
<a id="ad2c318c46c6daaa28c9ed522ae6d13a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c318c46c6daaa28c9ed522ae6d13a4">&#9670;&nbsp;</a></span>parent_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html">item_location</a> item_location::parent_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the parent item, or an invalid location if it has no parent </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00860">860</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a>() == <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">type::container</a> ) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;parent_item();</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_ac32191753a11cc2f4aa2ad6d50e6405b"><div class="ttname"><a href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a></div><div class="ttdeci">static const item_location nowhere</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00041">item_location.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">container</a>, <a class="el" href="item__location_8h_source.html#l00041">nowhere</a>, <a class="el" href="item__location_8h_source.html#l00158">ptr</a>, and <a class="el" href="item__location_8cpp_source.html#l01001">where()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l03145">inventory_selector::_uncategorize()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l01282">inventory_column::add_entry()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01309">advanced_inventory::change_square()</a>, <a class="el" href="item__location_8cpp_source.html#l00986">eventually_contains()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00853">inventory_holster_preset::get_denial()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00050">Character::handle_contents_changed()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03476">inventory_selector::highlight()</a>, <a class="el" href="game_8cpp_source.html#l02035">game::inventory_item_menu()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04544">is_bulk_load()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04080">is_bulk_unload()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00399">wear_inventory_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00569">pickup_inventory_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02849">select_ammo_inventory_preset::is_shown()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, <a class="el" href="item__location_8cpp_source.html#l01060">make_active()</a>, <a class="el" href="item__location_8cpp_source.html#l00927">max_charges_by_parent_recursive()</a>, <a class="el" href="item__pocket_8cpp_source.html#l01776">move_to_parent_pocket_recursive()</a>, <a class="el" href="item_8cpp_source.html#l11532">item::reload_option::moves()</a>, <a class="el" href="item__location_8cpp_source.html#l00884">parents_can_contain_recursive()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00114">anonymous_namespace{inventory_ui.cpp}::path_to_top()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">advanced_inventory::print_items()</a>, <a class="el" href="item__location_8cpp_source.html#l01127">protected_from_liquids()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="pickup_8cpp_source.html#l00485">Pickup::pick_info::set_src()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03171">inventory_selector::toggle_categorize_contained()</a>, <a class="el" href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler::unseal_pocket_containing()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, and <a class="el" href="inventory__ui_8cpp_source.html#l00164">anonymous_namespace{inventory_ui.cpp}::wielded_worn_category()</a>.</p>

</div>
</div>
<a id="aedbceea8bfe96a2132afa87b08bff716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedbceea8bfe96a2132afa87b08bff716">&#9670;&nbsp;</a></span>parent_pocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__pocket.html">item_pocket</a> * item_location::parent_pocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00868">868</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#a0f73e1c094e3e36d6455d46436e299a9">where</a>() == <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">type::container</a> ) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;parent_pocket();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">container</a>, <a class="el" href="item__location_8h_source.html#l00158">ptr</a>, and <a class="el" href="item__location_8cpp_source.html#l01001">where()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l10093">Character::can_crush_frozen_liquid()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03396">get_comestible_order()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00817">comestible_inventory_preset::get_order()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00050">Character::handle_contents_changed()</a>, <a class="el" href="game_8cpp_source.html#l02035">game::inventory_item_menu()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00183">is_worn_ablative()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, <a class="el" href="item__location_8cpp_source.html#l00927">max_charges_by_parent_recursive()</a>, <a class="el" href="item__pocket_8cpp_source.html#l01776">move_to_parent_pocket_recursive()</a>, <a class="el" href="item__location_8cpp_source.html#l00884">parents_can_contain_recursive()</a>, <a class="el" href="contents__change__handler_8cpp_source.html#l00020">contents_change_handler::unseal_pocket_containing()</a>, and <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>.</p>

</div>
</div>
<a id="a9dc3e085525739ad057a65065cf70b75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc3e085525739ad057a65065cf70b75">&#9670;&nbsp;</a></span>parents_can_contain_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classret__val.html">ret_val</a>&lt; void &gt; item_location::parents_can_contain_recursive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00884">884</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;{</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="classitem__pocket.html">item_pocket</a> *<a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::mass</a> it_weight = it-&gt;<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>();</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::volume</a> it_volume = it-&gt;<a class="code" href="classitem.html#a686df014e8aa8bc4637883802d05f935">volume</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="classunits_1_1quantity.html">units::length</a> it_length = it-&gt;<a class="code" href="classitem.html#a2d1d6f2b5f990f45dfe79e5829012002">length</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> current_location = *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">//item_location class cannot return current pocket so use first pocket for innermost container</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">//Only used for weight and volume multipliers</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem__pocket.html">item_pocket</a> *current_pocket = <a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#a3b1020ac3a6c78a50597536bde0a22b7">get_all_standard_pockets</a>().front();</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keyword">const</span> <a class="code" href="classpocket__data.html">pocket_data</a> *current_pocket_data = current_pocket-&gt;<a class="code" href="classitem__pocket.html#a91e0a387599aed20ad342c64bf1805c7">get_pocket_data</a>();</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">//Repeat until top-most container reached</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">while</span>( current_location.<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a> = current_location.<a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="comment">//Ignore volume and length after innermost rigid container</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">if</span>( current_pocket-&gt;<a class="code" href="classitem__pocket.html#a12e7694d523a2d64b6bae67e75eb9e14">rigid</a>() ) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            it_volume = 0_ml;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            it_length = 0_mm;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="comment">//Multiply weight and volume multipliers for each container</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        it_weight = it_weight * current_pocket_data-&gt;<a class="code" href="classpocket__data.html#a4da23871745ae5f2a07e10c6d643cc7c">weight_multiplier</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        it_volume = it_volume * current_pocket_data-&gt;<a class="code" href="classpocket__data.html#a83fa026c0309f96d9f52fd3636178877">volume_multiplier</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        it_length = it_length * std::cbrt( current_pocket_data-&gt;<a class="code" href="classpocket__data.html#a83fa026c0309f96d9f52fd3636178877">volume_multiplier</a> );</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span>( it_weight &gt; <a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>-&gt;<a class="code" href="classitem__pocket.html#ac1f85acca53dbcda4a7b8773a2c3858c">remaining_weight</a>() ) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;void&gt;::make_failure</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;item is too heavy for a parent pocket&quot;</span> ) );</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it_volume &gt; <a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>-&gt;<a class="code" href="classitem__pocket.html#ad45581035745504025743088ae7f60a4">remaining_volume</a>() ) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;void&gt;::make_failure</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;item is too big for a parent pocket&quot;</span> ) );</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it_length &gt; <a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>-&gt;<a class="code" href="classitem__pocket.html#a91e0a387599aed20ad342c64bf1805c7">get_pocket_data</a>()-&gt;<a class="code" href="classpocket__data.html#ae37cc2aa0c38454eace6f00483ff60c2">max_item_length</a> ) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;void&gt;::make_failure</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;item is too long for a parent pocket&quot;</span> ) );</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="comment">//Move up one level of containers</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        current_pocket = <a class="code" href="classitem__location.html#aedbceea8bfe96a2132afa87b08bff716">parent_pocket</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        current_pocket_data = current_pocket-&gt;<a class="code" href="classitem__pocket.html#a91e0a387599aed20ad342c64bf1805c7">get_pocket_data</a>();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        current_location = current_location.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;void&gt;::make_success</a>();</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div>
<div class="ttc" id="aclassitem__pocket_html_ac1f85acca53dbcda4a7b8773a2c3858c"><div class="ttname"><a href="classitem__pocket.html#ac1f85acca53dbcda4a7b8773a2c3858c">item_pocket::remaining_weight</a></div><div class="ttdeci">units::mass remaining_weight() const</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8cpp_source.html#l02326">item_pocket.cpp:2326</a></div></div>
<div class="ttc" id="aclassitem__pocket_html_ad45581035745504025743088ae7f60a4"><div class="ttname"><a href="classitem__pocket.html#ad45581035745504025743088ae7f60a4">item_pocket::remaining_volume</a></div><div class="ttdeci">units::volume remaining_volume() const</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8cpp_source.html#l00578">item_pocket.cpp:578</a></div></div>
<div class="ttc" id="aclassitem_html_a2d1d6f2b5f990f45dfe79e5829012002"><div class="ttname"><a href="classitem.html#a2d1d6f2b5f990f45dfe79e5829012002">item::length</a></div><div class="ttdeci">units::length length() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07192">item.cpp:7192</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdoc">Total weight of an item accounting for all contained/integrated items.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07081">item.cpp:7081</a></div></div>
<div class="ttc" id="aclassitem_html_a686df014e8aa8bc4637883802d05f935"><div class="ttname"><a href="classitem.html#a686df014e8aa8bc4637883802d05f935">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false, bool ignore_contents=false, int charges_in_vol=-1) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07360">item.cpp:7360</a></div></div>
<div class="ttc" id="aclasspocket__data_html_ae37cc2aa0c38454eace6f00483ff60c2"><div class="ttname"><a href="classpocket__data.html#ae37cc2aa0c38454eace6f00483ff60c2">pocket_data::max_item_length</a></div><div class="ttdeci">units::length max_item_length</div><div class="ttdef"><b>Definition:</b> <a href="item__pocket_8h_source.html#l00480">item_pocket.h:480</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="item_8cpp_source.html#l09711">item::get_all_standard_pockets()</a>, <a class="el" href="item__location_8cpp_source.html#l01087">get_item()</a>, <a class="el" href="item__pocket_8cpp_source.html#l02112">item_pocket::get_pocket_data()</a>, <a class="el" href="item__location_8cpp_source.html#l00876">has_parent()</a>, <a class="el" href="item_8cpp_source.html#l07192">item::length()</a>, <a class="el" href="ret__val_8h_source.html#l00067">ret_val&lt; T &gt;::make_failure()</a>, <a class="el" href="ret__val_8h_source.html#l00063">ret_val&lt; T &gt;::make_success()</a>, <a class="el" href="item__pocket_8h_source.html#l00480">pocket_data::max_item_length</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00868">parent_pocket()</a>, <a class="el" href="item__pocket_8cpp_source.html#l00578">item_pocket::remaining_volume()</a>, <a class="el" href="item__pocket_8cpp_source.html#l02326">item_pocket::remaining_weight()</a>, <a class="el" href="item__pocket_8cpp_source.html#l02066">item_pocket::rigid()</a>, <a class="el" href="item_8cpp_source.html#l07360">item::volume()</a>, <a class="el" href="item__pocket_8h_source.html#l00498">pocket_data::volume_multiplier</a>, <a class="el" href="item_8cpp_source.html#l07081">item::weight()</a>, and <a class="el" href="item__pocket_8h_source.html#l00496">pocket_data::weight_multiplier</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01542">advanced_inventory::action_move_item()</a>, and <a class="el" href="character__attire_8cpp_source.html#l02467">outfit::add_stash()</a>.</p>

</div>
</div>
<a id="a34c1c7c6ce962dbe787ce5bc4fe36786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c1c7c6ce962dbe787ce5bc4fe36786">&#9670;&nbsp;</a></span>pos_bub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> item_location::pos_bub </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01016">1016</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a>( <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;position() );</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;}</div>
<div class="ttc" id="acoordinates_8h_html_a38e880e550bb0688dea9353138da8683"><div class="ttname"><a href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::reality_bubble, coords::ms &gt; tripoint_bub_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00716">coordinates.h:716</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__actor_8cpp_source.html#l03592">craft_activity_actor::check_if_craft_okay()</a>, <a class="el" href="crafting_8cpp_source.html#l02795">Character::complete_disassemble()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03064">damage_item()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02330">move_items_activity_actor::do_turn()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03448">get_auto_consume_moves()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02849">select_ammo_inventory_preset::is_shown()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00712">advanced_inventory::recalc_pane()</a>.</p>

</div>
</div>
<a id="a7c2a92227d0946b673eb95b0a53c766c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2a92227d0946b673eb95b0a53c766c">&#9670;&nbsp;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> item_location::position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the position where the item is found. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01011">1011</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;position();</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l03145">inventory_selector::_uncategorize()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l01282">inventory_column::add_entry()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01241">activity_handlers::butcher_finish()</a>, <a class="el" href="character_8cpp_source.html#l10140">Character::crush_frozen_liquid()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01619">salvage_actor::cut_up()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05191">disassemble_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01322">hacksaw_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02555">boltcutting_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05316">oxytorch_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05692">prying_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03631">craft_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04782">reload_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06555">firstaid_activity_actor::finish()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00150">get_autopickup_items()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00774">comestible_inventory_preset::get_denial()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00764">hack_attempt()</a>, <a class="el" href="iuse_8cpp_source.html#l04866">heat_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l05623">vehicle::idle()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04544">is_bulk_load()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00569">pickup_inventory_preset::is_shown()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00492">aim_activity_actor::load_RAS_weapon()</a>, <a class="el" href="map_8cpp_source.html#l05495">map::make_active()</a>, <a class="el" href="vehicle_8cpp_source.html#l05825">vehicle::make_active()</a>, <a class="el" href="item__location_8cpp_source.html#l00996">overflow()</a>, <a class="el" href="item__location_8cpp_source.html#l00655">item_location::impl::item_in_container::position()</a>, <a class="el" href="iexamine_8cpp_source.html#l04738">reload_furniture()</a>, <a class="el" href="pickup_8cpp_source.html#l00485">Pickup::pick_info::set_src()</a>, <a class="el" href="iexamine_8cpp_source.html#l04326">iexamine::tree_maple()</a>, <a class="el" href="iexamine_8cpp_source.html#l01397">iexamine::try_start_hacking()</a>, <a class="el" href="map_8cpp_source.html#l05524">map::update_lum()</a>, <a class="el" href="character_8cpp_source.html#l13045">Character::use()</a>, and <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>.</p>

</div>
</div>
<a id="a27947ba825ff3b12521a557d0c3c44d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27947ba825ff3b12521a557d0c3c44d8">&#9670;&nbsp;</a></span>protected_from_liquids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::protected_from_liquids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>true if the item is inside a not open watertight container </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01127">1127</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// check if inside a watertight which is not an open_container</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="classitem__location.html">item_location</a> parent = <a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">// parent can protect the item against water</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span>( parent-&gt;<a class="code" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() &amp;&amp; !parent-&gt;<a class="code" href="classitem.html#a397ded92d52f1c19cc4e8e2edb13839d">will_spill</a>() ) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="comment">// check the parent&#39;s parent</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">return</span> parent.<a class="code" href="classitem__location.html#a27947ba825ff3b12521a557d0c3c44d8">protected_from_liquids</a>();</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="comment">// we recursively checked all containers</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="comment">// none are closed watertight containers</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="ttc" id="aclassitem__location_html_a27947ba825ff3b12521a557d0c3c44d8"><div class="ttname"><a href="classitem__location.html#a27947ba825ff3b12521a557d0c3c44d8">item_location::protected_from_liquids</a></div><div class="ttdeci">bool protected_from_liquids() const</div><div class="ttdoc">true if the item is inside a not open watertight container</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01127">item_location.cpp:1127</a></div></div>
<div class="ttc" id="aclassitem_html_a22ad63b72a459c8f95893a853348cb06"><div class="ttname"><a href="classitem.html#a22ad63b72a459c8f95893a853348cb06">item::is_watertight_container</a></div><div class="ttdeci">bool is_watertight_container() const</div><div class="ttdoc">Whether this is a container which can be used to store liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09741">item.cpp:9741</a></div></div>
<div class="ttc" id="aclassitem_html_a397ded92d52f1c19cc4e8e2edb13839d"><div class="ttname"><a href="classitem.html#a397ded92d52f1c19cc4e8e2edb13839d">item::will_spill</a></div><div class="ttdeci">bool will_spill() const</div><div class="ttdoc">if the item will spill if placed into a container</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l12553">item.cpp:12553</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00876">has_parent()</a>, <a class="el" href="item_8cpp_source.html#l09741">item::is_watertight_container()</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="item__location_8cpp_source.html#l01127">protected_from_liquids()</a>, and <a class="el" href="item_8cpp_source.html#l12553">item::will_spill()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l01127">protected_from_liquids()</a>.</p>

</div>
</div>
<a id="a41e90133672d99aa1cecde670e37c23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e90133672d99aa1cecde670e37c23c">&#9670;&nbsp;</a></span>remove_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::remove_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the selected item from the game. </p>
<dl class="section warning"><dt>Warning</dt><dd>all further operations using this class are invalid </dd></dl>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01041">1041</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;{</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;valid() ) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item location does not point to valid item&quot;</span> );</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;remove_item();</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>.reset( <span class="keyword">new</span> impl::nowhere() );</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, and <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="monexamine_8cpp_source.html#l00308">anonymous_namespace{monexamine.cpp}::add_armor()</a>, <a class="el" href="monexamine_8cpp_source.html#l00082">anonymous_namespace{monexamine.cpp}::attach_saddle_to()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01241">activity_handlers::butcher_finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03772">craft_activity_actor::canceled()</a>, <a class="el" href="crafting_8cpp_source.html#l02795">Character::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l03087">veh_interact::complete_vehicle()</a>, <a class="el" href="consumption_8cpp_source.html#l01891">Character::consume()</a>, <a class="el" href="crafting_8cpp_source.html#l02540">Character::create_in_progress_disassembly()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01619">salvage_actor::cut_up()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03064">damage_item()</a>, <a class="el" href="iexamine_8cpp_source.html#l00908">anonymous_namespace{iexamine.cpp}::atm_menu::do_exchange_cash()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06088">wear_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06027">wield_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03631">craft_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l02330">move_items_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l07611">wash_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04782">reload_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05542">reel_cable_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06555">firstaid_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00689">gunmod_remove_activity_actor::gunmod_remove()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00050">Character::handle_contents_changed()</a>, <a class="el" href="melee_8cpp_source.html#l00203">Character::handle_melee_wear()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, <a class="el" href="iexamine_8cpp_source.html#l00399">iexamine::nanofab()</a>, <a class="el" href="npc_8cpp_source.html#l02460">npc::npc_dismount()</a>, <a class="el" href="item__location_8cpp_source.html#l00669">item_location::impl::item_in_container::obtain()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04090">obtain_activity_items()</a>, <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00574">avatar::power_bionics()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="iexamine_8cpp_source.html#l04738">reload_furniture()</a>, <a class="el" href="iexamine_8cpp_source.html#l06554">smoker_load_food()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l01869">activity_handlers::start_fire_do_turn()</a>, <a class="el" href="iexamine_8cpp_source.html#l04326">iexamine::tree_maple()</a>, <a class="el" href="iexamine_8cpp_source.html#l04372">iexamine::tree_maple_tapped()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03482">unload_activity_actor::unload()</a>, <a class="el" href="character_8cpp_source.html#l11621">Character::unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02642">ammobelt_actor::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04117">molle_attach_actor::use()</a>, <a class="el" href="character_8cpp_source.html#l13045">Character::use()</a>, <a class="el" href="character__attire_8cpp_source.html#l00261">Character::wear()</a>, and <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>.</p>

</div>
</div>
<a id="a275ba051e71a9d43c39cd4d3d103968e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a275ba051e71a9d43c39cd4d3d103968e">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>js</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00805">805</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;serialize( js );</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="a282d636b1fb2b9be4d62123d2a4963e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282d636b1fb2b9be4d62123d2a4963e0">&#9670;&nbsp;</a></span>set_should_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::set_should_stack </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_stack</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01097">1097</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;should_stack = should_stack;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

</div>
</div>
<a id="a065a2225ed0ad8902834e316d8b57a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065a2225ed0ad8902834e316d8b57a5f">&#9670;&nbsp;</a></span>volume_capacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> item_location::volume_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns available volume capacity where this item is located. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01112">1112</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;{</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;volume_capacity();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, and <a class="el" href="item__location_8cpp_source.html#l00927">max_charges_by_parent_recursive()</a>.</p>

</div>
</div>
<a id="a75f3d551f22b07236798bf5fc01c0ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f3d551f22b07236798bf5fc01c0ea7">&#9670;&nbsp;</a></span>weight_capacity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> item_location::weight_capacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns available weight capacity where this item is located. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01117">1117</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;{</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;weight_capacity();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, and <a class="el" href="item__location_8cpp_source.html#l00927">max_charges_by_parent_recursive()</a>.</p>

</div>
</div>
<a id="a0f73e1c094e3e36d6455d46436e299a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f73e1c094e3e36d6455d46436e299a9">&#9670;&nbsp;</a></span>where()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">item_location::type</a> item_location::where </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the type of location where the item is found. </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01001">1001</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;{</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;where();</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l03145">inventory_selector::_uncategorize()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l01282">inventory_column::add_entry()</a>, <a class="el" href="item_8cpp_source.html#l10112">item::can_contain()</a>, <a class="el" href="consumption_8cpp_source.html#l01891">Character::consume()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01619">salvage_actor::cut_up()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03064">damage_item()</a>, <a class="el" href="activity__actor_8cpp_source.html#l05191">disassemble_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03631">craft_activity_actor::do_turn()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00774">comestible_inventory_preset::get_denial()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00050">Character::handle_contents_changed()</a>, <a class="el" href="item__location_8cpp_source.html#l00876">has_parent()</a>, <a class="el" href="iuse_8cpp_source.html#l04866">heat_item()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04544">is_bulk_load()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04080">is_bulk_unload()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00153">anonymous_namespace{inventory_ui.cpp}::is_container()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00569">pickup_inventory_preset::is_shown()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02849">select_ammo_inventory_preset::is_shown()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04988">link_up_actor::link_extend_cable()</a>, <a class="el" href="item__location_8cpp_source.html#l01060">make_active()</a>, <a class="el" href="item__pocket_8cpp_source.html#l01776">move_to_parent_pocket_recursive()</a>, <a class="el" href="item__location_8cpp_source.html#l00709">item_location::impl::item_in_container::obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00868">parent_pocket()</a>, <a class="el" href="game_8cpp_source.html#l02013">rate_action_insert()</a>, <a class="el" href="character__ammo_8cpp_source.html#l00241">Character::rate_action_insert()</a>, <a class="el" href="pickup_8cpp_source.html#l00485">Pickup::pick_info::set_src()</a>, <a class="el" href="activity__actor_8cpp_source.html#l01791">read_activity_actor::start()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01093">update_lum()</a>, and <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>.</p>

</div>
</div>
<a id="a2c8620185442e2923bd811d251af1aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8620185442e2923bd811d251af1aaa">&#9670;&nbsp;</a></span>where_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">item_location::type</a> item_location::where_recursive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the type of location where the topmost container of the item is found. </p>
<p>Therefore can not return <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da5f0b6ebc4bea10285ba2b8a6ce78b863">item_location::type::container</a> </p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l01006">1006</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;{</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;where_recursive();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8h_source.html#l00158">ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__actor_8cpp_source.html#l04090">obtain_activity_items()</a>, <a class="el" href="avatar__action_8cpp_source.html#l01110">avatar_action::use_item()</a>, and <a class="el" href="item__location_8cpp_source.html#l00651">item_location::impl::item_in_container::where_recursive()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac32191753a11cc2f4aa2ad6d50e6405b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac32191753a11cc2f4aa2ad6d50e6405b">&#9670;&nbsp;</a></span>nowhere</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem__location.html">item_location</a> item_location::nowhere</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8h_source.html#l00041">41</a> of file <a class="el" href="item__location_8h_source.html">item_location.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l11580">Character::add_or_drop_with_msg()</a>, <a class="el" href="inventory__ui_8h_source.html#l00153">inventory_entry::any_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01309">advanced_inventory::change_square()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00241">game_menus::inv::common()</a>, <a class="el" href="crafting_8cpp_source.html#l02540">Character::create_in_progress_disassembly()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03569">unload_activity_actor::deserialize()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04782">reload_activity_actor::finish()</a>, <a class="el" href="activity__actor_8cpp_source.html#l04621">insert_item_activity_actor::finish()</a>, <a class="el" href="character__attire_8cpp_source.html#l02431">Character::get_all_pocket_with_parent()</a>, <a class="el" href="character__attire_8cpp_source.html#l02402">get_child_pocket_with_parent()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l03476">inventory_selector::highlight()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00326">Character::i_add()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00377">Character::i_add_or_fill()</a>, <a class="el" href="inventory__ui_8h_source.html#l01098">inventory_examiner::inventory_examiner()</a>, <a class="el" href="character_8cpp_source.html#l09078">Character::migrate_items_to_storage()</a>, <a class="el" href="item__location_8cpp_source.html#l00669">item_location::impl::item_in_container::obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="pickup_8cpp_source.html#l00172">pick_one_up()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00666">advanced_inventory::print_header()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02299">inventory_selector::rearrange_columns()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00712">advanced_inventory::recalc_pane()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02385">repair_item_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l00737">set_item_inventory()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04424">inventory_examiner::setup()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00197">Character::try_add()</a>, and <a class="el" href="character_8cpp_source.html#l11621">Character::unload()</a>.</p>

</div>
</div>
<a id="a62b2b94aee35409e682f16e43952b257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b2b94aee35409e682f16e43952b257">&#9670;&nbsp;</a></span>ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classitem__location_1_1impl.html">impl</a>&gt; item_location::ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8h_source.html#l00160">160</a> of file <a class="el" href="item__location_8h_source.html">item_location.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l01102">carrier()</a>, <a class="el" href="item__location_8cpp_source.html#l01122">check_parent_capacity_recursive()</a>, <a class="el" href="item__location_8cpp_source.html#l01022">describe()</a>, <a class="el" href="item__location_8cpp_source.html#l00810">deserialize()</a>, <a class="el" href="item__location_8cpp_source.html#l01087">get_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00876">has_parent()</a>, <a class="el" href="item__location_8cpp_source.html#l01060">make_active()</a>, <a class="el" href="item__location_8cpp_source.html#l01027">obtain()</a>, <a class="el" href="item__location_8cpp_source.html#l01036">obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l01051">on_contents_changed()</a>, <a class="el" href="item__location_8cpp_source.html#l00775">operator!=()</a>, <a class="el" href="item__location_8cpp_source.html#l00785">operator*()</a>, <a class="el" href="item__location_8cpp_source.html#l00795">operator-&gt;()</a>, <a class="el" href="item__location_8cpp_source.html#l00770">operator==()</a>, <a class="el" href="item__location_8cpp_source.html#l00860">parent_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00868">parent_pocket()</a>, <a class="el" href="item__location_8cpp_source.html#l01016">pos_bub()</a>, <a class="el" href="item__location_8cpp_source.html#l01011">position()</a>, <a class="el" href="item__location_8cpp_source.html#l01041">remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00805">serialize()</a>, <a class="el" href="item__location_8cpp_source.html#l01097">set_should_stack()</a>, <a class="el" href="item__location_8cpp_source.html#l01112">volume_capacity()</a>, <a class="el" href="item__location_8cpp_source.html#l01117">weight_capacity()</a>, <a class="el" href="item__location_8cpp_source.html#l01001">where()</a>, and <a class="el" href="item__location_8cpp_source.html#l01006">where_recursive()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="item__location_8h_source.html">item_location.h</a></li>
<li>src/<a class="el" href="item__location_8cpp_source.html">item_location.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:40 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
