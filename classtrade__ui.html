<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: trade_ui Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classtrade__ui-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">trade_ui Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrade__ui_1_1trade__result__t.html">trade_result_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:acd7f8d1afa05f5cc06ab788cf1ec80df"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a> { <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa0efb640372843ada86531d598ecea1da">TRADECANCEL</a> = 0
, <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa11820cf1ef7714469dfd300a7ec2e10d">TRADEOK</a> = 1
, <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa4239f063a3d4fb9d38a0182be6e39e76">SWITCH</a> = 2
, <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa2e20e7a528af978e0fba961eb2f12e23">NEVENTS</a> = 3
 }</td></tr>
<tr class="separator:acd7f8d1afa05f5cc06ab788cf1ec80df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590506fdf0d08b50bc6891ce326601d9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a590506fdf0d08b50bc6891ce326601d9">pane_t</a> = <a class="el" href="classtrade__selector.html">trade_selector</a></td></tr>
<tr class="separator:a590506fdf0d08b50bc6891ce326601d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb771fd1356ed70c4330a167c9ec3f08"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#afb771fd1356ed70c4330a167c9ec3f08">party_t</a> = <a class="el" href="classCharacter.html">Character</a></td></tr>
<tr class="separator:afb771fd1356ed70c4330a167c9ec3f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c2f84cffa7b371bbbed254356cee5f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a92c2f84cffa7b371bbbed254356cee5f">entry_t</a> = <a class="el" href="classtrade__selector.html#acc1eefbd7c542e087e293b0a6c5dfa62">trade_selector::entry_t</a></td></tr>
<tr class="separator:a92c2f84cffa7b371bbbed254356cee5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f6b3e7389567c2851856ece4cad2bd"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ad3f6b3e7389567c2851856ece4cad2bd">select_t</a> = <a class="el" href="classtrade__selector.html#ab610cad0ff2e19dcf907caa91de0fa63">trade_selector::select_t</a></td></tr>
<tr class="separator:ad3f6b3e7389567c2851856ece4cad2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e34d76259050ae0ebf0fe3372058103"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a> = int</td></tr>
<tr class="separator:a8e34d76259050ae0ebf0fe3372058103"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a202f1499d7a951347258f7b60132fdb3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a202f1499d7a951347258f7b60132fdb3">trade_ui</a> (<a class="el" href="classtrade__ui.html#afb771fd1356ed70c4330a167c9ec3f08">party_t</a> &amp;you, <a class="el" href="classnpc.html">npc</a> &amp;trader, <a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a> cost=0, std::string title=<a class="el" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>(&quot;Trade&quot;))</td></tr>
<tr class="separator:a202f1499d7a951347258f7b60132fdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d0296176621bda467314a2b5740185"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a68d0296176621bda467314a2b5740185">pushevent</a> (<a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a> const &amp;ev)</td></tr>
<tr class="separator:a68d0296176621bda467314a2b5740185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef3667df49868cb720bf679b1298cf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrade__ui_1_1trade__result__t.html">trade_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#acef3667df49868cb720bf679b1298cf0">perform_trade</a> ()</td></tr>
<tr class="separator:acef3667df49868cb720bf679b1298cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1b533c1d8e66463b106393223efd75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a9a1b533c1d8e66463b106393223efd75">recalc_values_cpane</a> ()</td></tr>
<tr class="separator:a9a1b533c1d8e66463b106393223efd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ff65bc3539ed3f3621cb639d23c2bb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a3ff65bc3539ed3f3621cb639d23c2bb1">autobalance</a> ()</td></tr>
<tr class="separator:a3ff65bc3539ed3f3621cb639d23c2bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb019dc5b0d2ab967c525d3879f48e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a6fb019dc5b0d2ab967c525d3879f48e1">bank_balance</a> ()</td></tr>
<tr class="separator:a6fb019dc5b0d2ab967c525d3879f48e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c0b70321ad358d164e603fefe2096a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a92c0b70321ad358d164e603fefe2096a">resize</a> ()</td></tr>
<tr class="separator:a92c0b70321ad358d164e603fefe2096a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5cf61ac456ac5443417b95510660d85f"><td class="memItemLeft" align="right" valign="top">constexpr static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a5cf61ac456ac5443417b95510660d85f">header_size</a> = 5</td></tr>
<tr class="separator:a5cf61ac456ac5443417b95510660d85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a1945de723de8e8e29db50f14fc305b90"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a1945de723de8e8e29db50f14fc305b90">panecont_t</a> = std::array&lt; std::unique_ptr&lt; <a class="el" href="classtrade__ui.html#a590506fdf0d08b50bc6891ce326601d9">pane_t</a> &gt;, <a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a> &gt;</td></tr>
<tr class="separator:a1945de723de8e8e29db50f14fc305b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa07d2440abbc47ecbc2ae6b4265f15"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a5fa07d2440abbc47ecbc2ae6b4265f15">values_t</a> = std::array&lt; <a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>, <a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a> &gt;</td></tr>
<tr class="separator:a5fa07d2440abbc47ecbc2ae6b4265f15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b376bacf33ba90ce98207f1d5faee7c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a7b376bacf33ba90ce98207f1d5faee7c">parties_t</a> = std::array&lt; <a class="el" href="classtrade__ui.html#afb771fd1356ed70c4330a167c9ec3f08">party_t</a> *, <a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a> &gt;</td></tr>
<tr class="separator:a7b376bacf33ba90ce98207f1d5faee7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4adafe752813ad1aa9c18d281ba8f074"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a4adafe752813ad1aa9c18d281ba8f074">_process</a> (<a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a> const &amp;ev)</td></tr>
<tr class="separator:a4adafe752813ad1aa9c18d281ba8f074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ece40a0b9e2c86c35d2c7435bbee43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ac5ece40a0b9e2c86c35d2c7435bbee43">_confirm_trade</a> () const</td></tr>
<tr class="separator:ac5ece40a0b9e2c86c35d2c7435bbee43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b0a73b4bc879414754411673f82663"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a77b0a73b4bc879414754411673f82663">_draw_header</a> ()</td></tr>
<tr class="separator:a77b0a73b4bc879414754411673f82663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aeeb28988effeba330856c7dc9decddb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__preset.html">trade_preset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#aeeb28988effeba330856c7dc9decddb4">_upreset</a></td></tr>
<tr class="separator:aeeb28988effeba330856c7dc9decddb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88588301d56ce6451cb4c03cc0fce524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__preset.html">trade_preset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a88588301d56ce6451cb4c03cc0fce524">_tpreset</a></td></tr>
<tr class="separator:a88588301d56ce6451cb4c03cc0fce524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8668490740047210bf7bb927f51152e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a1945de723de8e8e29db50f14fc305b90">panecont_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a></td></tr>
<tr class="separator:a8668490740047210bf7bb927f51152e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92f1179bea5d51e2d5129a2f71fcea5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a5fa07d2440abbc47ecbc2ae6b4265f15">values_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a> {}</td></tr>
<tr class="separator:ac92f1179bea5d51e2d5129a2f71fcea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a0b31bfe5c21daf575d45c580431eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a7b376bacf33ba90ce98207f1d5faee7c">parties_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a></td></tr>
<tr class="separator:a74a0b31bfe5c21daf575d45c580431eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7777fac9b09557bb8211764490d91f37"><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a7777fac9b09557bb8211764490d91f37">_queue</a></td></tr>
<tr class="separator:a7777fac9b09557bb8211764490d91f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1980eb67dd605234884bb8c28fbcce7"><td class="memItemLeft" align="right" valign="top">panecont_t::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a> = 0</td></tr>
<tr class="separator:ab1980eb67dd605234884bb8c28fbcce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab5c19d8fee7e84691b70ce6c51c742"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a9ab5c19d8fee7e84691b70ce6c51c742">_exit</a> = true</td></tr>
<tr class="separator:a9ab5c19d8fee7e84691b70ce6c51c742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e7802834f28847ea53dd275f91d27eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a> = false</td></tr>
<tr class="separator:a2e7802834f28847ea53dd275f91d27eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4df24028472e43dcf537bea1cf460e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a8b4df24028472e43dcf537bea1cf460e">_cost</a> = 0</td></tr>
<tr class="separator:a8b4df24028472e43dcf537bea1cf460e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b55f491ef8dfdf36b14637b5fb73b4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> = 0</td></tr>
<tr class="separator:a9b55f491ef8dfdf36b14637b5fb73b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a7b1aa916c87703d4a92fe89396143"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">_bank</a> = 0</td></tr>
<tr class="separator:ae3a7b1aa916c87703d4a92fe89396143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79252128426db3d29ad4cc1dd4b7849b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> = 0</td></tr>
<tr class="separator:a79252128426db3d29ad4cc1dd4b7849b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd042811e909926afef96e9d84de91dd"><td class="memItemLeft" align="right" valign="top">std::string const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#afd042811e909926afef96e9d84de91dd">_title</a></td></tr>
<tr class="separator:afd042811e909926afef96e9d84de91dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e99d2fc0caa7ddabe98ab4370b6f398"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a></td></tr>
<tr class="separator:a0e99d2fc0caa7ddabe98ab4370b6f398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9d6ad5d9387879ab42043112c17db4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classui__adaptor.html">ui_adaptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ace9d6ad5d9387879ab42043112c17db4">_header_ui</a></td></tr>
<tr class="separator:ace9d6ad5d9387879ab42043112c17db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:af0aa76ee73d3b4f8ce542de0d1e55d5e"><td class="memItemLeft" align="right" valign="top">constexpr static std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a> = 2</td></tr>
<tr class="separator:af0aa76ee73d3b4f8ce542de0d1e55d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46ab575f15c98400cabee6ffb55a77b"><td class="memItemLeft" align="right" valign="top">constexpr static panecont_t::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a> = 0</td></tr>
<tr class="separator:ae46ab575f15c98400cabee6ffb55a77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ab2356b9200637e379cd5bc9c66f55"><td class="memItemLeft" align="right" valign="top">constexpr static panecont_t::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a> = 1</td></tr>
<tr class="separator:a83ab2356b9200637e379cd5bc9c66f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00067">67</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a8e34d76259050ae0ebf0fe3372058103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e34d76259050ae0ebf0fe3372058103">&#9670;&nbsp;</a></span>currency_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">trade_ui::currency_t</a> =  int</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00074">74</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="a92c2f84cffa7b371bbbed254356cee5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c2f84cffa7b371bbbed254356cee5f">&#9670;&nbsp;</a></span>entry_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#a92c2f84cffa7b371bbbed254356cee5f">trade_ui::entry_t</a> =  <a class="el" href="classtrade__selector.html#acc1eefbd7c542e087e293b0a6c5dfa62">trade_selector::entry_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00072">72</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="a590506fdf0d08b50bc6891ce326601d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590506fdf0d08b50bc6891ce326601d9">&#9670;&nbsp;</a></span>pane_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#a590506fdf0d08b50bc6891ce326601d9">trade_ui::pane_t</a> =  <a class="el" href="classtrade__selector.html">trade_selector</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00070">70</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="a1945de723de8e8e29db50f14fc305b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1945de723de8e8e29db50f14fc305b90">&#9670;&nbsp;</a></span>panecont_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#a1945de723de8e8e29db50f14fc305b90">trade_ui::panecont_t</a> =  std::array&lt;std::unique_ptr&lt;<a class="el" href="classtrade__ui.html#a590506fdf0d08b50bc6891ce326601d9">pane_t</a>&gt;, <a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00101">101</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="a7b376bacf33ba90ce98207f1d5faee7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b376bacf33ba90ce98207f1d5faee7c">&#9670;&nbsp;</a></span>parties_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#a7b376bacf33ba90ce98207f1d5faee7c">trade_ui::parties_t</a> =  std::array&lt;<a class="el" href="classtrade__ui.html#afb771fd1356ed70c4330a167c9ec3f08">party_t</a> *, <a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00103">103</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="afb771fd1356ed70c4330a167c9ec3f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb771fd1356ed70c4330a167c9ec3f08">&#9670;&nbsp;</a></span>party_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#afb771fd1356ed70c4330a167c9ec3f08">trade_ui::party_t</a> =  <a class="el" href="classCharacter.html">Character</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00071">71</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="ad3f6b3e7389567c2851856ece4cad2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f6b3e7389567c2851856ece4cad2bd">&#9670;&nbsp;</a></span>select_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#ad3f6b3e7389567c2851856ece4cad2bd">trade_ui::select_t</a> =  <a class="el" href="classtrade__selector.html#ab610cad0ff2e19dcf907caa91de0fa63">trade_selector::select_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00073">73</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="a5fa07d2440abbc47ecbc2ae6b4265f15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa07d2440abbc47ecbc2ae6b4265f15">&#9670;&nbsp;</a></span>values_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtrade__ui.html#a5fa07d2440abbc47ecbc2ae6b4265f15">trade_ui::values_t</a> =  std::array&lt;<a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>, <a class="el" href="classtrade__ui.html#af0aa76ee73d3b4f8ce542de0d1e55d5e">npanes</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00102">102</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="acd7f8d1afa05f5cc06ab788cf1ec80df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd7f8d1afa05f5cc06ab788cf1ec80df">&#9670;&nbsp;</a></span>event</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">trade_ui::event</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acd7f8d1afa05f5cc06ab788cf1ec80dfa0efb640372843ada86531d598ecea1da"></a>TRADECANCEL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd7f8d1afa05f5cc06ab788cf1ec80dfa11820cf1ef7714469dfd300a7ec2e10d"></a>TRADEOK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd7f8d1afa05f5cc06ab788cf1ec80dfa4239f063a3d4fb9d38a0182be6e39e76"></a>SWITCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd7f8d1afa05f5cc06ab788cf1ec80dfa2e20e7a528af978e0fba961eb2f12e23"></a>NEVENTS&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00085">85</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{ TRADECANCEL = 0, TRADEOK = 1, SWITCH = 2, NEVENTS = 3 };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a202f1499d7a951347258f7b60132fdb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a202f1499d7a951347258f7b60132fdb3">&#9670;&nbsp;</a></span>trade_ui()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trade_ui::trade_ui </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrade__ui.html#afb771fd1356ed70c4330a167c9ec3f08">party_t</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>trader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a>&#160;</td>
          <td class="paramname"><em>cost</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>title</em> = <code><a class="el" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>(&#160;&quot;Trade&quot;&#160;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00105">105</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    : <a class="code" href="classtrade__ui.html#aeeb28988effeba330856c7dc9decddb4">_upreset</a>{ you, trader }, <a class="code" href="classtrade__ui.html#a88588301d56ce6451cb4c03cc0fce524">_tpreset</a>{ trader, you },</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>{ std::make_unique&lt;pane_t&gt;( <span class="keyword">this</span>, trader, <a class="code" href="classtrade__ui.html#a88588301d56ce6451cb4c03cc0fce524">_tpreset</a>, std::string(), <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3a661b5a5f4a563830f6b816388a6617">_pane_size</a>(),</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                        <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3488e97a9b2b2069198ce21b0f72c6a7">_pane_orig</a>( -1 ) ),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;              std::make_unique&lt;pane_t&gt;( <span class="keyword">this</span>, you, <a class="code" href="classtrade__ui.html#aeeb28988effeba330856c7dc9decddb4">_upreset</a>, std::string(), <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3a661b5a5f4a563830f6b816388a6617">_pane_size</a>(),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                        <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3488e97a9b2b2069198ce21b0f72c6a7">_pane_orig</a>( 1 ) ) },</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>{ &amp;trader, &amp;you }, <a class="code" href="classtrade__ui.html#afd042811e909926afef96e9d84de91dd">_title</a>( std::move( <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> ) )</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;add_character_items( you );</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;add_nearby_items( 1 );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;add_character_items( trader );</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span>( trader.<a class="code" href="classnpc.html#a0eb1fcdefadfdbe5a81d65f53342fcab">is_shopkeeper</a>() ) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;categorize_map_items( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="npctrade__utils_8cpp.html#a92f07fed6d6b44ac2ea8307fc0b0da8f">add_fallback_zone</a>( trader );</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="classzone__manager.html">zone_manager</a> &amp;zmgr = <a class="code" href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="comment">// FIXME: migration for traders in old saves - remove after 0.G</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="classzone__data.html">zone_data</a> <span class="keyword">const</span> *<span class="keyword">const</span> fallback =</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            zmgr.<a class="code" href="classzone__manager.html#a8c7aa223607cc39af1b015682b4ae8d3">get_zone_at</a>( trader.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <span class="keyword">true</span>, trader.<a class="code" href="classnpc.html#aef82c9fb32b160e16ace84676297d2b5">get_fac_id</a>() );</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordtype">bool</span> <span class="keyword">const</span> legacy = fallback != <span class="keyword">nullptr</span> &amp;&amp; fallback-&gt;<a class="code" href="classzone__data.html#a8b9b60e7059aa6e04b161eee85f96cc1">get_name</a>() == <a class="code" href="npctrade__utils_8h.html#a13b5614909a98d0b41801d8b074d8c91">fallback_name</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span>( legacy ) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;add_nearby_items( <a class="code" href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a> );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            std::unordered_set&lt;tripoint&gt; <span class="keyword">const</span> src =</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                zmgr.<a class="code" href="classzone__manager.html#a57b76406598198475140852e43feb6e4">get_point_set_loot</a>( trader.<a class="code" href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">get_location</a>(), <a class="code" href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a>, trader.<a class="code" href="classnpc.html#aef82c9fb32b160e16ace84676297d2b5">get_fac_id</a>() );</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="structtripoint.html">tripoint</a> <span class="keyword">const</span> &amp;pt : src ) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;add_map_items( pt );</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;add_vehicle_items( pt );</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !trader.<a class="code" href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">is_player_ally</a>() ) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;add_nearby_items( 1 );</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span>( trader.<a class="code" href="classnpc.html#a85ce34d522c9e7a5e8642ac5c1de3a72">will_exchange_items_freely</a>() ) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="classtrade__ui.html#a8b4df24028472e43dcf537bea1cf460e">_cost</a> = 0;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="classtrade__ui.html#a8b4df24028472e43dcf537bea1cf460e">_cost</a> = trader.<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a544114b24a1332d5fc31b1ec814684bd">owed</a> - cost;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> = <a class="code" href="classtrade__ui.html#a8b4df24028472e43dcf537bea1cf460e">_cost</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">_bank</a> = you.cash;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> = 0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;get_active_column().on_deactivate();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classtrade__ui.html#ace9d6ad5d9387879ab42043112c17db4">_header_ui</a>.<a class="code" href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">on_screen_resize</a>( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classtrade__ui.html#a5cf61ac456ac5443417b95510660d85f">header_size</a>, <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position_from_window( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a> );</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.invalidate_ui();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classtrade__ui.html#a92c0b70321ad358d164e603fefe2096a">resize</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    } );</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classtrade__ui.html#ace9d6ad5d9387879ab42043112c17db4">_header_ui</a>.<a class="code" href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">mark_resize</a>();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classtrade__ui.html#ace9d6ad5d9387879ab42043112c17db4">_header_ui</a>.<a class="code" href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">on_redraw</a>( [<span class="keyword">this</span>]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> <span class="keyword">const</span> &amp; <span class="comment">/* ui */</span> ) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a> );</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="classtrade__ui.html#a77b0a73b4bc879414754411673f82663">_draw_header</a>();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a> );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    } );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a3261de1530798f5b934a71b9a4e17f5b"><div class="ttname"><a href="classCreature.html#a3261de1530798f5b934a71b9a4e17f5b">Creature::get_location</a></div><div class="ttdeci">tripoint_abs_ms get_location() const</div><div class="ttdoc">Returns the location of the creature in map square coordinates (the most detailed coordinate system),...</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03232">creature.cpp:3232</a></div></div>
<div class="ttc" id="aclassnpc_html_a0eb1fcdefadfdbe5a81d65f53342fcab"><div class="ttname"><a href="classnpc.html#a0eb1fcdefadfdbe5a81d65f53342fcab">npc::is_shopkeeper</a></div><div class="ttdeci">bool is_shopkeeper() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02027">npc.cpp:2027</a></div></div>
<div class="ttc" id="aclassnpc_html_a85ce34d522c9e7a5e8642ac5c1de3a72"><div class="ttname"><a href="classnpc.html#a85ce34d522c9e7a5e8642ac5c1de3a72">npc::will_exchange_items_freely</a></div><div class="ttdeci">bool will_exchange_items_freely() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01875">npc.cpp:1875</a></div></div>
<div class="ttc" id="aclassnpc_html_ab762e1b5cc3053fb9b04df37714e14b7"><div class="ttname"><a href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">npc::is_player_ally</a></div><div class="ttdeci">bool is_player_ally() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02297">npc.cpp:2297</a></div></div>
<div class="ttc" id="aclassnpc_html_ae17fa770d3d2ecbb89371e334c21ea6b"><div class="ttname"><a href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">npc::op_of_u</a></div><div class="ttdeci">npc_opinion op_of_u</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01403">npc.h:1403</a></div></div>
<div class="ttc" id="aclassnpc_html_aef82c9fb32b160e16ace84676297d2b5"><div class="ttname"><a href="classnpc.html#aef82c9fb32b160e16ace84676297d2b5">npc::get_fac_id</a></div><div class="ttdeci">faction_id get_fac_id() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00771">npc.cpp:771</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a0e99d2fc0caa7ddabe98ab4370b6f398"><div class="ttname"><a href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">trade_ui::_header_w</a></div><div class="ttdeci">catacurses::window _header_w</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00121">trade_ui.h:121</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a5cf61ac456ac5443417b95510660d85f"><div class="ttname"><a href="classtrade__ui.html#a5cf61ac456ac5443417b95510660d85f">trade_ui::header_size</a></div><div class="ttdeci">constexpr static int header_size</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00097">trade_ui.h:97</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a74a0b31bfe5c21daf575d45c580431eb"><div class="ttname"><a href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">trade_ui::_parties</a></div><div class="ttdeci">parties_t _parties</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00111">trade_ui.h:111</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a77b0a73b4bc879414754411673f82663"><div class="ttname"><a href="classtrade__ui.html#a77b0a73b4bc879414754411673f82663">trade_ui::_draw_header</a></div><div class="ttdeci">void _draw_header()</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00305">trade_ui.cpp:305</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a79252128426db3d29ad4cc1dd4b7849b"><div class="ttname"><a href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">trade_ui::_delta_bank</a></div><div class="ttdeci">currency_t _delta_bank</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00119">trade_ui.h:119</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a83ab2356b9200637e379cd5bc9c66f55"><div class="ttname"><a href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">trade_ui::_you</a></div><div class="ttdeci">constexpr static panecont_t::size_type _you</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00106">trade_ui.h:106</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a8668490740047210bf7bb927f51152e9"><div class="ttname"><a href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">trade_ui::_panes</a></div><div class="ttdeci">panecont_t _panes</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00109">trade_ui.h:109</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a88588301d56ce6451cb4c03cc0fce524"><div class="ttname"><a href="classtrade__ui.html#a88588301d56ce6451cb4c03cc0fce524">trade_ui::_tpreset</a></div><div class="ttdeci">trade_preset _tpreset</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00108">trade_ui.h:108</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a8b4df24028472e43dcf537bea1cf460e"><div class="ttname"><a href="classtrade__ui.html#a8b4df24028472e43dcf537bea1cf460e">trade_ui::_cost</a></div><div class="ttdeci">currency_t _cost</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00116">trade_ui.h:116</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a92c0b70321ad358d164e603fefe2096a"><div class="ttname"><a href="classtrade__ui.html#a92c0b70321ad358d164e603fefe2096a">trade_ui::resize</a></div><div class="ttdeci">void resize()</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00247">trade_ui.cpp:247</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a9b55f491ef8dfdf36b14637b5fb73b4c"><div class="ttname"><a href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">trade_ui::_balance</a></div><div class="ttdeci">currency_t _balance</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00117">trade_ui.h:117</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_ace9d6ad5d9387879ab42043112c17db4"><div class="ttname"><a href="classtrade__ui.html#ace9d6ad5d9387879ab42043112c17db4">trade_ui::_header_ui</a></div><div class="ttdeci">ui_adaptor _header_ui</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00122">trade_ui.h:122</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_ae3a7b1aa916c87703d4a92fe89396143"><div class="ttname"><a href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">trade_ui::_bank</a></div><div class="ttdeci">currency_t _bank</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00118">trade_ui.h:118</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_ae46ab575f15c98400cabee6ffb55a77b"><div class="ttname"><a href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">trade_ui::_trader</a></div><div class="ttdeci">constexpr static panecont_t::size_type _trader</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00105">trade_ui.h:105</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_aeeb28988effeba330856c7dc9decddb4"><div class="ttname"><a href="classtrade__ui.html#aeeb28988effeba330856c7dc9decddb4">trade_ui::_upreset</a></div><div class="ttdeci">trade_preset _upreset</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00108">trade_ui.h:108</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_afd042811e909926afef96e9d84de91dd"><div class="ttname"><a href="classtrade__ui.html#afd042811e909926afef96e9d84de91dd">trade_ui::_title</a></div><div class="ttdeci">std::string const _title</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00120">trade_ui.h:120</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a37e0f0811d9460640b86442a1facc87d"><div class="ttname"><a href="classui__adaptor.html#a37e0f0811d9460640b86442a1facc87d">ui_adaptor::on_redraw</a></div><div class="ttdeci">void on_redraw(const redraw_callback_t &amp;fun)</div><div class="ttdoc">Set redraw and resize callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00143">ui_manager.cpp:143</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_abf55c7afc0d78d45a35788575f4c3cd5"><div class="ttname"><a href="classui__adaptor.html#abf55c7afc0d78d45a35788575f4c3cd5">ui_adaptor::on_screen_resize</a></div><div class="ttdeci">void on_screen_resize(const screen_resize_callback_t &amp;fun)</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00148">ui_manager.cpp:148</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_aca44063b3d85e97d97e2701ef3656433"><div class="ttname"><a href="classui__adaptor.html#aca44063b3d85e97d97e2701ef3656433">ui_adaptor::mark_resize</a></div><div class="ttdeci">void mark_resize() const</div><div class="ttdoc">Mark this ui_adaptor for resizing the next time it is redrawn.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00213">ui_manager.cpp:213</a></div></div>
<div class="ttc" id="aclasszone__data_html"><div class="ttname"><a href="classzone__data.html">zone_data</a></div><div class="ttdoc">These are zones the player can designate.</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00348">clzones.h:349</a></div></div>
<div class="ttc" id="aclasszone__data_html_a8b9b60e7059aa6e04b161eee85f96cc1"><div class="ttname"><a href="classzone__data.html#a8b9b60e7059aa6e04b161eee85f96cc1">zone_data::get_name</a></div><div class="ttdeci">std::string get_name() const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00439">clzones.h:439</a></div></div>
<div class="ttc" id="aclasszone__manager_html"><div class="ttname"><a href="classzone__manager.html">zone_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00512">clzones.h:513</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a54609d51d21bd8f370ee8b59525eb750"><div class="ttname"><a href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a></div><div class="ttdeci">static zone_manager &amp; get_manager()</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00550">clzones.h:550</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a57b76406598198475140852e43feb6e4"><div class="ttname"><a href="classzone__manager.html#a57b76406598198475140852e43feb6e4">zone_manager::get_point_set_loot</a></div><div class="ttdeci">std::unordered_set&lt; tripoint &gt; get_point_set_loot(const tripoint_abs_ms &amp;where, int radius, const faction_id &amp;fac=your_fac) const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l00943">clzones.cpp:943</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a8c7aa223607cc39af1b015682b4ae8d3"><div class="ttname"><a href="classzone__manager.html#a8c7aa223607cc39af1b015682b4ae8d3">zone_manager::get_zone_at</a></div><div class="ttdeci">const zone_data * get_zone_at(const tripoint_abs_ms &amp;where, const zone_type_id &amp;type, const faction_id &amp;fac=your_fac) const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l01074">clzones.cpp:1074</a></div></div>
<div class="ttc" id="agame__constants_8h_html_afec5544a31d4183805cff025dd84b5f4"><div class="ttname"><a href="game__constants_8h.html#afec5544a31d4183805cff025dd84b5f4">PICKUP_RANGE</a></div><div class="ttdeci">constexpr int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00070">game_constants.h:70</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02trade__ui_8cpp_03_html_a3488e97a9b2b2069198ce21b0f72c6a7"><div class="ttname"><a href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3488e97a9b2b2069198ce21b0f72c6a7">anonymous_namespace{trade_ui.cpp}::_pane_orig</a></div><div class="ttdeci">point _pane_orig(int side)</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00030">trade_ui.cpp:30</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02trade__ui_8cpp_03_html_a3a661b5a5f4a563830f6b816388a6617"><div class="ttname"><a href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3a661b5a5f4a563830f6b816388a6617">anonymous_namespace{trade_ui.cpp}::_pane_size</a></div><div class="ttdeci">point _pane_size()</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00035">trade_ui.cpp:35</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespacemusic_html_a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220"><div class="ttname"><a href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">music::title</a></div><div class="ttdeci">@ title</div><div class="ttdef"><b>Definition:</b> <a href="music_8h_source.html#l00014">music.h:14</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="anpctrade__utils_8cpp_html_a92f07fed6d6b44ac2ea8307fc0b0da8f"><div class="ttname"><a href="npctrade__utils_8cpp.html#a92f07fed6d6b44ac2ea8307fc0b0da8f">add_fallback_zone</a></div><div class="ttdeci">void add_fallback_zone(npc &amp;guy)</div><div class="ttdef"><b>Definition:</b> <a href="npctrade__utils_8cpp_source.html#l00079">npctrade_utils.cpp:79</a></div></div>
<div class="ttc" id="anpctrade__utils_8h_html_a13b5614909a98d0b41801d8b074d8c91"><div class="ttname"><a href="npctrade__utils_8h.html#a13b5614909a98d0b41801d8b074d8c91">fallback_name</a></div><div class="ttdeci">constexpr char const  * fallback_name</div><div class="ttdef"><b>Definition:</b> <a href="npctrade__utils_8h_source.html#l00010">npctrade_utils.h:10</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a544114b24a1332d5fc31b1ec814684bd"><div class="ttname"><a href="structnpc__opinion.html#a544114b24a1332d5fc31b1ec814684bd">npc_opinion::owed</a></div><div class="ttdeci">int owed</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00237">npc.h:237</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00118">_bank</a>, <a class="el" href="trade__ui_8h_source.html#l00116">_cost</a>, <a class="el" href="trade__ui_8h_source.html#l00119">_delta_bank</a>, <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8h_source.html#l00122">_header_ui</a>, <a class="el" href="trade__ui_8h_source.html#l00121">_header_w</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00105">_trader</a>, <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>, <a class="el" href="npctrade__utils_8cpp_source.html#l00079">add_fallback_zone()</a>, <a class="el" href="character_8h_source.html#l02760">Character::cash</a>, <a class="el" href="npctrade__utils_8h_source.html#l00010">fallback_name</a>, <a class="el" href="npc_8cpp_source.html#l00771">npc::get_fac_id()</a>, <a class="el" href="creature_8cpp_source.html#l03232">Creature::get_location()</a>, <a class="el" href="clzones_8h_source.html#l00550">zone_manager::get_manager()</a>, <a class="el" href="clzones_8h_source.html#l00439">zone_data::get_name()</a>, <a class="el" href="clzones_8cpp_source.html#l00943">zone_manager::get_point_set_loot()</a>, <a class="el" href="clzones_8cpp_source.html#l01074">zone_manager::get_zone_at()</a>, <a class="el" href="trade__ui_8h_source.html#l00097">header_size</a>, <a class="el" href="npc_8cpp_source.html#l02297">npc::is_player_ally()</a>, <a class="el" href="npc_8cpp_source.html#l02027">npc::is_shopkeeper()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00213">ui_adaptor::mark_resize()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00143">ui_adaptor::on_redraw()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00148">ui_adaptor::on_screen_resize()</a>, <a class="el" href="npc_8h_source.html#l01403">npc::op_of_u</a>, <a class="el" href="npc_8h_source.html#l00237">npc_opinion::owed</a>, <a class="el" href="game__constants_8h_source.html#l00070">PICKUP_RANGE</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="trade__ui_8cpp_source.html#l00247">resize()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">string</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, <a class="el" href="npc_8cpp_source.html#l01875">npc::will_exchange_items_freely()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac5ece40a0b9e2c86c35d2c7435bbee43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ece40a0b9e2c86c35d2c7435bbee43">&#9670;&nbsp;</a></span>_confirm_trade()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trade_ui::_confirm_trade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00277">277</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;{</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classnpc.html">npc</a> <span class="keyword">const</span> &amp;np = *<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;as_npc();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespacenpc__trading.html#ab6622f31806f7ffa96822e00b8029b6c">npc_trading::npc_will_accept_trade</a>( np, <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> ) ) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span>( np.<a class="code" href="classnpc.html#a4928f8fb04cac53958880bbe5ef9d170">max_credit_extended</a>() == 0 ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&#39;ll need to offer me more than that.&quot;</span> ) );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Sorry, I&#39;m only willing to extend you %s in credit.&quot;</span> ),</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                   <a class="code" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( np.<a class="code" href="classnpc.html#a4928f8fb04cac53958880bbe5ef9d170">max_credit_extended</a>() ) );</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !np.<a class="code" href="classnpc.html#a0eb1fcdefadfdbe5a81d65f53342fcab">is_shopkeeper</a>() &amp;&amp;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;               !<a class="code" href="namespacenpc__trading.html#aecde799c1b4707a45ac4f7a41bbed685">npc_trading::npc_can_fit_items</a>( np, <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;to_trade() ) ) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s doesn&#39;t have the appropriate pockets to accept that.&quot;</span> ), np.<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespacenpc__trading.html#aa89082b8b3e67a3373f7a5ad57829475">npc_trading::calc_npc_owes_you</a>( np, <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> ) &lt; <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> ) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="comment">// NPC is happy with the trade, but isn&#39;t willing to remember the whole debt.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>(</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;I&#39;m never going to be able to pay you back for all that.  The most I&#39;m &quot;</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                      <span class="stringliteral">&quot;willing to owe you is %s.\n\nContinue with trade?&quot;</span> ),</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                   <a class="code" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( np.<a class="code" href="classnpc.html#aed248cd3263ebfd94b61fff26d617599">max_willing_to_owe</a>() ) );</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Looks like a deal!  Accept this trade?&quot;</span> ) );</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassnpc_html_a4928f8fb04cac53958880bbe5ef9d170"><div class="ttname"><a href="classnpc.html#a4928f8fb04cac53958880bbe5ef9d170">npc::max_credit_extended</a></div><div class="ttdeci">int max_credit_extended() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01883">npc.cpp:1883</a></div></div>
<div class="ttc" id="aclassnpc_html_aed248cd3263ebfd94b61fff26d617599"><div class="ttname"><a href="classnpc.html#aed248cd3263ebfd94b61fff26d617599">npc::max_willing_to_owe</a></div><div class="ttdeci">int max_willing_to_owe() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01906">npc.cpp:1906</a></div></div>
<div class="ttc" id="anamespacenpc__trading_html_aa89082b8b3e67a3373f7a5ad57829475"><div class="ttname"><a href="namespacenpc__trading.html#aa89082b8b3e67a3373f7a5ad57829475">npc_trading::calc_npc_owes_you</a></div><div class="ttdeci">int calc_npc_owes_you(const npc &amp;np, int your_balance)</div><div class="ttdef"><b>Definition:</b> <a href="npctrade_8cpp_source.html#l00248">npctrade.cpp:248</a></div></div>
<div class="ttc" id="anamespacenpc__trading_html_ab6622f31806f7ffa96822e00b8029b6c"><div class="ttname"><a href="namespacenpc__trading.html#ab6622f31806f7ffa96822e00b8029b6c">npc_trading::npc_will_accept_trade</a></div><div class="ttdeci">bool npc_will_accept_trade(npc const &amp;np, int your_balance)</div><div class="ttdef"><b>Definition:</b> <a href="npctrade_8cpp_source.html#l00339">npctrade.cpp:339</a></div></div>
<div class="ttc" id="anamespacenpc__trading_html_aecde799c1b4707a45ac4f7a41bbed685"><div class="ttname"><a href="namespacenpc__trading.html#aecde799c1b4707a45ac4f7a41bbed685">npc_trading::npc_can_fit_items</a></div><div class="ttdeci">bool npc_can_fit_items(npc const &amp;np, trade_selector::select_t const &amp;to_trade)</div><div class="ttdef"><b>Definition:</b> <a href="npctrade_8cpp_source.html#l00343">npctrade.cpp:343</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
<div class="ttc" id="aoutput_8h_html_afc5db1b09e0b37fa89eda5966c61b1f5"><div class="ttname"><a href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a></div><div class="ttdeci">std::string format_money(int cents)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l01141">output.h:1141</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00111">_parties</a>, <a class="el" href="trade__ui_8h_source.html#l00105">_trader</a>, <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>, <a class="el" href="npctrade_8cpp_source.html#l00248">npc_trading::calc_npc_owes_you()</a>, <a class="el" href="output_8h_source.html#l01141">format_money()</a>, <a class="el" href="character_8cpp_source.html#l05731">Character::get_name()</a>, <a class="el" href="npc_8cpp_source.html#l02027">npc::is_shopkeeper()</a>, <a class="el" href="npc_8cpp_source.html#l01883">npc::max_credit_extended()</a>, <a class="el" href="npc_8cpp_source.html#l01906">npc::max_willing_to_owe()</a>, <a class="el" href="npctrade_8cpp_source.html#l00343">npc_trading::npc_can_fit_items()</a>, <a class="el" href="npctrade_8cpp_source.html#l00339">npc_trading::npc_will_accept_trade()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, and <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00253">_process()</a>.</p>

</div>
</div>
<a id="a77b0a73b4bc879414754411673f82663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b0a73b4bc879414754411673f82663">&#9670;&nbsp;</a></span>_draw_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::_draw_header </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00305">305</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, 1, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classtrade__ui.html#afd042811e909926afef96e9d84de91dd">_title</a> );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classnpc.html">npc</a> <span class="keyword">const</span> &amp;np = *<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;as_npc();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> <span class="keyword">const</span> trade_color =</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="namespacenpc__trading.html#ab6622f31806f7ffa96822e00b8029b6c">npc_trading::npc_will_accept_trade</a>( np, <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> ) ? <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    std::string cost_str = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Exchange&quot;</span> );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span>( !np.<a class="code" href="classnpc.html#a85ce34d522c9e7a5e8642ac5c1de3a72">will_exchange_items_freely</a>() ) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        cost_str = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> &gt;= 0 ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Credit %s&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Debt %s&quot;</span> ),</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                  <a class="code" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> ) ) );</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, 2, trade_color, cost_str );</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, { 1, 3 }, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;get_name() );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, 3, 1, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&quot;</span> ) );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, <a class="code" href="classtrade__ui.html#a5cf61ac456ac5443417b95510660d85f">header_size</a> - 1, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                  <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s to switch panes&quot;</span> ),</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                 <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;get_ctxt()-&gt;get_desc(</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                         <a class="code" href="classtrade__selector.html#acb6f4e76e9d116c92038ab6e624f0a8f">trade_selector::ACTION_SWITCH_PANES</a> ),</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                           <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ) ) );</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, <a class="code" href="classtrade__ui.html#a5cf61ac456ac5443417b95510660d85f">header_size</a> - 2, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                  <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s to auto balance with highlighted item&quot;</span> ),</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                 <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;get_ctxt()-&gt;get_desc(</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                         <a class="code" href="classtrade__selector.html#ac589f29a561d4020cfe6f70fa3c1c9db">trade_selector::ACTION_AUTOBALANCE</a> ),</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                           <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ) ) );</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;CAPITALISM&quot;</span> ) ) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, 2, 1, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Bank Balance: %s&quot;</span> ),</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                     <a class="code" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( <a class="code" href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">_bank</a> ) ) );</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( <a class="code" href="classtrade__ui.html#a0e99d2fc0caa7ddabe98ab4370b6f398">_header_w</a>, 1, 1, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                     <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s to balance trade with bank account balance&quot;</span> ),</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                    <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;get_ctxt()-&gt;get_desc(</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                            <a class="code" href="classtrade__selector.html#a476aa3e14bc0fc5fa140c964377de67f">trade_selector::ACTION_BANKBALANCE</a> ),</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                              <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ) ) );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclasstrade__selector_html_a476aa3e14bc0fc5fa140c964377de67f"><div class="ttname"><a href="classtrade__selector.html#a476aa3e14bc0fc5fa140c964377de67f">trade_selector::ACTION_BANKBALANCE</a></div><div class="ttdeci">static constexpr char const  * ACTION_BANKBALANCE</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00043">trade_ui.h:43</a></div></div>
<div class="ttc" id="aclasstrade__selector_html_ac589f29a561d4020cfe6f70fa3c1c9db"><div class="ttname"><a href="classtrade__selector.html#ac589f29a561d4020cfe6f70fa3c1c9db">trade_selector::ACTION_AUTOBALANCE</a></div><div class="ttdeci">static constexpr char const  * ACTION_AUTOBALANCE</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00042">trade_ui.h:42</a></div></div>
<div class="ttc" id="aclasstrade__selector_html_acb6f4e76e9d116c92038ab6e624f0a8f"><div class="ttname"><a href="classtrade__selector.html#acb6f4e76e9d116c92038ab6e624f0a8f">trade_selector::ACTION_SWITCH_PANES</a></div><div class="ttdeci">static constexpr char const  * ACTION_SWITCH_PANES</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00044">trade_ui.h:44</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a8fb393e085b34b04ed037521fb92671b"><div class="ttname"><a href="output_8cpp.html#a8fb393e085b34b04ed037521fb92671b">center_print</a></div><div class="ttdeci">void center_print(const catacurses::window &amp;w, const int y, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00559">output.cpp:559</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa6093ccb0ebc7f7ee1f11edd5cc2711c"><div class="ttname"><a href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a></div><div class="ttdeci">int right_print(const catacurses::window &amp;w, const int line, const int right_indent, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00574">output.cpp:574</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00688">output.cpp:688</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00118">_bank</a>, <a class="el" href="trade__ui_8h_source.html#l00121">_header_w</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00111">_parties</a>, <a class="el" href="trade__ui_8h_source.html#l00120">_title</a>, <a class="el" href="trade__ui_8h_source.html#l00105">_trader</a>, <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>, <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="trade__ui_8h_source.html#l00042">trade_selector::ACTION_AUTOBALANCE</a>, <a class="el" href="trade__ui_8h_source.html#l00043">trade_selector::ACTION_BANKBALANCE</a>, <a class="el" href="trade__ui_8h_source.html#l00044">trade_selector::ACTION_SWITCH_PANES</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="output_8cpp_source.html#l00559">center_print()</a>, <a class="el" href="color_8cpp_source.html#l00742">colorize()</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="output_8h_source.html#l01141">format_money()</a>, <a class="el" href="trade__ui_8h_source.html#l00097">header_size</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="npctrade_8cpp_source.html#l00339">npc_trading::npc_will_accept_trade()</a>, <a class="el" href="output_8cpp_source.html#l00574">right_print()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, and <a class="el" href="npc_8cpp_source.html#l01875">npc::will_exchange_items_freely()</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a4adafe752813ad1aa9c18d281ba8f074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4adafe752813ad1aa9c18d281ba8f074">&#9670;&nbsp;</a></span>_process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a> const &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00253">253</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;{</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">switch</span>( ev ) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa0efb640372843ada86531d598ecea1da">event::TRADECANCEL</a>: {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="classtrade__ui.html#a9ab5c19d8fee7e84691b70ce6c51c742">_exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa11820cf1ef7714469dfd300a7ec2e10d">event::TRADEOK</a>: {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <a class="code" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a> = <a class="code" href="classtrade__ui.html#ac5ece40a0b9e2c86c35d2c7435bbee43">_confirm_trade</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <a class="code" href="classtrade__ui.html#a9ab5c19d8fee7e84691b70ce6c51c742">_exit</a> = <a class="code" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa4239f063a3d4fb9d38a0182be6e39e76">event::SWITCH</a>: {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>]-&gt;get_ui()-&gt;invalidate_ui();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a> = -<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a> + 1;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa2e20e7a528af978e0fba961eb2f12e23">event::NEVENTS</a>: {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="ttc" id="aclasstrade__ui_html_a2e7802834f28847ea53dd275f91d27eb"><div class="ttname"><a href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">trade_ui::_traded</a></div><div class="ttdeci">bool _traded</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00115">trade_ui.h:115</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a9ab5c19d8fee7e84691b70ce6c51c742"><div class="ttname"><a href="classtrade__ui.html#a9ab5c19d8fee7e84691b70ce6c51c742">trade_ui::_exit</a></div><div class="ttdeci">bool _exit</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00114">trade_ui.h:114</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_ab1980eb67dd605234884bb8c28fbcce7"><div class="ttname"><a href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">trade_ui::_cpane</a></div><div class="ttdeci">panecont_t::size_type _cpane</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00113">trade_ui.h:113</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_ac5ece40a0b9e2c86c35d2c7435bbee43"><div class="ttname"><a href="classtrade__ui.html#ac5ece40a0b9e2c86c35d2c7435bbee43">trade_ui::_confirm_trade</a></div><div class="ttdeci">bool _confirm_trade() const</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00277">trade_ui.cpp:277</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_acd7f8d1afa05f5cc06ab788cf1ec80dfa0efb640372843ada86531d598ecea1da"><div class="ttname"><a href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa0efb640372843ada86531d598ecea1da">trade_ui::event::TRADECANCEL</a></div><div class="ttdeci">@ TRADECANCEL</div></div>
<div class="ttc" id="aclasstrade__ui_html_acd7f8d1afa05f5cc06ab788cf1ec80dfa11820cf1ef7714469dfd300a7ec2e10d"><div class="ttname"><a href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa11820cf1ef7714469dfd300a7ec2e10d">trade_ui::event::TRADEOK</a></div><div class="ttdeci">@ TRADEOK</div></div>
<div class="ttc" id="aclasstrade__ui_html_acd7f8d1afa05f5cc06ab788cf1ec80dfa2e20e7a528af978e0fba961eb2f12e23"><div class="ttname"><a href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa2e20e7a528af978e0fba961eb2f12e23">trade_ui::event::NEVENTS</a></div><div class="ttdeci">@ NEVENTS</div></div>
<div class="ttc" id="aclasstrade__ui_html_acd7f8d1afa05f5cc06ab788cf1ec80dfa4239f063a3d4fb9d38a0182be6e39e76"><div class="ttname"><a href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa4239f063a3d4fb9d38a0182be6e39e76">trade_ui::event::SWITCH</a></div><div class="ttdeci">@ SWITCH</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8cpp_source.html#l00277">_confirm_trade()</a>, <a class="el" href="trade__ui_8h_source.html#l00113">_cpane</a>, <a class="el" href="trade__ui_8h_source.html#l00114">_exit</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00115">_traded</a>, <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa2e20e7a528af978e0fba961eb2f12e23">NEVENTS</a>, <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa4239f063a3d4fb9d38a0182be6e39e76">SWITCH</a>, <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa0efb640372843ada86531d598ecea1da">TRADECANCEL</a>, and <a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80dfa11820cf1ef7714469dfd300a7ec2e10d">TRADEOK</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>.</p>

</div>
</div>
<a id="a3ff65bc3539ed3f3621cb639d23c2bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ff65bc3539ed3f3621cb639d23c2bb1">&#9670;&nbsp;</a></span>autobalance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::autobalance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00216">216</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">const</span> <a class="code" href="namespaceiexamine.html#a7e000c896229f98b834e4cdb08836d63">sign</a> = <a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a> == <a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a> ? -1 : 1;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span>( ( <a class="code" href="namespaceiexamine.html#a7e000c896229f98b834e4cdb08836d63">sign</a> &lt; 0 &amp;&amp; <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> &lt; 0 ) || ( <a class="code" href="namespaceiexamine.html#a7e000c896229f98b834e4cdb08836d63">sign</a> &gt; 0 &amp;&amp; <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> &gt; 0 ) ) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="classinventory__entry.html">inventory_entry</a> &amp;entry = <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>]-&gt;get_active_column().get_highlighted();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">size_t</span> <span class="keyword">const</span> avail = entry.<a class="code" href="classinventory__entry.html#acf3bee15ec54f1f73c4dfec5d364e8d1">get_available_count</a>() - entry.<a class="code" href="classinventory__entry.html#a945847e654e516ec4dbcd95ce1e499c1">chosen_count</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> price = <a class="code" href="namespacenpc__trading.html#a3c6ad57efeb8277e46f6b3ccf694b0a8">npc_trading::trading_price</a>( *<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[-<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a> + 1], *<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>],</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                             <a class="code" href="classtrade__ui.html#a92c2f84cffa7b371bbbed254356cee5f">entry_t</a>{ entry.<a class="code" href="classinventory__entry.html#a11f74524dfa262d6e51eac7c93542cec">any_item</a>(), 1 } ) * <a class="code" href="namespaceiexamine.html#a7e000c896229f98b834e4cdb08836d63">sign</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> num = <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> / price;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordtype">double</span> <span class="keyword">const</span> extra = <a class="code" href="namespaceiexamine.html#a7e000c896229f98b834e4cdb08836d63">sign</a> &lt; 0 ? <a class="code" href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">std::ceil</a>( num ) : std::<a class="code" href="math__parser__func_8h.html#a204ca52ef1b97d079c45e1cb6407f73b">floor</a>( num );</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>]-&gt;toggle_entry( entry, entry.<a class="code" href="classinventory__entry.html#a945847e654e516ec4dbcd95ce1e499c1">chosen_count</a> +</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                      <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( extra ), avail ) );</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="ttc" id="aclassinventory__entry_html"><div class="ttname"><a href="classinventory__entry.html">inventory_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00065">inventory_ui.h:66</a></div></div>
<div class="ttc" id="aclassinventory__entry_html_a11f74524dfa262d6e51eac7c93542cec"><div class="ttname"><a href="classinventory__entry.html#a11f74524dfa262d6e51eac7c93542cec">inventory_entry::any_item</a></div><div class="ttdeci">const item_location &amp; any_item() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00153">inventory_ui.h:153</a></div></div>
<div class="ttc" id="aclassinventory__entry_html_a945847e654e516ec4dbcd95ce1e499c1"><div class="ttname"><a href="classinventory__entry.html#a945847e654e516ec4dbcd95ce1e499c1">inventory_entry::chosen_count</a></div><div class="ttdeci">size_t chosen_count</div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00070">inventory_ui.h:70</a></div></div>
<div class="ttc" id="aclassinventory__entry_html_acf3bee15ec54f1f73c4dfec5d364e8d1"><div class="ttname"><a href="classinventory__entry.html#acf3bee15ec54f1f73c4dfec5d364e8d1">inventory_entry::get_available_count</a></div><div class="ttdeci">size_t get_available_count() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8cpp_source.html#l00559">inventory_ui.cpp:559</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a92c2f84cffa7b371bbbed254356cee5f"><div class="ttname"><a href="classtrade__ui.html#a92c2f84cffa7b371bbbed254356cee5f">trade_ui::entry_t</a></div><div class="ttdeci">trade_selector::entry_t entry_t</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00072">trade_ui.h:72</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a204ca52ef1b97d079c45e1cb6407f73b"><div class="ttname"><a href="math__parser__func_8h.html#a204ca52ef1b97d079c45e1cb6407f73b">floor</a></div><div class="ttdeci">double floor(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00095">math_parser_func.h:95</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_ac9196b0cf8d9dd209db9fc00a69a55f6"><div class="ttname"><a href="math__parser__func_8h.html#ac9196b0cf8d9dd209db9fc00a69a55f6">ceil</a></div><div class="ttdeci">double ceil(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00100">math_parser_func.h:100</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_a7e000c896229f98b834e4cdb08836d63"><div class="ttname"><a href="namespaceiexamine.html#a7e000c896229f98b834e4cdb08836d63">iexamine::sign</a></div><div class="ttdeci">void sign(Character &amp;you, const tripoint &amp;examp)</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l04912">iexamine.cpp:4912</a></div></div>
<div class="ttc" id="anamespacenpc__trading_html_a3c6ad57efeb8277e46f6b3ccf694b0a8"><div class="ttname"><a href="namespacenpc__trading.html#a3c6ad57efeb8277e46f6b3ccf694b0a8">npc_trading::trading_price</a></div><div class="ttdeci">int trading_price(Character const &amp;buyer, Character const &amp;seller, trade_selector::entry_t const &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="npctrade_8cpp_source.html#l00220">npctrade.cpp:220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00113">_cpane</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00111">_parties</a>, <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>, <a class="el" href="inventory__ui_8h_source.html#l00153">inventory_entry::any_item()</a>, <a class="el" href="math__parser__func_8h_source.html#l00100">ceil()</a>, <a class="el" href="inventory__ui_8h_source.html#l00070">inventory_entry::chosen_count</a>, <a class="el" href="math__parser__func_8h_source.html#l00095">floor()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l00559">inventory_entry::get_available_count()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="iexamine_8cpp_source.html#l04912">iexamine::sign()</a>, and <a class="el" href="npctrade_8cpp_source.html#l00220">npc_trading::trading_price()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l04533">trade_selector::execute()</a>.</p>

</div>
</div>
<a id="a6fb019dc5b0d2ab967c525d3879f48e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb019dc5b0d2ab967c525d3879f48e1">&#9670;&nbsp;</a></span>bank_balance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::bank_balance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00231">231</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span>( !get_option&lt;bool&gt;( <span class="stringliteral">&quot;CAPITALISM&quot;</span> ) ) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your promises of digital payment mean nothing here.&quot;</span> ) );</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">_bank</a> += <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> = -( <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> - <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> );</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> &gt; 0 ) { <span class="comment">// a withdrawal</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a>, <a class="code" href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">_bank</a> );</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a>, 0 );</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classtrade__ui.html#ae3a7b1aa916c87703d4a92fe89396143">_bank</a> -= <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classtrade__ui.html#a9a1b533c1d8e66463b106393223efd75">recalc_values_cpane</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="ttc" id="aclasstrade__ui_html_a9a1b533c1d8e66463b106393223efd75"><div class="ttname"><a href="classtrade__ui.html#a9a1b533c1d8e66463b106393223efd75">trade_ui::recalc_values_cpane</a></div><div class="ttdeci">void recalc_values_cpane()</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00201">trade_ui.cpp:201</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00118">_bank</a>, <a class="el" href="trade__ui_8h_source.html#l00119">_delta_bank</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l04533">trade_selector::execute()</a>.</p>

</div>
</div>
<a id="acef3667df49868cb720bf679b1298cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef3667df49868cb720bf679b1298cf0">&#9670;&nbsp;</a></span>perform_trade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrade__ui_1_1trade__result__t.html">trade_ui::trade_result_t</a> trade_ui::perform_trade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00173">173</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="classtrade__ui.html#a9ab5c19d8fee7e84691b70ce6c51c742">_exit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">while</span>( !<a class="code" href="classtrade__ui.html#a9ab5c19d8fee7e84691b70ce6c51c742">_exit</a> ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>]-&gt;execute();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">while</span>( !<a class="code" href="classtrade__ui.html#a7777fac9b09557bb8211764490d91f37">_queue</a>.empty() ) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keyword">event</span> <span class="keyword">const</span> ev = <a class="code" href="classtrade__ui.html#a7777fac9b09557bb8211764490d91f37">_queue</a>.front();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="classtrade__ui.html#a7777fac9b09557bb8211764490d91f37">_queue</a>.pop();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="classtrade__ui.html#a4adafe752813ad1aa9c18d281ba8f074">_process</a>( ev );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a> ) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> { <a class="code" href="classtrade__ui.html#a2e7802834f28847ea53dd275f91d27eb">_traded</a>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                 <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a>,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                 <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a>,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                 <a class="code" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>],</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                 <a class="code" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>],</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                 <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;to_trade(),</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                 <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;to_trade() };</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> { <span class="keyword">false</span>, 0, 0, 0, 0, {}, {} };</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="ttc" id="aclasstrade__ui_html_a4adafe752813ad1aa9c18d281ba8f074"><div class="ttname"><a href="classtrade__ui.html#a4adafe752813ad1aa9c18d281ba8f074">trade_ui::_process</a></div><div class="ttdeci">void _process(event const &amp;ev)</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8cpp_source.html#l00253">trade_ui.cpp:253</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_a7777fac9b09557bb8211764490d91f37"><div class="ttname"><a href="classtrade__ui.html#a7777fac9b09557bb8211764490d91f37">trade_ui::_queue</a></div><div class="ttdeci">std::queue&lt; event &gt; _queue</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00112">trade_ui.h:112</a></div></div>
<div class="ttc" id="aclasstrade__ui_html_ac92f1179bea5d51e2d5129a2f71fcea5"><div class="ttname"><a href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">trade_ui::_trade_values</a></div><div class="ttdeci">values_t _trade_values</div><div class="ttdef"><b>Definition:</b> <a href="trade__ui_8h_source.html#l00110">trade_ui.h:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00113">_cpane</a>, <a class="el" href="trade__ui_8h_source.html#l00119">_delta_bank</a>, <a class="el" href="trade__ui_8h_source.html#l00114">_exit</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8cpp_source.html#l00253">_process()</a>, <a class="el" href="trade__ui_8h_source.html#l00112">_queue</a>, <a class="el" href="trade__ui_8h_source.html#l00110">_trade_values</a>, <a class="el" href="trade__ui_8h_source.html#l00115">_traded</a>, <a class="el" href="trade__ui_8h_source.html#l00105">_trader</a>, and <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>.</p>

</div>
</div>
<a id="a68d0296176621bda467314a2b5740185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d0296176621bda467314a2b5740185">&#9670;&nbsp;</a></span>pushevent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::pushevent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a> const &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00168">168</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="classtrade__ui.html#a7777fac9b09557bb8211764490d91f37">_queue</a>.emplace( ev );</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8h_source.html#l00112">_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l04533">trade_selector::execute()</a>.</p>

</div>
</div>
<a id="a9a1b533c1d8e66463b106393223efd75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a1b533c1d8e66463b106393223efd75">&#9670;&nbsp;</a></span>recalc_values_cpane()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::recalc_values_cpane </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00201">201</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>] = 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classtrade__ui.html#a92c2f84cffa7b371bbbed254356cee5f">entry_t</a> <span class="keyword">const</span> &amp;it : <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>]-&gt;to_trade() ) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">// FIXME: cache trading_price</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>] +=</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="namespacenpc__trading.html#a3c6ad57efeb8277e46f6b3ccf694b0a8">npc_trading::trading_price</a>( *<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[-<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a> + 1], *<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[<a class="code" href="classtrade__ui.html#ab1980eb67dd605234884bb8c28fbcce7">_cpane</a>], it );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classtrade__ui.html#a74a0b31bfe5c21daf575d45c580431eb">_parties</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;as_npc()-&gt;will_exchange_items_freely() ) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <a class="code" href="classtrade__ui.html#a9b55f491ef8dfdf36b14637b5fb73b4c">_balance</a> = <a class="code" href="classtrade__ui.html#a8b4df24028472e43dcf537bea1cf460e">_cost</a> + <a class="code" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>] - <a class="code" href="classtrade__ui.html#ac92f1179bea5d51e2d5129a2f71fcea5">_trade_values</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>] + <a class="code" href="classtrade__ui.html#a79252128426db3d29ad4cc1dd4b7849b">_delta_bank</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classtrade__ui.html#ace9d6ad5d9387879ab42043112c17db4">_header_ui</a>.<a class="code" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="ttc" id="aclassui__adaptor_html_a1629a0fbc701c48c974bb374f6cfad16"><div class="ttname"><a href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">ui_adaptor::invalidate_ui</a></div><div class="ttdeci">void invalidate_ui() const</div><div class="ttdoc">Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00275">ui_manager.cpp:275</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8h_source.html#l00117">_balance</a>, <a class="el" href="trade__ui_8h_source.html#l00116">_cost</a>, <a class="el" href="trade__ui_8h_source.html#l00113">_cpane</a>, <a class="el" href="trade__ui_8h_source.html#l00119">_delta_bank</a>, <a class="el" href="trade__ui_8h_source.html#l00122">_header_ui</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00111">_parties</a>, <a class="el" href="trade__ui_8h_source.html#l00110">_trade_values</a>, <a class="el" href="trade__ui_8h_source.html#l00105">_trader</a>, <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>, <a class="el" href="ui__manager_8cpp_source.html#l00275">ui_adaptor::invalidate_ui()</a>, and <a class="el" href="npctrade_8cpp_source.html#l00220">npc_trading::trading_price()</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00231">bank_balance()</a>, and <a class="el" href="inventory__ui_8cpp_source.html#l04570">trade_selector::on_toggle()</a>.</p>

</div>
</div>
<a id="a92c0b70321ad358d164e603fefe2096a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c0b70321ad358d164e603fefe2096a">&#9670;&nbsp;</a></span>resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trade_ui::resize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8cpp_source.html#l00247">247</a> of file <a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#a83ab2356b9200637e379cd5bc9c66f55">_you</a>]-&gt;resize( <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3a661b5a5f4a563830f6b816388a6617">_pane_size</a>(), <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3488e97a9b2b2069198ce21b0f72c6a7">_pane_orig</a>( 1 ) );</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="classtrade__ui.html#a8668490740047210bf7bb927f51152e9">_panes</a>[<a class="code" href="classtrade__ui.html#ae46ab575f15c98400cabee6ffb55a77b">_trader</a>]-&gt;resize( <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3a661b5a5f4a563830f6b816388a6617">_pane_size</a>(), <a class="code" href="namespaceanonymous__namespace_02trade__ui_8cpp_03.html#a3488e97a9b2b2069198ce21b0f72c6a7">_pane_orig</a>( -1 ) );</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trade__ui_8cpp_source.html#l00030">anonymous_namespace{trade_ui.cpp}::_pane_orig()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00035">anonymous_namespace{trade_ui.cpp}::_pane_size()</a>, <a class="el" href="trade__ui_8h_source.html#l00109">_panes</a>, <a class="el" href="trade__ui_8h_source.html#l00105">_trader</a>, and <a class="el" href="trade__ui_8h_source.html#l00106">_you</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b55f491ef8dfdf36b14637b5fb73b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b55f491ef8dfdf36b14637b5fb73b4c">&#9670;&nbsp;</a></span>_balance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a> trade_ui::_balance = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00117">117</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00277">_confirm_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00216">autobalance()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00231">bank_balance()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="ae3a7b1aa916c87703d4a92fe89396143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a7b1aa916c87703d4a92fe89396143">&#9670;&nbsp;</a></span>_bank</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a> trade_ui::_bank = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00118">118</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00231">bank_balance()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a8b4df24028472e43dcf537bea1cf460e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4df24028472e43dcf537bea1cf460e">&#9670;&nbsp;</a></span>_cost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a> trade_ui::_cost = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00116">116</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="ab1980eb67dd605234884bb8c28fbcce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1980eb67dd605234884bb8c28fbcce7">&#9670;&nbsp;</a></span>_cpane</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">panecont_t::size_type trade_ui::_cpane = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00113">113</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00253">_process()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00216">autobalance()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>.</p>

</div>
</div>
<a id="a79252128426db3d29ad4cc1dd4b7849b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79252128426db3d29ad4cc1dd4b7849b">&#9670;&nbsp;</a></span>_delta_bank</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a8e34d76259050ae0ebf0fe3372058103">currency_t</a> trade_ui::_delta_bank = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00119">119</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00231">bank_balance()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a9ab5c19d8fee7e84691b70ce6c51c742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab5c19d8fee7e84691b70ce6c51c742">&#9670;&nbsp;</a></span>_exit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trade_ui::_exit = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00114">114</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00253">_process()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>.</p>

</div>
</div>
<a id="ace9d6ad5d9387879ab42043112c17db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9d6ad5d9387879ab42043112c17db4">&#9670;&nbsp;</a></span>_header_ui</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classui__adaptor.html">ui_adaptor</a> trade_ui::_header_ui</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00122">122</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a0e99d2fc0caa7ddabe98ab4370b6f398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e99d2fc0caa7ddabe98ab4370b6f398">&#9670;&nbsp;</a></span>_header_w</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> trade_ui::_header_w</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00121">121</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a8668490740047210bf7bb927f51152e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8668490740047210bf7bb927f51152e9">&#9670;&nbsp;</a></span>_panes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a1945de723de8e8e29db50f14fc305b90">panecont_t</a> trade_ui::_panes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00109">109</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00277">_confirm_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00253">_process()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00216">autobalance()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00247">resize()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a74a0b31bfe5c21daf575d45c580431eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a0b31bfe5c21daf575d45c580431eb">&#9670;&nbsp;</a></span>_parties</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a7b376bacf33ba90ce98207f1d5faee7c">parties_t</a> trade_ui::_parties</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00111">111</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00277">_confirm_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00216">autobalance()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>.</p>

</div>
</div>
<a id="a7777fac9b09557bb8211764490d91f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7777fac9b09557bb8211764490d91f37">&#9670;&nbsp;</a></span>_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;<a class="el" href="classtrade__ui.html#acd7f8d1afa05f5cc06ab788cf1ec80df">event</a>&gt; trade_ui::_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00112">112</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00168">pushevent()</a>.</p>

</div>
</div>
<a id="afd042811e909926afef96e9d84de91dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd042811e909926afef96e9d84de91dd">&#9670;&nbsp;</a></span>_title</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const trade_ui::_title</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00120">120</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>.</p>

</div>
</div>
<a id="a88588301d56ce6451cb4c03cc0fce524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88588301d56ce6451cb4c03cc0fce524">&#9670;&nbsp;</a></span>_tpreset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__preset.html">trade_preset</a> trade_ui::_tpreset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00108">108</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="ac92f1179bea5d51e2d5129a2f71fcea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92f1179bea5d51e2d5129a2f71fcea5">&#9670;&nbsp;</a></span>_trade_values</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__ui.html#a5fa07d2440abbc47ecbc2ae6b4265f15">values_t</a> trade_ui::_trade_values {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00110">110</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>.</p>

</div>
</div>
<a id="a2e7802834f28847ea53dd275f91d27eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e7802834f28847ea53dd275f91d27eb">&#9670;&nbsp;</a></span>_traded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trade_ui::_traded = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00115">115</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00253">_process()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>.</p>

</div>
</div>
<a id="ae46ab575f15c98400cabee6ffb55a77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46ab575f15c98400cabee6ffb55a77b">&#9670;&nbsp;</a></span>_trader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr static panecont_t::size_type trade_ui::_trader = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00105">105</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00277">_confirm_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00247">resize()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="aeeb28988effeba330856c7dc9decddb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb28988effeba330856c7dc9decddb4">&#9670;&nbsp;</a></span>_upreset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtrade__preset.html">trade_preset</a> trade_ui::_upreset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00108">108</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<a id="a83ab2356b9200637e379cd5bc9c66f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ab2356b9200637e379cd5bc9c66f55">&#9670;&nbsp;</a></span>_you</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr static panecont_t::size_type trade_ui::_you = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00106">106</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00277">_confirm_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00216">autobalance()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00173">perform_trade()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00201">recalc_values_cpane()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00247">resize()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="a5cf61ac456ac5443417b95510660d85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf61ac456ac5443417b95510660d85f">&#9670;&nbsp;</a></span>header_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr static int trade_ui::header_size = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00097">97</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trade__ui_8cpp_source.html#l00305">_draw_header()</a>, <a class="el" href="trade__ui_8cpp_source.html#l00030">anonymous_namespace{trade_ui.cpp}::_pane_orig()</a>, and <a class="el" href="trade__ui_8cpp_source.html#l00105">trade_ui()</a>.</p>

</div>
</div>
<a id="af0aa76ee73d3b4f8ce542de0d1e55d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0aa76ee73d3b4f8ce542de0d1e55d5e">&#9670;&nbsp;</a></span>npanes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr static std::size_t trade_ui::npanes = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trade__ui_8h_source.html#l00100">100</a> of file <a class="el" href="trade__ui_8h_source.html">trade_ui.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="trade__ui_8h_source.html">trade_ui.h</a></li>
<li>src/<a class="el" href="trade__ui_8cpp_source.html">trade_ui.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:45 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
