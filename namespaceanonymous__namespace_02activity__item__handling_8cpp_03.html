<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: anonymous_namespace{activity_item_handling.cpp} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">anonymous_namespace{activity_item_handling.cpp} Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6026a7419424633680348a66942437d7"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a6026a7419424633680348a66942437d7">checked_cache_t</a> = std::vector&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt;</td></tr>
<tr class="separator:a6026a7419424633680348a66942437d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab8b18d8c76720082dd1cc7ecff939e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#aab8b18d8c76720082dd1cc7ecff939e5">_fac_id</a> (<a class="el" href="classCharacter.html">Character</a> &amp;you)</td></tr>
<tr class="separator:aab8b18d8c76720082dd1cc7ecff939e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3ab8d01264d95628637e1924555b09"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#acf3ab8d01264d95628637e1924555b09">_can_construct</a> (<a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;loc, <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;idx, <a class="el" href="structconstruction.html">construction</a> const &amp;<a class="el" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>, <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt; const &amp;part_con_idx)</td></tr>
<tr class="separator:acf3ab8d01264d95628637e1924555b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a117ff1628c6aecbb48cdede23c8dc474"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structconstruction.html">construction</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a117ff1628c6aecbb48cdede23c8dc474">_find_alt_construction</a> (<a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;loc, <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;idx, <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt; const &amp;part_con_idx, std::function&lt; bool(<a class="el" href="structconstruction.html">construction</a> const &amp;)&gt; const &amp;filter)</td></tr>
<tr class="separator:a117ff1628c6aecbb48cdede23c8dc474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568e38fe7320c59668b286065b31fad1"><td class="memTemplParams" colspan="2">template&lt;class ID &gt; </td></tr>
<tr class="memitem:a568e38fe7320c59668b286065b31fad1"><td class="memTemplItemLeft" align="right" valign="top">ID&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a568e38fe7320c59668b286065b31fad1">_get_id</a> (<a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;idx)</td></tr>
<tr class="separator:a568e38fe7320c59668b286065b31fad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6dc3cc95345f13c9d94b364006dd60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structconstruction.html">construction</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#aba6dc3cc95345f13c9d94b364006dd60">_find_prereq</a> (<a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;loc, <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;idx, <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;top_idx, <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt; const &amp;part_con_idx, <a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a6026a7419424633680348a66942437d7">checked_cache_t</a> &amp;checked_cache)</td></tr>
<tr class="separator:aba6dc3cc95345f13c9d94b364006dd60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeb6db6aec73af7fcd5ee06494c91654"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#afeb6db6aec73af7fcd5ee06494c91654">already_done</a> (<a class="el" href="structconstruction.html">construction</a> const &amp;build, <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;loc)</td></tr>
<tr class="separator:afeb6db6aec73af7fcd5ee06494c91654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0583be172faf24d8e04efe5e6ea50e09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a0583be172faf24d8e04efe5e6ea50e09">_tidy_move_items</a> (<a class="el" href="classCharacter.html">Character</a> &amp;you, <a class="el" href="classitem__stack.html">item_stack</a> &amp;stack, <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;src_loc, <a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;dst_loc, const <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classvpart__reference.html">vpart_reference</a> &gt; &amp;vpr_src, <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> const &amp;activity_to_restore)</td></tr>
<tr class="separator:a0583be172faf24d8e04efe5e6ea50e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6026a7419424633680348a66942437d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6026a7419424633680348a66942437d7">&#9670;&nbsp;</a></span>checked_cache_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using anonymous_namespace{activity_item_handling.cpp}::<a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a6026a7419424633680348a66942437d7">checked_cache_t</a> = typedef std::vector&lt;<a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00796">796</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acf3ab8d01264d95628637e1924555b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf3ab8d01264d95628637e1924555b09">&#9670;&nbsp;</a></span>_can_construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{activity_item_handling.cpp}::_can_construct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structconstruction.html">construction</a> const &amp;&#160;</td>
          <td class="paramname"><em>check</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>part_con_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00768">768</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> ( part_con_idx &amp;&amp; *part_con_idx == <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.id ) ||</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;           ( <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>.pre_terrain != idx-&gt;post_terrain &amp;&amp; <a class="code" href="construction_8cpp.html#a2159918eb347390287d1b259f58e0840">can_construct</a>( <a class="code" href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a>, loc ) );</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_a2159918eb347390287d1b259f58e0840"><div class="ttname"><a href="construction_8cpp.html#a2159918eb347390287d1b259f58e0840">can_construct</a></div><div class="ttdeci">static bool can_construct(const construction &amp;con)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l00985">construction.cpp:985</a></div></div>
<div class="ttc" id="amartialarts_8cpp_html_a614e20af50995a2d1c6e9710b61c0573"><div class="ttname"><a href="martialarts_8cpp.html#a614e20af50995a2d1c6e9710b61c0573">check</a></div><div class="ttdeci">static void check(const ma_requirements &amp;req, const std::string &amp;display_text)</div><div class="ttdef"><b>Definition:</b> <a href="martialarts_8cpp_source.html#l00475">martialarts.cpp:475</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l00985">can_construct()</a>, <a class="el" href="martialarts_8cpp_source.html#l00475">check()</a>, and <a class="el" href="construction_8h_source.html#l00053">construction::post_terrain</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00777">_find_alt_construction()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00797">_find_prereq()</a>.</p>

</div>
</div>
<a id="aab8b18d8c76720082dd1cc7ecff939e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8b18d8c76720082dd1cc7ecff939e5">&#9670;&nbsp;</a></span>_fac_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> anonymous_namespace{activity_item_handling.cpp}::_fac_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00160">160</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classfaction.html">faction</a> <span class="keyword">const</span> *fac = you.<a class="code" href="classCharacter.html#aee4e2c047e2c683905cade66f04112b8">get_faction</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> fac == <span class="keyword">nullptr</span> ? <a class="code" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>() : fac-&gt;<a class="code" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="abasecamp_8h_html_ab899db7b87cf958f079fe0f14793625b"><div class="ttname"><a href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a></div><div class="ttdeci">string_id&lt; faction &gt; faction_id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00047">basecamp.h:47</a></div></div>
<div class="ttc" id="aclassCharacter_html_aee4e2c047e2c683905cade66f04112b8"><div class="ttname"><a href="classCharacter.html#aee4e2c047e2c683905cade66f04112b8">Character::get_faction</a></div><div class="ttdeci">virtual faction * get_faction() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00768">character.h:768</a></div></div>
<div class="ttc" id="aclassfaction_html"><div class="ttname"><a href="classfaction.html">faction</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00126">faction.h:127</a></div></div>
<div class="ttc" id="aclassint__id_html_a09d4f824b2540da7e682d10cdf324081"><div class="ttname"><a href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">int_id::id</a></div><div class="ttdeci">const string_id&lt; ammo_effect &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8h_source.html#l00768">Character::get_faction()</a>, and <a class="el" href="faction_8h_source.html#l00112">faction_template::id</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01991">activity_on_turn_move_loot()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01439">add_basecamp_storage_to_loot_zone_list()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00907">are_requirements_nearby()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01004">can_do_activity_there()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02702">generic_multi_activity_check_requirement()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02970">generic_multi_activity_do()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02538">generic_multi_activity_locations()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03448">get_auto_consume_moves()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01467">requirements_map()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01809">tidy_activity()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l03559">try_fuel_fire()</a>.</p>

</div>
</div>
<a id="a117ff1628c6aecbb48cdede23c8dc474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a117ff1628c6aecbb48cdede23c8dc474">&#9670;&nbsp;</a></span>_find_alt_construction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structconstruction.html">construction</a> const* anonymous_namespace{activity_item_handling.cpp}::_find_alt_construction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>part_con_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; bool(<a class="el" href="structconstruction.html">construction</a> const &amp;)&gt; const &amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00777">777</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;{</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    std::vector&lt;construction *&gt; cons = <a class="code" href="construction_8cpp.html#acc3e695a083b116ffc5ef1ac533b97d5">constructions_by_filter</a>( filter );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structconstruction.html">construction</a> <span class="keyword">const</span> *el : cons ) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#acf3ab8d01264d95628637e1924555b09">_can_construct</a>( loc, idx, *el, part_con_idx ) ) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <span class="keywordflow">return</span> el;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="ttc" id="aconstruction_8cpp_html_acc3e695a083b116ffc5ef1ac533b97d5"><div class="ttname"><a href="construction_8cpp.html#acc3e695a083b116ffc5ef1ac533b97d5">constructions_by_filter</a></div><div class="ttdeci">std::vector&lt; construction * &gt; constructions_by_filter(std::function&lt; bool(construction const &amp;)&gt; const &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l00274">construction.cpp:274</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02activity__item__handling_8cpp_03_html_acf3ab8d01264d95628637e1924555b09"><div class="ttname"><a href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#acf3ab8d01264d95628637e1924555b09">anonymous_namespace{activity_item_handling.cpp}::_can_construct</a></div><div class="ttdeci">bool _can_construct(tripoint_bub_ms const &amp;loc, construction_id const &amp;idx, construction const &amp;check, std::optional&lt; construction_id &gt; const &amp;part_con_idx)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00768">activity_item_handling.cpp:768</a></div></div>
<div class="ttc" id="astructconstruction_html"><div class="ttname"><a href="structconstruction.html">construction</a></div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00043">construction.h:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__item__handling_8cpp_source.html#l00768">_can_construct()</a>, <a class="el" href="construction_8cpp_source.html#l00274">constructions_by_filter()</a>, and <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00845">find_base_construction()</a>.</p>

</div>
</div>
<a id="aba6dc3cc95345f13c9d94b364006dd60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6dc3cc95345f13c9d94b364006dd60">&#9670;&nbsp;</a></span>_find_prereq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structconstruction.html">construction</a> const* anonymous_namespace{activity_item_handling.cpp}::_find_prereq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;&#160;</td>
          <td class="paramname"><em>top_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>part_con_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a6026a7419424633680348a66942437d7">checked_cache_t</a> &amp;&#160;</td>
          <td class="paramname"><em>checked_cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00797">797</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="structconstruction.html">construction</a> <span class="keyword">const</span> *con = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    std::vector&lt;construction *&gt; cons = <a class="code" href="construction_8cpp.html#acc3e695a083b116ffc5ef1ac533b97d5">constructions_by_filter</a>( [&amp;idx, &amp;top_idx](</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="structconstruction.html">construction</a> <span class="keyword">const</span> &amp; it ) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="classint__id.html">furn_id</a> <span class="keyword">const</span> f = top_idx-&gt;post_is_furniture ? _get_id&lt;furn_id&gt;( top_idx ) : <a class="code" href="classint__id.html">furn_id</a>();</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="classint__id.html">ter_id</a> <span class="keyword">const</span> t = top_idx-&gt;post_is_furniture ? <a class="code" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>() : <a class="code" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a568e38fe7320c59668b286065b31fad1">_get_id</a>&lt;<a class="code" href="classint__id.html">ter_id</a>&gt;( top_idx );</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">return</span> it.<a class="code" href="structconstruction.html#aa437285d9bdea6ba7ceccaa12e063838">group</a> != idx-&gt;group &amp;&amp; !it.<a class="code" href="structconstruction.html#a3f6a1e7944ff6e6dd8292139bf41d2fc">post_terrain</a>.empty() &amp;&amp;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;               it.<a class="code" href="structconstruction.html#a3f6a1e7944ff6e6dd8292139bf41d2fc">post_terrain</a> == idx-&gt;pre_terrain &amp;&amp;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;               <span class="comment">// don&#39;t get stuck building and deconstructing the top level post_terrain</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;               it.<a class="code" href="structconstruction.html#a6115a3f130c2730a65c9ae3b21d9a298">pre_terrain</a> != top_idx-&gt;post_terrain &amp;&amp;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;               ( it.<a class="code" href="structconstruction.html#afa2cf80806e70582137685b882dd521e">pre_flags</a>.empty() || !<a class="code" href="construction_8cpp.html#a9738af0b7504b0bef3868145ed951f69">can_construct_furn_ter</a>( it, f, t ) );</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    } );</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structconstruction.html">construction</a> <span class="keyword">const</span> *gcon : cons ) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">if</span>( std::find( checked_cache.begin(), checked_cache.end(), gcon-&gt;id ) !=</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            checked_cache.end() ) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        checked_cache.emplace_back( gcon-&gt;id );</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#acf3ab8d01264d95628637e1924555b09">_can_construct</a>( loc, idx, *gcon, part_con_idx ) ) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">return</span> gcon;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="comment">// try to find a prerequisite of this prerequisite</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span>( !gcon-&gt;pre_terrain.empty() || !gcon-&gt;pre_flags.empty() ) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            con = <a class="code" href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#aba6dc3cc95345f13c9d94b364006dd60">_find_prereq</a>( loc, gcon-&gt;id, top_idx, part_con_idx, checked_cache );</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span>( con != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">return</span> con;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; furn_t &gt;</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a9738af0b7504b0bef3868145ed951f69"><div class="ttname"><a href="construction_8cpp.html#a9738af0b7504b0bef3868145ed951f69">can_construct_furn_ter</a></div><div class="ttdeci">bool can_construct_furn_ter(const construction &amp;con, furn_id const &amp;f, ter_id const &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l00948">construction.cpp:948</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02activity__item__handling_8cpp_03_html_a568e38fe7320c59668b286065b31fad1"><div class="ttname"><a href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#a568e38fe7320c59668b286065b31fad1">anonymous_namespace{activity_item_handling.cpp}::_get_id</a></div><div class="ttdeci">ID _get_id(construction_id const &amp;idx)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00791">activity_item_handling.cpp:791</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02activity__item__handling_8cpp_03_html_aba6dc3cc95345f13c9d94b364006dd60"><div class="ttname"><a href="namespaceanonymous__namespace_02activity__item__handling_8cpp_03.html#aba6dc3cc95345f13c9d94b364006dd60">anonymous_namespace{activity_item_handling.cpp}::_find_prereq</a></div><div class="ttdeci">construction const  * _find_prereq(tripoint_bub_ms const &amp;loc, construction_id const &amp;idx, construction_id const &amp;top_idx, std::optional&lt; construction_id &gt; const &amp;part_con_idx, checked_cache_t &amp;checked_cache)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00797">activity_item_handling.cpp:797</a></div></div>
<div class="ttc" id="astructconstruction_html_a3f6a1e7944ff6e6dd8292139bf41d2fc"><div class="ttname"><a href="structconstruction.html#a3f6a1e7944ff6e6dd8292139bf41d2fc">construction::post_terrain</a></div><div class="ttdeci">std::string post_terrain</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00053">construction.h:53</a></div></div>
<div class="ttc" id="astructconstruction_html_a6115a3f130c2730a65c9ae3b21d9a298"><div class="ttname"><a href="structconstruction.html#a6115a3f130c2730a65c9ae3b21d9a298">construction::pre_terrain</a></div><div class="ttdeci">std::string pre_terrain</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00051">construction.h:51</a></div></div>
<div class="ttc" id="astructconstruction_html_aa437285d9bdea6ba7ceccaa12e063838"><div class="ttname"><a href="structconstruction.html#aa437285d9bdea6ba7ceccaa12e063838">construction::group</a></div><div class="ttdeci">construction_group_str_id group</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00047">construction.h:47</a></div></div>
<div class="ttc" id="astructconstruction_html_afa2cf80806e70582137685b882dd521e"><div class="ttname"><a href="structconstruction.html#afa2cf80806e70582137685b882dd521e">construction::pre_flags</a></div><div class="ttdeci">std::map&lt; std::string, bool &gt; pre_flags</div><div class="ttdef"><b>Definition:</b> <a href="construction_8h_source.html#l00060">construction.h:60</a></div></div>
<div class="ttc" id="atype__id_8h_html_a52570fdf9996c7b72d444f8020a741e8"><div class="ttname"><a href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a></div><div class="ttdeci">int_id&lt; ter_t &gt; ter_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00262">type_id.h:262</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__item__handling_8cpp_source.html#l00768">_can_construct()</a>, <a class="el" href="construction_8cpp_source.html#l00948">can_construct_furn_ter()</a>, <a class="el" href="construction_8cpp_source.html#l00274">constructions_by_filter()</a>, <a class="el" href="construction_8h_source.html#l00047">construction::group</a>, <a class="el" href="construction_8h_source.html#l00094">construction::post_is_furniture</a>, <a class="el" href="construction_8h_source.html#l00053">construction::post_terrain</a>, <a class="el" href="construction_8h_source.html#l00060">construction::pre_flags</a>, and <a class="el" href="construction_8h_source.html#l00051">construction::pre_terrain</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00845">find_base_construction()</a>.</p>

</div>
</div>
<a id="a568e38fe7320c59668b286065b31fad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a568e38fe7320c59668b286065b31fad1">&#9670;&nbsp;</a></span>_get_id()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ID &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ID anonymous_namespace{activity_item_handling.cpp}::_get_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#a7de4e933ae593eb3de0a138f3cd84657">construction_id</a> const &amp;&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00791">791</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;{</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">return</span> idx-&gt;post_terrain.empty() ? ID() : ID( idx-&gt;post_terrain );</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8h_source.html#l00053">construction::post_terrain</a>.</p>

</div>
</div>
<a id="a0583be172faf24d8e04efe5e6ea50e09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0583be172faf24d8e04efe5e6ea50e09">&#9670;&nbsp;</a></span>_tidy_move_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace{activity_item_handling.cpp}::_tidy_move_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem__stack.html">item_stack</a> &amp;&#160;</td>
          <td class="paramname"><em>stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;&#160;</td>
          <td class="paramname"><em>src_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;&#160;</td>
          <td class="paramname"><em>dst_loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; <a class="el" href="classvpart__reference.html">vpart_reference</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vpr_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> const &amp;&#160;</td>
          <td class="paramname"><em>activity_to_restore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l01756">1756</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;{</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> &amp;it : stack ) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <span class="keywordflow">if</span>( it.has_var( <span class="stringliteral">&quot;activity_var&quot;</span> ) &amp;&amp; it.get_var( <span class="stringliteral">&quot;activity_var&quot;</span>, <span class="stringliteral">&quot;&quot;</span> ) == you.<a class="code" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> ) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <a class="code" href="activity__item__handling_8cpp.html#a931deb6f55d7516a0fb6b95e4b976678">move_item</a>( you, it, it.count(), src_loc, dst_loc, vpr_src, activity_to_restore );</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a931deb6f55d7516a0fb6b95e4b976678"><div class="ttname"><a href="activity__item__handling_8cpp.html#a931deb6f55d7516a0fb6b95e4b976678">move_item</a></div><div class="ttdeci">static void move_item(Character &amp;you, item &amp;it, const int quantity, const tripoint_bub_ms &amp;src, const tripoint_bub_ms &amp;dest, const std::optional&lt; vpart_reference &gt; &amp;vpr_src, const activity_id &amp;activity_to_restore=activity_id::NULL_ID())</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00614">activity_item_handling.cpp:614</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02684">character.h:2684</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l08623">item::count()</a>, <a class="el" href="item_8cpp_source.html#l01839">item::get_var()</a>, <a class="el" href="item_8cpp_source.html#l01928">item::has_var()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00614">move_item()</a>, and <a class="el" href="character_8h_source.html#l02684">Character::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l01809">tidy_activity()</a>.</p>

</div>
</div>
<a id="afeb6db6aec73af7fcd5ee06494c91654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeb6db6aec73af7fcd5ee06494c91654">&#9670;&nbsp;</a></span>already_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool anonymous_namespace{activity_item_handling.cpp}::already_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structconstruction.html">construction</a> const &amp;&#160;</td>
          <td class="paramname"><em>build</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a> const &amp;&#160;</td>
          <td class="paramname"><em>loc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00833">833</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">furn_id</a> furn = here.<a class="code" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( loc );</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">ter_id</a> ter = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( loc );</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span> !build.post_terrain.empty() &amp;&amp;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;           ( ( !build.post_is_furniture &amp;&amp; <a class="code" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>( build.post_terrain ) == ter ) ||</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;             ( build.post_is_furniture &amp;&amp; <a class="code" href="classint__id.html">furn_id</a>( build.post_terrain ) == furn ) );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassmap_html_af55e014aab791bbe4c8630361c1311dd"><div class="ttname"><a href="classmap.html#af55e014aab791bbe4c8630361c1311dd">map::furn</a></div><div class="ttdeci">furn_id furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01722">map.cpp:1722</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l01722">map::furn()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="construction_8h_source.html#l00094">construction::post_is_furniture</a>, <a class="el" href="construction_8h_source.html#l00053">construction::post_terrain</a>, and <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l00845">find_base_construction()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:46 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
