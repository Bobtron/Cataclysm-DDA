<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/handle_liquid.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">handle_liquid.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="handle__liquid_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="handle__liquid_8h.html">handle_liquid.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;new&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;ostream&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="action_8h.html">action.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="activity__actor__definitions_8h.html">activity_actor_definitions.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="activity__type_8h.html">activity_type.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cached__options_8h.html">cached_options.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__utility_8h.html">cata_utility.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="colony_8h.html">colony.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__inventory_8h.html">game_inventory.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iexamine_8h.html">iexamine.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="itype_8h.html">itype.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="monster_8h.html">monster.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="player__activity_8h.html">player_activity.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ui_8h.html">ui.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="veh__interact_8h.html">veh_interact.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vehicle_8h.html">vehicle.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vpart__position_8h.html">vpart_position.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vpart__range_8h.html">vpart_range.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#a49bc164f30e64702250d2cbea09bf86c">   43</a></span>&#160;<span class="preprocessor">#define dbg(x) DebugLog((x),D_GAME) &lt;&lt; __FILE__ &lt;&lt; &quot;:&quot;</span> &lt;&lt; __LINE__ &lt;&lt; &quot;: &quot;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#a2ebc72eea27ca3b5303e462f8a1b989d">   45</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">activity_id</a> <a class="code" href="handle__liquid_8cpp.html#a2ebc72eea27ca3b5303e462f8a1b989d">ACT_FILL_LIQUID</a>( <span class="stringliteral">&quot;ACT_FILL_LIQUID&quot;</span> );</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#acac2380f1da4ed4def47fe3fc7998315">   46</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">flag_id</a> <a class="code" href="handle__liquid_8cpp.html#acac2380f1da4ed4def47fe3fc7998315">json_flag_FROM_FROZEN_LIQUID</a>( <span class="stringliteral">&quot;FROM_FROZEN_LIQUID&quot;</span> );</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// All serialize_liquid_source functions should add the same number of elements to the vectors of</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// the activity. This makes it easier to distinguish the values of the source and the values of the target.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#a23492d77c742e3e9cd662e298b984cd7">   50</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="handle__liquid_8cpp.html#a23492d77c742e3e9cd662e298b984cd7">serialize_liquid_source</a>( <a class="code" href="classplayer__activity.html">player_activity</a> &amp;<a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> &amp;veh, <span class="keyword">const</span> <span class="keywordtype">int</span> part_num,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;liquid )</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a0d2a5d4e22bc488b588376bab421e3a5ae9fa318f4d73c31493e98096efa497e2">liquid_source_type::VEHICLE</a> ) );</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( part_num );</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span>( part_num != -1 ) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.push_back( veh.<a class="code" href="classvehicle.html#ae8132c34a1ea24866889e6e599796adc">global_part_pos3</a>( part_num ) );</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.push_back( veh.<a class="code" href="classvehicle.html#a3900ee345be0453828a955a200154db1">global_pos3</a>() );</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.str_values.push_back( <a class="code" href="activity__actor_8cpp.html#a6046e0589823cbb6ce42e6a3ffe059f1">serialize</a>( liquid ) );</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#ab36344f011dcf37b297f5bce28f9557b">   63</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="handle__liquid_8cpp.html#a23492d77c742e3e9cd662e298b984cd7">serialize_liquid_source</a>( <a class="code" href="classplayer__activity.html">player_activity</a> &amp;<a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;liquid )</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">const</span> <a class="code" href="classmap__stack.html">map_stack</a> stack = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Need to store the *index* of the item on the ground, but it may be a virtual item from</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// an infinite liquid source.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> iter = std::find_if( stack.<a class="code" href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">begin</a>(), stack.<a class="code" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>(), [&amp;]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        return &amp;i == &amp;liquid;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    } );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span>( iter == stack.<a class="code" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>() ) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a0d2a5d4e22bc488b588376bab421e3a5ace51c42124e885e44d737ea3db21d1ac">liquid_source_type::INFINITE_MAP</a> ) );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( 0 ); <span class="comment">// dummy</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a0d2a5d4e22bc488b588376bab421e3a5a597b9a818fe654b790bc1f87d63b36aa">liquid_source_type::MAP_ITEM</a> ) );</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( std::distance( stack.<a class="code" href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">begin</a>(), iter ) );</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.push_back( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.str_values.push_back( <a class="code" href="activity__actor_8cpp.html#a6046e0589823cbb6ce42e6a3ffe059f1">serialize</a>( liquid ) );</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">   82</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a>( <a class="code" href="classplayer__activity.html">player_activity</a> &amp;<a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp )</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a5481b16d2a9d909680adb5791ec9bff4ae9fa318f4d73c31493e98096efa497e2">liquid_target_type::VEHICLE</a> ) );</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( 0 ); <span class="comment">// dummy</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.push_back( vp.<a class="code" href="classvpart__reference.html#a75d50308cc415fe2468c79d7fd76e96e">vehicle</a>().<a class="code" href="classvehicle.html#ae8132c34a1ea24866889e6e599796adc">global_part_pos3</a>( 0 ) );</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( vp.<a class="code" href="classvpart__position.html#a89192e86585711fa4c803a48d9f5de29">part_index</a>() ); <span class="comment">// tank part index</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#ac76366c7bacb8f7b472b8b963db66835">   90</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a>( <a class="code" href="classplayer__activity.html">player_activity</a> &amp;<a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp;container_item )</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a5481b16d2a9d909680adb5791ec9bff4a9bbab5f947b9e3fbb8a399ecc257459b">liquid_target_type::CONTAINER</a> ) );</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( 0 ); <span class="comment">// dummy</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.push_back( container_item );</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.emplace_back( ); <span class="comment">// dummy</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="handle__liquid_8cpp.html#a9ebe1c1634ce506d957daaf979751bc7">   98</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a>( <a class="code" href="classplayer__activity.html">player_activity</a> &amp;<a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> )</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a5481b16d2a9d909680adb5791ec9bff4a5af1a3a285c2bdee4192223e31e1f833">liquid_target_type::MAP</a> ) );</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( 0 ); <span class="comment">// dummy</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.push_back( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html">  105</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceliquid__handler.html">liquid_handler</a></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#aa161cfecbfcfa0e1b42f391f3e39af79">  107</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceliquid__handler.html#aa161cfecbfcfa0e1b42f391f3e39af79">handle_all_liquid</a>( <a class="code" href="classitem.html">item</a> liquid, <span class="keyword">const</span> <span class="keywordtype">int</span> radius, <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *<span class="keyword">const</span> avoid )</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">while</span>( liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 &amp;&amp; <a class="code" href="namespaceliquid__handler.html#a0653d4914152a1dc455276735fd6bb50">can_handle_liquid</a>( liquid ) ) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="comment">// handle_liquid allows to pour onto the ground, which will handle all the liquid and</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">// set charges to 0. This allows terminating the loop.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="comment">// The result of handle_liquid is ignored, the player *has* to handle all the liquid.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">handle_liquid</a>( liquid, avoid, radius );</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#af4453d38bbec69956bdeead593ef7704">  117</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#af4453d38bbec69956bdeead593ef7704">consume_liquid</a>( <a class="code" href="classitem.html">item</a> &amp;liquid, <span class="keyword">const</span> <span class="keywordtype">int</span> radius, <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *<span class="keyword">const</span> avoid )</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> original_charges = liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">while</span>( liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 &amp;&amp; <a class="code" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">handle_liquid</a>( liquid, avoid, radius ) ) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">// try again with the remaining charges</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> original_charges != liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#a29b260212d0cb959946f8a8094ce75f9">  126</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#a29b260212d0cb959946f8a8094ce75f9">handle_liquid_from_ground</a>( <span class="keyword">const</span> <a class="code" href="classcata_1_1colony_1_1colony__iterator.html">map_stack::iterator</a> &amp;on_ground,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">int</span> radius )</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// TODO: not all code paths on handle_liquid consume move points, fix that.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">handle_liquid</a>( *on_ground, <span class="keyword">nullptr</span>, radius, &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span>( on_ground-&gt;charges &gt; 0 ) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">erase</a>( on_ground );</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#a9df963755dc50d58f0c5fcbd704791c4">  139</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#a9df963755dc50d58f0c5fcbd704791c4">handle_liquid_from_container</a>( <a class="code" href="classitem.html">item</a> *in_container,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                   <a class="code" href="classitem.html">item</a> &amp;container, <span class="keywordtype">int</span> radius )</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// TODO: not all code paths on handle_liquid consume move points, fix that.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> old_charges = in_container-&gt;<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">handle_liquid</a>( *in_container, &amp;container, radius );</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span>( in_container-&gt;<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> != old_charges ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        container.<a class="code" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> in_container-&gt;<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &lt;= 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#a6e60c606c1860bcb7eb5094143af78c2">  152</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#a9df963755dc50d58f0c5fcbd704791c4">handle_liquid_from_container</a>( <a class="code" href="classitem.html">item</a> &amp;container, <span class="keywordtype">int</span> radius )</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    std::vector&lt;item *&gt; <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">bool</span> handled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *contained : container.<a class="code" href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">all_items_top</a>() ) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceliquid__handler.html#a9df963755dc50d58f0c5fcbd704791c4">handle_liquid_from_container</a>( contained, container, radius ) ) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a>.push_back( contained );</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            handled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *contained : <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">remove</a> ) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        container.<a class="code" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *contained );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> handled;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#a024d5a1d17321735616e2c9abfbc74a8">  168</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#a024d5a1d17321735616e2c9abfbc74a8">get_liquid_target</a>( <a class="code" href="classitem.html">item</a> &amp;liquid, <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *<span class="keyword">const</span> source, <span class="keyword">const</span> <span class="keywordtype">int</span> radius,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> *<span class="keyword">const</span> source_pos,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> source_mon,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                               <a class="code" href="structliquid__dest__opt.html">liquid_dest_opt</a> &amp;target )</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span>( !liquid.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="handle__liquid_8cpp.html#a49bc164f30e64702250d2cbea09bf86c">dbg</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395a4759bd3f0b71819391a3e4024b645d69">D_ERROR</a> ) &lt;&lt; <span class="stringliteral">&quot;game:handle_liquid: Tried to handle_liquid a non-liquid!&quot;</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to handle_liquid a non-liquid!&quot;</span> );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">// &quot;canceled by the user&quot; because we *can* not handle it.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a> ) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="cached__options_8cpp.html#a465f37ac151918f6eb9fe332d0d2aa03">test_mode_spilling_action</a> ) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="cached__options_8h.html#aad15fd0352d74e9345176c57e55d7e29a4a65eb98b9cb718ae0862da12cdd65f9">test_mode_spilling_action_t::spill_all</a>:</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a> = player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ae7ba823f1f789ed3c2958efe4482d61b">LD_GROUND</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="cached__options_8h.html#aad15fd0352d74e9345176c57e55d7e29a7f7ec4162fec0eea087a9ce3c31dedee">test_mode_spilling_action_t::cancel_spill</a>:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">const</span> std::string liquid_name = liquid.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>( liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span>( source_pos != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="comment">//~ %1$s: liquid name, %2$s: terrain name</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;liquid&quot;</span>, <span class="stringliteral">&quot;What to do with the %1$s from %2$s?&quot;</span> ), liquid_name,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                   here.<a class="code" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a>( *source_pos ) );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source_veh != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">//~ %1$s: liquid name, %2$s: vehicle name</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;liquid&quot;</span>, <span class="stringliteral">&quot;What to do with the %1$s from %2$s?&quot;</span> ), liquid_name,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                   source_veh-&gt;<a class="code" href="classvehicle.html#ace5c25f3faffd8848491570cfb89f086">disp_name</a>() );</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source_mon != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">//~ %1$s: liquid name, %2$s: monster name</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;liquid&quot;</span>, <span class="stringliteral">&quot;What to do with the %1$s from the %2$s?&quot;</span> ),</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                   liquid_name, source_mon-&gt;<a class="code" href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">get_name</a>() );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span>( source-&gt;<a class="code" href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">is_bucket_nonempty</a>() ) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;liquid&quot;</span>,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                 <span class="comment">//~ %1$s: liquid name, %2$s: container name</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                                 <span class="stringliteral">&quot;The %1$s would spill.\nWhat to do with the %2$s inside it?&quot;</span> ),</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                       source-&gt;<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>(), liquid_name );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="comment">//~ %1$s: liquid name, %2$s: container name</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;liquid&quot;</span>, <span class="stringliteral">&quot;What to do with the %1$s in the %2$s?&quot;</span> ),</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                       liquid_name, source-&gt;<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>() );</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="comment">//~ %s: liquid name</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;liquid&quot;</span>, <span class="stringliteral">&quot;What to do with the %s?&quot;</span> ), liquid_name );</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    std::vector&lt;std::function&lt;void()&gt;&gt; actions;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( liquid ) &amp;&amp; !source_mon &amp;&amp; ( source_veh || source_pos ) ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( -1, <span class="keyword">true</span>, <span class="charliteral">&#39;e&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Consume it&quot;</span> ) );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        actions.emplace_back( [&amp;]() {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ad9e9d5eefbfae94f95e8b417e22a40f7">LD_CONSUME</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        } );</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// This handles containers found anywhere near the player, including on the map and in vehicle storage.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( -1, <span class="keyword">true</span>, <span class="charliteral">&#39;c&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Pour into a container&quot;</span> ) );</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    actions.emplace_back( [&amp;]() {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a> = <a class="code" href="namespacegame__menus_1_1inv.html#a652c702bc8b1c441b2e0df7ccefaaf80">game_menus::inv::container_for</a>( player_character, liquid,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                          radius, <span class="comment">/*avoid=*/</span>source );</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="classitem.html">item</a> *<span class="keyword">const</span> cont = target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a>.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span>( cont == <span class="keyword">nullptr</span> || cont-&gt;<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="comment">// Sometimes the cont parameter is omitted, but the liquid is still within a container that counts</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// as valid target for the liquid. So check for that.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span>( cont == source || ( !cont-&gt;<a class="code" href="classitem.html#ae05d298b2cf91e4c12d5beca5f38c67f">empty</a>() &amp;&amp; cont-&gt;<a class="code" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a>( liquid ) ) ) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;That&#39;s the same container!&quot;</span> ) );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">return</span>; <span class="comment">// The user has intended to do something, but mistyped.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a638cc55229391747435ad916491edfa5">LD_ITEM</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    } );</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// This handles liquids stored in vehicle parts directly (e.g. tanks).</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    std::set&lt;vehicle *&gt; opts;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;e : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="classvehicle.html">vehicle</a> *veh = <a class="code" href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a>( here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( e ) );</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span>( veh ) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="classvehicle__part__range.html">vehicle_part_range</a> vpr = veh-&gt;<a class="code" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> veh_accepts_liquid = [&amp;liquid]( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp; pt ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="keywordflow">return</span> pt.part().can_reload( liquid );</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            };</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">if</span>( std::any_of( vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">begin</a>(), vpr.<a class="code" href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">end</a>(), veh_accepts_liquid ) ) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                opts.insert( veh );</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classvehicle.html">vehicle</a> *veh : opts ) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span>( veh == source_veh &amp;&amp; veh-&gt;<a class="code" href="classvehicle.html#aca3ae013973cb492b14967e574189c1c">has_part</a>( <span class="stringliteral">&quot;FLUIDTANK&quot;</span>, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classvpart__reference.html">vpart_reference</a> &amp;vp : veh-&gt;get_avail_parts( <span class="stringliteral">&quot;FLUIDTANK&quot;</span> ) ) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span>( vp.part().get_base().can_reload_with( liquid, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( -1, <span class="keyword">true</span>, <a class="code" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Fill available tank&quot;</span> ) );</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    actions.emplace_back( [ &amp;, veh]() {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                        target.<a class="code" href="structliquid__dest__opt.html#ab5a0ada7a6de112943b7782ddfcc9dc8">veh</a> = veh;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30aaf56d6dac3d331dc7b00777ed2ced7f3">LD_VEH</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    } );</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( -1, <span class="keyword">true</span>, <a class="code" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Fill nearby vehicle %s&quot;</span> ), veh-&gt;name );</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            actions.emplace_back( [ &amp;, veh]() {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                target.<a class="code" href="structliquid__dest__opt.html#ab5a0ada7a6de112943b7782ddfcc9dc8">veh</a> = veh;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30aaf56d6dac3d331dc7b00777ed2ced7f3">LD_VEH</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            } );</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;target_pos : here.<a class="code" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 1 ) ) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="namespaceiexamine.html#a8f416fad095ebdced5c867b735550fa4">iexamine::has_keg</a>( target_pos ) ) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span>( source_pos != <span class="keyword">nullptr</span> &amp;&amp; *source_pos == target_pos ) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keyword">const</span> std::string dir = <a class="code" href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a>( <a class="code" href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), target_pos ) );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( -1, <span class="keyword">true</span>, <a class="code" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Pour into an adjacent keg (%s)&quot;</span> ), dir );</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        actions.emplace_back( [ &amp;, target_pos]() {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a> = target_pos;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a60433ac0de4a41c7018b30f3c01e1284">LD_KEG</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        } );</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( -1, <span class="keyword">true</span>, <span class="charliteral">&#39;g&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Pour on the ground&quot;</span> ) );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    actions.emplace_back( [&amp;]() {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="comment">// From infinite source to the ground somewhere else. The target has</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="comment">// infinite space and the liquid can not be used from there anyway.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">if</span>( liquid.<a class="code" href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">has_infinite_charges</a>() &amp;&amp; source_pos != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            add_msg( m_info, _( <span class="stringliteral">&quot;Clearing out the %s would take forever.&quot;</span> ), here.name( *source_pos ) );</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            return;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keyword">const</span> std::string liqstr = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Pour %s where?&quot;</span> ), liquid_name );</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keyword">const</span> std::optional&lt;tripoint&gt; target_pos_ = <a class="code" href="action_8cpp.html#a503aa06052a763e1b8c0be791e403acc">choose_adjacent</a>( liqstr );</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span>( !target_pos_ ) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a> = *target_pos_;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">if</span>( source_pos != <span class="keyword">nullptr</span> &amp;&amp; *source_pos == target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a> ) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;That&#39;s where you took it from!&quot;</span> ) );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>( !here.<a class="code" href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">can_put_items_ter_furn</a>( target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a> ) ) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t pour there!&quot;</span> ) );</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> = <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ae7ba823f1f789ed3c2958efe4482d61b">LD_GROUND</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    } );</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span>( liquid.<a class="code" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// Pre-select this one as it is the most likely one for rotten liquids</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        menu.<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> = menu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.size() - 1;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span>( menu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.empty() ) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">while</span>( target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> == <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a5ec29d6d8f08c26d52720f4392c6cfc8">LD_NULL</a> ) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        menu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) &gt;= actions.size() ) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Never mind.&quot;</span> ) );</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="comment">// Explicitly canceled all options (container, drink, pour).</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        actions[menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>]();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#a8fc480970c379e338169bfa8c53fff44">  350</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#a8fc480970c379e338169bfa8c53fff44">perform_liquid_transfer</a>( <a class="code" href="classitem.html">item</a> &amp;liquid, <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> *<span class="keyword">const</span> source_pos,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh, <span class="keyword">const</span> <span class="keywordtype">int</span> part_num,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> <span class="comment">/*source_mon*/</span>, <a class="code" href="structliquid__dest__opt.html">liquid_dest_opt</a> &amp;target )</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span>( !liquid.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="handle__liquid_8cpp.html#a49bc164f30e64702250d2cbea09bf86c">dbg</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395a4759bd3f0b71819391a3e4024b645d69">D_ERROR</a> ) &lt;&lt; <span class="stringliteral">&quot;game:handle_liquid: Tried to handle_liquid a non-liquid!&quot;</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to handle_liquid a non-liquid!&quot;</span> );</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// &quot;canceled by the user&quot; because we *can* not handle it.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> create_activity = [&amp;]() {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">if</span>( source_veh != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="handle__liquid_8cpp.html#a2ebc72eea27ca3b5303e462f8a1b989d">ACT_FILL_LIQUID</a> );</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <a class="code" href="handle__liquid_8cpp.html#a23492d77c742e3e9cd662e298b984cd7">serialize_liquid_source</a>( player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>, *source_veh, part_num, liquid );</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source_pos != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="handle__liquid_8cpp.html#a2ebc72eea27ca3b5303e462f8a1b989d">ACT_FILL_LIQUID</a> );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <a class="code" href="handle__liquid_8cpp.html#a23492d77c742e3e9cd662e298b984cd7">serialize_liquid_source</a>( player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>, *source_pos, liquid );</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    };</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">switch</span>( target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> ) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ad9e9d5eefbfae94f95e8b417e22a40f7">LD_CONSUME</a>:</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="classconsume__activity__actor.html">consume_activity_actor</a>( liquid ) );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>--;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a638cc55229391747435ad916491edfa5">LD_ITEM</a>: {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment">// Currently activities can only store item position in the players inventory,</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="comment">// not on ground or similar. TODO: implement storing arbitrary container locations.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a> &amp;&amp; create_activity() ) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                <a class="code" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a>( player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>, target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a> );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#ae46bbb9235a9007f63921fe7684e2571">pour_into</a>( target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a>, liquid, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a>.<a class="code" href="classitem__location.html#aa7fe8f49804524de3dcdfedd523be549">make_active</a>();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 );</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30aaf56d6dac3d331dc7b00777ed2ced7f3">LD_VEH</a>: {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">if</span>( target.<a class="code" href="structliquid__dest__opt.html#ab5a0ada7a6de112943b7782ddfcc9dc8">veh</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keyword">auto</span> sel = [&amp;]( <span class="keyword">const</span> <a class="code" href="structvehicle__part.html">vehicle_part</a> &amp; pt ) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">return</span> pt.is_tank() &amp;&amp; pt.can_reload( liquid );</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            };</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::volume</a> stack = <a class="code" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a> / liquid.<a class="code" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keyword">const</span> std::string <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select target tank for &lt;color_%s&gt;%.1fL %s&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                      <a class="code" href="color_8cpp.html#a936ada358907519ef76966d7774212e4">get_all_colors</a>().get_name( liquid.<a class="code" href="classitem.html#ac3802e76b128e7ee2982352e7ad72030">color</a>() ),</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                      <a class="code" href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a>( <a class="code" href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">to_liter</a>( liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> * stack ), 1 ),</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                      liquid.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() );</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keyword">const</span> std::optional&lt;vpart_reference&gt; vpr = <a class="code" href="classveh__interact.html#aa95d3528435647c137700c708d840f12">veh_interact::select_part</a>( *target.<a class="code" href="structliquid__dest__opt.html#ab5a0ada7a6de112943b7782ddfcc9dc8">veh</a>, sel, <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> );</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">if</span>( !vpr ) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">if</span>( create_activity() ) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <a class="code" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a>( player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>, *vpr );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#ae46bbb9235a9007f63921fe7684e2571">pour_into</a>( *vpr, liquid ) ) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="comment">// this branch is used in milking and magiclysm butchery blood draining</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -1000 ); <span class="comment">// consistent with veh_interact::do_refill activity</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <span class="comment">// unclear what can reach this branch but return false just in case</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a60433ac0de4a41c7018b30f3c01e1284">LD_KEG</a>:</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ae7ba823f1f789ed3c2958efe4482d61b">LD_GROUND</a>:</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">if</span>( create_activity() ) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <a class="code" href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a>( player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>, target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a> );</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">if</span>( target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> == <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a60433ac0de4a41c7018b30f3c01e1284">LD_KEG</a> ) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                    <a class="code" href="namespaceiexamine.html#a700893be2f824844fdc4b4ea4b2ee148">iexamine::pour_into_keg</a>( target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a>, liquid );</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( target.<a class="code" href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">pos</a>, liquid );</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    liquid.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -100 );</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a5ec29d6d8f08c26d52720f4392c6cfc8">LD_NULL</a>:</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#a0653d4914152a1dc455276735fd6bb50">  444</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#a0653d4914152a1dc455276735fd6bb50">can_handle_liquid</a>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;liquid )</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span>( liquid.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9">phase_id::SOLID</a> ) ) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="handle__liquid_8cpp.html#a49bc164f30e64702250d2cbea09bf86c">dbg</a>( <a class="code" href="debug_8h.html#ab658e6d84759440dbf3c890446075395a4759bd3f0b71819391a3e4024b645d69">D_ERROR</a> ) &lt;&lt; <span class="stringliteral">&quot;game:handle_liquid: Tried to handle_liquid a non-liquid!&quot;</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to handle_liquid a non-liquid!&quot;</span> );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment">// &quot;canceled by the user&quot; because we *can* not handle it.</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span>( !liquid.<a class="code" href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">made_of</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s froze solid before you could finish.&quot;</span> ), liquid.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() );</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">  459</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">handle_liquid</a>( <a class="code" href="classitem.html">item</a> &amp;liquid, <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *<span class="keyword">const</span> source, <span class="keyword">const</span> <span class="keywordtype">int</span> radius,</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> *<span class="keyword">const</span> source_pos,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> source_veh, <span class="keyword">const</span> <span class="keywordtype">int</span> part_num,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> source_mon )</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespaceliquid__handler.html#a0653d4914152a1dc455276735fd6bb50">can_handle_liquid</a>( liquid ) ) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keyword">struct </span><a class="code" href="structliquid__dest__opt.html">liquid_dest_opt</a> liquid_target;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceliquid__handler.html#a024d5a1d17321735616e2c9abfbc74a8">get_liquid_target</a>( liquid, source, radius, source_pos, source_veh, source_mon,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                           liquid_target ) ) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        success = <a class="code" href="namespaceliquid__handler.html#a8fc480970c379e338169bfa8c53fff44">perform_liquid_transfer</a>( liquid, source_pos, source_veh, part_num, source_mon,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                           liquid_target );</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span>( success &amp;&amp; ( ( liquid_target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> == <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a638cc55229391747435ad916491edfa5">LD_ITEM</a> &amp;&amp;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                           liquid_target.<a class="code" href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">item_loc</a>-&gt;<a class="code" href="classitem.html#a22ad63b72a459c8f95893a853348cb06">is_watertight_container</a>() ) || liquid_target.<a class="code" href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">dest_opt</a> == <a class="code" href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a60433ac0de4a41c7018b30f3c01e1284">LD_KEG</a> ) ) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            liquid.<a class="code" href="classitem.html#aed157a025c9aef5188bd5eadf5d556ab">unset_flag</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <a class="code" href="handle__liquid_8cpp.html#acac2380f1da4ed4def47fe3fc7998315">json_flag_FROM_FROZEN_LIQUID</a> ) );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;} <span class="comment">// namespace liquid_handler</span></div>
<div class="ttc" id="aaction_8cpp_html_a503aa06052a763e1b8c0be791e403acc"><div class="ttname"><a href="action_8cpp.html#a503aa06052a763e1b8c0be791e403acc">choose_adjacent</a></div><div class="ttdeci">std::optional&lt; tripoint &gt; choose_adjacent(const std::string &amp;message, const bool allow_vertical)</div><div class="ttdoc">Request player input of adjacent tile, possibly including vertical tiles.</div><div class="ttdef"><b>Definition:</b> <a href="action_8cpp_source.html#l01188">action.cpp:1188</a></div></div>
<div class="ttc" id="aaction_8h_html"><div class="ttname"><a href="action_8h.html">action.h</a></div></div>
<div class="ttc" id="aactivity__actor_8cpp_html_a6046e0589823cbb6ce42e6a3ffe059f1"><div class="ttname"><a href="activity__actor_8cpp.html#a6046e0589823cbb6ce42e6a3ffe059f1">serialize</a></div><div class="ttdeci">void serialize(const cata::clone_ptr&lt; activity_actor &gt; &amp;actor, JsonOut &amp;jsout)</div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8cpp_source.html#l07764">activity_actor.cpp:7764</a></div></div>
<div class="ttc" id="aactivity__actor__definitions_8h_html"><div class="ttname"><a href="activity__actor__definitions_8h.html">activity_actor_definitions.h</a></div></div>
<div class="ttc" id="aactivity__type_8h_html"><div class="ttname"><a href="activity__type_8h.html">activity_type.h</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a07c66893ce868671f9998dad80094cb1"><div class="ttname"><a href="cached__options_8cpp.html#a07c66893ce868671f9998dad80094cb1">test_mode</a></div><div class="ttdeci">bool test_mode</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00008">cached_options.cpp:8</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a465f37ac151918f6eb9fe332d0d2aa03"><div class="ttname"><a href="cached__options_8cpp.html#a465f37ac151918f6eb9fe332d0d2aa03">test_mode_spilling_action</a></div><div class="ttdeci">test_mode_spilling_action_t test_mode_spilling_action</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00018">cached_options.cpp:18</a></div></div>
<div class="ttc" id="acached__options_8h_html"><div class="ttname"><a href="cached__options_8h.html">cached_options.h</a></div></div>
<div class="ttc" id="acached__options_8h_html_aad15fd0352d74e9345176c57e55d7e29a4a65eb98b9cb718ae0862da12cdd65f9"><div class="ttname"><a href="cached__options_8h.html#aad15fd0352d74e9345176c57e55d7e29a4a65eb98b9cb718ae0862da12cdd65f9">test_mode_spilling_action_t::spill_all</a></div><div class="ttdeci">@ spill_all</div></div>
<div class="ttc" id="acached__options_8h_html_aad15fd0352d74e9345176c57e55d7e29a7f7ec4162fec0eea087a9ce3c31dedee"><div class="ttname"><a href="cached__options_8h.html#aad15fd0352d74e9345176c57e55d7e29a7f7ec4162fec0eea087a9ce3c31dedee">test_mode_spilling_action_t::cancel_spill</a></div><div class="ttdeci">@ cancel_spill</div></div>
<div class="ttc" id="acata__utility_8cpp_html_a9dbcecb703a6e1111a0552177b6bf9fc"><div class="ttname"><a href="cata__utility_8cpp.html#a9dbcecb703a6e1111a0552177b6bf9fc">round_up</a></div><div class="ttdeci">double round_up(double val, unsigned int dp)</div><div class="ttdoc">Round a value up at a given decimal place.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00054">cata_utility.cpp:54</a></div></div>
<div class="ttc" id="acata__utility_8h_html"><div class="ttname"><a href="cata__utility_8h.html">cata_utility.h</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">cata_variant_type::flag_id</a></div><div class="ttdeci">@ flag_id</div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02709">character.h:2709</a></div></div>
<div class="ttc" id="aclassCharacter_html_a881167b8345723b21ff8c7e54781dcd5"><div class="ttname"><a href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">Character::can_consume_as_is</a></div><div class="ttdeci">bool can_consume_as_is(const item &amp;it) const</div><div class="ttdoc">Check whether the character can consume this very item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01679">consumption.cpp:1679</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae46bbb9235a9007f63921fe7684e2571"><div class="ttname"><a href="classCharacter.html#ae46bbb9235a9007f63921fe7684e2571">Character::pour_into</a></div><div class="ttdeci">bool pour_into(item_location &amp;container, item &amp;liquid, bool ignore_settings)</div><div class="ttdoc">Try to pour the given liquid into the given container/vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06103">character.cpp:6103</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08935">character.cpp:8935</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclasscata_1_1colony_1_1colony__iterator_html"><div class="ttname"><a href="classcata_1_1colony_1_1colony__iterator.html">cata::colony::colony_iterator&lt; false &gt;</a></div></div>
<div class="ttc" id="aclassconsume__activity__actor_html"><div class="ttname"><a href="classconsume__activity__actor.html">consume_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l00780">activity_actor_definitions.h:781</a></div></div>
<div class="ttc" id="aclassgeneric__vehicle__part__range_html_a822ae177a963bb07078c871f92d7e10b"><div class="ttname"><a href="classgeneric__vehicle__part__range.html#a822ae177a963bb07078c871f92d7e10b">generic_vehicle_part_range::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vpart__range_8h_source.html#l00123">vpart_range.h:123</a></div></div>
<div class="ttc" id="aclassgeneric__vehicle__part__range_html_a9b3573598b7bdd91fa3d789602799a1b"><div class="ttname"><a href="classgeneric__vehicle__part__range.html#a9b3573598b7bdd91fa3d789602799a1b">generic_vehicle_part_range::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="vpart__range_8h_source.html#l00126">vpart_range.h:126</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01087">item_location.cpp:1087</a></div></div>
<div class="ttc" id="aclassitem__location_html_aa7fe8f49804524de3dcdfedd523be549"><div class="ttname"><a href="classitem__location.html#aa7fe8f49804524de3dcdfedd523be549">item_location::make_active</a></div><div class="ttdeci">void make_active()</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01060">item_location.cpp:1060</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a588d49cd17fbf3c64227906758940769"><div class="ttname"><a href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">item_stack::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00032">item_stack.cpp:32</a></div></div>
<div class="ttc" id="aclassitem__stack_html_ad04a969155cc139c54a6a3b4a3395454"><div class="ttname"><a href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">item_stack::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00037">item_stack.cpp:37</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a0795ac0d3e2ba958ab3a6ff4e282482b"><div class="ttname"><a href="classitem.html#a0795ac0d3e2ba958ab3a6ff4e282482b">item::made_of</a></div><div class="ttdeci">const std::map&lt; material_id, int &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09146">item.cpp:9146</a></div></div>
<div class="ttc" id="aclassitem_html_a10898a02e2696873c90e6b9ea3aca7bc"><div class="ttname"><a href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">item::all_items_top</a></div><div class="ttdeci">std::list&lt; const item * &gt; all_items_top() const</div><div class="ttdoc">returns a list of pointers to all top-level items that are not mods</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14951">item.cpp:14951</a></div></div>
<div class="ttc" id="aclassitem_html_a22ad63b72a459c8f95893a853348cb06"><div class="ttname"><a href="classitem.html#a22ad63b72a459c8f95893a853348cb06">item::is_watertight_container</a></div><div class="ttdeci">bool is_watertight_container() const</div><div class="ttdoc">Whether this is a container which can be used to store liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09741">item.cpp:9741</a></div></div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassitem_html_a310539e1dbfb640f2b23796a40c881f2"><div class="ttname"><a href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">item::has_infinite_charges</a></div><div class="ttdeci">bool has_infinite_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14632">item.cpp:14632</a></div></div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01124">item.h:1124</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00931">item.cpp:931</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06722">item.cpp:6722</a></div></div>
<div class="ttc" id="aclassitem_html_a893525fea93fa0a45a51edeb64f1b973"><div class="ttname"><a href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">item::display_name</a></div><div class="ttdeci">std::string display_name(unsigned int quantity=1) const</div><div class="ttdoc">Returns the item name and the charges or contained charges (if the item can have charges at all).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06855">item.cpp:6855</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03074">item.h:3074</a></div></div>
<div class="ttc" id="aclassitem_html_ac3802e76b128e7ee2982352e7ad72030"><div class="ttname"><a href="classitem.html#ac3802e76b128e7ee2982352e7ad72030">item::color</a></div><div class="ttdeci">nc_color color() const</div><div class="ttdoc">Returns the default color of the item (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07018">item.cpp:7018</a></div></div>
<div class="ttc" id="aclassitem_html_ae05d298b2cf91e4c12d5beca5f38c67f"><div class="ttname"><a href="classitem.html#ae05d298b2cf91e4c12d5beca5f38c67f">item::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l15135">item.cpp:15135</a></div></div>
<div class="ttc" id="aclassitem_html_aed157a025c9aef5188bd5eadf5d556ab"><div class="ttname"><a href="classitem.html#aed157a025c9aef5188bd5eadf5d556ab">item::unset_flag</a></div><div class="ttdeci">item &amp; unset_flag(const flag_id &amp;flag)</div><div class="ttdoc">Idempotent filter removing an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07641">item.cpp:7641</a></div></div>
<div class="ttc" id="aclassitem_html_af486ddb23bd7e254cc07ef3ba1ba846d"><div class="ttname"><a href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">item::made_of_from_type</a></div><div class="ttdeci">bool made_of_from_type(phase_id phase) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09268">item.cpp:9268</a></div></div>
<div class="ttc" id="aclassitem_html_af84e26c1418a4d090bbf55174431b6ac"><div class="ttname"><a href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">item::is_bucket_nonempty</a></div><div class="ttdeci">bool is_bucket_nonempty() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09746">item.cpp:9746</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:107</a></div></div>
<div class="ttc" id="aclassmap__stack_html_ab58ec66a7ca2e476c6d90967dccc8062"><div class="ttname"><a href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">map_stack::erase</a></div><div class="ttdeci">iterator erase(const_iterator it) override</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00219">map.cpp:219</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a148fb7ddc87ffb1da97dd33e0529c983"><div class="ttname"><a href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">map::name</a></div><div class="ttdeci">std::string name(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01684">map.cpp:1684</a></div></div>
<div class="ttc" id="aclassmap_html_a3014d235b1298cadddb4c412d133ae6b"><div class="ttname"><a href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">map::can_put_items_ter_furn</a></div><div class="ttdeci">bool can_put_items_ter_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03097">map.cpp:3097</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10109">map.cpp:10109</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05177">map.cpp:5177</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_ad4fba0b9aea36097d8b972e05e66d914"><div class="ttname"><a href="classmonster.html#ad4fba0b9aea36097d8b972e05e66d914">monster::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00717">monster.cpp:717</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00032">player_activity.h:33</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; activity_type &gt;</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_ab0890d56d6d29dd98a0b3f17bb3ebba3"><div class="ttname"><a href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">uilist::selected</a></div><div class="ttdeci">int selected</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00526">ui.h:526</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00419">ui.h:419</a></div></div>
<div class="ttc" id="aclassuilist_html_af5fc2972d43a795c49a632dbcf58132b"><div class="ttname"><a href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">uilist::entries</a></div><div class="ttdeci">std::vector&lt; uilist_entry &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00422">ui.h:422</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aclassveh__interact_html_aa95d3528435647c137700c708d840f12"><div class="ttname"><a href="classveh__interact.html#aa95d3528435647c137700c708d840f12">veh_interact::select_part</a></div><div class="ttdeci">static std::optional&lt; vpart_reference &gt; select_part(const vehicle &amp;veh, const part_selector &amp;sel, const std::string &amp;title=std::string())</div><div class="ttdoc">Prompt for a part matching the selector function.</div><div class="ttdef"><b>Definition:</b> <a href="veh__interact_8cpp_source.html#l00232">veh_interact.cpp:232</a></div></div>
<div class="ttc" id="aclassvehicle__part__range_html"><div class="ttname"><a href="classvehicle__part__range.html">vehicle_part_range</a></div><div class="ttdoc">A range that contains all parts of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__range_8h_source.html#l00150">vpart_range.h:151</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_a3900ee345be0453828a955a200154db1"><div class="ttname"><a href="classvehicle.html#a3900ee345be0453828a955a200154db1">vehicle::global_pos3</a></div><div class="ttdeci">tripoint global_pos3() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03431">vehicle.cpp:3431</a></div></div>
<div class="ttc" id="aclassvehicle_html_a397b40aa92dd1fd09ee592aa279bc656"><div class="ttname"><a href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">vehicle::get_all_parts</a></div><div class="ttdeci">vehicle_part_range get_all_parts() const</div><div class="ttdoc">Yields a range containing all parts (including broken ones) that can be iterated over.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l08119">vehicle.cpp:8119</a></div></div>
<div class="ttc" id="aclassvehicle_html_aca3ae013973cb492b14967e574189c1c"><div class="ttname"><a href="classvehicle.html#aca3ae013973cb492b14967e574189c1c">vehicle::has_part</a></div><div class="ttdeci">bool has_part(const std::string &amp;flag, bool enabled=false) const</div><div class="ttdoc">Check if vehicle has at least one unbroken part with specified flag.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02827">vehicle.cpp:2827</a></div></div>
<div class="ttc" id="aclassvehicle_html_ace5c25f3faffd8848491570cfb89f086"><div class="ttname"><a href="classvehicle.html#ace5c25f3faffd8848491570cfb89f086">vehicle::disp_name</a></div><div class="ttdeci">std::string disp_name() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle__display_8cpp_source.html#l00032">vehicle_display.cpp:32</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae8132c34a1ea24866889e6e599796adc"><div class="ttname"><a href="classvehicle.html#ae8132c34a1ea24866889e6e599796adc">vehicle::global_part_pos3</a></div><div class="ttdeci">tripoint global_part_pos3(const int &amp;index) const</div><div class="ttdoc">Get the coordinates of the studied part of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03442">vehicle.cpp:3442</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00543">visitable.cpp:543</a></div></div>
<div class="ttc" id="aclassvisitable_html_af49d5ef7b3f2f0a8664c23097a56373f"><div class="ttname"><a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">visitable::has_item</a></div><div class="ttdeci">bool has_item(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00075">visitable.cpp:75</a></div></div>
<div class="ttc" id="aclassvpart__position_html_a89192e86585711fa4c803a48d9f5de29"><div class="ttname"><a href="classvpart__position.html#a89192e86585711fa4c803a48d9f5de29">vpart_position::part_index</a></div><div class="ttdeci">size_t part_index() const</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00056">vpart_position.h:56</a></div></div>
<div class="ttc" id="aclassvpart__reference_html"><div class="ttname"><a href="classvpart__reference.html">vpart_reference</a></div><div class="ttdoc">This is a wrapper over a vehicle pointer and a reference to a part of it.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00153">vpart_position.h:154</a></div></div>
<div class="ttc" id="aclassvpart__reference_html_a75d50308cc415fe2468c79d7fd76e96e"><div class="ttname"><a href="classvpart__reference.html#a75d50308cc415fe2468c79d7fd76e96e">vpart_reference::vehicle</a></div><div class="ttdeci">::vehicle &amp; vehicle() const</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00052">vpart_position.h:52</a></div></div>
<div class="ttc" id="acolony_8h_html"><div class="ttname"><a href="colony_8h.html">colony.h</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a936ada358907519ef76966d7774212e4"><div class="ttname"><a href="color_8cpp.html#a936ada358907519ef76966d7774212e4">get_all_colors</a></div><div class="ttdeci">color_manager &amp; get_all_colors()</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00043">color.cpp:43</a></div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a70d5706d5a84c7c1953498fa0c651b3e"><div class="ttname"><a href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00790">coordinates.h:790</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="adebug_8h_html_ab658e6d84759440dbf3c890446075395a4759bd3f0b71819391a3e4024b645d69"><div class="ttname"><a href="debug_8h.html#ab658e6d84759440dbf3c890446075395a4759bd3f0b71819391a3e4024b645d69">D_ERROR</a></div><div class="ttdeci">@ D_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00142">debug.h:142</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a0d2a5d4e22bc488b588376bab421e3a5a597b9a818fe654b790bc1f87d63b36aa"><div class="ttname"><a href="enums_8h.html#a0d2a5d4e22bc488b588376bab421e3a5a597b9a818fe654b790bc1f87d63b36aa">liquid_source_type::MAP_ITEM</a></div><div class="ttdeci">@ MAP_ITEM</div></div>
<div class="ttc" id="aenums_8h_html_a0d2a5d4e22bc488b588376bab421e3a5ace51c42124e885e44d737ea3db21d1ac"><div class="ttname"><a href="enums_8h.html#a0d2a5d4e22bc488b588376bab421e3a5ace51c42124e885e44d737ea3db21d1ac">liquid_source_type::INFINITE_MAP</a></div><div class="ttdeci">@ INFINITE_MAP</div></div>
<div class="ttc" id="aenums_8h_html_a0d2a5d4e22bc488b588376bab421e3a5ae9fa318f4d73c31493e98096efa497e2"><div class="ttname"><a href="enums_8h.html#a0d2a5d4e22bc488b588376bab421e3a5ae9fa318f4d73c31493e98096efa497e2">liquid_source_type::VEHICLE</a></div><div class="ttdeci">@ VEHICLE</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="aenums_8h_html_a5481b16d2a9d909680adb5791ec9bff4a5af1a3a285c2bdee4192223e31e1f833"><div class="ttname"><a href="enums_8h.html#a5481b16d2a9d909680adb5791ec9bff4a5af1a3a285c2bdee4192223e31e1f833">liquid_target_type::MAP</a></div><div class="ttdeci">@ MAP</div></div>
<div class="ttc" id="aenums_8h_html_a5481b16d2a9d909680adb5791ec9bff4a9bbab5f947b9e3fbb8a399ecc257459b"><div class="ttname"><a href="enums_8h.html#a5481b16d2a9d909680adb5791ec9bff4a9bbab5f947b9e3fbb8a399ecc257459b">liquid_target_type::CONTAINER</a></div><div class="ttdeci">@ CONTAINER</div></div>
<div class="ttc" id="aenums_8h_html_a5481b16d2a9d909680adb5791ec9bff4ae9fa318f4d73c31493e98096efa497e2"><div class="ttname"><a href="enums_8h.html#a5481b16d2a9d909680adb5791ec9bff4ae9fa318f4d73c31493e98096efa497e2">liquid_target_type::VEHICLE</a></div><div class="ttdeci">@ VEHICLE</div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ad0dea69649a83749aa6bdf176092e8c9">phase_id::SOLID</a></div><div class="ttdeci">@ SOLID</div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="agame__inventory_8h_html"><div class="ttname"><a href="game__inventory_8h.html">game_inventory.h</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="ahandle__liquid_8cpp_html_a23492d77c742e3e9cd662e298b984cd7"><div class="ttname"><a href="handle__liquid_8cpp.html#a23492d77c742e3e9cd662e298b984cd7">serialize_liquid_source</a></div><div class="ttdeci">static void serialize_liquid_source(player_activity &amp;act, const vehicle &amp;veh, const int part_num, const item &amp;liquid)</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00050">handle_liquid.cpp:50</a></div></div>
<div class="ttc" id="ahandle__liquid_8cpp_html_a2ebc72eea27ca3b5303e462f8a1b989d"><div class="ttname"><a href="handle__liquid_8cpp.html#a2ebc72eea27ca3b5303e462f8a1b989d">ACT_FILL_LIQUID</a></div><div class="ttdeci">static const activity_id ACT_FILL_LIQUID(&quot;ACT_FILL_LIQUID&quot;)</div></div>
<div class="ttc" id="ahandle__liquid_8cpp_html_a49bc164f30e64702250d2cbea09bf86c"><div class="ttname"><a href="handle__liquid_8cpp.html#a49bc164f30e64702250d2cbea09bf86c">dbg</a></div><div class="ttdeci">#define dbg(x)</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00043">handle_liquid.cpp:43</a></div></div>
<div class="ttc" id="ahandle__liquid_8cpp_html_a5b4d518884293d50b3ec9959f721850d"><div class="ttname"><a href="handle__liquid_8cpp.html#a5b4d518884293d50b3ec9959f721850d">serialize_liquid_target</a></div><div class="ttdeci">static void serialize_liquid_target(player_activity &amp;act, const vpart_reference &amp;vp)</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00082">handle_liquid.cpp:82</a></div></div>
<div class="ttc" id="ahandle__liquid_8cpp_html_acac2380f1da4ed4def47fe3fc7998315"><div class="ttname"><a href="handle__liquid_8cpp.html#acac2380f1da4ed4def47fe3fc7998315">json_flag_FROM_FROZEN_LIQUID</a></div><div class="ttdeci">static const flag_id json_flag_FROM_FROZEN_LIQUID(&quot;FROM_FROZEN_LIQUID&quot;)</div></div>
<div class="ttc" id="ahandle__liquid_8h_html"><div class="ttname"><a href="handle__liquid_8h.html">handle_liquid.h</a></div></div>
<div class="ttc" id="ahandle__liquid_8h_html_aba974603499a7e21331f4b3082aeeb30a5ec29d6d8f08c26d52720f4392c6cfc8"><div class="ttname"><a href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a5ec29d6d8f08c26d52720f4392c6cfc8">LD_NULL</a></div><div class="ttdeci">@ LD_NULL</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00015">handle_liquid.h:15</a></div></div>
<div class="ttc" id="ahandle__liquid_8h_html_aba974603499a7e21331f4b3082aeeb30a60433ac0de4a41c7018b30f3c01e1284"><div class="ttname"><a href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a60433ac0de4a41c7018b30f3c01e1284">LD_KEG</a></div><div class="ttdeci">@ LD_KEG</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00019">handle_liquid.h:19</a></div></div>
<div class="ttc" id="ahandle__liquid_8h_html_aba974603499a7e21331f4b3082aeeb30a638cc55229391747435ad916491edfa5"><div class="ttname"><a href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30a638cc55229391747435ad916491edfa5">LD_ITEM</a></div><div class="ttdeci">@ LD_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00017">handle_liquid.h:17</a></div></div>
<div class="ttc" id="ahandle__liquid_8h_html_aba974603499a7e21331f4b3082aeeb30aaf56d6dac3d331dc7b00777ed2ced7f3"><div class="ttname"><a href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30aaf56d6dac3d331dc7b00777ed2ced7f3">LD_VEH</a></div><div class="ttdeci">@ LD_VEH</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00018">handle_liquid.h:18</a></div></div>
<div class="ttc" id="ahandle__liquid_8h_html_aba974603499a7e21331f4b3082aeeb30ad9e9d5eefbfae94f95e8b417e22a40f7"><div class="ttname"><a href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ad9e9d5eefbfae94f95e8b417e22a40f7">LD_CONSUME</a></div><div class="ttdeci">@ LD_CONSUME</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00016">handle_liquid.h:16</a></div></div>
<div class="ttc" id="ahandle__liquid_8h_html_aba974603499a7e21331f4b3082aeeb30ae7ba823f1f789ed3c2958efe4482d61b"><div class="ttname"><a href="handle__liquid_8h.html#aba974603499a7e21331f4b3082aeeb30ae7ba823f1f789ed3c2958efe4482d61b">LD_GROUND</a></div><div class="ttdeci">@ LD_GROUND</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00021">handle_liquid.h:20</a></div></div>
<div class="ttc" id="aiexamine_8h_html"><div class="ttname"><a href="iexamine_8h.html">iexamine.h</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958a0f6969d7052da9261e31ddb6e88c136e">kb_menu_status::remove</a></div><div class="ttdeci">@ remove</div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitype_8h_html"><div class="ttname"><a href="itype_8h.html">itype.h</a></div></div>
<div class="ttc" id="aline_8cpp_html_a19634ed59e09da9312d6fa110a38539c"><div class="ttname"><a href="line_8cpp.html#a19634ed59e09da9312d6fa110a38539c">direction_name</a></div><div class="ttdeci">std::string direction_name(const direction dir)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00612">line.cpp:612</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amonster_8h_html"><div class="ttname"><a href="monster_8h.html">monster.h</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a652c702bc8b1c441b2e0df7ccefaaf80"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a652c702bc8b1c441b2e0df7ccefaaf80">game_menus::inv::container_for</a></div><div class="ttdeci">item_location container_for(Character &amp;you, const item &amp;liquid, int radius=0, const item *avoid=nullptr)</div><div class="ttdoc">Choosing a container for liquid.</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00501">game_inventory.cpp:501</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_a700893be2f824844fdc4b4ea4b2ee148"><div class="ttname"><a href="namespaceiexamine.html#a700893be2f824844fdc4b4ea4b2ee148">iexamine::pour_into_keg</a></div><div class="ttdeci">bool pour_into_keg(const tripoint &amp;pos, item &amp;liquid)</div><div class="ttdoc">Pour liquid into a keg (furniture) on the map.</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l04220">iexamine.cpp:4220</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_a8f416fad095ebdced5c867b735550fa4"><div class="ttname"><a href="namespaceiexamine.html#a8f416fad095ebdced5c867b735550fa4">iexamine::has_keg</a></div><div class="ttdeci">bool has_keg(const tripoint &amp;pos)</div><div class="ttdoc">Check whether there is a keg on the map that can be filled via pour_into_keg.</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l04027">iexamine.cpp:4027</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html"><div class="ttname"><a href="namespaceliquid__handler.html">liquid_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00105">handle_liquid.cpp:106</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a024d5a1d17321735616e2c9abfbc74a8"><div class="ttname"><a href="namespaceliquid__handler.html#a024d5a1d17321735616e2c9abfbc74a8">liquid_handler::get_liquid_target</a></div><div class="ttdeci">static bool get_liquid_target(item &amp;liquid, const item *const source, const int radius, const tripoint *const source_pos, const vehicle *const source_veh, const monster *const source_mon, liquid_dest_opt &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00168">handle_liquid.cpp:168</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a0653d4914152a1dc455276735fd6bb50"><div class="ttname"><a href="namespaceliquid__handler.html#a0653d4914152a1dc455276735fd6bb50">liquid_handler::can_handle_liquid</a></div><div class="ttdeci">bool can_handle_liquid(const item &amp;liquid)</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00444">handle_liquid.cpp:444</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a29b260212d0cb959946f8a8094ce75f9"><div class="ttname"><a href="namespaceliquid__handler.html#a29b260212d0cb959946f8a8094ce75f9">liquid_handler::handle_liquid_from_ground</a></div><div class="ttdeci">bool handle_liquid_from_ground(const map_stack::iterator &amp;on_ground, const tripoint &amp;pos, const int radius)</div><div class="ttdoc">Handle finite liquid from ground.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00126">handle_liquid.cpp:126</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a8fc480970c379e338169bfa8c53fff44"><div class="ttname"><a href="namespaceliquid__handler.html#a8fc480970c379e338169bfa8c53fff44">liquid_handler::perform_liquid_transfer</a></div><div class="ttdeci">bool perform_liquid_transfer(item &amp;liquid, const tripoint *const source_pos, const vehicle *const source_veh, const int part_num, const monster *const, liquid_dest_opt &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00350">handle_liquid.cpp:350</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_a9df963755dc50d58f0c5fcbd704791c4"><div class="ttname"><a href="namespaceliquid__handler.html#a9df963755dc50d58f0c5fcbd704791c4">liquid_handler::handle_liquid_from_container</a></div><div class="ttdeci">bool handle_liquid_from_container(item *in_container, item &amp;container, int radius)</div><div class="ttdoc">Handle liquid from inside a container item.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00139">handle_liquid.cpp:139</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_aa161cfecbfcfa0e1b42f391f3e39af79"><div class="ttname"><a href="namespaceliquid__handler.html#aa161cfecbfcfa0e1b42f391f3e39af79">liquid_handler::handle_all_liquid</a></div><div class="ttdeci">void handle_all_liquid(item liquid, const int radius, const item *const avoid)</div><div class="ttdoc">Consume / handle all of the liquid.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00107">handle_liquid.cpp:107</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_ae1d5d63f7372f4fb16a24624d0434fcd"><div class="ttname"><a href="namespaceliquid__handler.html#ae1d5d63f7372f4fb16a24624d0434fcd">liquid_handler::handle_liquid</a></div><div class="ttdeci">bool handle_liquid(item &amp;liquid, const item *const source, const int radius, const tripoint *const source_pos, const vehicle *const source_veh, const int part_num, const monster *const source_mon)</div><div class="ttdoc">This may start a player activity if either source_pos or source_veh is not null.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00459">handle_liquid.cpp:459</a></div></div>
<div class="ttc" id="anamespaceliquid__handler_html_af4453d38bbec69956bdeead593ef7704"><div class="ttname"><a href="namespaceliquid__handler.html#af4453d38bbec69956bdeead593ef7704">liquid_handler::consume_liquid</a></div><div class="ttdeci">bool consume_liquid(item &amp;liquid, const int radius, const item *const avoid)</div><div class="ttdoc">Consume / handle as much of the liquid as possible in varying ways.</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8cpp_source.html#l00117">handle_liquid.cpp:117</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="anamespacemusic_html_a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220"><div class="ttname"><a href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">music::title</a></div><div class="ttdeci">@ title</div><div class="ttdef"><b>Definition:</b> <a href="music_8h_source.html#l00014">music.h:14</a></div></div>
<div class="ttc" id="anamespaceunits_html_a4e18c5472c3f55e110fb16c9e0fe8c45"><div class="ttname"><a href="namespaceunits.html#a4e18c5472c3f55e110fb16c9e0fe8c45">units::to_liter</a></div><div class="ttdeci">constexpr double to_liter(const volume &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00321">units.h:321</a></div></div>
<div class="ttc" id="anamespaceunits_html_a58e7d31fbaa28a1dd45fb598f8d1fba9"><div class="ttname"><a href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a></div><div class="ttdeci">constexpr volume legacy_volume_factor</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00328">units.h:328</a></div></div>
<div class="ttc" id="aplayer__activity_8h_html"><div class="ttname"><a href="player__activity_8h.html">player_activity.h</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">static activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00079">sounds.cpp:79</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructitype_html_a531f460f3ba31cb3e433f7e585e1d4e5"><div class="ttname"><a href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">itype::stack_size</a></div><div class="ttdeci">int stack_size</div><div class="ttdoc">Number of items per above volume for count_by_charges items.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01408">itype.h:1408</a></div></div>
<div class="ttc" id="astructliquid__dest__opt_html"><div class="ttname"><a href="structliquid__dest__opt.html">liquid_dest_opt</a></div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00023">handle_liquid.h:23</a></div></div>
<div class="ttc" id="astructliquid__dest__opt_html_a4b5ff4fbc0b2c74daf8709a151fd86fc"><div class="ttname"><a href="structliquid__dest__opt.html#a4b5ff4fbc0b2c74daf8709a151fd86fc">liquid_dest_opt::dest_opt</a></div><div class="ttdeci">liquid_dest dest_opt</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00024">handle_liquid.h:24</a></div></div>
<div class="ttc" id="astructliquid__dest__opt_html_a5caf8124c2130fd97822d9191d0d668b"><div class="ttname"><a href="structliquid__dest__opt.html#a5caf8124c2130fd97822d9191d0d668b">liquid_dest_opt::item_loc</a></div><div class="ttdeci">item_location item_loc</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00026">handle_liquid.h:26</a></div></div>
<div class="ttc" id="astructliquid__dest__opt_html_ab5a0ada7a6de112943b7782ddfcc9dc8"><div class="ttname"><a href="structliquid__dest__opt.html#ab5a0ada7a6de112943b7782ddfcc9dc8">liquid_dest_opt::veh</a></div><div class="ttdeci">vehicle * veh</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00027">handle_liquid.h:27</a></div></div>
<div class="ttc" id="astructliquid__dest__opt_html_ab84457f1e9188f92e1054978c4038342"><div class="ttname"><a href="structliquid__dest__opt.html#ab84457f1e9188f92e1054978c4038342">liquid_dest_opt::pos</a></div><div class="ttdeci">tripoint pos</div><div class="ttdef"><b>Definition:</b> <a href="handle__liquid_8h_source.html#l00025">handle_liquid.h:25</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructvehicle__part_html"><div class="ttname"><a href="structvehicle__part.html">vehicle_part</a></div><div class="ttdoc">Structure, describing vehicle part (i.e., wheel, seat)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00254">vehicle.h:254</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="aui_8h_html"><div class="ttname"><a href="ui_8h.html">ui.h</a></div></div>
<div class="ttc" id="aui_8h_html_a06d5f3667ed71fa40939c4e7367e30ce"><div class="ttname"><a href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a></div><div class="ttdeci">const int MENU_AUTOASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00038">ui.h:38</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="aveh__interact_8h_html"><div class="ttname"><a href="veh__interact_8h.html">veh_interact.h</a></div></div>
<div class="ttc" id="avehicle_8h_html"><div class="ttname"><a href="vehicle_8h.html">vehicle.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html"><div class="ttname"><a href="vpart__position_8h.html">vpart_position.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html_a8da46e924794d004c9899494ecd600c5"><div class="ttname"><a href="vpart__position_8h.html#a8da46e924794d004c9899494ecd600c5">veh_pointer_or_null</a></div><div class="ttdeci">vehicle * veh_pointer_or_null(const optional_vpart_position &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00185">vpart_position.h:185</a></div></div>
<div class="ttc" id="avpart__range_8h_html"><div class="ttname"><a href="vpart__range_8h.html">vpart_range.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:27 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
