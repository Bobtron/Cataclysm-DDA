<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: gun_actor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgun__actor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gun_actor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for gun_actor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgun__actor.png" usemap="#gun_5Factor_map" alt=""/>
  <map id="gun_5Factor_map" name="gun_5Factor_map">
<area href="classmattack__actor.html" alt="mattack_actor" shape="rect" coords="0,0,90,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1428f2909f5654676860eb7eba9aed45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a1428f2909f5654676860eb7eba9aed45">try_target</a> (<a class="el" href="classmonster.html">monster</a> &amp;z, <a class="el" href="classCreature.html">Creature</a> &amp;target) const</td></tr>
<tr class="separator:a1428f2909f5654676860eb7eba9aed45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a6d3fd47e5b2e6bff40441d0c21e6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a91a6d3fd47e5b2e6bff40441d0c21e6f">shoot</a> (<a class="el" href="classmonster.html">monster</a> &amp;z, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, const <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &amp;mode, int inital_recoil=0) const</td></tr>
<tr class="separator:a91a6d3fd47e5b2e6bff40441d0c21e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff79fca7fe9537504e6d2266ae3f342a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#aff79fca7fe9537504e6d2266ae3f342a">get_max_range</a> () const</td></tr>
<tr class="separator:aff79fca7fe9537504e6d2266ae3f342a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184cf39f7a846fe56675702feaf05699"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a184cf39f7a846fe56675702feaf05699">gun_actor</a> ()</td></tr>
<tr class="separator:a184cf39f7a846fe56675702feaf05699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6d933b490236c0c5485272a05fca73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a0d6d933b490236c0c5485272a05fca73">~gun_actor</a> () override=default</td></tr>
<tr class="separator:a0d6d933b490236c0c5485272a05fca73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab525fbfb15f1f6f5b8444489735faf2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#ab525fbfb15f1f6f5b8444489735faf2c">load_internal</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;obj, const std::string &amp;src) override</td></tr>
<tr class="separator:ab525fbfb15f1f6f5b8444489735faf2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d732aecc6cad056cf80f75f50f43a57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a2d732aecc6cad056cf80f75f50f43a57">call</a> (<a class="el" href="classmonster.html">monster</a> &amp;) const override</td></tr>
<tr class="separator:a2d732aecc6cad056cf80f75f50f43a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3352bf45339fad03e191b61ad12a30f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classmattack__actor.html">mattack_actor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#ac3352bf45339fad03e191b61ad12a30f">clone</a> () const override</td></tr>
<tr class="separator:ac3352bf45339fad03e191b61ad12a30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmattack__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmattack__actor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmattack__actor.html">mattack_actor</a></td></tr>
<tr class="memitem:ad911f9ec07e960daea8d6b67cf514337 inherit pub_methods_classmattack__actor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#ad911f9ec07e960daea8d6b67cf514337">mattack_actor</a> (const <a class="el" href="mattack__common_8h.html#a20c70f9e0a3c0d1a1fed8246423e68d7">mattack_id</a> &amp;new_id)</td></tr>
<tr class="separator:ad911f9ec07e960daea8d6b67cf514337 inherit pub_methods_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662858c2da61554fbde75a7335c70b81 inherit pub_methods_classmattack__actor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#a662858c2da61554fbde75a7335c70b81">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="separator:a662858c2da61554fbde75a7335c70b81 inherit pub_methods_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c47577ff64a2814b2b40f387deeaa3 inherit pub_methods_classmattack__actor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#ab9c47577ff64a2814b2b40f387deeaa3">~mattack_actor</a> ()=default</td></tr>
<tr class="separator:ab9c47577ff64a2814b2b40f387deeaa3 inherit pub_methods_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab67d5da84abab2514ed756af85afe71b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#ab67d5da84abab2514ed756af85afe71b">gun_type</a></td></tr>
<tr class="separator:ab67d5da84abab2514ed756af85afe71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5221d464f2ea89c177e0b4dbc8a67dea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a> = <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">itype_id::NULL_ID</a>()</td></tr>
<tr class="memdesc:a5221d464f2ea89c177e0b4dbc8a67dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specific ammo type to use or for gun default if unspecified.  <a href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">More...</a><br /></td></tr>
<tr class="separator:a5221d464f2ea89c177e0b4dbc8a67dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc74ea463561eef5a33b6391e3f7160"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a7bc74ea463561eef5a33b6391e3f7160">fake_skills</a></td></tr>
<tr class="memdesc:a7bc74ea463561eef5a33b6391e3f7160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Balanced against player.  <a href="classgun__actor.html#a7bc74ea463561eef5a33b6391e3f7160">More...</a><br /></td></tr>
<tr class="separator:a7bc74ea463561eef5a33b6391e3f7160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6eb6736a7e91a375e01cc0a6760dff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a3e6eb6736a7e91a375e01cc0a6760dff">fake_str</a> = 16</td></tr>
<tr class="separator:a3e6eb6736a7e91a375e01cc0a6760dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c91e2aa4bef675ba51a1606342c97d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a1c91e2aa4bef675ba51a1606342c97d8">fake_dex</a> = 8</td></tr>
<tr class="separator:a1c91e2aa4bef675ba51a1606342c97d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5ba55c5f85ed3c272cee87cc5bea97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#aba5ba55c5f85ed3c272cee87cc5bea97">fake_int</a> = 8</td></tr>
<tr class="separator:aba5ba55c5f85ed3c272cee87cc5bea97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9644e0885168e841b079db910b5d8b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#aee9644e0885168e841b079db910b5d8b">fake_per</a> = 12</td></tr>
<tr class="separator:aee9644e0885168e841b079db910b5d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1812996dc43161cabf999808ed3887f6"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::pair&lt; int, int &gt;, <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a1812996dc43161cabf999808ed3887f6">ranges</a></td></tr>
<tr class="memdesc:a1812996dc43161cabf999808ed3887f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify weapon mode to use at different engagement distances.  <a href="classgun__actor.html#a1812996dc43161cabf999808ed3887f6">More...</a><br /></td></tr>
<tr class="separator:a1812996dc43161cabf999808ed3887f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0f50c01b1cf9b472656e5612e555ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a0d0f50c01b1cf9b472656e5612e555ac">max_ammo</a> = INT_MAX</td></tr>
<tr class="separator:a0d0f50c01b1cf9b472656e5612e555ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe52f199901bf89e2b05ddb55ae6f37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#afbe52f199901bf89e2b05ddb55ae6f37">description</a></td></tr>
<tr class="memdesc:afbe52f199901bf89e2b05ddb55ae6f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">limited also by monster starting ammo  <a href="classgun__actor.html#afbe52f199901bf89e2b05ddb55ae6f37">More...</a><br /></td></tr>
<tr class="separator:afbe52f199901bf89e2b05ddb55ae6f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898a60e74b62eab266cf9bcac902d227"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a898a60e74b62eab266cf9bcac902d227">failure_msg</a></td></tr>
<tr class="memdesc:a898a60e74b62eab266cf9bcac902d227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message to display (if any) for failures to fire excluding lack of ammo.  <a href="classgun__actor.html#a898a60e74b62eab266cf9bcac902d227">More...</a><br /></td></tr>
<tr class="separator:a898a60e74b62eab266cf9bcac902d227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b59a455681150696168b349298740b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a1b59a455681150696168b349298740b6">no_ammo_sound</a></td></tr>
<tr class="memdesc:a1b59a455681150696168b349298740b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sound (if any) when either ammo depleted or max_ammo reached.  <a href="classgun__actor.html#a1b59a455681150696168b349298740b6">More...</a><br /></td></tr>
<tr class="separator:a1b59a455681150696168b349298740b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed74d3ea4f57236800b69ce48148c29a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#aed74d3ea4f57236800b69ce48148c29a">move_cost</a> = 150</td></tr>
<tr class="memdesc:aed74d3ea4f57236800b69ce48148c29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of moves required for each attack.  <a href="classgun__actor.html#aed74d3ea4f57236800b69ce48148c29a">More...</a><br /></td></tr>
<tr class="separator:aed74d3ea4f57236800b69ce48148c29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb97dd441db660dfcb09c4ff7c3b7bb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#afb97dd441db660dfcb09c4ff7c3b7bb2">target_moving_vehicles</a> = false</td></tr>
<tr class="memdesc:afb97dd441db660dfcb09c4ff7c3b7bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Should moving vehicles be targeted.  <a href="classgun__actor.html#afb97dd441db660dfcb09c4ff7c3b7bb2">More...</a><br /></td></tr>
<tr class="separator:afb97dd441db660dfcb09c4ff7c3b7bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b995f0d20f99c404d920f3d23e6d758"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a2b995f0d20f99c404d920f3d23e6d758">targeting_cost</a> = 100</td></tr>
<tr class="memdesc:a2b995f0d20f99c404d920f3d23e6d758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turrets may need to expend moves targeting before firing on certain targets.  <a href="classgun__actor.html#a2b995f0d20f99c404d920f3d23e6d758">More...</a><br /></td></tr>
<tr class="separator:a2b995f0d20f99c404d920f3d23e6d758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d974bd7f92ce69799e53602af86270c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a4d974bd7f92ce69799e53602af86270c">require_targeting_player</a> = true</td></tr>
<tr class="memdesc:a4d974bd7f92ce69799e53602af86270c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves consumed before first attack can be made.  <a href="classgun__actor.html#a4d974bd7f92ce69799e53602af86270c">More...</a><br /></td></tr>
<tr class="separator:a4d974bd7f92ce69799e53602af86270c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d37856ff5aa0b3a02ea1590f6038643"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a8d37856ff5aa0b3a02ea1590f6038643">require_targeting_npc</a> = false</td></tr>
<tr class="memdesc:a8d37856ff5aa0b3a02ea1590f6038643"><td class="mdescLeft">&#160;</td><td class="mdescRight">By default always give player some warning.  <a href="classgun__actor.html#a8d37856ff5aa0b3a02ea1590f6038643">More...</a><br /></td></tr>
<tr class="separator:a8d37856ff5aa0b3a02ea1590f6038643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff79e0151e3f3a1d00e835b918fdbbaf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#aff79e0151e3f3a1d00e835b918fdbbaf">require_targeting_monster</a> = false</td></tr>
<tr class="separator:aff79e0151e3f3a1d00e835b918fdbbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e90e6986439c089a7fc4606a96620e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a34e90e6986439c089a7fc4606a96620e">targeting_timeout</a> = 8</td></tr>
<tr class="separator:a34e90e6986439c089a7fc4606a96620e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eea1e2ade51eefcd68d2e2fd7d687b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a1eea1e2ade51eefcd68d2e2fd7d687b1">targeting_timeout_extend</a> = 3</td></tr>
<tr class="memdesc:a1eea1e2ade51eefcd68d2e2fd7d687b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default turns after which targeting is lost and needs repeating.  <a href="classgun__actor.html#a1eea1e2ade51eefcd68d2e2fd7d687b1">More...</a><br /></td></tr>
<tr class="separator:a1eea1e2ade51eefcd68d2e2fd7d687b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b49c174126b1ca0a892bd2c19aee01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">targeting_sound</a></td></tr>
<tr class="memdesc:a59b49c174126b1ca0a892bd2c19aee01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase timeout by this many turns after each shot.  <a href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">More...</a><br /></td></tr>
<tr class="separator:a59b49c174126b1ca0a892bd2c19aee01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118a567dcf98482adb92376e8d755fe6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a118a567dcf98482adb92376e8d755fe6">targeting_volume</a> = 6</td></tr>
<tr class="separator:a118a567dcf98482adb92376e8d755fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa8250938390d7900af7d3a82429e63d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#aaa8250938390d7900af7d3a82429e63d">laser_lock</a> = false</td></tr>
<tr class="memdesc:aaa8250938390d7900af7d3a82429e63d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to zero don't emit any targeting sounds.  <a href="classgun__actor.html#aaa8250938390d7900af7d3a82429e63d">More...</a><br /></td></tr>
<tr class="separator:aaa8250938390d7900af7d3a82429e63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6712305c7f797f98e713d46132bf3160"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgun__actor.html#a6712305c7f797f98e713d46132bf3160">require_sunlight</a> = false</td></tr>
<tr class="memdesc:a6712305c7f797f98e713d46132bf3160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does switching between targets incur further targeting penalty.  <a href="classgun__actor.html#a6712305c7f797f98e713d46132bf3160">More...</a><br /></td></tr>
<tr class="separator:a6712305c7f797f98e713d46132bf3160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classmattack__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classmattack__actor')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classmattack__actor.html">mattack_actor</a></td></tr>
<tr class="memitem:ae6be547fe9b10a4e752793afa761322d inherit pub_attribs_classmattack__actor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mattack__common_8h.html#a20c70f9e0a3c0d1a1fed8246423e68d7">mattack_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#ae6be547fe9b10a4e752793afa761322d">id</a></td></tr>
<tr class="separator:ae6be547fe9b10a4e752793afa761322d inherit pub_attribs_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add2fafdd49c323f64a4dc2d8b997b4b4 inherit pub_attribs_classmattack__actor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#add2fafdd49c323f64a4dc2d8b997b4b4">was_loaded</a> = false</td></tr>
<tr class="separator:add2fafdd49c323f64a4dc2d8b997b4b4 inherit pub_attribs_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6326d3c7a0912070e5f3308de894d8a0 inherit pub_attribs_classmattack__actor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#a6326d3c7a0912070e5f3308de894d8a0">cooldown</a> = 0</td></tr>
<tr class="separator:a6326d3c7a0912070e5f3308de894d8a0 inherit pub_attribs_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b72271a64d84825e0733eb587a01f3 inherit pub_attribs_classmattack__actor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#ab0b72271a64d84825e0733eb587a01f3">attack_chance</a> = 100</td></tr>
<tr class="separator:ab0b72271a64d84825e0733eb587a01f3 inherit pub_attribs_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a67933b018a874502df3cb6eade7c8 inherit pub_attribs_classmattack__actor"><td class="memItemLeft" align="right" valign="top">std::function&lt; bool(<a class="el" href="structdialogue.html">dialogue</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#a26a67933b018a874502df3cb6eade7c8">condition</a></td></tr>
<tr class="separator:a26a67933b018a874502df3cb6eade7c8 inherit pub_attribs_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a70fabca14bae2f99e72fd5dd15f4e7 inherit pub_attribs_classmattack__actor"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#a7a70fabca14bae2f99e72fd5dd15f4e7">has_condition</a> = false</td></tr>
<tr class="separator:a7a70fabca14bae2f99e72fd5dd15f4e7 inherit pub_attribs_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classmattack__actor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classmattack__actor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classmattack__actor.html">mattack_actor</a></td></tr>
<tr class="memitem:a9fafb5033a55d13a4d2a497648d3d6ac inherit pro_methods_classmattack__actor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmattack__actor.html#a9fafb5033a55d13a4d2a497648d3d6ac">mattack_actor</a> ()=default</td></tr>
<tr class="separator:a9fafb5033a55d13a4d2a497648d3d6ac inherit pro_methods_classmattack__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00205">205</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a184cf39f7a846fe56675702feaf05699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184cf39f7a846fe56675702feaf05699">&#9670;&nbsp;</a></span>gun_actor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gun_actor::gun_actor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01023">1023</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                     : <a class="code" href="classgun__actor.html#afbe52f199901bf89e2b05ddb55ae6f37">description</a>( <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;The %1$s fires its %2$s!&quot;</span> ) ),</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">targeting_sound</a>( <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;beep-beep-beep!&quot;</span> ) )</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;{</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
<div class="ttc" id="aclassgun__actor_html_a59b49c174126b1ca0a892bd2c19aee01"><div class="ttname"><a href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">gun_actor::targeting_sound</a></div><div class="ttdeci">translation targeting_sound</div><div class="ttdoc">Increase timeout by this many turns after each shot.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00254">mattack_actors.h:254</a></div></div>
<div class="ttc" id="aclassgun__actor_html_afbe52f199901bf89e2b05ddb55ae6f37"><div class="ttname"><a href="classgun__actor.html#afbe52f199901bf89e2b05ddb55ae6f37">gun_actor::description</a></div><div class="ttdeci">translation description</div><div class="ttdoc">limited also by monster starting ammo</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00229">mattack_actors.h:229</a></div></div>
<div class="ttc" id="atranslation_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00420">translation.cpp:420</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d6d933b490236c0c5485272a05fca73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6d933b490236c0c5485272a05fca73">&#9670;&nbsp;</a></span>~gun_actor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gun_actor::~gun_actor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2d732aecc6cad056cf80f75f50f43a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d732aecc6cad056cf80f75f50f43a57">&#9670;&nbsp;</a></span>call()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>z</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmattack__actor.html#a5108830c17584c3c8db75dc6bfa1430c">mattack_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01106">1106</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;{</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *target;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> aim_at;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordtype">bool</span> untargeted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classmattack__actor.html#a7a70fabca14bae2f99e72fd5dd15f4e7">has_condition</a> ) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <a class="code" href="structdialogue.html">dialogue</a> d( <a class="code" href="avatar_8cpp.html#a75dcf1534079311161f26d7250306379">get_talker_for</a>( &amp;z ), <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classmattack__actor.html#a26a67933b018a874502df3cb6eade7c8">condition</a>( d ) ) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Attack conditionals failed&quot;</span> );</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">if</span>( z.<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> ) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordtype">int</span> max_range = <a class="code" href="classgun__actor.html#aff79fca7fe9537504e6d2266ae3f342a">get_max_range</a>();</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="keywordtype">int</span> hostiles; <span class="comment">// hostiles which cannot be engaged without risking friendly fire</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        target = z.<a class="code" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">auto_find_hostile_target</a>( max_range, hostiles );</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordflow">if</span>( !target ) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            <span class="keywordflow">if</span>( hostiles &gt; 0 ) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( z, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                                        <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;Pointed in your direction, the %s emits an IFF warning beep.&quot;</span>,</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                                                   <span class="stringliteral">&quot;Pointed in your direction, the %s emits %d annoyed sounding beeps.&quot;</span>,</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                                                   hostiles ),</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                                        z.<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), hostiles );</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        aim_at = target-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        target = z.<a class="code" href="classmonster.html#a3414f60cd7b63132b8ab605f6949edf4">attack_target</a>();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        aim_at = target ? target-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() : <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">if</span>( !target || !z.<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( *target ) || ( !target-&gt;<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() &amp;&amp; !z.<a class="code" href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">aggro_character</a> ) ) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classgun__actor.html#afb97dd441db660dfcb09c4ff7c3b7bb2">target_moving_vehicles</a> ) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            untargeted = <span class="keyword">true</span>; <span class="comment">// no living targets, try to find moving car parts</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <span class="keyword">const</span> std::set&lt;tripoint_bub_ms&gt; moving_veh_parts = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>()</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                    .<a class="code" href="classmap.html#a5fd2a0e8b2b2b63da3a2c397912981fd">get_moving_vehicle_targets</a>( z, <a class="code" href="classgun__actor.html#aff79fca7fe9537504e6d2266ae3f342a">get_max_range</a>() );</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="keywordflow">if</span>( moving_veh_parts.empty() ) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            aim_at = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( moving_veh_parts, <a class="code" href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a>() ).raw();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( z.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), aim_at );</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span>( target ) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Target %s at range %d&quot;</span>, target-&gt;<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), dist );</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Shooting at vehicle at range %d&quot;</span>, dist );</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code" href="classgun__actor.html#a1812996dc43161cabf999808ed3887f6">ranges</a> ) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordflow">if</span>( dist &gt;= e.first.first &amp;&amp; dist &lt;= e.first.second ) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <span class="keywordflow">if</span>( untargeted || <a class="code" href="classgun__actor.html#a1428f2909f5654676860eb7eba9aed45">try_target</a>( z, *target ) ) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                <a class="code" href="classgun__actor.html#a91a6d3fd47e5b2e6bff40441d0c21e6f">shoot</a>( z, aim_at, e.second );</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="ttc" id="aavatar_8cpp_html_a75dcf1534079311161f26d7250306379"><div class="ttname"><a href="avatar_8cpp.html#a75dcf1534079311161f26d7250306379">get_talker_for</a></div><div class="ttdeci">std::unique_ptr&lt; talker &gt; get_talker_for(avatar &amp;me)</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01795">avatar.cpp:1795</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a07012d6d1998068bef112510c7424374"><div class="ttname"><a href="classCreature.html#a07012d6d1998068bef112510c7424374">Creature::is_monster</a></div><div class="ttdeci">virtual bool is_monster() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00271">creature.h:271</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a5f818f1aa899ba2e2765f327a020a878"><div class="ttname"><a href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a></div><div class="ttdeci">bool sees(const Creature &amp;critter) const override</div><div class="ttdoc">The functions check whether this creature can see the target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00358">creature.cpp:358</a></div></div>
<div class="ttc" id="aclassCreature_html_abb91e1cd5610658124d40623e7e4d698"><div class="ttname"><a href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">Creature::auto_find_hostile_target</a></div><div class="ttdeci">Creature * auto_find_hostile_target(int range, int &amp;boo_hoo, int area=0)</div><div class="ttdoc">For fake-players (turrets, mounted turrets) this functions chooses a target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00554">creature.cpp:554</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a1428f2909f5654676860eb7eba9aed45"><div class="ttname"><a href="classgun__actor.html#a1428f2909f5654676860eb7eba9aed45">gun_actor::try_target</a></div><div class="ttdeci">bool try_target(monster &amp;z, Creature &amp;target) const</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8cpp_source.html#l01171">mattack_actors.cpp:1171</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a1812996dc43161cabf999808ed3887f6"><div class="ttname"><a href="classgun__actor.html#a1812996dc43161cabf999808ed3887f6">gun_actor::ranges</a></div><div class="ttdeci">std::map&lt; std::pair&lt; int, int &gt;, gun_mode_id &gt; ranges</div><div class="ttdoc">Specify weapon mode to use at different engagement distances.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00224">mattack_actors.h:224</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a91a6d3fd47e5b2e6bff40441d0c21e6f"><div class="ttname"><a href="classgun__actor.html#a91a6d3fd47e5b2e6bff40441d0c21e6f">gun_actor::shoot</a></div><div class="ttdeci">void shoot(monster &amp;z, const tripoint &amp;target, const gun_mode_id &amp;mode, int inital_recoil=0) const</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8cpp_source.html#l01219">mattack_actors.cpp:1219</a></div></div>
<div class="ttc" id="aclassgun__actor_html_afb97dd441db660dfcb09c4ff7c3b7bb2"><div class="ttname"><a href="classgun__actor.html#afb97dd441db660dfcb09c4ff7c3b7bb2">gun_actor::target_moving_vehicles</a></div><div class="ttdeci">bool target_moving_vehicles</div><div class="ttdoc">Should moving vehicles be targeted.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00241">mattack_actors.h:241</a></div></div>
<div class="ttc" id="aclassgun__actor_html_aff79fca7fe9537504e6d2266ae3f342a"><div class="ttname"><a href="classgun__actor.html#aff79fca7fe9537504e6d2266ae3f342a">gun_actor::get_max_range</a></div><div class="ttdeci">int get_max_range() const</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8cpp_source.html#l01095">mattack_actors.cpp:1095</a></div></div>
<div class="ttc" id="aclassmap_html_a5fd2a0e8b2b2b63da3a2c397912981fd"><div class="ttname"><a href="classmap.html#a5fd2a0e8b2b2b63da3a2c397912981fd">map::get_moving_vehicle_targets</a></div><div class="ttdeci">std::set&lt; tripoint_bub_ms &gt; get_moving_vehicle_targets(const Creature &amp;z, int max_range)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01241">map.cpp:1241</a></div></div>
<div class="ttc" id="aclassmattack__actor_html_a26a67933b018a874502df3cb6eade7c8"><div class="ttname"><a href="classmattack__actor.html#a26a67933b018a874502df3cb6eade7c8">mattack_actor::condition</a></div><div class="ttdeci">std::function&lt; bool(dialogue &amp;)&gt; condition</div><div class="ttdef"><b>Definition:</b> <a href="mattack__common_8h_source.html#l00036">mattack_common.h:36</a></div></div>
<div class="ttc" id="aclassmattack__actor_html_a7a70fabca14bae2f99e72fd5dd15f4e7"><div class="ttname"><a href="classmattack__actor.html#a7a70fabca14bae2f99e72fd5dd15f4e7">mattack_actor::has_condition</a></div><div class="ttdeci">bool has_condition</div><div class="ttdef"><b>Definition:</b> <a href="mattack__common_8h_source.html#l00037">mattack_common.h:37</a></div></div>
<div class="ttc" id="aclassmonster_html_a3414f60cd7b63132b8ab605f6949edf4"><div class="ttname"><a href="classmonster.html#a3414f60cd7b63132b8ab605f6949edf4">monster::attack_target</a></div><div class="ttdeci">Creature * attack_target()</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01405">monster.cpp:1405</a></div></div>
<div class="ttc" id="aclassmonster_html_a4e17d0d504a12d9b2e4de3e7a7503fff"><div class="ttname"><a href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">monster::friendly</a></div><div class="ttdeci">int friendly</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00539">monster.h:539</a></div></div>
<div class="ttc" id="aclassmonster_html_a7cb9d9786d11c2c0926d3482d3f51ffe"><div class="ttname"><a href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">monster::name</a></div><div class="ttdeci">std::string name(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00722">monster.cpp:722</a></div></div>
<div class="ttc" id="aclassmonster_html_ab80f9246aad2b3c22becee9f34dc17d8"><div class="ttname"><a href="classmonster.html#ab80f9246aad2b3c22becee9f34dc17d8">monster::aggro_character</a></div><div class="ttdeci">bool aggro_character</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00572">monster.h:572</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a38e880e550bb0688dea9353138da8683"><div class="ttname"><a href="coordinates_8h.html#a38e880e550bb0688dea9353138da8683">tripoint_bub_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::reality_bubble, coords::ms &gt; tripoint_bub_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00716">coordinates.h:716</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00351">enums.h:351</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a3ea1aed1d11cd410cce07fb5be7aa34f"><div class="ttname"><a href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a></div><div class="ttdeci">void add_msg_if_player_sees(const tripoint &amp;target, std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l01007">messages.cpp:1007</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a></div><div class="ttdeci">@ DF_MATTACK</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00262">debug.h:262</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="astructdialogue_html"><div class="ttname"><a href="structdialogue.html">dialogue</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00184">dialogue.h:184</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="atranslations_8h_html_a45dd4e3da9b83845bcd1c2d8e80cf802"><div class="ttname"><a href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a></div><div class="ttdeci">#define n_gettext(STRING1, STRING2, COUNT)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00091">translations.h:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="monster_8h_source.html#l00572">monster::aggro_character</a>, <a class="el" href="monster_8cpp_source.html#l01405">monster::attack_target()</a>, <a class="el" href="creature_8cpp_source.html#l00554">Creature::auto_find_hostile_target()</a>, <a class="el" href="mattack__common_8h_source.html#l00036">mattack_actor::condition</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="monster_8h_source.html#l00539">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01095">get_max_range()</a>, <a class="el" href="map_8cpp_source.html#l01241">map::get_moving_vehicle_targets()</a>, <a class="el" href="avatar_8cpp_source.html#l01795">get_talker_for()</a>, <a class="el" href="mattack__common_8h_source.html#l00037">mattack_actor::has_condition</a>, <a class="el" href="creature_8h_source.html#l00271">Creature::is_monster()</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="translations_8h_source.html#l00091">n_gettext</a>, <a class="el" href="monster_8cpp_source.html#l00722">monster::name()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="mattack__actors_8h_source.html#l00224">ranges</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>, <a class="el" href="mattack__actors_8h_source.html#l00241">target_moving_vehicles</a>, <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="ac3352bf45339fad03e191b61ad12a30f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3352bf45339fad03e191b61ad12a30f">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classmattack__actor.html">mattack_actor</a> &gt; gun_actor::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmattack__actor.html#a389cbc3b16b967deab32b8e37ac225c1">mattack_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01090">1090</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;{</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">return</span> std::make_unique&lt;gun_actor&gt;( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff79fca7fe9537504e6d2266ae3f342a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff79fca7fe9537504e6d2266ae3f342a">&#9670;&nbsp;</a></span>get_max_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::get_max_range </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01095">1095</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;{</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordtype">int</span> max_range = 0;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code" href="classgun__actor.html#a1812996dc43161cabf999808ed3887f6">ranges</a> ) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        max_range = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( max_range, e.first.first ), e.first.second );</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Max range %d&quot;</span>, max_range );</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">return</span> max_range;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;}</div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, and <a class="el" href="mattack__actors_8h_source.html#l00224">ranges</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01106">call()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00144">mdefense::return_fire()</a>.</p>

</div>
</div>
<a id="ab525fbfb15f1f6f5b8444489735faf2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab525fbfb15f1f6f5b8444489735faf2c">&#9670;&nbsp;</a></span>load_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void gun_actor::load_internal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classmattack__actor.html#af40f5c491c93fbef9bb797faa469546f">mattack_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01028">1028</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;gun_type&quot;</span>, <a class="code" href="classgun__actor.html#ab67d5da84abab2514ed756af85afe71b">gun_type</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;ammo_type&quot;</span>, <a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a> );</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">if</span>( obj.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;fake_skills&quot;</span> ) ) {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> cur : obj.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;fake_skills&quot;</span> ) ) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <a class="code" href="classgun__actor.html#a7bc74ea463561eef5a33b6391e3f7160">fake_skills</a>[<a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( cur.get_string( 0 ) )] = cur.get_int( 1 );</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( obj, <a class="code" href="classmattack__actor.html#add2fafdd49c323f64a4dc2d8b997b4b4">was_loaded</a>, <span class="stringliteral">&quot;fake_str&quot;</span>, <a class="code" href="classgun__actor.html#a3e6eb6736a7e91a375e01cc0a6760dff">fake_str</a>, 8 );</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( obj, <a class="code" href="classmattack__actor.html#add2fafdd49c323f64a4dc2d8b997b4b4">was_loaded</a>, <span class="stringliteral">&quot;fake_dex&quot;</span>, <a class="code" href="classgun__actor.html#a1c91e2aa4bef675ba51a1606342c97d8">fake_dex</a>, 8 );</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( obj, <a class="code" href="classmattack__actor.html#add2fafdd49c323f64a4dc2d8b997b4b4">was_loaded</a>, <span class="stringliteral">&quot;fake_int&quot;</span>, <a class="code" href="classgun__actor.html#aba5ba55c5f85ed3c272cee87cc5bea97">fake_int</a>, 8 );</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( obj, <a class="code" href="classmattack__actor.html#add2fafdd49c323f64a4dc2d8b997b4b4">was_loaded</a>, <span class="stringliteral">&quot;fake_per&quot;</span>, <a class="code" href="classgun__actor.html#aee9644e0885168e841b079db910b5d8b">fake_per</a>, 8 );</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> mode : obj.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;ranges&quot;</span> ) ) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">if</span>( mode.size() &lt; 2 || mode.get_int( 0 ) &gt; mode.get_int( 1 ) ) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            obj.<a class="code" href="classJsonObject.html#a04b6ce7355b567646a587514fb811c68">throw_error_at</a>( <span class="stringliteral">&quot;ranges&quot;</span>, <span class="stringliteral">&quot;incomplete or invalid range specified&quot;</span> );</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="classgun__actor.html#a1812996dc43161cabf999808ed3887f6">ranges</a>.emplace( std::make_pair&lt;int, int&gt;( mode.get_int( 0 ), mode.get_int( 1 ) ),</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                        <a class="code" href="classstring__id.html">gun_mode_id</a>( mode.size() &gt; 2 ? mode.get_string( 2 ) : <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span>( obj.<a class="code" href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">has_member</a>( <span class="stringliteral">&quot;condition&quot;</span> ) ) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="condition_8cpp.html#ad271a5168fac7d2daae1ee926c9ba71f">read_condition</a>( obj, <span class="stringliteral">&quot;condition&quot;</span>, <a class="code" href="classmattack__actor.html#a26a67933b018a874502df3cb6eade7c8">condition</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <a class="code" href="classmattack__actor.html#a7a70fabca14bae2f99e72fd5dd15f4e7">has_condition</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;max_ammo&quot;</span>, <a class="code" href="classgun__actor.html#a0d0f50c01b1cf9b472656e5612e555ac">max_ammo</a> );</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;move_cost&quot;</span>, <a class="code" href="classgun__actor.html#aed74d3ea4f57236800b69ce48148c29a">move_cost</a> );</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;description&quot;</span>, <a class="code" href="classgun__actor.html#afbe52f199901bf89e2b05ddb55ae6f37">description</a> );</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;failure_msg&quot;</span>, <a class="code" href="classgun__actor.html#a898a60e74b62eab266cf9bcac902d227">failure_msg</a> );</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span>( !obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;no_ammo_sound&quot;</span>, <a class="code" href="classgun__actor.html#a1b59a455681150696168b349298740b6">no_ammo_sound</a> ) ) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <a class="code" href="classgun__actor.html#a1b59a455681150696168b349298740b6">no_ammo_sound</a> = <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Click.&quot;</span> );</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;targeting_cost&quot;</span>, <a class="code" href="classgun__actor.html#a2b995f0d20f99c404d920f3d23e6d758">targeting_cost</a> );</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;require_targeting_player&quot;</span>, <a class="code" href="classgun__actor.html#a4d974bd7f92ce69799e53602af86270c">require_targeting_player</a> );</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;require_targeting_npc&quot;</span>, <a class="code" href="classgun__actor.html#a8d37856ff5aa0b3a02ea1590f6038643">require_targeting_npc</a> );</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;require_targeting_monster&quot;</span>, <a class="code" href="classgun__actor.html#aff79e0151e3f3a1d00e835b918fdbbaf">require_targeting_monster</a> );</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;targeting_timeout&quot;</span>, <a class="code" href="classgun__actor.html#a34e90e6986439c089a7fc4606a96620e">targeting_timeout</a> );</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;targeting_timeout_extend&quot;</span>, <a class="code" href="classgun__actor.html#a1eea1e2ade51eefcd68d2e2fd7d687b1">targeting_timeout_extend</a> );</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">if</span>( !obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;targeting_sound&quot;</span>, <a class="code" href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">targeting_sound</a> ) ) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">targeting_sound</a> = <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Beep.&quot;</span> );</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;targeting_volume&quot;</span>, <a class="code" href="classgun__actor.html#a118a567dcf98482adb92376e8d755fe6">targeting_volume</a> );</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="classgun__actor.html#aaa8250938390d7900af7d3a82429e63d">laser_lock</a> = obj.<a class="code" href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">get_bool</a>( <span class="stringliteral">&quot;laser_lock&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;target_moving_vehicles&quot;</span>, <a class="code" href="classgun__actor.html#afb97dd441db660dfcb09c4ff7c3b7bb2">target_moving_vehicles</a> );</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;require_sunlight&quot;</span>, <a class="code" href="classgun__actor.html#a6712305c7f797f98e713d46132bf3160">require_sunlight</a> );</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">cata_variant_type::skill_id</a></div><div class="ttdeci">@ skill_id</div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00346">flexbuffer_json.h:347</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a04b6ce7355b567646a587514fb811c68"><div class="ttname"><a href="classJsonObject.html#a04b6ce7355b567646a587514fb811c68">JsonObject::throw_error_at</a></div><div class="ttdeci">void throw_error_at(std::string_view member, const std::string &amp;err) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8cpp_source.html#l00358">flexbuffer_json.cpp:358</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3d748a5d67f435bbd170a3e92a7cd0ca"><div class="ttname"><a href="classJsonObject.html#a3d748a5d67f435bbd170a3e92a7cd0ca">JsonObject::get_bool</a></div><div class="ttdeci">bool get_bool(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00850">flexbuffer_json-inl.h:850</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a619cb4eae7922f357db47479fc71cf9b"><div class="ttname"><a href="classJsonObject.html#a619cb4eae7922f357db47479fc71cf9b">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00944">flexbuffer_json-inl.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a0d0f50c01b1cf9b472656e5612e555ac"><div class="ttname"><a href="classgun__actor.html#a0d0f50c01b1cf9b472656e5612e555ac">gun_actor::max_ammo</a></div><div class="ttdeci">int max_ammo</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00226">mattack_actors.h:226</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a118a567dcf98482adb92376e8d755fe6"><div class="ttname"><a href="classgun__actor.html#a118a567dcf98482adb92376e8d755fe6">gun_actor::targeting_volume</a></div><div class="ttdeci">int targeting_volume</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00255">mattack_actors.h:255</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a1b59a455681150696168b349298740b6"><div class="ttname"><a href="classgun__actor.html#a1b59a455681150696168b349298740b6">gun_actor::no_ammo_sound</a></div><div class="ttdeci">translation no_ammo_sound</div><div class="ttdoc">Sound (if any) when either ammo depleted or max_ammo reached.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00235">mattack_actors.h:235</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a1c91e2aa4bef675ba51a1606342c97d8"><div class="ttname"><a href="classgun__actor.html#a1c91e2aa4bef675ba51a1606342c97d8">gun_actor::fake_dex</a></div><div class="ttdeci">int fake_dex</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00218">mattack_actors.h:218</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a1eea1e2ade51eefcd68d2e2fd7d687b1"><div class="ttname"><a href="classgun__actor.html#a1eea1e2ade51eefcd68d2e2fd7d687b1">gun_actor::targeting_timeout_extend</a></div><div class="ttdeci">int targeting_timeout_extend</div><div class="ttdoc">Default turns after which targeting is lost and needs repeating.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00252">mattack_actors.h:252</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a2b995f0d20f99c404d920f3d23e6d758"><div class="ttname"><a href="classgun__actor.html#a2b995f0d20f99c404d920f3d23e6d758">gun_actor::targeting_cost</a></div><div class="ttdeci">int targeting_cost</div><div class="ttdoc">Turrets may need to expend moves targeting before firing on certain targets.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00245">mattack_actors.h:245</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a34e90e6986439c089a7fc4606a96620e"><div class="ttname"><a href="classgun__actor.html#a34e90e6986439c089a7fc4606a96620e">gun_actor::targeting_timeout</a></div><div class="ttdeci">int targeting_timeout</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00251">mattack_actors.h:251</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a3e6eb6736a7e91a375e01cc0a6760dff"><div class="ttname"><a href="classgun__actor.html#a3e6eb6736a7e91a375e01cc0a6760dff">gun_actor::fake_str</a></div><div class="ttdeci">int fake_str</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00217">mattack_actors.h:217</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a4d974bd7f92ce69799e53602af86270c"><div class="ttname"><a href="classgun__actor.html#a4d974bd7f92ce69799e53602af86270c">gun_actor::require_targeting_player</a></div><div class="ttdeci">bool require_targeting_player</div><div class="ttdoc">Moves consumed before first attack can be made.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00247">mattack_actors.h:247</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a5221d464f2ea89c177e0b4dbc8a67dea"><div class="ttname"><a href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">gun_actor::ammo_type</a></div><div class="ttdeci">itype_id ammo_type</div><div class="ttdoc">Specific ammo type to use or for gun default if unspecified.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00212">mattack_actors.h:212</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a6712305c7f797f98e713d46132bf3160"><div class="ttname"><a href="classgun__actor.html#a6712305c7f797f98e713d46132bf3160">gun_actor::require_sunlight</a></div><div class="ttdeci">bool require_sunlight</div><div class="ttdoc">Does switching between targets incur further targeting penalty.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00261">mattack_actors.h:261</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a7bc74ea463561eef5a33b6391e3f7160"><div class="ttname"><a href="classgun__actor.html#a7bc74ea463561eef5a33b6391e3f7160">gun_actor::fake_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; fake_skills</div><div class="ttdoc">Balanced against player.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00216">mattack_actors.h:216</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a898a60e74b62eab266cf9bcac902d227"><div class="ttname"><a href="classgun__actor.html#a898a60e74b62eab266cf9bcac902d227">gun_actor::failure_msg</a></div><div class="ttdeci">translation failure_msg</div><div class="ttdoc">Message to display (if any) for failures to fire excluding lack of ammo.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00232">mattack_actors.h:232</a></div></div>
<div class="ttc" id="aclassgun__actor_html_a8d37856ff5aa0b3a02ea1590f6038643"><div class="ttname"><a href="classgun__actor.html#a8d37856ff5aa0b3a02ea1590f6038643">gun_actor::require_targeting_npc</a></div><div class="ttdeci">bool require_targeting_npc</div><div class="ttdoc">By default always give player some warning.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00248">mattack_actors.h:248</a></div></div>
<div class="ttc" id="aclassgun__actor_html_aaa8250938390d7900af7d3a82429e63d"><div class="ttname"><a href="classgun__actor.html#aaa8250938390d7900af7d3a82429e63d">gun_actor::laser_lock</a></div><div class="ttdeci">bool laser_lock</div><div class="ttdoc">If set to zero don't emit any targeting sounds.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00257">mattack_actors.h:257</a></div></div>
<div class="ttc" id="aclassgun__actor_html_ab67d5da84abab2514ed756af85afe71b"><div class="ttname"><a href="classgun__actor.html#ab67d5da84abab2514ed756af85afe71b">gun_actor::gun_type</a></div><div class="ttdeci">itype_id gun_type</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00209">mattack_actors.h:209</a></div></div>
<div class="ttc" id="aclassgun__actor_html_aba5ba55c5f85ed3c272cee87cc5bea97"><div class="ttname"><a href="classgun__actor.html#aba5ba55c5f85ed3c272cee87cc5bea97">gun_actor::fake_int</a></div><div class="ttdeci">int fake_int</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00219">mattack_actors.h:219</a></div></div>
<div class="ttc" id="aclassgun__actor_html_aed74d3ea4f57236800b69ce48148c29a"><div class="ttname"><a href="classgun__actor.html#aed74d3ea4f57236800b69ce48148c29a">gun_actor::move_cost</a></div><div class="ttdeci">int move_cost</div><div class="ttdoc">Number of moves required for each attack.</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00238">mattack_actors.h:238</a></div></div>
<div class="ttc" id="aclassgun__actor_html_aee9644e0885168e841b079db910b5d8b"><div class="ttname"><a href="classgun__actor.html#aee9644e0885168e841b079db910b5d8b">gun_actor::fake_per</a></div><div class="ttdeci">int fake_per</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00220">mattack_actors.h:220</a></div></div>
<div class="ttc" id="aclassgun__actor_html_aff79e0151e3f3a1d00e835b918fdbbaf"><div class="ttname"><a href="classgun__actor.html#aff79e0151e3f3a1d00e835b918fdbbaf">gun_actor::require_targeting_monster</a></div><div class="ttdeci">bool require_targeting_monster</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00249">mattack_actors.h:249</a></div></div>
<div class="ttc" id="aclassmattack__actor_html_add2fafdd49c323f64a4dc2d8b997b4b4"><div class="ttname"><a href="classmattack__actor.html#add2fafdd49c323f64a4dc2d8b997b4b4">mattack_actor::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="mattack__common_8h_source.html#l00029">mattack_common.h:29</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id</a></div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00197">string_id.h:198</a></div></div>
<div class="ttc" id="acondition_8cpp_html_ad271a5168fac7d2daae1ee926c9ba71f"><div class="ttname"><a href="condition_8cpp.html#ad271a5168fac7d2daae1ee926c9ba71f">read_condition</a></div><div class="ttdeci">void read_condition(const JsonObject &amp;jo, const std::string &amp;member_name, conditional_t::func &amp;condition, bool default_val)</div><div class="ttdef"><b>Definition:</b> <a href="condition_8cpp_source.html#l00546">condition.cpp:546</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a43443191f61bb76aca1c2895eea4ad8f"><div class="ttname"><a href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string_view name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00829">generic_factory.h:829</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mattack__actors_8h_source.html#l00212">ammo_type</a>, <a class="el" href="mattack__common_8h_source.html#l00036">mattack_actor::condition</a>, <a class="el" href="mattack__actors_8h_source.html#l00229">description</a>, <a class="el" href="mattack__actors_8h_source.html#l00232">failure_msg</a>, <a class="el" href="mattack__actors_8h_source.html#l00218">fake_dex</a>, <a class="el" href="mattack__actors_8h_source.html#l00219">fake_int</a>, <a class="el" href="mattack__actors_8h_source.html#l00220">fake_per</a>, <a class="el" href="mattack__actors_8h_source.html#l00216">fake_skills</a>, <a class="el" href="mattack__actors_8h_source.html#l00217">fake_str</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00850">JsonObject::get_bool()</a>, <a class="el" href="mattack__actors_8h_source.html#l00209">gun_type</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00984">JsonObject::has_array()</a>, <a class="el" href="mattack__common_8h_source.html#l00037">mattack_actor::has_condition</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00944">JsonObject::has_member()</a>, <a class="el" href="mattack__actors_8h_source.html#l00257">laser_lock</a>, <a class="el" href="mattack__actors_8h_source.html#l00226">max_ammo</a>, <a class="el" href="mattack__actors_8h_source.html#l00238">move_cost</a>, <a class="el" href="mattack__actors_8h_source.html#l00235">no_ammo_sound</a>, <a class="el" href="generic__factory_8h_source.html#l00829">optional()</a>, <a class="el" href="mattack__actors_8h_source.html#l00224">ranges</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l01059">JsonObject::read()</a>, <a class="el" href="condition_8cpp_source.html#l00546">read_condition()</a>, <a class="el" href="mattack__actors_8h_source.html#l00261">require_sunlight</a>, <a class="el" href="mattack__actors_8h_source.html#l00249">require_targeting_monster</a>, <a class="el" href="mattack__actors_8h_source.html#l00248">require_targeting_npc</a>, <a class="el" href="mattack__actors_8h_source.html#l00247">require_targeting_player</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>, <a class="el" href="mattack__actors_8h_source.html#l00241">target_moving_vehicles</a>, <a class="el" href="mattack__actors_8h_source.html#l00245">targeting_cost</a>, <a class="el" href="mattack__actors_8h_source.html#l00254">targeting_sound</a>, <a class="el" href="mattack__actors_8h_source.html#l00251">targeting_timeout</a>, <a class="el" href="mattack__actors_8h_source.html#l00252">targeting_timeout_extend</a>, <a class="el" href="mattack__actors_8h_source.html#l00255">targeting_volume</a>, <a class="el" href="flexbuffer__json_8cpp_source.html#l00358">JsonObject::throw_error_at()</a>, <a class="el" href="translation_8cpp_source.html#l00420">to_translation()</a>, and <a class="el" href="mattack__common_8h_source.html#l00029">mattack_actor::was_loaded</a>.</p>

</div>
</div>
<a id="a91a6d3fd47e5b2e6bff40441d0c21e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a6d3fd47e5b2e6bff40441d0c21e6f">&#9670;&nbsp;</a></span>shoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gun_actor::shoot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a> &amp;&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inital_recoil</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01219">1219</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;{</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    z.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classgun__actor.html#aed74d3ea4f57236800b69ce48148c29a">move_cost</a> );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="classstring__id.html">itype_id</a> mig_gun_type = <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( <a class="code" href="classgun__actor.html#ab67d5da84abab2514ed756af85afe71b">gun_type</a> );</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="classitem.html">item</a> <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>( mig_gun_type );</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_set_mode( mode );</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <a class="code" href="classstring__id.html">itype_id</a> ammo = <a class="code" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;migrate_id( <a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a> );</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span>( ammo.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.magazine_integral() ) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;            ammo = <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_default();</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            ammo = <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.magazine_default() ).ammo_default();</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span>( !ammo.<a class="code" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.magazine_integral() ) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_set( ammo, z.<a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a>] );</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <a class="code" href="classitem.html">item</a> mag( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.magazine_default() );</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            mag.ammo_set( ammo, z.<a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a>] );</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.put_in( mag, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc">pocket_type::MAGAZINE_WELL</a> );</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">if</span>( z.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="mattack__actors_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a> ) || z.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="mattack__actors_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a> ) ||</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        z.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="mattack__actors_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">effect_sensor_stun</a> ) ) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;%d ammo (%s) remaining&quot;</span>, z.<a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a>],</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                   <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_sort_name() );</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_sufficient( <span class="keyword">nullptr</span> ) ) {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classgun__actor.html#a1b59a455681150696168b349298740b6">no_ammo_sound</a>.<a class="code" href="classtranslation.html#a85e9c5ae8df7eb6df7bac2473b9716dd">empty</a>() ) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 10, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code" href="classgun__actor.html#a1b59a455681150696168b349298740b6">no_ammo_sound</a> );</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="classstandard__npc.html">standard_npc</a> tmp( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The &quot;</span> ) + z.<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(), z.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), {}, 8,</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                      <a class="code" href="classgun__actor.html#a3e6eb6736a7e91a375e01cc0a6760dff">fake_str</a>, <a class="code" href="classgun__actor.html#a1c91e2aa4bef675ba51a1606342c97d8">fake_dex</a>, <a class="code" href="classgun__actor.html#aba5ba55c5f85ed3c272cee87cc5bea97">fake_int</a>, <a class="code" href="classgun__actor.html#aee9644e0885168e841b079db910b5d8b">fake_per</a> );</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    tmp.worn.wear_item( tmp, <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( <span class="stringliteral">&quot;backpack&quot;</span> ), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    tmp.set_fake( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    tmp.set_attitude( z.<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> ? <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4aee568a181e2bf1f4ef5122e0674b162d">NPCATT_FOLLOW</a> : <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a">NPCATT_KILL</a> );</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    tmp.recoil = inital_recoil; <span class="comment">// set initial recoil</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordtype">bool</span> throwing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr : <a class="code" href="classgun__actor.html#a7bc74ea463561eef5a33b6391e3f7160">fake_skills</a> ) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        tmp.set_skill_level( pr.first, pr.second );</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        throwing |= pr.first == <a class="code" href="mattack__actors_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    tmp.set_wielded_item( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a> );</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( z, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="classgun__actor.html#afbe52f199901bf89e2b05ddb55ae6f37">description</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), z.<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>(),</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                            tmp.get_wielded_item()-&gt;tname() );</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>,</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                   <span class="stringliteral">&quot;Temp NPC:\nSTR %d, DEX %d, INT %d, PER %d\nGun skill (%s) %d&quot;</span>,</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                   tmp.str_cur, tmp.dex_cur, tmp.int_cur, tmp.per_cur,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                   <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_skill().c_str(), <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( tmp.get_skill_level( throwing ? <a class="code" href="mattack__actors_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> :</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                           <a class="code" href="mattack__actors_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a> ) ) );</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">if</span>( throwing ) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        tmp.throw_item( target, <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>( ammo, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, 1 ) );</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        z.<a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a>]--;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        z.<a class="code" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[<a class="code" href="classgun__actor.html#a5221d464f2ea89c177e0b4dbc8a67dea">ammo_type</a>] -= tmp.fire_gun( target, <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_current_mode().qty );</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a7bf62f4f36b0475f1f39ea27f3beebb0"><div class="ttname"><a href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01770">creature.cpp:1770</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassmonster_html_aa5740a03294bcab8ef209151af709c4c"><div class="ttname"><a href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">monster::ammo</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00582">monster.h:582</a></div></div>
<div class="ttc" id="aclassstandard__npc_html"><div class="ttname"><a href="classstandard__npc.html">standard_npc</a></div><div class="ttdoc">An NPC with standard stats.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01481">npc.h:1482</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00322">string_id.h:322</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="aclasstranslation_html_a85e9c5ae8df7eb6df7bac2473b9716dd"><div class="ttname"><a href="classtranslation.html#a85e9c5ae8df7eb6df7bac2473b9716dd">translation::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Whether the underlying string is empty, not matter what the context is or whether translation is need...</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00327">translation.cpp:327</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a62fc9d4e4ca8f0e62b4556f5f65b666c"><div class="ttname"><a href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a></div><div class="ttdeci">std::unique_ptr&lt; Item_factory &gt; item_controller</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00126">item_factory.cpp:126</a></div></div>
<div class="ttc" id="aitype_8h_html_a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180"><div class="ttname"><a href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">itype_variant_kind::gun</a></div><div class="ttdeci">@ gun</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_a0a39cc22ef74abe8a18077fa8625138b"><div class="ttname"><a href="mattack__actors_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">effect_sensor_stun</a></div><div class="ttdeci">static const efftype_id effect_sensor_stun(&quot;sensor_stun&quot;)</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_a3eadead4a9aa7fee079c0b1acce7965e"><div class="ttname"><a href="mattack__actors_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a></div><div class="ttdeci">static const skill_id skill_gun(&quot;gun&quot;)</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_aca8ae2b9cbc86602a56a3885b72a4ed1"><div class="ttname"><a href="mattack__actors_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a></div><div class="ttdeci">static const skill_id skill_throw(&quot;throw&quot;)</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="mattack__actors_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_adcaf70773541073a0d4cdfce4b857bf7"><div class="ttname"><a href="mattack__actors_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a></div><div class="ttdeci">static const efftype_id effect_psi_stunned(&quot;psi_stunned&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00318">sounds.cpp:318</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a></div><div class="ttdeci">@ combat</div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a">NPCATT_KILL</a></div><div class="ttdeci">@ NPCATT_KILL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00117">npc.h:117</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4aee568a181e2bf1f4ef5122e0674b162d"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4aee568a181e2bf1f4ef5122e0674b162d">NPCATT_FOLLOW</a></div><div class="ttdeci">@ NPCATT_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00110">npc.h:110</a></div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc">pocket_type::MAGAZINE_WELL</a></div><div class="ttdeci">@ MAGAZINE_WELL</div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="monster_8h_source.html#l00582">monster::ammo</a>, <a class="el" href="item_8cpp_source.html#l00719">item::ammo_set()</a>, <a class="el" href="mattack__actors_8h_source.html#l00212">ammo_type</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="mattack__actors_8h_source.html#l00229">description</a>, <a class="el" href="character_8h_source.html#l00578">Character::dex_cur</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="mattack__actors_8cpp.html#adcaf70773541073a0d4cdfce4b857bf7">effect_psi_stunned</a>, <a class="el" href="mattack__actors_8cpp.html#a0a39cc22ef74abe8a18077fa8625138b">effect_sensor_stun</a>, <a class="el" href="mattack__actors_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="el" href="translation_8cpp_source.html#l00327">translation::empty()</a>, <a class="el" href="mattack__actors_8h_source.html#l00218">fake_dex</a>, <a class="el" href="mattack__actors_8h_source.html#l00219">fake_int</a>, <a class="el" href="mattack__actors_8h_source.html#l00220">fake_per</a>, <a class="el" href="mattack__actors_8h_source.html#l00216">fake_skills</a>, <a class="el" href="mattack__actors_8h_source.html#l00217">fake_str</a>, <a class="el" href="ranged_8cpp_source.html#l00857">Character::fire_gun()</a>, <a class="el" href="monster_8h_source.html#l00539">monster::friendly</a>, <a class="el" href="character_8cpp_source.html#l03428">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l00674">Character::get_wielded_item()</a>, <a class="el" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>, <a class="el" href="mattack__actors_8h_source.html#l00209">gun_type</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="character_8h_source.html#l00579">Character::int_cur</a>, <a class="el" href="string__id_8h_source.html#l00322">string_id&lt; T &gt;::is_null()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="item__factory_8cpp_source.html#l00126">item_controller</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1ab27af2204ca1397f7eda1c0421f4fcfc">MAGAZINE_WELL</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="mattack__actors_8h_source.html#l00238">move_cost</a>, <a class="el" href="monster_8cpp_source.html#l00722">monster::name()</a>, <a class="el" href="mattack__actors_8h_source.html#l00235">no_ammo_sound</a>, <a class="el" href="npc_8h_source.html#l00110">NPCATT_FOLLOW</a>, <a class="el" href="npc_8h_source.html#l00117">NPCATT_KILL</a>, <a class="el" href="character_8h_source.html#l00580">Character::per_cur</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="character_8h_source.html#l01117">Character::recoil</a>, <a class="el" href="npc_8cpp_source.html#l03551">npc::set_attitude()</a>, <a class="el" href="creature_8cpp_source.html#l01523">Creature::set_fake()</a>, <a class="el" href="character_8cpp_source.html#l03467">Character::set_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l00687">Character::set_wielded_item()</a>, <a class="el" href="mattack__actors_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="el" href="mattack__actors_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="character_8h_source.html#l00577">Character::str_cur</a>, <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="character__attire_8cpp_source.html#l00319">outfit::wear_item()</a>, and <a class="el" href="character_8h_source.html#l02690">Character::worn</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01106">call()</a>, and <a class="el" href="mondefense_8cpp_source.html#l00144">mdefense::return_fire()</a>.</p>

</div>
</div>
<a id="a1428f2909f5654676860eb7eba9aed45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1428f2909f5654676860eb7eba9aed45">&#9670;&nbsp;</a></span>try_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::try_target </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8cpp_source.html#l01171">1171</a> of file <a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;{</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classgun__actor.html#a6712305c7f797f98e713d46132bf3160">require_sunlight</a> &amp;&amp; !<a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_in_sunlight( z.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;Requires sunlight&quot;</span> );</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( z, <a class="code" href="classgun__actor.html#a898a60e74b62eab266cf9bcac902d227">failure_msg</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), z.<a class="code" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> require_targeting = ( <a class="code" href="classgun__actor.html#a4d974bd7f92ce69799e53602af86270c">require_targeting_player</a> &amp;&amp; target.<a class="code" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) ||</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                   ( <a class="code" href="classgun__actor.html#a8d37856ff5aa0b3a02ea1590f6038643">require_targeting_npc</a> &amp;&amp; target.<a class="code" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) ||</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                                   ( <a class="code" href="classgun__actor.html#aff79e0151e3f3a1d00e835b918fdbbaf">require_targeting_monster</a> &amp;&amp; target.<a class="code" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() );</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> not_targeted = require_targeting &amp;&amp; !z.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="mattack__actors_8cpp.html#a90a259f4c1b37d66fbc8c485ea1ccaba">effect_targeted</a> );</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> not_laser_locked = require_targeting &amp;&amp; <a class="code" href="classgun__actor.html#aaa8250938390d7900af7d3a82429e63d">laser_lock</a> &amp;&amp;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                  !target.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="mattack__actors_8cpp.html#ad42e9088931762f5e3e1bc3e23c839ae">effect_was_laserlocked</a> );</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">if</span>( not_targeted || not_laser_locked ) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classgun__actor.html#a118a567dcf98482adb92376e8d755fe6">targeting_volume</a> &gt; 0 &amp;&amp; !<a class="code" href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">targeting_sound</a>.<a class="code" href="classtranslation.html#a85e9c5ae8df7eb6df7bac2473b9716dd">empty</a>() ) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="classgun__actor.html#a118a567dcf98482adb92376e8d755fe6">targeting_volume</a>, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a>,</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                           <a class="code" href="classgun__actor.html#a59b49c174126b1ca0a892bd2c19aee01">targeting_sound</a> );</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">if</span>( not_targeted ) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;%s targeted&quot;</span>, target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            z.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="mattack__actors_8cpp.html#a90a259f4c1b37d66fbc8c485ea1ccaba">effect_targeted</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="classgun__actor.html#a34e90e6986439c089a7fc4606a96620e">targeting_timeout</a> ) );</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordflow">if</span>( not_laser_locked ) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a06b26a3d79dd171e505cf88e89ede5bb">debugmode::DF_MATTACK</a>, <span class="stringliteral">&quot;%s laser-locked&quot;</span>, target.<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="mattack__actors_8cpp.html#a6bf1394e103efe8661fc75163e3482c3">effect_laserlocked</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="classgun__actor.html#a34e90e6986439c089a7fc4606a96620e">targeting_timeout</a> ) );</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="mattack__actors_8cpp.html#ad42e9088931762f5e3e1bc3e23c839ae">effect_was_laserlocked</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="classgun__actor.html#a34e90e6986439c089a7fc4606a96620e">targeting_timeout</a> ) );</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            target.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                                      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You&#39;re not sure why you&#39;ve got a laser dot on you&quot;</span> ) );</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        z.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classgun__actor.html#a2b995f0d20f99c404d920f3d23e6d758">targeting_cost</a> );</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span>( require_targeting ) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        z.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="mattack__actors_8cpp.html#a90a259f4c1b37d66fbc8c485ea1ccaba">effect_targeted</a>, <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="classgun__actor.html#a1eea1e2ade51eefcd68d2e2fd7d687b1">targeting_timeout_extend</a> ) );</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classgun__actor.html#aaa8250938390d7900af7d3a82429e63d">laser_lock</a> ) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="comment">// To prevent spamming laser locks when the player can tank that stuff somehow</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="mattack__actors_8cpp.html#ad42e9088931762f5e3e1bc3e23c839ae">effect_was_laserlocked</a>, 5_turns );</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00604">creature.h:604</a></div></div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00976">creature.h:976</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00265">creature.h:265</a></div></div>
<div class="ttc" id="aclassCreature_html_aed84fe52e1335d48d53f482f8a278c87"><div class="ttname"><a href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature::is_npc</a></div><div class="ttdeci">virtual bool is_npc() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00268">creature.h:268</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00221">calendar.h:221</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="amattack__actors_8cpp_html_a6bf1394e103efe8661fc75163e3482c3"><div class="ttname"><a href="mattack__actors_8cpp.html#a6bf1394e103efe8661fc75163e3482c3">effect_laserlocked</a></div><div class="ttdeci">static const efftype_id effect_laserlocked(&quot;laserlocked&quot;)</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_a90a259f4c1b37d66fbc8c485ea1ccaba"><div class="ttname"><a href="mattack__actors_8cpp.html#a90a259f4c1b37d66fbc8c485ea1ccaba">effect_targeted</a></div><div class="ttdeci">static const efftype_id effect_targeted(&quot;targeted&quot;)</div></div>
<div class="ttc" id="amattack__actors_8cpp_html_ad42e9088931762f5e3e1bc3e23c839ae"><div class="ttname"><a href="mattack__actors_8cpp.html#ad42e9088931762f5e3e1bc3e23c839ae">effect_was_laserlocked</a></div><div class="ttdeci">static const efftype_id effect_was_laserlocked(&quot;was_laserlocked&quot;)</div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::sound_t::alarm</a></div><div class="ttdeci">@ alarm</div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="creature_8h_source.html#l00976">Creature::add_msg_if_player()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a6486b4e98228b83d4b13d54febe5f170">sounds::alarm</a>, <a class="el" href="debug_8h_source.html#l00262">debugmode::DF_MATTACK</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="mattack__actors_8cpp.html#a6bf1394e103efe8661fc75163e3482c3">effect_laserlocked</a>, <a class="el" href="mattack__actors_8cpp.html#a90a259f4c1b37d66fbc8c485ea1ccaba">effect_targeted</a>, <a class="el" href="mattack__actors_8cpp.html#ad42e9088931762f5e3e1bc3e23c839ae">effect_was_laserlocked</a>, <a class="el" href="translation_8cpp_source.html#l00327">translation::empty()</a>, <a class="el" href="mattack__actors_8h_source.html#l00232">failure_msg</a>, <a class="el" href="calendar_8h_source.html#l00221">time_duration::from_turns()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="creature_8h_source.html#l00265">Creature::is_avatar()</a>, <a class="el" href="creature_8h_source.html#l00271">Creature::is_monster()</a>, <a class="el" href="creature_8h_source.html#l00268">Creature::is_npc()</a>, <a class="el" href="mattack__actors_8h_source.html#l00257">laser_lock</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="monster_8cpp_source.html#l00722">monster::name()</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="mattack__actors_8h_source.html#l00261">require_sunlight</a>, <a class="el" href="mattack__actors_8h_source.html#l00249">require_targeting_monster</a>, <a class="el" href="mattack__actors_8h_source.html#l00248">require_targeting_npc</a>, <a class="el" href="mattack__actors_8h_source.html#l00247">require_targeting_player</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="mattack__actors_8h_source.html#l00245">targeting_cost</a>, <a class="el" href="mattack__actors_8h_source.html#l00254">targeting_sound</a>, <a class="el" href="mattack__actors_8h_source.html#l00251">targeting_timeout</a>, <a class="el" href="mattack__actors_8h_source.html#l00252">targeting_timeout_extend</a>, <a class="el" href="mattack__actors_8h_source.html#l00255">targeting_volume</a>, and <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01106">call()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5221d464f2ea89c177e0b4dbc8a67dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5221d464f2ea89c177e0b4dbc8a67dea">&#9670;&nbsp;</a></span>ammo_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> gun_actor::ammo_type = <a class="el" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">itype_id::NULL_ID</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specific ammo type to use or for gun default if unspecified. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00212">212</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="afbe52f199901bf89e2b05ddb55ae6f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe52f199901bf89e2b05ddb55ae6f37">&#9670;&nbsp;</a></span>description</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtranslation.html">translation</a> gun_actor::description</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>limited also by monster starting ammo </p>
<p>Description of the attack being run </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00229">229</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="a898a60e74b62eab266cf9bcac902d227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898a60e74b62eab266cf9bcac902d227">&#9670;&nbsp;</a></span>failure_msg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtranslation.html">translation</a> gun_actor::failure_msg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message to display (if any) for failures to fire excluding lack of ammo. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00232">232</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a1c91e2aa4bef675ba51a1606342c97d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c91e2aa4bef675ba51a1606342c97d8">&#9670;&nbsp;</a></span>fake_dex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::fake_dex = 8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00218">218</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="aba5ba55c5f85ed3c272cee87cc5bea97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5ba55c5f85ed3c272cee87cc5bea97">&#9670;&nbsp;</a></span>fake_int</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::fake_int = 8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00219">219</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="aee9644e0885168e841b079db910b5d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9644e0885168e841b079db910b5d8b">&#9670;&nbsp;</a></span>fake_per</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::fake_per = 12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00220">220</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="a7bc74ea463561eef5a33b6391e3f7160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bc74ea463561eef5a33b6391e3f7160">&#9670;&nbsp;</a></span>fake_skills</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>, int&gt; gun_actor::fake_skills</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Balanced against player. </p>
<p>If fake_skills unspecified defaults to GUN 4, WEAPON 8 </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00216">216</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="a3e6eb6736a7e91a375e01cc0a6760dff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6eb6736a7e91a375e01cc0a6760dff">&#9670;&nbsp;</a></span>fake_str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::fake_str = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00217">217</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="ab67d5da84abab2514ed756af85afe71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67d5da84abab2514ed756af85afe71b">&#9670;&nbsp;</a></span>gun_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> gun_actor::gun_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00209">209</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mondeath_8cpp_source.html#l00220">mdeath::broken()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="aaa8250938390d7900af7d3a82429e63d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa8250938390d7900af7d3a82429e63d">&#9670;&nbsp;</a></span>laser_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::laser_lock = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set to zero don't emit any targeting sounds. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00257">257</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a0d0f50c01b1cf9b472656e5612e555ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0f50c01b1cf9b472656e5612e555ac">&#9670;&nbsp;</a></span>max_ammo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::max_ammo = INT_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00226">226</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>.</p>

</div>
</div>
<a id="aed74d3ea4f57236800b69ce48148c29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed74d3ea4f57236800b69ce48148c29a">&#9670;&nbsp;</a></span>move_cost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::move_cost = 150</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of moves required for each attack. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00238">238</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="a1b59a455681150696168b349298740b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b59a455681150696168b349298740b6">&#9670;&nbsp;</a></span>no_ammo_sound</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtranslation.html">translation</a> gun_actor::no_ammo_sound</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sound (if any) when either ammo depleted or max_ammo reached. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00235">235</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01219">shoot()</a>.</p>

</div>
</div>
<a id="a1812996dc43161cabf999808ed3887f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1812996dc43161cabf999808ed3887f6">&#9670;&nbsp;</a></span>ranges</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::pair&lt;int, int&gt;, <a class="el" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>&gt; gun_actor::ranges</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify weapon mode to use at different engagement distances. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00224">224</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01106">call()</a>, <a class="el" href="mattack__actors_8cpp_source.html#l01095">get_max_range()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>.</p>

</div>
</div>
<a id="a6712305c7f797f98e713d46132bf3160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6712305c7f797f98e713d46132bf3160">&#9670;&nbsp;</a></span>require_sunlight</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::require_sunlight = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does switching between targets incur further targeting penalty. </p>
<p>If true then disable this attack completely if not brightly lit </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00261">261</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="aff79e0151e3f3a1d00e835b918fdbbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff79e0151e3f3a1d00e835b918fdbbaf">&#9670;&nbsp;</a></span>require_targeting_monster</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::require_targeting_monster = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00249">249</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a8d37856ff5aa0b3a02ea1590f6038643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d37856ff5aa0b3a02ea1590f6038643">&#9670;&nbsp;</a></span>require_targeting_npc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::require_targeting_npc = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>By default always give player some warning. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00248">248</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a4d974bd7f92ce69799e53602af86270c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d974bd7f92ce69799e53602af86270c">&#9670;&nbsp;</a></span>require_targeting_player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::require_targeting_player = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves consumed before first attack can be made. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00247">247</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="afb97dd441db660dfcb09c4ff7c3b7bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb97dd441db660dfcb09c4ff7c3b7bb2">&#9670;&nbsp;</a></span>target_moving_vehicles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gun_actor::target_moving_vehicles = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Should moving vehicles be targeted. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00241">241</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01106">call()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>.</p>

</div>
</div>
<a id="a2b995f0d20f99c404d920f3d23e6d758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b995f0d20f99c404d920f3d23e6d758">&#9670;&nbsp;</a></span>targeting_cost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::targeting_cost = 100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turrets may need to expend moves targeting before firing on certain targets. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00245">245</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a59b49c174126b1ca0a892bd2c19aee01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59b49c174126b1ca0a892bd2c19aee01">&#9670;&nbsp;</a></span>targeting_sound</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtranslation.html">translation</a> gun_actor::targeting_sound</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increase timeout by this many turns after each shot. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00254">254</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a34e90e6986439c089a7fc4606a96620e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e90e6986439c089a7fc4606a96620e">&#9670;&nbsp;</a></span>targeting_timeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::targeting_timeout = 8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00251">251</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a1eea1e2ade51eefcd68d2e2fd7d687b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eea1e2ade51eefcd68d2e2fd7d687b1">&#9670;&nbsp;</a></span>targeting_timeout_extend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::targeting_timeout_extend = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default turns after which targeting is lost and needs repeating. </p>

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00252">252</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<a id="a118a567dcf98482adb92376e8d755fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118a567dcf98482adb92376e8d755fe6">&#9670;&nbsp;</a></span>targeting_volume</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gun_actor::targeting_volume = 6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mattack__actors_8h_source.html#l00255">255</a> of file <a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="mattack__actors_8cpp_source.html#l01028">load_internal()</a>, and <a class="el" href="mattack__actors_8cpp_source.html#l01171">try_target()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="mattack__actors_8h_source.html">mattack_actors.h</a></li>
<li>src/<a class="el" href="mattack__actors_8cpp_source.html">mattack_actors.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:38 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
