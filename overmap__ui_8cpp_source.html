<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/overmap_ui.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">overmap_ui.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="overmap__ui_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmap__ui_8h.html">overmap_ui.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="activity__actor__definitions_8h.html">activity_actor_definitions.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="all__enum__values_8h.html">all_enum_values.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="basecamp_8h.html">basecamp.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enum__conversions_8h.html">enum_conversions.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifdef TILES</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__tiles_8h.html">cata_tiles.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// TILES</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__scope__helpers_8h.html">cata_scope_helpers.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cata__utility_8h.html">cata_utility.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="catacharset_8h.html">catacharset.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="city_8h.html">city.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="clzones_8h.html">clzones.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="coordinates_8h.html">coordinates.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cuboid__rectangle_8h.html">cuboid_rectangle.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cursesdef_8h.html">cursesdef.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="display_8h.html">display.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__ui_8h.html">game_ui.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="input__context_8h.html">input_context.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mapbuffer_8h.html">mapbuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mission_8h.html">mission.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mongroup_8h.html">mongroup.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npc_8h.html">npc.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="omdata_8h.html">omdata.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="options_8h.html">options.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="output_8h.html">output.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmap_8h.html">overmap.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmap__types_8h.html">overmap_types.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmapbuffer_8h.html">overmapbuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="regional__settings_8h.html">regional_settings.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sounds_8h.html">sounds.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__input__popup_8h.html">string_input_popup.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="type__id_8h.html">type_id.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ui_8h.html">ui.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ui__manager_8h.html">ui_manager.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="uistate_8h.html">uistate.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vehicle_8h.html">vehicle.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vpart__position_8h.html">vpart_position.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="weather__gen_8h.html">weather_gen.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="weather__type_8h.html">weather_type.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">class </span><a class="code" href="classcharacter__id.html">character_id</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#aac77bbfbcec73a3444dfb3f53f2be91a">   75</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">activity_id</a> <a class="code" href="overmap__ui_8cpp.html#aac77bbfbcec73a3444dfb3f53f2be91a">ACT_TRAVELLING</a>( <span class="stringliteral">&quot;ACT_TRAVELLING&quot;</span> );</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#aa75a70b5c0627f2a927c958ab9fac7bc">   77</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">mongroup_id</a> <a class="code" href="overmap__ui_8cpp.html#aa75a70b5c0627f2a927c958ab9fac7bc">GROUP_FOREST</a>( <span class="stringliteral">&quot;GROUP_FOREST&quot;</span> );</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#acbc71b1c2d3589310617ff622c55eec1">   78</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">mongroup_id</a> <a class="code" href="overmap__ui_8cpp.html#acbc71b1c2d3589310617ff622c55eec1">GROUP_NEMESIS</a>( <span class="stringliteral">&quot;GROUP_NEMESIS&quot;</span> );</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#aec113d21058eefec588fa15e437a83d3">   80</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">oter_str_id</a> <a class="code" href="overmap__ui_8cpp.html#aec113d21058eefec588fa15e437a83d3">oter_forest</a>( <span class="stringliteral">&quot;forest&quot;</span> );</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">   81</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">oter_str_id</a> <a class="code" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a>( <span class="stringliteral">&quot;unexplored&quot;</span> );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#adfc346e5a9a75e444f4b5d67d4b5db51">   83</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">oter_type_str_id</a> <a class="code" href="overmap__ui_8cpp.html#adfc346e5a9a75e444f4b5d67d4b5db51">oter_type_forest_trail</a>( <span class="stringliteral">&quot;forest_trail&quot;</span> );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#a2c51deafaa62ba85fb99f9c9d4398213">   85</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="overmap__ui_8cpp.html#a2c51deafaa62ba85fb99f9c9d4398213">trait_DEBUG_CLAIRVOYANCE</a>( <span class="stringliteral">&quot;DEBUG_CLAIRVOYANCE&quot;</span> );</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#ab9f60c51c80214feb1ff493452bee257">   86</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="overmap__ui_8cpp.html#ab9f60c51c80214feb1ff493452bee257">trait_DEBUG_NIGHTVISION</a>( <span class="stringliteral">&quot;DEBUG_NIGHTVISION&quot;</span> );</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &lt;SDL_keyboard.h&gt;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#a3c79f1ed69b5378d3dec8aa1c9212bc7">   92</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="overmap__ui_8cpp.html#a3c79f1ed69b5378d3dec8aa1c9212bc7">UILIST_MAP_NOTE_DELETED</a> = -2047;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">   93</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">UILIST_MAP_NOTE_EDITED</a> = -2048;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#a312b38ede72948f869aae8081636b414">   95</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="overmap__ui_8cpp.html#a312b38ede72948f869aae8081636b414">max_note_length</a> = 450;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">   96</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> = 45;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/** Note preview map width without borders. Odd number. */</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">   99</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> = 3;<span class="comment"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/** Note preview map height without borders. Odd number. */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">  101</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> = 3;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html">  103</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceovermap__ui.html">overmap_ui</a></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">create_note</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;curs );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// {note symbol, note color, offset to text}</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">  108</a></span>&#160;std::tuple&lt;char, nc_color, size_t&gt; <a class="code" href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">get_note_display_info</a>( <span class="keyword">const</span> std::string_view note )</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    std::tuple&lt;char, nc_color, size_t&gt; result {<span class="charliteral">&#39;N&#39;</span>, <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, 0};</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">bool</span> set_color  = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordtype">bool</span> set_symbol = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = 0;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 2; ++i ) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">// find the first non-whitespace non-delimiter</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = note.find_first_not_of( <span class="stringliteral">&quot; :;&quot;</span>, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, 3 );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> == std::string::npos ) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// find the first following delimiter</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> = note.find_first_of( <span class="stringliteral">&quot; :;&quot;</span>, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, 3 );</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> == std::string::npos ) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="comment">// set color or symbol</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span>( !set_symbol &amp;&amp; note[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>] == <span class="charliteral">&#39;:&#39;</span> ) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            std::get&lt;0&gt;( result ) = note[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> - 1];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            std::get&lt;2&gt;( result ) = <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> + 1;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            set_symbol = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !set_color &amp;&amp; note[<a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>] == <span class="charliteral">&#39;;&#39;</span> ) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            std::get&lt;1&gt;( result ) = <a class="code" href="color_8cpp.html#aff00fc176cad5ed150eef669a98c4ae4">get_note_color</a>( note.substr( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> - <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) );</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            std::get&lt;2&gt;( result ) = <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> + 1;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            set_color = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> + 1;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#acfc73f00584f2398e3750993bfebe9cb">  145</a></span>&#160;<span class="keyword">static</span> std::array&lt;std::pair&lt;nc_color, std::string&gt;, <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> *<a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a>&gt; <a class="code" href="namespaceovermap__ui.html#acfc73f00584f2398e3750993bfebe9cb">get_overmap_neighbors</a>(</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;current )</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_debug_vision = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="overmap__ui_8cpp.html#ab9f60c51c80214feb1ff493452bee257">trait_DEBUG_NIGHTVISION</a> );</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    std::array&lt;std::pair&lt;nc_color, std::string&gt;, <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> *<a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a>&gt; map_around;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> <a class="code" href="input__enums_8h.html#a1f876ea56927f9d927b8783a4c55d7d4a2ab64f4ee279e5baf7ab7059b15e6d12">shift</a>( <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> / 2, <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> / 2 );</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;dest :</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;         <a class="code" href="classtripoint__range.html">tripoint_range&lt;tripoint_abs_omt&gt;</a>( current - <a class="code" href="input__enums_8h.html#a1f876ea56927f9d927b8783a4c55d7d4a2ab64f4ee279e5baf7ab7059b15e6d12">shift</a>, current + <a class="code" href="input__enums_8h.html#a1f876ea56927f9d927b8783a4c55d7d4a2ab64f4ee279e5baf7ab7059b15e6d12">shift</a> ) ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> ter_color = <a class="code" href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        std::string ter_sym = <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> see = has_debug_vision || <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( dest );</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span>( see ) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">// Only load terrain if we can actually see it</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <a class="code" href="classint__id.html">oter_id</a> cur_ter = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( dest );</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            ter_color = cur_ter-&gt;<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            ter_sym = cur_ter-&gt;<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            ter_color = <a class="code" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            ter_sym = <a class="code" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        map_around[index++] = std::make_pair( ter_color, ter_sym );</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">return</span> map_around;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a44861d29438aa969ea5f0e57ed5780fb">  172</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#a44861d29438aa969ea5f0e57ed5780fb">update_note_preview</a>( <span class="keyword">const</span> std::string_view note,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                 <span class="keyword">const</span> std::array&lt;std::pair&lt;nc_color, std::string&gt;, <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> *<a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a>&gt; &amp;map_around,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                 <span class="keyword">const</span> std::tuple&lt;catacurses::window *, catacurses::window *, catacurses::window *&gt;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                 &amp;preview_windows )</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">auto</span> om_symbol = <a class="code" href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">get_note_display_info</a>( note );</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="structnote__color.html">note_color</a> = std::get&lt;1&gt;( om_symbol );</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a> = std::get&lt;0&gt;( om_symbol );</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">const</span> std::string_view note_text = note.substr( std::get&lt;2&gt;( om_symbol ), std::string::npos );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> *w_preview = std::get&lt;0&gt;( preview_windows );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> *w_preview_title = std::get&lt;1&gt;( preview_windows );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> *w_preview_map   = std::get&lt;2&gt;( preview_windows );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( *w_preview );</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( *w_preview, <a class="code" href="structpoint.html">point</a>( 1, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Note preview&quot;</span> ) );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( *w_preview );</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( *w_preview_title );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> default_color = <a class="code" href="color_8h.html#a78fbe37cc34bf90b4ed6a67306d8b107">c_unset</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( *w_preview_title, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, default_color, <a class="code" href="structnote__color.html">note_color</a>, note_text,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        <a class="code" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7">report_color_error::no</a> );</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">int</span> note_text_width = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( note_text );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( *w_preview_title, <a class="code" href="structpoint.html">point</a>( note_text_width, 0 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; note_text_width; i++ ) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( *w_preview_title, <a class="code" href="structpoint.html">point</a>( i, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( *w_preview_title, <a class="code" href="structpoint.html">point</a>( note_text_width, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a> );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( *w_preview_title );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> npm_offset( <a class="code" href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a> );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( *w_preview_map );</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( *w_preview_map, <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a>; i++ ) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a>; j++ ) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ter = map_around[i * <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> + j];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( *w_preview_map, npm_offset + <a class="code" href="structpoint.html">point</a>( j, i ), ter.first, ter.second );</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( *w_preview_map, npm_offset + <a class="code" href="structpoint.html">point</a>( <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> / 2, <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> / 2 ),</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;              <a class="code" href="structnote__color.html">note_color</a>, <a class="code" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a> );</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( *w_preview_map );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a40004ff0b8d2974f70bb13840dd508c0">  217</a></span>&#160;<a class="code" href="classstring__id.html">weather_type_id</a> <a class="code" href="namespaceovermap__ui.html#a40004ff0b8d2974f70bb13840dd508c0">get_weather_at_point</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> )</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Weather calculation is a bit expensive, so it&#39;s cached here.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">static</span> std::map&lt;tripoint_abs_omt, weather_type_id&gt; weather_cache;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">static</span> <a class="code" href="classtime__point.html">time_point</a> last_weather_display = <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span>( last_weather_display != <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        last_weather_display = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        weather_cache.clear();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">auto</span> iter = weather_cache.find( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span>( iter == weather_cache.end() ) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> abs_ms_pos = project_to&lt;coords::ms&gt;( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keyword">const</span> <a class="code" href="classweather__generator.html">weather_generator</a> &amp;wgen = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8e5a337fdc7c100ee0d2eefd9978775d">get_settings</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="structregional__settings.html#aa3e13275f58002592356ff023c6797c4">weather</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">weather_type_id</a> weather = wgen.<a class="code" href="classweather__generator.html#a0b76efe4659d27cbcf9525b4aec4be57">get_weather_conditions</a>( abs_ms_pos, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_seed() );</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        iter = weather_cache.insert( std::make_pair( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, weather ) ).first;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> iter-&gt;second;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#aa72a54dbbaeeeade7ea7737edba4ef38">  237</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceovermap__ui.html#aa72a54dbbaeeeade7ea7737edba4ef38">get_scent_glyph</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <a class="code" href="classnc__color.html">nc_color</a> &amp;ter_color,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                             std::string &amp;ter_sym )</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classscent__trace.html">scent_trace</a> possible_scent = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aac8249284c8cd4887867cbc47d84ff57">scent_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span>( possible_scent.<a class="code" href="classscent__trace.html#afaae5b5e3a84f4a1d71182c000303018">creation_time</a> != <a class="code" href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a> ) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classcolor__manager.html">color_manager</a> &amp;color_list = <a class="code" href="color_8cpp.html#a936ada358907519ef76966d7774212e4">get_all_colors</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> scent_age = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - possible_scent.<a class="code" href="classscent__trace.html#afaae5b5e3a84f4a1d71182c000303018">creation_time</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">while</span>( i &lt; num_colors &amp;&amp; scent_age &gt; 0_turns ) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            i++;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            scent_age /= 10;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        ter_color = color_list.<a class="code" href="classcolor__manager.html#a69525b119cb42562d02a07228abb840f">get</a>( <span class="keyword">static_cast&lt;</span><a class="code" href="color_8h.html#a92219025bff743ee69ea01efc094ca44">color_id</a><span class="keyword">&gt;</span>( i ) );</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordtype">int</span> scent_strength = possible_scent.<a class="code" href="classscent__trace.html#a8844ead2e6d3c42b4d208bf412d750cc">initial_strength</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">while</span>( c &lt;= &#39;9&#39; &amp;&amp; scent_strength &gt; 0 ) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>++;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            scent_strength /= 10;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        ter_sym = std::string( 1, <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// but it makes no scents!</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#ab7f43df94d3fa37fb53eec9d2e0975c4">  263</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#ab7f43df94d3fa37fb53eec9d2e0975c4">draw_city_labels</a>( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;center )</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> win_x_max = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w );</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> win_y_max = <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w );</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sm_radius = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( win_x_max, win_y_max );</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> screen_center_pos( win_x_max / 2, win_y_max / 2 );</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structcity__reference.html">city_reference</a> &amp;element : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a244cfaabef2c2d359a9fe2c3d84afbb5">get_cities_near</a>(</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;             project_to&lt;coords::sm&gt;( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ), sm_radius ) ) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> city_pos =</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            project_to&lt;coords::omt&gt;( element.abs_sm_pos.xy() );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_rel_omt</a> screen_pos( city_pos - <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy() + screen_center_pos );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_width = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( element.city-&gt;name, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_x_min = screen_pos.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() - text_width / 2;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_x_max = text_x_min + text_width;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_y = screen_pos.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span>( text_x_min &lt; 0 ||</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            text_x_max &gt; win_x_max ||</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            text_y &lt; 0 ||</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            text_y &gt; win_y_max ) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// outside of the window bounds.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span>( screen_center_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> &gt;= ( text_x_min - 1 ) &amp;&amp;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            screen_center_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> &lt;= text_x_max &amp;&amp;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            screen_center_pos.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> &gt;= ( text_y - 1 ) &amp;&amp;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            screen_center_pos.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> &lt;= ( text_y + 1 ) ) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// right under the cursor.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a>( city_pos, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() ) ) ) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// haven&#39;t seen it.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( text_x_min, text_y ), <a class="code" href="color_8h.html#a6ae40361a7c556faaf7cbb098307ad41">i_yellow</a>, element.city-&gt;name );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a7ac1244230d855fdd4299bc989d81317">  304</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#a7ac1244230d855fdd4299bc989d81317">draw_camp_labels</a>( <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;center )</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> win_x_max = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> win_y_max = <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sm_radius = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( win_x_max, win_y_max );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> screen_center_pos( win_x_max / 2, win_y_max / 2 );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structcamp__reference.html">camp_reference</a> &amp;element : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a64a2d80b914e4c75a393ed4d799a730b">get_camps_near</a>(</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;             project_to&lt;coords::sm&gt;( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ), sm_radius ) ) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> camp_pos( element.camp-&gt;camp_omt_pos().xy() );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> screen_pos( ( camp_pos - <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy() ).raw() + screen_center_pos );</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_width = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( element.camp-&gt;name, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_x_min = screen_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> - text_width / 2;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_x_max = text_x_min + text_width;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> text_y = screen_pos.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keyword">const</span> std::string camp_name = element.camp-&gt;name;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>( text_x_min &lt; 0 ||</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            text_x_max &gt; win_x_max ||</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            text_y &lt; 0 ||</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            text_y &gt; win_y_max ) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// outside of the window bounds.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span>( screen_center_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> &gt;= ( text_x_min - 1 ) &amp;&amp;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            screen_center_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> &lt;= text_x_max &amp;&amp;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            screen_center_pos.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> &gt;= ( text_y - 1 ) &amp;&amp;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            screen_center_pos.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a> &lt;= ( text_y + 1 ) ) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// right under the cursor.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a>( camp_pos, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() ) ) ) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// haven&#39;t seen it.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( text_x_min, text_y ), <a class="code" href="color_8h.html#ae1c367a24e2835dec371789f03990bb1">i_white</a>, camp_name );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html">  343</a></span>&#160;<span class="keyword">class </span><a class="code" href="classovermap__ui_1_1map__notes__callback.html">map_notes_callback</a> : <span class="keyword">public</span> <a class="code" href="classuilist__callback.html">uilist_callback</a></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">  346</a></span>&#160;        <a class="code" href="classovermapbuffer.html#a1dbfde514340fe86001b8327829f931d">overmapbuffer::t_notes_vector</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">_notes</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#a648644ef8dca74b431cb65fe558f01f7">  347</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a648644ef8dca74b431cb65fe558f01f7">_z</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">  348</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> = 0;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#a59c76e5b6e308f0dddb1c4478a86ddcc">  350</a></span>&#160;        <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a59c76e5b6e308f0dddb1c4478a86ddcc">w_preview</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#a0746c85dcfaf38bf8a415d8c0f6da146">  351</a></span>&#160;        <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a0746c85dcfaf38bf8a415d8c0f6da146">w_preview_title</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#aee03c590fa4a0b2d750eff52c01df7f7">  352</a></span>&#160;        <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aee03c590fa4a0b2d750eff52c01df7f7">w_preview_map</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#ab9bb2f7d5cea76cd6e5db55f55451412">  353</a></span>&#160;        std::tuple&lt;catacurses::window *, catacurses::window *, catacurses::window *&gt; <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ab9bb2f7d5cea76cd6e5db55f55451412">preview_windows</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#aba9a8d5a32c111c192e25d49469b9302">  354</a></span>&#160;        <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aba9a8d5a32c111c192e25d49469b9302">ui</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#a3b58af3ca8513e24c30f5982d5c06d14">  356</a></span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a3b58af3ca8513e24c30f5982d5c06d14">point_selected</a>() {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">_notes</a>[<a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a>].first;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        }</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">  359</a></span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a3b58af3ca8513e24c30f5982d5c06d14">point_selected</a>(), <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a648644ef8dca74b431cb65fe558f01f7">_z</a> );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#a884959473d0d8c9d7d44b01c30b661df">  363</a></span>&#160;        <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a884959473d0d8c9d7d44b01c30b661df">map_notes_callback</a>( <span class="keyword">const</span> <a class="code" href="classovermapbuffer.html#a1dbfde514340fe86001b8327829f931d">overmapbuffer::t_notes_vector</a> &amp;notes, <span class="keywordtype">int</span> z )</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            : <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">_notes</a>( notes ), <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a648644ef8dca74b431cb65fe558f01f7">_z</a>( z ) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [<span class="keyword">this</span>]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a59c76e5b6e308f0dddb1c4478a86ddcc">w_preview</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> + 2, <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> - <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> - 1,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                                <a class="code" href="structpoint.html">point</a>( <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> + 2, 2 ) );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a0746c85dcfaf38bf8a415d8c0f6da146">w_preview_title</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 2, <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> + 1, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aee03c590fa4a0b2d750eff52c01df7f7">w_preview_map</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> + 2, <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> + 2, <a class="code" href="structpoint.html">point</a>( 0, 2 ) );</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ab9bb2f7d5cea76cd6e5db55f55451412">preview_windows</a> = std::make_tuple( &amp;<a class="code" href="classovermap__ui_1_1map__notes__callback.html#a59c76e5b6e308f0dddb1c4478a86ddcc">w_preview</a>, &amp;<a class="code" href="classovermap__ui_1_1map__notes__callback.html#a0746c85dcfaf38bf8a415d8c0f6da146">w_preview_title</a>, &amp;<a class="code" href="classovermap__ui_1_1map__notes__callback.html#aee03c590fa4a0b2d750eff52c01df7f7">w_preview_map</a> );</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="namespaceui.html">ui</a>.position( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="structpoint.html">point</a>( <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> + 1, <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> + 4 ) );</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            } );</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.on_redraw( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> ) &lt; <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">_notes</a>.size() ) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> note_pos = <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span> map_around = <a class="code" href="namespaceovermap__ui.html#acfc73f00584f2398e3750993bfebe9cb">get_overmap_neighbors</a>( note_pos );</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                    <a class="code" href="namespaceovermap__ui.html#a44861d29438aa969ea5f0e57ed5780fb">update_note_preview</a>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2508c1962e125f20509e6e5c13cf298f">note</a>( note_pos ), map_around, <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ab9bb2f7d5cea76cd6e5db55f55451412">preview_windows</a> );</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    <a class="code" href="namespaceovermap__ui.html#a44861d29438aa969ea5f0e57ed5780fb">update_note_preview</a>( {}, {}, <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ab9bb2f7d5cea76cd6e5db55f55451412">preview_windows</a> );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            } );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#af2a12903964e7a2412e53dfaf03ce3d8">  386</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#af2a12903964e7a2412e53dfaf03ce3d8">key</a>( <span class="keyword">const</span> <a class="code" href="classinput__context.html">input_context</a> &amp;ctxt, <span class="keyword">const</span> <a class="code" href="structinput__event.html">input_event</a> &amp;event, <span class="keywordtype">int</span>, <a class="code" href="classuilist.html">uilist</a> *menu )<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> = menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> &gt;= 0 &amp;&amp; <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">_notes</a>.size() ) ) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keyword">const</span> std::string &amp;<a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.<a class="code" href="classinput__context.html#a5f99b201990b09a6809f183a9cee5ab6">input_to_action</a>( event );</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DELETE_NOTE&quot;</span> ) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aac77ae4ff8b1cb0f8f51bcf0497d40af">has_note</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() ) &amp;&amp;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Really delete note?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ad8dadf41c2ab452a2a506afce4dab982">delete_note</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() );</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    menu-&gt;<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> = <a class="code" href="overmap__ui_8cpp.html#a3c79f1ed69b5378d3dec8aa1c9212bc7">UILIST_MAP_NOTE_DELETED</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;EDIT_NOTE&quot;</span> ) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    <a class="code" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">create_note</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    menu-&gt;<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> = <a class="code" href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">UILIST_MAP_NOTE_EDITED</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MARK_DANGER&quot;</span> ) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a87373fbee22f6a20e0042b495a224e1f">note_danger_radius</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() ) &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                        <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Remove dangerous mark?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a50a380696bceb21a2875b1154783e8db">mark_note_dangerous</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>(), 0, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        menu-&gt;<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> = <a class="code" href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">UILIST_MAP_NOTE_EDITED</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <span class="keywordtype">bool</span> has_mark = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a87373fbee22f6a20e0042b495a224e1f">note_danger_radius</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() ) &gt;= 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        <span class="keywordtype">bool</span> has_note = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aac77ae4ff8b1cb0f8f51bcf0497d40af">has_note</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        std::string query_text = has_mark ?  <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Edit dangerous mark?&quot;</span> )  : has_note ?</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                                                 <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Mark area as dangerous (to avoid on auto move paths)?&quot;</span> ) :</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                                 <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Create note and mark area as dangerous (to avoid on auto move paths)?&quot;</span> );</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( query_text ) ) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                            <span class="keywordflow">if</span>( !has_note ) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                <a class="code" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">create_note</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>() );</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                            }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">int</span> max_amount = 20;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                            <span class="comment">// NOLINTNEXTLINE(cata-text-style): No need for two whitespaces</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                            <span class="keyword">const</span> std::string popupmsg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Danger radius in overmap squares? (0-20)&quot;</span> );</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                            <span class="keywordtype">int</span> amount = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                         .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( popupmsg )</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                                         .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                         .<a class="code" href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">text</a>( <span class="stringliteral">&quot;0&quot;</span> )</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                         .<a class="code" href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">only_digits</a>( <span class="keyword">true</span> )</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                         .<a class="code" href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">query_int</a>();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                            <span class="keywordflow">if</span>( amount &gt;= 0 &amp;&amp; amount &lt;= max_amount ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a50a380696bceb21a2875b1154783e8db">mark_note_dangerous</a>( <a class="code" href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">note_location</a>(), amount, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                menu-&gt;<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> = <a class="code" href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">UILIST_MAP_NOTE_EDITED</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                            }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classovermap__ui_1_1map__notes__callback.html#af0ed684e6cc828e2025913b6dfa1bd94">  439</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classovermap__ui_1_1map__notes__callback.html#af0ed684e6cc828e2025913b6dfa1bd94">select</a>( <a class="code" href="classuilist.html">uilist</a> *menu )<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <a class="code" href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">_selected</a> = menu-&gt;<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.invalidate_ui();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;};</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a5081beedf9b873c292bdcaf08d28476a">  445</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> <a class="code" href="namespaceovermap__ui.html#a5081beedf9b873c292bdcaf08d28476a">draw_notes</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;<a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a> )</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> result( <a class="code" href="point_8h.html#a66feef6944f7a9037008b5206fd1e586">point_min</a> );</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacecatacurses.html#a7407bbe97af63fd80e0a4d26bf0274ab">refresh</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classuilist.html">uilist</a> nmenu;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">while</span>( <a class="code" href="namespacecatacurses.html#a7407bbe97af63fd80e0a4d26bf0274ab">refresh</a> ) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <a class="code" href="namespacecatacurses.html#a7407bbe97af63fd80e0a4d26bf0274ab">refresh</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        nmenu.<a class="code" href="group__UI.html#ga936e38521cb23329cc6c3b85f90900cd">color_error</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordtype">int</span> selected = nmenu.<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        nmenu.<a class="code" href="group__UI.html#ga93f381e783bfe32daea2b16b8f99c749">init</a>();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        nmenu.<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> = selected;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        nmenu.<a class="code" href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">desc_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        nmenu.<a class="code" href="classuilist.html#a3d9259dd0d2627c4768fb4a17cddf3b6">input_category</a> = <span class="stringliteral">&quot;OVERMAP_NOTES&quot;</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        nmenu.<a class="code" href="classuilist.html#a9b6f96a3e12c8b35fe79a2b3e4605d5c">additional_actions</a>.emplace_back( <span class="stringliteral">&quot;DELETE_NOTE&quot;</span>, <a class="code" href="classtranslation.html">translation</a>() );</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        nmenu.<a class="code" href="classuilist.html#a9b6f96a3e12c8b35fe79a2b3e4605d5c">additional_actions</a>.emplace_back( <span class="stringliteral">&quot;EDIT_NOTE&quot;</span>, <a class="code" href="classtranslation.html">translation</a>() );</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        nmenu.<a class="code" href="classuilist.html#a9b6f96a3e12c8b35fe79a2b3e4605d5c">additional_actions</a>.emplace_back( <span class="stringliteral">&quot;MARK_DANGER&quot;</span>, <a class="code" href="classtranslation.html">translation</a>() );</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinput__context.html">input_context</a> ctxt( nmenu.<a class="code" href="classuilist.html#a3d9259dd0d2627c4768fb4a17cddf3b6">input_category</a>, <a class="code" href="input__enums_8h.html#a427553e505f5e242305906ce8a1ca8b5a1a54c1036ccb10069e9c06281d52007a">keyboard_mode::keycode</a> );</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        nmenu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;%s&gt; - center on note, &lt;%s&gt; - edit note, &lt;%s&gt; - mark as dangerous, &lt;%s&gt; - delete note, &lt;%s&gt; - close window&quot;</span> ),</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                         <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span>, 1 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ),</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                         <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;EDIT_NOTE&quot;</span>, 1 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ),</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                         <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;MARK_DANGER&quot;</span>, 1 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ),</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                         <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;DELETE_NOTE&quot;</span>, 1 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> ),</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                         <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;QUIT&quot;</span>, 1 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> )</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                     );</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordtype">int</span> row = 0;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="classovermapbuffer.html#a1dbfde514340fe86001b8327829f931d">overmapbuffer::t_notes_vector</a> notes = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#adf11a26ca843eb3b4624fced9a29a900">get_all_notes</a>( <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.z() );</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        nmenu.<a class="code" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Map notes (%d)&quot;</span> ), notes.size() );</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;point_with_note : notes ) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> p = point_with_note.first;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">if</span>( first &amp;&amp; p == <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.xy() ) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                nmenu.<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> = row;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="keyword">const</span> std::string &amp;note = point_with_note.second;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keyword">auto</span> om_symbol = <a class="code" href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">get_note_display_info</a>( note );</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keyword">const</span> <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="structnote__color.html">note_color</a> = std::get&lt;1&gt;( om_symbol );</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keyword">const</span> std::string note_symbol = std::string( 1, std::get&lt;0&gt;( om_symbol ) );</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keyword">const</span> std::string note_text = note.substr( std::get&lt;2&gt;( om_symbol ), std::string::npos );</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> p_omt( p );</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> p_player = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>().<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> distance_player = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( p_player, p_omt );</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_sm</a> sm_pos = project_to&lt;coords::sm&gt;( p_omt );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_om</a> p_om = project_to&lt;coords::om&gt;( p_omt );</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keyword">const</span> std::string location_desc =</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8cdc16cf2845743baf233b3d0ff06a55">get_description_at</a>( <a class="code" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a>( sm_pos, <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.z() ) );</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> is_dangerous =</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abda38bce9d78ce58ba00f38731564c61">is_marked_dangerous</a>( <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( p, <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.z() ) );</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> note_danger_radius = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a87373fbee22f6a20e0042b495a224e1f">note_danger_radius</a>( <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( p,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                           <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.z() ) );</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> bracket_color = note_danger_radius &gt;= 0 ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            std::string danger_desc_text = note_danger_radius &gt;= 0 ? <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;DANGEROUS AREA!  (R=%d)&quot;</span> ),</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                               note_danger_radius ) : is_dangerous ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;IN DANGEROUS AREA!&quot;</span> ) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            nmenu.<a class="code" href="classuilist.html#adc2a36afdfede40aa5927aa8c3b0d526">addentry_desc</a>(</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[%s] %s&quot;</span> ), bracket_color ), <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( note_symbol, <a class="code" href="structnote__color.html">note_color</a> ),</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                               note_text ),</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;LEVEL %i, %d&#39;%d, %d&#39;%d&lt;/color&gt;: %s &quot;</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                       <span class="stringliteral">&quot;(Distance: &lt;color_white&gt;%d&lt;/color&gt;) &lt;color_red&gt;%s&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.z(), p_om.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>(), p_omt.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>(), p_om.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>(), p_omt.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>(), location_desc,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                    distance_player, danger_desc_text ) );</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            nmenu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>[row].ctxt =</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_light_gray&gt;Distance: &lt;/color&gt;&lt;color_white&gt;%d&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                               distance_player );</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            row++;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <a class="code" href="classovermap__ui_1_1map__notes__callback.html">map_notes_callback</a> cb( notes, <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.z() );</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        nmenu.<a class="code" href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">callback</a> = &amp;cb;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        nmenu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span>( nmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == <a class="code" href="overmap__ui_8cpp.html#a3c79f1ed69b5378d3dec8aa1c9212bc7">UILIST_MAP_NOTE_DELETED</a> || nmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == <a class="code" href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">UILIST_MAP_NOTE_EDITED</a> ) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <a class="code" href="namespacecatacurses.html#a7407bbe97af63fd80e0a4d26bf0274ab">refresh</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( nmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &gt;= 0 &amp;&amp; nmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( notes.size() ) ) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            result = notes[nmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>].first;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <a class="code" href="namespacecatacurses.html#a7407bbe97af63fd80e0a4d26bf0274ab">refresh</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#ad72aa0a7884fc56f5e24e40efe677423">  527</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceovermap__ui.html#ad72aa0a7884fc56f5e24e40efe677423">get_and_assign_los</a>( <span class="keywordtype">int</span> &amp;los, <a class="code" href="classavatar.html">avatar</a> &amp;player_character, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;omp,</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                                <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;sight_points )</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span>( los == -1 ) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        los = player_character.<a class="code" href="classCharacter.html#a245ded9582f9892c203ca1452cbac4df">overmap_los</a>( omp, sight_points );</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> los;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#ad3925ce734d53c481b6678c1846c0757">  537</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#ad3925ce734d53c481b6678c1846c0757">draw_ascii</a>(</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;center,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;orig, <span class="keywordtype">bool</span> blink, <span class="keywordtype">bool</span> show_explored, <span class="keywordtype">bool</span> <span class="comment">/* fast_scroll */</span>,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> * <span class="comment">/* inp_ctxt */</span>, <span class="keyword">const</span> <a class="code" href="structovermap__ui_1_1draw__data__t.html">draw_data_t</a> &amp;data )</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> om_map_width = <a class="code" href="output_8cpp.html#afc789ce1952cc5eabbd5cee34bdabaff">OVERMAP_WINDOW_WIDTH</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> om_map_height = <a class="code" href="output_8cpp.html#a1e0d11129ca6fd0bab77caf62990eaa4">OVERMAP_WINDOW_HEIGHT</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> om_half_width = om_map_width / 2;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> om_half_height = om_map_height / 2;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> viewing_weather =</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        ( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">overmap_debug_weather</a> || <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a> ) &amp;&amp; <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() == 10;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// Target of current mission</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> target = player_character.<a class="code" href="classavatar.html#a9c40a50429a13a1a3d0e7d38d93e72f4">get_active_mission_target</a>();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_target = target != <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classint__id.html">oter_id</a> ccur_ter = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">oter_str_id::NULL_ID</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// Debug vision allows seeing everything</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_debug_vision = player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="overmap__ui_8cpp.html#ab9f60c51c80214feb1ff493452bee257">trait_DEBUG_NIGHTVISION</a> );</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// sight_points is hoisted for speed reasons.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sight_points = !has_debug_vision ?</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                             player_character.<a class="code" href="classCharacter.html#a6f3bd3c696e0ba97a77be5fb3b9db07a">overmap_sight_range</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;light_level( player_character.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) ) :</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                             100;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// Whether showing hordes is currently enabled</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> showhordes = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac36e8b4e7bc4fa56ffdf75405e4cef43">overmap_show_hordes</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> show_map_revealed = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a05ffc3416939a967544f157d0cabcaa0">overmap_show_revealed_omts</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a> = <a class="code" href="overmap__ui_8cpp.html#aec113d21058eefec588fa15e437a83d3">oter_forest</a>.<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    std::string sZoneName;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> tripointZone( -1, -1, -1 );</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keyword">const</span> <a class="code" href="classzone__manager.html">zone_manager</a> &amp;<a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a> = <a class="code" href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a>();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#ad6434671256ce9022da6bc59f7a16470">iZoneIndex</a> != -1 ) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keyword">const</span> <a class="code" href="classzone__data.html">zone_data</a> &amp;zone = <a class="code" href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">zones</a>.get_zones()[data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#ad6434671256ce9022da6bc59f7a16470">iZoneIndex</a>].get();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        sZoneName = zone.<a class="code" href="classzone__data.html#a8b9b60e7059aa6e04b161eee85f96cc1">get_name</a>();</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        tripointZone = project_to&lt;coords::omt&gt;(</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                           <a class="code" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( zone.<a class="code" href="classzone__data.html#a5637fa2679a1b0edaa449b2e0d972ca4">get_center_point</a>() ) );</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// If we&#39;re debugging monster groups, find the monster group we&#39;ve selected</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keyword">const</span> <a class="code" href="structmongroup.html">mongroup</a> *mgroup = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    std::vector&lt;mongroup *&gt; mgroups;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">overmap_debug_mongroup</a> ) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        mgroups = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac2ac6fb871fc146ec094b2975bd2c746">monsters_at</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structmongroup.html">mongroup</a> * <span class="keyword">const</span> &amp;mgp : mgroups ) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            mgroup = mgp;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">if</span>( mgp-&gt;horde ) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// A small LRU cache: most oter_id&#39;s occur in clumps like forests of swamps.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// This cache helps avoid much more costly lookups in the full hashmap.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    constexpr <span class="keywordtype">size_t</span> cache_size = 8; <span class="comment">// used below to calculate the next index</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    std::array&lt;std::pair&lt;oter_id, oter_t const *&gt;, cache_size&gt; cache;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordtype">size_t</span> cache_next = 0;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> set_color_and_symbol = [&amp;]( <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> &amp; cur_ter, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp; omp,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    std::string &amp; ter_sym, <a class="code" href="classnc__color.html">nc_color</a> &amp; ter_color ) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="comment">// First see if we have the oter_t cached</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="structoter__t.html">oter_t</a> <span class="keyword">const</span> *info = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> : cache ) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.first == cur_ter ) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                info = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.second;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="comment">// Nope, look in the hash map next</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span>( !info ) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            info = &amp;cur_ter.<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            cache[cache_next] = std::make_pair( cur_ter, info );</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            cache_next = ( cache_next + 1 ) % cache_size;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="comment">// Ok, we found something</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">if</span>( info ) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> explored = show_explored &amp;&amp; <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a6c1b7ebcbef5aba523f3af70a367bc47">is_explored</a>( omp );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            ter_color = explored ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> : info-&gt;<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a5682c56c267d08f4ebdeeb8fd06b3037">overmap_show_land_use_codes</a> );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            ter_sym = info-&gt;<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a5682c56c267d08f4ebdeeb8fd06b3037">overmap_show_land_use_codes</a> );</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    };</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834">corner</a> = <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> - <a class="code" href="structpoint.html">point</a>( om_half_width, om_half_height );</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// For use with place_special: cache the color and symbol of each submap</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// and record the bounds to optimize lookups below</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    std::unordered_map&lt;point_rel_omt, std::pair&lt;std::string, nc_color&gt;&gt; special_cache;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">point_rel_omt</a> s_begin;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">point_rel_omt</a> s_end;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> ) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structovermap__special__terrain.html">overmap_special_terrain</a> &amp;s_ter : <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a>-&gt;<a class="code" href="classovermap__special.html#a0dcb9609bca70e3cdcb9e6ae6734a636">preview_terrains</a>() ) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="comment">// Preview should only yield the terrains on the zero z-level</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( s_ter.p.z == 0 );</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="comment">// TODO: fix point types</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_rel_omt</a> rp( <a class="code" href="namespaceom__direction.html#a81218991d18ce76097c769d5c3f185c2">om_direction::rotate</a>( s_ter.p.xy(), <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> ) );</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> oter = s_ter.terrain-&gt;<a class="code" href="structoter__t.html#a5b69161ceba78a1954395d340fad0f0a">get_rotated</a>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> );</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            special_cache.insert( std::make_pair(</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                                      rp, std::make_pair( oter-&gt;<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>(), oter-&gt;<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>() ) ) );</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            s_begin.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( s_begin.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>(), rp.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() );</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            s_begin.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( s_begin.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>(), rp.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() );</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            s_end.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( s_end.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>(), rp.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() );</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            s_end.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( s_end.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>(), rp.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() );</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// Cache NPCs since time to draw them is linear (per seen tile) with their count</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keyword">struct </span>npc_coloring {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordtype">size_t</span> count = 0;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    };</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    std::unordered_set&lt;tripoint_abs_omt&gt; npc_path_route;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    std::unordered_set&lt;tripoint_abs_omt&gt; &amp;revealed_highlights = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>().<a class="code" href="classCharacter.html#aae9cc7af2ea4a1bf81838ea14f5f9e69">map_revealed_omts</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    std::unordered_map&lt;point_abs_omt, int&gt; player_path_route;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    std::unordered_map&lt;tripoint_abs_omt, npc_coloring&gt; npc_color;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keyword">auto</span> npcs_near_player = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a23de1360c9412f1e051e82cb2ecb0059">get_npcs_near_player</a>( sight_points );</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">if</span>( blink ) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="comment">// get seen NPCs</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;np : npcs_near_player ) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="keywordflow">if</span>( np-&gt;posz() != <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() ) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = np-&gt;global_omt_location();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">if</span>( has_debug_vision || <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) ) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keyword">auto</span> iter = npc_color.find( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                <a class="code" href="classnc__color.html">nc_color</a> np_color = np-&gt;basic_symbol_color();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">if</span>( iter == npc_color.end() ) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    npc_color[<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>] = { np_color, 1 };</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                    iter-&gt;second.count++;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    <span class="comment">// Randomly change to new NPC&#39;s color</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <span class="keywordflow">if</span>( iter-&gt;second.color != np_color &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( iter-&gt;second.count ) ) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        iter-&gt;second.color = np_color;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        std::vector&lt;npc *&gt; followers;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// get friendly followers</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcharacter__id.html">character_id</a> &amp;elem : <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list() ) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> npc_to_get = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( elem );</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">if</span>( !npc_to_get ) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <a class="code" href="classnpc.html">npc</a> *npc_to_add = npc_to_get.get();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            followers.push_back( npc_to_add );</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="comment">// get all traveling NPCs for the debug menu to show pathfinding routes.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;debug_pathfinding ) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a23de1360c9412f1e051e82cb2ecb0059">get_npcs_near_player</a>( 200 ) ) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">if</span>( !elem ) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <a class="code" href="classnpc.html">npc</a> *npc_to_add = elem.get();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                <span class="keywordflow">if</span>( npc_to_add-&gt;<a class="code" href="classnpc.html#a0a8acc925f97e3b0233e6dbd507d99c8">mission</a> == <a class="code" href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6daf5b83209bc53322e7a58eecfb974a4ce">NPC_MISSION_TRAVELLING</a> &amp;&amp; !npc_to_add-&gt;<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>.empty() ) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : npc_to_add-&gt;<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a> ) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                        npc_path_route.insert( elem );</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a> ) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            player_path_route[ elem.xy() ] = elem.z();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classnpc.html">npc</a> * <span class="keyword">const</span> &amp;np : followers ) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">if</span>( np-&gt;posz() != <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() ) {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = np-&gt;global_omt_location();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keyword">auto</span> iter = npc_color.find( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> np_color = np-&gt;basic_symbol_color();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="keywordflow">if</span>( iter == npc_color.end() ) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                npc_color[<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>] = { np_color, 1 };</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                iter-&gt;second.count++;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <span class="comment">// Randomly change to new NPC&#39;s color</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">if</span>( iter-&gt;second.color != np_color &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( iter-&gt;second.count ) ) {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                    iter-&gt;second.color = np_color;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; om_map_width; ++i ) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; om_map_height; ++j ) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> omp = <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834">corner</a> + <a class="code" href="structpoint.html">point</a>( i, j );</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <a class="code" href="classint__id.html">oter_id</a> cur_ter = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">oter_str_id::NULL_ID</a>();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> ter_color = <a class="code" href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            std::string ter_sym = <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> see = has_debug_vision || <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( omp );</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">if</span>( see ) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                <span class="comment">// Only load terrain if we can actually see it</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                cur_ter = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( omp );</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="comment">// Check if location is within player line-of-sight</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="comment">// These ints are treated as unassigned booleans. Use get_and_assign_los() to reference</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="comment">// This allows for easy re-use of these variables without the unnecessary lookups if they aren&#39;t used</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordtype">int</span> los = -1;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordtype">int</span> los_sky = -1;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="keywordflow">if</span>( blink &amp;&amp; omp == orig ) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                <span class="comment">// Display player pos, should always be visible</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                ter_color = player_character.<a class="code" href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">symbol_color</a>();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                ter_sym = <span class="stringliteral">&quot;@&quot;</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( viewing_weather &amp;&amp; ( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">overmap_debug_weather</a> ||</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                                            <a class="code" href="namespaceovermap__ui.html#ad72aa0a7884fc56f5e24e40efe677423">get_and_assign_los</a>( los_sky, player_character, omp, sight_points * 2 ) ) ) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <span class="keyword">const</span> <a class="code" href="classstring__id.html">weather_type_id</a> type = <a class="code" href="namespaceovermap__ui.html#a40004ff0b8d2974f70bb13840dd508c0">get_weather_at_point</a>( omp );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                ter_color = type-&gt;map_color;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                ter_sym = type-&gt;get_symbol();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#ad0fc38965afee59aac3c0d1b84f16a8f">debug_scent</a> &amp;&amp; <a class="code" href="namespaceovermap__ui.html#aa72a54dbbaeeeade7ea7737edba4ef38">get_scent_glyph</a>( omp, ter_color, ter_sym ) ) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="comment">// get_scent_glyph has changed ter_color and ter_sym if omp has a scent</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abda38bce9d78ce58ba00f38731564c61">is_marked_dangerous</a>( omp ) ) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                ter_color = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                ter_sym = <span class="stringliteral">&quot;X&quot;</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; has_target &amp;&amp; omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() == target.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                <span class="comment">// Mission target, display always, player should know where it is anyway.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                ter_color = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                ter_sym = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">if</span>( target.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() &gt; <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() ) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    ter_sym = <span class="stringliteral">&quot;^&quot;</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() &lt; <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() ) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    ter_sym = <span class="stringliteral">&quot;v&quot;</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a02d98ac2e93fab7c76964d670eccfa01">overmap_show_map_notes</a> &amp;&amp; <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aac77ae4ff8b1cb0f8f51bcf0497d40af">has_note</a>( omp ) ) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <span class="comment">// Display notes in all situations, even when not seen</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                std::tie( ter_sym, ter_color, std::ignore ) =</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    <a class="code" href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">get_note_display_info</a>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2508c1962e125f20509e6e5c13cf298f">note</a>( omp ) );</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !see ) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <span class="comment">// All cases above ignore the seen-status,</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                ter_color = <a class="code" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                ter_sym = <a class="code" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <span class="comment">// All cases below assume that see is true.</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; npc_color.count( omp ) != 0 ) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                <span class="comment">// Visible NPCs are cached already</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                ter_color = npc_color[omp].color;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                ter_sym = <span class="stringliteral">&quot;@&quot;</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; player_path_route.find( omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) != player_path_route.end() ) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                <span class="comment">// player path</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                ter_color = <a class="code" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> player_path_z = player_path_route[omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>()];</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">if</span>( player_path_z == omp.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    ter_sym = <span class="stringliteral">&quot;!&quot;</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( player_path_z &gt; omp.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    ter_sym = <span class="stringliteral">&quot;^&quot;</span>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    ter_sym = <span class="stringliteral">&quot;v&quot;</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; npc_path_route.find( omp ) != npc_path_route.end() ) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                <span class="comment">// npc path</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                ter_color = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                ter_sym = <span class="stringliteral">&quot;!&quot;</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; show_map_revealed &amp;&amp;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                       revealed_highlights.find( omp ) != revealed_highlights.end() ) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="comment">// Revealed map tiles</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                ter_color = <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                ter_sym = <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; showhordes &amp;&amp;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                       <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a5f03ee97ee03420e5eca686b8221e200">get_horde_size</a>( omp ) &gt;= <a class="code" href="game__constants_8h.html#a8ed501038659216d69578cb28ec3d716">HORDE_VISIBILITY_SIZE</a> &amp;&amp;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                       ( <a class="code" href="namespaceovermap__ui.html#ad72aa0a7884fc56f5e24e40efe677423">get_and_assign_los</a>( los, player_character, omp, sight_points ) ||</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                         <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">overmap_debug_mongroup</a> || player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="overmap__ui_8cpp.html#a2c51deafaa62ba85fb99f9c9d4398213">trait_DEBUG_CLAIRVOYANCE</a> ) ) ) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <span class="comment">// Display Hordes only when within player line-of-sight</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                ter_color = <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                ter_sym = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a5f03ee97ee03420e5eca686b8221e200">get_horde_size</a>( omp ) &gt; <a class="code" href="game__constants_8h.html#a8ed501038659216d69578cb28ec3d716">HORDE_VISIBILITY_SIZE</a> * 2 ? <span class="stringliteral">&quot;Z&quot;</span> : <span class="stringliteral">&quot;z&quot;</span>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abfe64342d71e6225d0aae92096d7e4ad">has_vehicle</a>( omp ) ) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                ter_color = <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                ter_sym = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a9577ecd3951a2244525005618d0f0c6f">get_vehicle_ter_sym</a>( omp );</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !sZoneName.empty() &amp;&amp; tripointZone.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() == omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                ter_color = <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                ter_sym = <span class="stringliteral">&quot;Z&quot;</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8a309551318f3f163541f1bb493897d3">overmap_show_forest_trails</a> &amp;&amp; cur_ter &amp;&amp;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                       ( cur_ter-&gt;<a class="code" href="structoter__t.html#ab1638475c8650985ec100f0bc7fcafe7">get_type_id</a>() == <a class="code" href="overmap__ui_8cpp.html#adfc346e5a9a75e444f4b5d67d4b5db51">oter_type_forest_trail</a> ) ) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="comment">// If forest trails shouldn&#39;t be displayed, and this is a forest trail, then</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                <span class="comment">// instead render it like a forest.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                set_color_and_symbol( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">forest</a>, omp, ter_sym, ter_color );</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                <span class="comment">// Nothing special, but is visible to the player.</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                set_color_and_symbol( cur_ter, omp, ter_sym, ter_color );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="comment">// Are we debugging monster groups?</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">overmap_debug_mongroup</a> ) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="comment">// Check if this tile is the target of the currently selected group</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="keywordflow">if</span>( mgroup &amp;&amp; project_to&lt;coords::omt&gt;( mgroup-&gt;<a class="code" href="structmongroup.html#a3c37722339092e091c21043deb975459">target</a> ) == omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                    ter_color = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                    ter_sym = <span class="stringliteral">&quot;x&quot;</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;groups = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac2ac6fb871fc146ec094b2975bd2c746">monsters_at</a>( omp );</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structmongroup.html">mongroup</a> *mgp : groups ) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        <span class="keywordflow">if</span>( mgp-&gt;type == <a class="code" href="overmap__ui_8cpp.html#aa75a70b5c0627f2a927c958ab9fac7bc">GROUP_FOREST</a> ) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                            <span class="comment">// Don&#39;t flood the map with forest creatures.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                        <span class="keywordflow">if</span>( mgp-&gt;horde ) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                            <span class="comment">// Hordes show as +</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                            ter_sym = <span class="stringliteral">&quot;+&quot;</span>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                            <span class="keywordflow">if</span>( mgp-&gt;type == <a class="code" href="overmap__ui_8cpp.html#acbc71b1c2d3589310617ff622c55eec1">GROUP_NEMESIS</a> ) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                                <span class="comment">// nemesis horde shows as &amp;</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                ter_sym = <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                                ter_color = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                            }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                            <span class="comment">// Regular groups show as -</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                            ter_sym = <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                        }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                    <span class="comment">// Set the color only if we encountered an eligible group.</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    <span class="keywordflow">if</span>( ter_sym == <span class="stringliteral">&quot;+&quot;</span> || ter_sym == <span class="stringliteral">&quot;-&quot;</span> ) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="namespaceovermap__ui.html#ad72aa0a7884fc56f5e24e40efe677423">get_and_assign_los</a>( los, player_character, omp, sight_points ) ) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                            ter_color = <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                            ter_color = <a class="code" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                        }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="comment">// Preview for place_terrain or place_special</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a> || <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> ) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a> &amp;&amp; omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() == <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy() ) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                    ter_color = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>();</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    ter_sym = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( blink &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> ) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_rel_omt</a> from_center = omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() - <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy();</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    <span class="keywordflow">if</span>( from_center.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() &gt;= s_begin.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() &amp;&amp; from_center.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() &lt;= s_end.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() &amp;&amp;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        from_center.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() &gt;= s_begin.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() &amp;&amp; from_center.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() &lt;= s_end.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() ) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                        <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a> = special_cache.find( from_center );</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                        <span class="keywordflow">if</span>( <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a> != special_cache.end() ) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                            ter_color = <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;second.second;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                            ter_sym = <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;second.first;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                <span class="comment">// Highlight areas that already have been generated</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="mapbuffer_8cpp.html#abc900a0fe17d282e0e4717540106e608">MAPBUFFER</a>.<a class="code" href="classmapbuffer.html#a735a8ab72394141749562047e7f9ca55">lookup_submap</a>( project_to&lt;coords::sm&gt;( omp ) ) ) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    ter_color = <a class="code" href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a>( ter_color );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">if</span>( omp.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() == <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy() &amp;&amp; !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> ) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                ccur_ter = cur_ter;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                <a class="code" href="output_8cpp.html#ae5dd6b0452233905e03a18f54b721f99">mvwputch_hi</a>( w, <a class="code" href="structpoint.html">point</a>( i, j ), ter_color, ter_sym );</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( i, j ), ter_color, ter_sym );</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.z() == 0 &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aa3ec3473ece2af731c64b5674792e352">overmap_show_city_labels</a> ) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="namespaceovermap__ui.html#ab7f43df94d3fa37fb53eec9d2e0975c4">draw_city_labels</a>( w, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="namespaceovermap__ui.html#a7ac1244230d855fdd4299bc989d81317">draw_camp_labels</a>( w, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="structhalf__open__rectangle.html">half_open_rectangle&lt;point_abs_omt&gt;</a> screen_bounds(</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834">corner</a>.xy(), <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834">corner</a>.xy() + <a class="code" href="structpoint.html">point</a>( om_map_width, om_map_height ) );</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span>( has_target &amp;&amp; blink &amp;&amp; !screen_bounds.<a class="code" href="structhalf__open__rectangle.html#ab08078b04b36fca6f5a08daee6bd9486">contains</a>( target.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) ) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">point_rel_omt</a> marker = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( target.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>(), screen_bounds ) - <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834">corner</a>.xy();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        std::string marker_sym = <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy(), target.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) ) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a2bf8f791695c70efa9c14e6f1c326403">direction::NORTH</a>:</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                marker_sym = <span class="stringliteral">&quot;^&quot;</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a5a889abd3c291052e9dcce6adbc4092e">direction::NORTHEAST</a>:</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                marker_sym = <a class="code" href="output_8h.html#a732f880551507150edbcae9d698e3662">LINE_OOXX_S</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a45ac78bf3d4882ac520f4e7fb08d55c5">direction::EAST</a>:</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                marker_sym = <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3ad8edaf2a35fe6e4eb32cc57b7d8fa270">direction::SOUTHEAST</a>:</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                marker_sym = <a class="code" href="output_8h.html#a3b84757c9b490933aef4e6fc828b656b">LINE_XOOX_S</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a96e44fa82e5a5263fb92337be422d3eb">direction::SOUTH</a>:</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                marker_sym = <span class="stringliteral">&quot;v&quot;</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a96f30aeb5638ae7ac40d90b5ebdde47e">direction::SOUTHWEST</a>:</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                marker_sym = <a class="code" href="output_8h.html#a520d39f88f60e7528d531e5666849448">LINE_XXOO_S</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a83c9f5692281bf59471b13dfddb3af91">direction::WEST</a>:</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                marker_sym = <span class="stringliteral">&quot;&lt;&quot;</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a54486c15c75f9e0ada3484a7812252ff">direction::NORTHWEST</a>:</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                marker_sym = <a class="code" href="output_8h.html#a76e9474eeb8aea2803f3d49c04230e5c">LINE_OXXO_S</a>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                <span class="keywordflow">break</span>; <span class="comment">//Do nothing</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, marker.<a class="code" href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">raw</a>(), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, marker_sym );</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    std::vector&lt;std::pair&lt;nc_color, std::string&gt;&gt; corner_text;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a02d98ac2e93fab7c76964d670eccfa01">overmap_show_map_notes</a> ) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="keyword">const</span> std::string &amp;note_text = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2508c1962e125f20509e6e5c13cf298f">note</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">if</span>( !note_text.empty() ) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keyword">const</span> std::tuple&lt;char, nc_color, size_t&gt; note_info = <a class="code" href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">get_note_display_info</a>(</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                        note_text );</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = std::get&lt;2&gt;( note_info );</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> != std::string::npos ) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                corner_text.emplace_back( std::get&lt;1&gt;( note_info ), note_text.substr( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ) );</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abda38bce9d78ce58ba00f38731564c61">is_marked_dangerous</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ) ) {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                corner_text.emplace_back( <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;DANGEROUS AREA!&quot;</span> ) );</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span>( has_debug_vision || <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ) ) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classnpc.html">npc</a> : npcs_near_player ) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classnpc.html">npc</a>-&gt;<a class="code" href="classnpc.html#a55e8bac9f932d4bf3e41e025331829ae">marked_for_death</a> &amp;&amp; <a class="code" href="classnpc.html">npc</a>-&gt;<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>() == <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                corner_text.emplace_back( <a class="code" href="classnpc.html">npc</a>-&gt;<a class="code" href="classnpc.html#acf1b8241a8bd376dd32403cba43bbbc8">basic_symbol_color</a>(), <a class="code" href="classnpc.html">npc</a>-&gt;<a class="code" href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">get_name</a>() );</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structom__vehicle.html">om_vehicle</a> &amp;v : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0b8bef1667c69f597978afadac7a6e84">get_vehicle</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ) ) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        corner_text.emplace_back( <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, v.name );</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span>( !corner_text.empty() ) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordtype">int</span> maxlen = 0;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> : corner_text ) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            maxlen = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( maxlen, <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a>.second, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a>, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a> );</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= maxlen; i++ ) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( i + 2, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( 1, corner_text.size() + 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a> );</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keyword">const</span> std::string spacer( maxlen, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; corner_text.size(); i++ ) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr = corner_text[i];</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="comment">// clear line, print line, print vertical line on each side.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( 1, i + 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( 2, i + 2 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, spacer );</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <a class="code" href="classnc__color.html">nc_color</a> default_color = <a class="code" href="color_8h.html#a78fbe37cc34bf90b4ed6a67306d8b107">c_unset</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w, <a class="code" href="structpoint.html">point</a>( 2, i + 2 ), default_color, pr.first, pr.second,</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                <a class="code" href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7">report_color_error::no</a> );</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( maxlen + 2, i + 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( maxlen + 2, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a> );</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= maxlen; i++ ) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( i + 2, corner_text.size() + 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( maxlen + 2, corner_text.size() + 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a> );</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span>( !sZoneName.empty() &amp;&amp; tripointZone.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() == <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.xy() ) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        std::string sTemp = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Zone:&quot;</span> );</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        sTemp += <span class="stringliteral">&quot; &quot;</span> + sZoneName;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a> = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( sTemp );</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a>; i++ ) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( i, om_map_height - 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a> );</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="structpoint.html">point</a>( 0, om_map_height - 1 ), <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, sTemp );</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( <a class="code" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a>, om_map_height - 2 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a> );</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( <a class="code" href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a>, om_map_height - 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// draw nice crosshair around the cursor</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span>( blink &amp;&amp; !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a> &amp;&amp; !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> ) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( om_half_width - 1, om_half_height - 1 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a> );</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( om_half_width + 1, om_half_height - 1 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a> );</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( om_half_width - 1, om_half_height + 1 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a> );</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code" href="structpoint.html">point</a>( om_half_width + 1, om_half_height + 1 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a> );</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// Done with all drawing!</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w );</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;}</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a00c1ab8e895549bcc78a03e178a4c0f2"> 1024</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#a00c1ab8e895549bcc78a03e178a4c0f2">draw_om_sidebar</a>(</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a>, <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;wbar, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;center,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;orig, <span class="keywordtype">bool</span> <span class="comment">/* blink */</span>, <span class="keywordtype">bool</span> fast_scroll,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> *inp_ctxt, <span class="keyword">const</span> <a class="code" href="structovermap__ui_1_1draw__data__t.html">draw_data_t</a> &amp;data )</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;{</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">// Debug vision allows seeing everything</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_debug_vision = player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="overmap__ui_8cpp.html#ab9f60c51c80214feb1ff493452bee257">trait_DEBUG_NIGHTVISION</a> );</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// sight_points is hoisted for speed reasons.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> sight_points = !has_debug_vision ?</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                             player_character.<a class="code" href="classCharacter.html#a6f3bd3c696e0ba97a77be5fb3b9db07a">overmap_sight_range</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;light_level( player_character.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() ) ) :</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                             100;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> center_seen = has_debug_vision || <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> target = player_character.<a class="code" href="classavatar.html#a9c40a50429a13a1a3d0e7d38d93e72f4">get_active_mission_target</a>();</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_target = target != <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> viewing_weather = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">overmap_debug_weather</a> || <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">// If we&#39;re debugging monster groups, find the monster group we&#39;ve selected</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    std::vector&lt;mongroup *&gt; mgroups;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">overmap_debug_mongroup</a> ) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        mgroups = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac2ac6fb871fc146ec094b2975bd2c746">monsters_at</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="structmongroup.html">mongroup</a> * <span class="keyword">const</span> &amp;mgp : mgroups ) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">if</span>( mgp-&gt;horde ) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="comment">// Draw the vertical line</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>; j++ ) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wbar, <a class="code" href="structpoint.html">point</a>( 0, j ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a> );</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// Clear the legend</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( wbar ); i++ ) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>; j++ ) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wbar, <a class="code" href="structpoint.html">point</a>( i, j ), <a class="code" href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a>, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="comment">// Draw text describing the overmap tile at the cursor position.</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordtype">int</span> lines = 1;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span>( center_seen ) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordflow">if</span>( !mgroups.empty() ) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> desc_pos( 3, 6 );</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.set_cursor( wbar, desc_pos );</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <span class="keywordtype">int</span> line_number = 0;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="structmongroup.html">mongroup</a> * <span class="keyword">const</span> &amp;mgroup : mgroups ) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, desc_pos + <a class="code" href="structpoint.html">point</a>( 0, line_number++ ),</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                           <a class="code" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>, <span class="stringliteral">&quot;  Species: %s&quot;</span>, mgroup-&gt;type.c_str() );</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, desc_pos + <a class="code" href="structpoint.html">point</a>( 0, line_number++ ),</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                           <a class="code" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>, <span class="stringliteral">&quot;# monsters: %d&quot;</span>, mgroup-&gt;population + mgroup-&gt;monsters.size() );</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                <span class="keywordflow">if</span>( !mgroup-&gt;horde ) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, desc_pos + <a class="code" href="structpoint.html">point</a>( 0, line_number++ ),</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                           <a class="code" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>, <span class="stringliteral">&quot;  Interest: %d&quot;</span>, mgroup-&gt;interest );</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, desc_pos + <a class="code" href="structpoint.html">point</a>( 0, line_number++ ),</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                           <a class="code" href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a>, <span class="stringliteral">&quot;  Target: %s&quot;</span>, mgroup-&gt;target.to_string() );</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, desc_pos + <a class="code" href="structpoint.html">point</a>( 0, line_number++ ),</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                           <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <span class="stringliteral">&quot;x&quot;</span> );</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            <span class="keyword">const</span> <a class="code" href="structoter__t.html">oter_t</a> &amp;ter = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> sm_pos = project_to&lt;coords::sm&gt;( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, 1 ), ter.<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>(), ter.<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>() );</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> desc_pos( 3, 1 );</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.set_cursor( wbar, desc_pos );</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            lines = <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( wbar, desc_pos, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( wbar ) - desc_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>,</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                    <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                                    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a8cdc16cf2845743baf233b3d0ff06a55">get_description_at</a>( sm_pos ) );</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keyword">const</span> <a class="code" href="structoter__t.html">oter_t</a> &amp;ter = <a class="code" href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a>.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, 1 ), ter.<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>(), ter.<a class="code" href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">get_symbol</a>() );</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> desc_pos( 3, 1 );</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.set_cursor( wbar, desc_pos );</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        lines = <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( wbar, desc_pos, <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( wbar ) - desc_pos.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                ter.<a class="code" href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">get_color</a>(), ter.<a class="code" href="structoter__t.html#a1e734b780cad20081d4a923ba80771a9">get_name</a>() );</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// Describe the weather conditions on the following line, if weather is visible</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">if</span>( viewing_weather ) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> weather_is_visible = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">overmap_debug_weather</a> ||</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                        player_character.<a class="code" href="classCharacter.html#a245ded9582f9892c203ca1452cbac4df">overmap_los</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, sight_points * 2 );</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">if</span>( weather_is_visible ) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 3, ++lines ), <a class="code" href="namespaceovermap__ui.html#a40004ff0b8d2974f70bb13840dd508c0">get_weather_at_point</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> )-&gt;<a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>,</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                       <a class="code" href="namespaceovermap__ui.html#a40004ff0b8d2974f70bb13840dd508c0">get_weather_at_point</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> )-&gt;<a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>.translated() );</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;# Weather unknown&quot;</span> ) );</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">if</span>( ( data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#aa54aa7c154abb92f5603e94bec6e6607">debug_editor</a> &amp;&amp; center_seen ) || data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#a5da3b1318b3c3664a9969f872dfbc531">debug_info</a> ) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                   <span class="stringliteral">&quot;abs_omt: %s&quot;</span>, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>.to_string() );</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keyword">const</span> <a class="code" href="structoter__t.html">oter_t</a> &amp;oter = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">ter</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;oter: %s (rot %d)&quot;</span>, oter.<a class="code" href="structoter__t.html#ac6eb612d8150546238274e14bfb58ca8">id</a>.<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(),</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                   oter.<a class="code" href="structoter__t.html#a21a188a609d43d92a9e1b71b47d494f6">get_rotation</a>() );</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                   <span class="stringliteral">&quot;oter_type: %s&quot;</span>, oter.<a class="code" href="structoter__t.html#ab1638475c8650985ec100f0bc7fcafe7">get_type_id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>() );</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        std::vector&lt;oter_id&gt; predecessors = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aea5b64a6fdbcd031743a9ee008a979c1">predecessors</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span>( !predecessors.empty() ) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;predecessors:&quot;</span> );</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">auto</span> pred = predecessors.rbegin(); pred != predecessors.rend(); ++pred ) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;- %s&quot;</span>, pred-&gt;id().str() );</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        std::optional&lt;mapgen_arguments&gt; *args = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ae5789098e078c16d272e2383f6af35ec">mapgen_args</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">if</span>( args ) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <span class="keywordflow">if</span>( *args ) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, cata_variant&gt; &amp;arg : ( **args ).map ) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;%s = %s&quot;</span>,</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                               arg.first, arg.second.get_string() );</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;args not yet set&quot;</span> );</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bc">cube_direction</a> dir : all_enum_values&lt;cube_direction&gt;() ) {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <span class="keywordflow">if</span>( std::string *join = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a268c20e273a6f8939754f474d70ebd45">join_used_at</a>( { center, dir } ) ) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;join %s: %s&quot;</span>,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                           <a class="code" href="namespaceio.html#aa8fa8545615e452e23e6bcc8a6a3a37a">io::enum_to_string</a>( dir ), *join );</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structmongroup.html">mongroup</a> *mg : <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac2ac6fb871fc146ec094b2975bd2c746">monsters_at</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ) ) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <span class="stringliteral">&quot;mongroup %s (%zu/%u), %s %s%s&quot;</span>,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                       mg-&gt;type.str(), mg-&gt;monsters.size(), mg-&gt;population,</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                       <a class="code" href="namespaceio.html#aa8fa8545615e452e23e6bcc8a6a3a37a">io::enum_to_string</a>( mg-&gt;behaviour ),</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                       mg-&gt;dying ? <span class="stringliteral">&quot;x&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, mg-&gt;horde ? <span class="stringliteral">&quot;h&quot;</span> : <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <span class="stringliteral">&quot;target: %s (%d)&quot;</span>,</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                       project_to&lt;coords::omt&gt;( mg-&gt;target ).to_string(), mg-&gt;interest );</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">if</span>( has_target ) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> distance = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, target );</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Distance to current objective:&quot;</span> ) );</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%d tiles&quot;</span> ), distance );</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160; </div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> above_below = target.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() - orig.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>();</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        std::string msg;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="keywordflow">if</span>( above_below &gt; 0 ) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Above us&quot;</span> );</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( above_below &lt; 0 ) {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Below us&quot;</span> );</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">if</span>( above_below != 0 ) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s&quot;</span> ), msg );</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="comment">//Show mission targets on this location</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classmission.html">mission</a> *&amp;<a class="code" href="classmission.html">mission</a> : player_character.<a class="code" href="classavatar.html#ab9d7689c7af3f73b1adc4c434b426d29">get_active_missions</a>() ) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmission.html">mission</a>-&gt;<a class="code" href="classmission.html#a13e39f34d8079f690e671c6dc0f794cd">get_target</a>() == <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> ) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, ++lines ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="classmission.html">mission</a>-&gt;<a class="code" href="classmission.html#aee1d08a5297b5b9117cf5bf33b960c53">name</a>() );</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        }</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, 12 ), <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Use movement keys to pan.&quot;</span> ) );</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, 13 ), <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press W to preview route.&quot;</span> ) );</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, 14 ), <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press again to confirm.&quot;</span> ) );</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">if</span>( inp_ctxt != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordtype">int</span> y = 16;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> print_hint = [&amp;]( <span class="keyword">const</span> std::string &amp; <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> ) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            y += <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( wbar ) - 1, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s - %s&quot;</span> ),</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                                 inp_ctxt-&gt;<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ),</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                                 inp_ctxt-&gt;<a class="code" href="classinput__context.html#a0969b1d951fbc9e4c9707583228d5a38">get_action_name</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) ) );</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        };</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordflow">if</span>( data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#aa54aa7c154abb92f5603e94bec6e6607">debug_editor</a> ) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            print_hint( <span class="stringliteral">&quot;PLACE_TERRAIN&quot;</span>, <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a> );</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;            print_hint( <span class="stringliteral">&quot;PLACE_SPECIAL&quot;</span>, <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a> );</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            print_hint( <span class="stringliteral">&quot;SET_SPECIAL_ARGS&quot;</span>, <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a> );</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            print_hint( <span class="stringliteral">&quot;LONG_TELEPORT&quot;</span>, <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a> );</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            ++y;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> show_overlays = <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> || <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_explored = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a6c1b7ebcbef5aba523f3af70a367bc47">is_explored</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        print_hint( <span class="stringliteral">&quot;LEVEL_UP&quot;</span> );</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        print_hint( <span class="stringliteral">&quot;LEVEL_DOWN&quot;</span> );</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        print_hint( <span class="stringliteral">&quot;CENTER&quot;</span> );</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        print_hint( <span class="stringliteral">&quot;CENTER_ON_DESTINATION&quot;</span> );</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        print_hint( <span class="stringliteral">&quot;GO_TO_DESTINATION&quot;</span> );</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        print_hint( <span class="stringliteral">&quot;SEARCH&quot;</span> );</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        print_hint( <span class="stringliteral">&quot;CREATE_NOTE&quot;</span> );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        print_hint( <span class="stringliteral">&quot;DELETE_NOTE&quot;</span> );</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        print_hint( <span class="stringliteral">&quot;MARK_DANGER&quot;</span> );</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        print_hint( <span class="stringliteral">&quot;LIST_NOTES&quot;</span> );</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        print_hint( <span class="stringliteral">&quot;MISSIONS&quot;</span> );</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_MAP_NOTES&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a02d98ac2e93fab7c76964d670eccfa01">overmap_show_map_notes</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_BLINKING&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_OVERLAYS&quot;</span>, show_overlays ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_LAND_USE_CODES&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a5682c56c267d08f4ebdeeb8fd06b3037">overmap_show_land_use_codes</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_CITY_LABELS&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aa3ec3473ece2af731c64b5674792e352">overmap_show_city_labels</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_HORDES&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac36e8b4e7bc4fa56ffdf75405e4cef43">overmap_show_hordes</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_MAP_REVEALS&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a05ffc3416939a967544f157d0cabcaa0">overmap_show_revealed_omts</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_EXPLORED&quot;</span>, is_explored ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_FAST_SCROLL&quot;</span>, fast_scroll ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_FOREST_TRAILS&quot;</span>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8a309551318f3f163541f1bb493897d3">overmap_show_forest_trails</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        print_hint( <span class="stringliteral">&quot;TOGGLE_OVERMAP_WEATHER&quot;</span>,</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                    !<a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().is_outside( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>() ) ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> :</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a> ? <a class="code" href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a> : <a class="code" href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a> );</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        print_hint( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        print_hint( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="namespacecoords.html">coords</a> = <a class="code" href="namespacedisplay.html#a9c0f5b64941085d3f192939903f8b4c7">display::overmap_position_text</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( wbar, <a class="code" href="structpoint.html">point</a>( 1, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( wbar ) - 1 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="namespacecoords.html">coords</a> );</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( wbar );</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="preprocessor">#if defined(TILES)</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;tiles_redraw_info redraw_info;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a4aeb45df4fdc5bb21b1935abb8280fd7"> 1253</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#a4aeb45df4fdc5bb21b1935abb8280fd7">draw</a>(</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;<a class="code" href="namespaceui.html">ui</a>, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;center, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;orig,</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordtype">bool</span> blink, <span class="keywordtype">bool</span> show_explored, <span class="keywordtype">bool</span> fast_scroll,</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> *inp_ctxt, <span class="keyword">const</span> <a class="code" href="structovermap__ui_1_1draw__data__t.html">draw_data_t</a> &amp;data )</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;{</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a00c1ab8e895549bcc78a03e178a4c0f2">draw_om_sidebar</a>( <a class="code" href="namespaceui.html">ui</a>, <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_omlegend, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, orig, blink, fast_scroll, inp_ctxt, data );</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="preprocessor">#if defined( TILES )</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="cached__options_8cpp.html#a9b72c9314ac0439a25820b3abf2229f3">use_tiles</a> &amp;&amp; <a class="code" href="cached__options_8cpp.html#abd565076389e60bf86352ffefbbeb5b1">use_tiles_overmap</a> ) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        redraw_info = tiles_redraw_info { <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, blink };</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_overmap );</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="comment">// trigger the actual redraw code in sdltiles.cpp</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_overmap );</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// TILES</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="namespaceovermap__ui.html#ad3925ce734d53c481b6678c1846c0757">draw_ascii</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_overmap, <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, orig, blink, show_explored, fast_scroll, inp_ctxt, data );</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c"> 1271</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">create_note</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;curs )</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;{</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    std::string color_notes = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s\n\n\n&quot;</span>,</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Add a note to the map.  &quot;</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                                 <span class="stringliteral">&quot;For a custom GLYPH or COLOR follow the examples below.  &quot;</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                                 <span class="stringliteral">&quot;Default GLYPH and COLOR looks like this: &quot;</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                                 <span class="stringliteral">&quot;&lt;color_yellow&gt;N&lt;/color&gt;&quot;</span> ) );</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    color_notes += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Color codes: &quot;</span> );</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, note_color&gt; &amp;color_pair : <a class="code" href="color_8cpp.html#a09bab5719dd54ab37a7aeaa343d56ebe">get_note_color_names</a>() ) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="comment">// The color index is not translatable, but the name is.</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="comment">//~ %1$s: note color abbreviation, %2$s: note color name</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        color_notes += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;note color&quot;</span>, <span class="stringliteral">&quot;%1$s:%2$s, &quot;</span> ), color_pair.first,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                                      <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( color_pair.second.name, color_pair.second.color ) );</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    std::string helper_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;.\n\n%s\n%s\n%s\n\n&quot;</span>,</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Type GLYPH&lt;color_yellow&gt;:&lt;/color&gt;TEXT to set a custom glyph.&quot;</span> ),</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Type COLOR&lt;color_yellow&gt;;&lt;/color&gt;TEXT to set a custom color.&quot;</span> ),</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                              <span class="comment">// NOLINTNEXTLINE(cata-text-style): literal exclamation mark</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Examples: B:Base | g;Loot | !:R;Minefield&quot;</span> ) );</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    color_notes = color_notes.replace( color_notes.end() - 2, color_notes.end(),</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                                       helper_text );</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    std::string <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Note:&quot;</span> );</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160; </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keyword">const</span> std::string old_note = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a2508c1962e125f20509e6e5c13cf298f">note</a>( curs );</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    std::string new_note = old_note;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keyword">auto</span> map_around = <a class="code" href="namespaceovermap__ui.html#acfc73f00584f2398e3750993bfebe9cb">get_overmap_neighbors</a>( curs );</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_preview;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_preview_title;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_preview_map;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    std::tuple&lt;catacurses::window *, catacurses::window *, catacurses::window *&gt; preview_windows;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        w_preview = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> + 2,</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                                        <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> - <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> - 1,</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                                        <a class="code" href="structpoint.html">point</a>( <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> + 2, 2 ) );</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        w_preview_title = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 2, <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> + 1,</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                              <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        w_preview_map = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> + 2, <a class="code" href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a> + 2,</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                                            <a class="code" href="structpoint.html">point</a>( 0, 2 ) );</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        preview_windows = std::make_tuple( &amp;w_preview, &amp;w_preview_title, &amp;w_preview_map );</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code" href="structpoint.html">point</a>( <a class="code" href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a> + 1, <a class="code" href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a> + 4 ) );</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    } );</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <a class="code" href="namespaceovermap__ui.html#a44861d29438aa969ea5f0e57ed5780fb">update_note_preview</a>( new_note, map_around, preview_windows );</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    } );</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordtype">bool</span> esc_pressed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="classstring__input__popup.html">string_input_popup</a> input_popup;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    input_popup</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">title</a> )</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( <a class="code" href="overmap__ui_8cpp.html#a312b38ede72948f869aae8081636b414">max_note_length</a> )</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    .<a class="code" href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">text</a>( new_note )</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    .<a class="code" href="classstring__input__popup.html#a9f31b9d59f6c7a6b8dc5057e9a12b0d2">description</a>( color_notes )</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    .<a class="code" href="classstring__input__popup.html#ae0de064b10ae4276fed6823505f13961">title_color</a>( <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> )</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    .<a class="code" href="classstring__input__popup.html#a697f226af763180589af061a1b62cb81">desc_color</a>( <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> )</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    .<a class="code" href="classstring__input__popup.html#aeadfe72da1297a085088ee4f4d3439da">string_color</a>( <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a> )</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    .<a class="code" href="classstring__input__popup.html#a1362802e2c62e8ecd7e4a9a3ad679b5e">identifier</a>( <span class="stringliteral">&quot;map_note&quot;</span> );</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        new_note = input_popup.<a class="code" href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">query_string</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span>( input_popup.<a class="code" href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">canceled</a>() ) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            new_note = old_note;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            esc_pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( input_popup.<a class="code" href="classstring__input__popup.html#a524e435905e68a4adc9aa085cdcc72fc">confirmed</a>() ) {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.invalidate_ui();</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    } <span class="keywordflow">while</span>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">if</span>( !esc_pressed &amp;&amp; new_note.empty() &amp;&amp; !old_note.empty() ) {</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Really delete note?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ad8dadf41c2ab452a2a506afce4dab982">delete_note</a>( curs );</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !esc_pressed &amp;&amp; old_note != new_note ) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a3d05210f2ba34eb4e4908d4791691d84">add_note</a>( curs, new_note );</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;}</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment">// if false, search yielded no results</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a06c7012cacbc54d3089948f7d99791ce"> 1358</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceovermap__ui.html#a06c7012cacbc54d3089948f7d99791ce">search</a>( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;om_ui, <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;curs, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;orig )</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;{</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    std::string term = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                       .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Search term:&quot;</span> ) )</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                       .<a class="code" href="classstring__input__popup.html#a9f31b9d59f6c7a6b8dc5057e9a12b0d2">description</a>( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s\n%s&quot;</span>,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                                     <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Multiple entries separated with comma (,). Excludes starting with hyphen (-).&quot;</span> ),</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                     <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;UP: history, CTRL-U: clear line, ESC: abort, ENTER: save&quot;</span> ), <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> ) ) )</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                       .<a class="code" href="classstring__input__popup.html#a697f226af763180589af061a1b62cb81">desc_color</a>( <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> )</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                       .<a class="code" href="classstring__input__popup.html#a1362802e2c62e8ecd7e4a9a3ad679b5e">identifier</a>( <span class="stringliteral">&quot;overmap_search&quot;</span> )</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                       .<a class="code" href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">query_string</a>();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span>( term.empty() ) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    }</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    std::vector&lt;point_abs_omt&gt; <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    std::vector&lt;point_abs_om&gt; overmap_checked;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> radius = <a class="code" href="game__constants_8h.html#a282f307f5d51bf229c829518b5ab9232">OMAPX</a>; <span class="comment">// arbitrary</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;p : <a class="code" href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a>( curs, radius ) ) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;        <a class="code" href="structovermap__with__local__coords.html">overmap_with_local_coords</a> om_loc = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a26022593af819d49eed700bb6c72abc5">get_existing_om_global</a>( p );</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keywordflow">if</span>( om_loc ) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <a class="code" href="classcoords_1_1coord__point.html">tripoint_om_omt</a> om_relative = om_loc.<a class="code" href="structovermap__with__local__coords.html#a749d647f83b34abc7ed2daf9c8513e91">local</a>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <a class="code" href="classcoords_1_1coord__point.html">point_abs_om</a> om_cache = project_to&lt;coords::om&gt;( p.xy() );</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <span class="keywordflow">if</span>( std::find( overmap_checked.begin(), overmap_checked.end(),</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                           om_cache ) == overmap_checked.end() ) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                overmap_checked.push_back( om_cache );</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                std::vector&lt;point_abs_omt&gt; notes = om_loc.<a class="code" href="structovermap__with__local__coords.html#ad18d3e44eaf3c4b7966a2586f2050f86">om</a>-&gt;<a class="code" href="classovermap.html#a2444f100ebbc34110bc1749c484e0f2c">find_notes</a>( curs.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>(), term );</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.insert( <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.end(), notes.begin(), notes.end() );</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <span class="keywordflow">if</span>( om_loc.<a class="code" href="structovermap__with__local__coords.html#ad18d3e44eaf3c4b7966a2586f2050f86">om</a>-&gt;<a class="code" href="classovermap.html#a0210211a5de4b81cee36a3dd65ec2821">seen</a>( om_relative ) &amp;&amp;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <a class="code" href="cata__utility_8cpp.html#a697d19e586c4d49389c28233b2290fcf">match_include_exclude</a>( om_loc.<a class="code" href="structovermap__with__local__coords.html#ad18d3e44eaf3c4b7966a2586f2050f86">om</a>-&gt;<a class="code" href="classovermap.html#a9e25d23d53cbf2270939de3c9968ca8e">ter</a>( om_relative )-&gt;<a class="code" href="structoter__t.html#a1e734b780cad20081d4a923ba80771a9">get_name</a>(), term ) ) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.push_back( <a class="code" href="namespacecoords.html#a7e7a33f31b43172314a187c97a002107">project_combine</a>( om_loc.<a class="code" href="structovermap__with__local__coords.html#ad18d3e44eaf3c4b7966a2586f2050f86">om</a>-&gt;<a class="code" href="classovermap.html#a24d474a8edb1dba4f644dbef56829538">pos</a>(), om_relative.<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() ) );</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;            }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.empty() ) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <a class="code" href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a>( <span class="stringliteral">&quot;menu_error&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, 100 );</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No results found.&quot;</span> ) );</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    std::sort( <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.begin(), <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.end(),</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    [&amp;]( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> &amp; lhs, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> &amp; rhs ) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        return trig_dist( curs, tripoint_abs_omt( lhs, curs.z() ) ) &lt;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;               trig_dist( curs, tripoint_abs_omt( rhs, curs.z() ) );</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    } );</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="comment">//Navigate through results</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> prev_curs = curs;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_search;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="keywordtype">int</span> search_width = <a class="code" href="output_8cpp.html#a7aee2f244062e1b9e28c950adb745a42">OVERMAP_LEGEND_WIDTH</a> - 1;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        w_search = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 13, search_width, <a class="code" href="structpoint.html">point</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - search_width, 3 ) );</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position_from_window( w_search );</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    } );</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;OVERMAP_SEARCH&quot;</span> );</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;NEXT_TAB&quot;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Next result&quot;</span> ) );</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;PREV_TAB&quot;</span>, <a class="code" href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Previous result&quot;</span> ) );</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="comment">//Draw search box</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Search:&quot;</span> ) );</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Result:&quot;</span> ) );</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Results:&quot;</span> ) );</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordtype">int</span> d = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Direction:&quot;</span> ) );</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <span class="keywordtype">int</span> align_width = 0;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        std::array&lt;int, 4&gt; align_w_value = { <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, d};</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> n : align_w_value ) {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <span class="keywordflow">if</span>( n &gt; align_width ) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                align_width = n + 2;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            }</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_search, <a class="code" href="structpoint.html">point</a>( 1, 1 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Search:&quot;</span> ) );</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_search, <a class="code" href="structpoint.html">point</a>( align_width, 1 ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, <span class="stringliteral">&quot;%s&quot;</span>, term );</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_search, <a class="code" href="structpoint.html">point</a>( 1, 2 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>,</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                   <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.size() == 1 ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Result:&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Results:&quot;</span> ) );</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_search, <a class="code" href="structpoint.html">point</a>( align_width, 2 ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, <span class="stringliteral">&quot;%d/%d     &quot;</span>, i + 1,</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                   <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.size() );</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_search, <a class="code" href="structpoint.html">point</a>( 1, 3 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Direction:&quot;</span> ) );</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_search, <a class="code" href="structpoint.html">point</a>( align_width, 3 ), <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>, <span class="stringliteral">&quot;%d %s&quot;</span>,</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                   <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="coordinates_8h.html#aafe19be6ce6f4788aa78a07a71807739">trig_dist</a>( orig, <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>[i], orig.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) ) ),</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                   <a class="code" href="line_8cpp.html#a6444e80137e060b38b07184baf565228">direction_name_short</a>( <a class="code" href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a>( orig, <a class="code" href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a>( <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>[i], orig.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) ) ) );</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.size() &gt; 1 ) {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_search, <a class="code" href="structpoint.html">point</a>( 1, 6 ), search_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press [&lt;color_yellow&gt;%s&lt;/color&gt;] or [&lt;color_yellow&gt;%s&lt;/color&gt;] &quot;</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                               <span class="stringliteral">&quot;to cycle through search results.&quot;</span> ),</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                            ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;NEXT_TAB&quot;</span> ), ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;PREV_TAB&quot;</span> ) );</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_search, <a class="code" href="structpoint.html">point</a>( 1, 10 ), search_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press [&lt;color_yellow&gt;%s&lt;/color&gt;] to confirm.&quot;</span> ), ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span> ) );</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w_search, <a class="code" href="structpoint.html">point</a>( 1, 11 ), search_width, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Press [&lt;color_yellow&gt;%s&lt;/color&gt;] to quit.&quot;</span> ), ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;QUIT&quot;</span> ) );</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w_search );</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_search );</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    } );</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        curs.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() = <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>[i].x();</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        curs.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() = <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>[i].y();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        om_ui.<a class="code" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>( get_option&lt;int&gt;( <span class="stringliteral">&quot;BLINK_SPEED&quot;</span> ) );</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> ) {</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a>;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;NEXT_TAB&quot;</span> ) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            i = ( i + 1 ) % <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.size();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PREV_TAB&quot;</span> ) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            i = ( i + <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.size() - 1 ) % <a class="code" href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">locations</a>.size();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            curs = prev_curs;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            om_ui.<a class="code" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    } <span class="keywordflow">while</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <span class="stringliteral">&quot;CONFIRM&quot;</span> &amp;&amp; <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;}</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a42e88e8afcf281959d291b79fe01b7f3"> 1497</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#a42e88e8afcf281959d291b79fe01b7f3">place_ter_or_special</a>( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp;om_ui, <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;curs,</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                                  <span class="keyword">const</span> std::string &amp;om_action )</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;{</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <a class="code" href="classuilist.html">uilist</a> pmenu;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">// This simplifies overmap_special selection using uilist</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    std::vector&lt;const overmap_special *&gt; oslist;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> = om_action == <span class="stringliteral">&quot;PLACE_TERRAIN&quot;</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> ) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        pmenu.<a class="code" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select terrain to place:&quot;</span> );</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structoter__t.html">oter_t</a> &amp;oter : <a class="code" href="namespaceovermap__terrains.html#adeb350d773c86be9ebdc18a60b9eca30">overmap_terrains::get_all</a>() ) {</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <span class="keyword">const</span> std::string entry_text = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                                               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;sym: [ %s %s ], color: [ %s %s], name: [ %s ], id: [ %s ]&quot;</span> ),</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                                               <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( oter.get_symbol(), oter.get_color() ),</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                                               <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( oter.get_symbol( <span class="keyword">true</span> ), oter.get_color( <span class="keyword">true</span> ) ),</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                                               <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="color_8cpp.html#a24e6e535a2054805b8c1ab0786e50e66">string_from_color</a>( oter.get_color() ), oter.get_color() ),</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                                               <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code" href="color_8cpp.html#a24e6e535a2054805b8c1ab0786e50e66">string_from_color</a>( oter.get_color( <span class="keyword">true</span> ) ), oter.get_color( <span class="keyword">true</span> ) ),</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                               <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( oter.get_name(), oter.get_color() ),</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                               <a class="code" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( oter.id.str(), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> ) );</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            pmenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( oter.id.id().to_i(), <span class="keyword">true</span>, 0, entry_text );</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        pmenu.<a class="code" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select special to place:&quot;</span> );</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classovermap__special.html">overmap_special</a> &amp;elem : <a class="code" href="namespaceovermap__specials.html#ae39e94620013b52e3f84a973c5a5bf73">overmap_specials::get_all</a>() ) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            oslist.push_back( &amp;elem );</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <span class="keyword">const</span> std::string entry_text = elem.id.str();</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            pmenu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( oslist.size() - 1, <span class="keyword">true</span>, 0, entry_text );</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    }</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    pmenu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">if</span>( pmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &gt;= 0 ) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w_editor;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160; </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            w_editor = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 15, 27, <a class="code" href="structpoint.html">point</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - 27, 3 ) );</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.position_from_window( w_editor );</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        } );</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;OVERMAP_EDITOR&quot;</span> );</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        ctxt.<a class="code" href="classinput__context.html#a26d796fbe876b21a2d8b85eb5d59195f">register_directions</a>();</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;ROTATE&quot;</span> );</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        ctxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> ) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a> = &amp;<a class="code" href="classint__id.html">oter_id</a>( pmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> = oslist[pmenu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>];</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="comment">// TODO: Unify these things.</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_rotate = <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> ? <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#ab15d534fa68fa86074239dcf8b05000f">is_rotatable</a>() :</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a>-&gt;<a class="code" href="classovermap__special.html#adfba1697d4cd6f81930856f1eb55a79c">is_rotatable</a>();</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> = <a class="code" href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca334c4a4c42fdb79d7ebc3e73b517e6f8">om_direction::type::none</a>;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <span class="comment">// If user chose an already rotated submap, figure out its direction</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> &amp;&amp; can_rotate ) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7c">om_direction::type</a> r : <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">om_direction::all</a> ) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#ac6eb612d8150546238274e14bfb58ca8">id</a>.<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>() == <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#a5b69161ceba78a1954395d340fad0f0a">get_rotated</a>( r ) ) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> = r;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160; </div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w_editor );</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> ) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Place overmap terrain:&quot;</span> ) );</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 2 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <span class="stringliteral">&quot;                         &quot;</span> );</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 2 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#ac6eb612d8150546238274e14bfb58ca8">id</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a>, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Place overmap special:&quot;</span> ) );</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 2 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <span class="stringliteral">&quot;                         &quot;</span> );</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 2 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a>-&gt;<a class="code" href="classovermap__special.html#aae533ac4ea687db241db7619f6b318f9">id</a>.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <span class="keyword">const</span> std::string &amp;rotation = <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> );</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 3 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <span class="stringliteral">&quot;                         &quot;</span> );</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 3 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Rotation: %s %s&quot;</span> ), rotation,</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                       can_rotate ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(fixed)&quot;</span> ) );</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 5 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Highlighted regions&quot;</span> ) );</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 6 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;already have map content&quot;</span> ) );</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <span class="comment">// NOLINTNEXTLINE(cata-text-style): single space after period for compactness</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 7 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;generated. Their overmap&quot;</span> ) );</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 8 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;id will change, but not&quot;</span> ) );</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 9 ), <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;their contents.&quot;</span> ) );</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="keywordflow">if</span>( ( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#ab15d534fa68fa86074239dcf8b05000f">is_rotatable</a>() ) ||</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                ( !<a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> &amp;&amp; <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a>-&gt;<a class="code" href="classovermap__special.html#adfba1697d4cd6f81930856f1eb55a79c">is_rotatable</a>() ) ) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 11 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[%s] Rotate&quot;</span> ),</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                           ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;ROTATE&quot;</span> ) );</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 12 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[%s] Apply&quot;</span> ),</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                       ctxt.<a class="code" href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">get_desc</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span> ) );</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w_editor, <a class="code" href="structpoint.html">point</a>( 1, 13 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[ESCAPE/Q] Cancel&quot;</span> ) );</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( w_editor );</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        } );</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            om_ui.<a class="code" href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">invalidate_ui</a>();</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ctxt.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>( get_option&lt;int&gt;( <span class="stringliteral">&quot;BLINK_SPEED&quot;</span> ) );</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">if</span>( <span class="keyword">const</span> std::optional&lt;tripoint&gt; vec = ctxt.<a class="code" href="classinput__context.html#a0acd9546d02155a0b3a270560f20713a">get_direction</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) ) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                curs += vec-&gt;<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) { <span class="comment">// Actually modify the overmap</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> ) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">ter_set</a>( curs, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#ac6eb612d8150546238274e14bfb58ca8">id</a>.<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>() );</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                    <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a47320c7add37992ef2ea8da5696b4ed7">set_seen</a>( curs, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">std::optional</a>&lt;std::vector&lt;tripoint_abs_omt&gt;&gt; used_points =</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                            <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a1f6fc805716b6a3ef98294560548ca8a">place_special</a>( *<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a>, curs,</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                                                          <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a>, <span class="keyword">false</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> : *used_points ) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                            <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a47320c7add37992ef2ea8da5696b4ed7">set_seen</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                        }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                    }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;ROTATE&quot;</span> &amp;&amp; can_rotate ) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> = <a class="code" href="namespaceom__direction.html#a873bc312d49e851dd397d439879ea67e">om_direction::turn_right</a>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> );</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">terrain</a> ) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a> = &amp;<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a>-&gt;<a class="code" href="structoter__t.html#a5b69161ceba78a1954395d340fad0f0a">get_rotated</a>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">omedit_rotation</a> ).<a class="code" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> ) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        } <span class="keywordflow">while</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">place_terrain</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">place_special</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a1d7ba01ae73566bf481f2822455a0a9c"> 1640</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespaceovermap__ui.html#a1d7ba01ae73566bf481f2822455a0a9c">set_special_args</a>( <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;curs )</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;{</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    std::optional&lt;mapgen_arguments&gt; *maybe_args = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ae5789098e078c16d272e2383f6af35ec">mapgen_args</a>( curs );</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">if</span>( !maybe_args ) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No overmap special args at this location.&quot;</span> ) );</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    }</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">if</span>( *maybe_args ) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Overmap special args at this location have already been set.&quot;</span> ) );</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    std::optional&lt;overmap_special_id&gt; s = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a9473dfa5b65790d6d67c4544c7961911">overmap_special_at</a>( curs );</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">if</span>( !s ) {</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No overmap special at this location from which to fetch parameters.&quot;</span> ) );</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keyword">const</span> <a class="code" href="classovermap__special.html">overmap_special</a> &amp;special = **s;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keyword">const</span> <a class="code" href="structmapgen__parameters.html">mapgen_parameters</a> &amp;params = special.<a class="code" href="classovermap__special.html#af4fc374165c2520ca03a2c396f6e113f">get_params</a>();</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="structmapgen__arguments.html">mapgen_arguments</a> args;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, mapgen_parameter&gt; &amp;p : params.<a class="code" href="structmapgen__parameters.html#af11d99749c3dd3a67087ea4869a9bcff">map</a> ) {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="keyword">const</span> std::string param_name = p.first;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <span class="keyword">const</span> <a class="code" href="classmapgen__parameter.html">mapgen_parameter</a> &amp;param = p.second;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        std::vector&lt;std::string&gt; possible_values = param.<a class="code" href="classmapgen__parameter.html#a7d71bab1e5403fea80279ad0facfd867">all_possible_values</a>( params );</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <a class="code" href="classuilist.html">uilist</a> arg_menu;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        arg_menu.<a class="code" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select value for mapgen argument %s: &quot;</span> ), param_name );</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i != possible_values.size(); ++i ) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="keyword">const</span> std::string &amp;v = possible_values[i];</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            arg_menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( i, <span class="keyword">true</span>, 0, v );</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        arg_menu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordflow">if</span>( arg_menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt; 0 ) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        }</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        args.<a class="code" href="structmapgen__arguments.html#a54f7fbf6f4844a2d2dc68e053b4dc207">map</a>[param_name] =</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <a class="code" href="classcata__variant.html#afd637bc7ebb6d353c7192ffd46add95a">cata_variant::from_string</a>( param.<a class="code" href="classmapgen__parameter.html#adf237acc2a926e3379c60409771977f0">type</a>(), std::move( possible_values[arg_menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>] ) );</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    *maybe_args = args;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a3696a86d421281cac5c58a6cf1557198"> 1680</a></span>&#160;<span class="keyword">static</span> std::vector&lt;tripoint_abs_omt&gt; <a class="code" href="namespaceovermap__ui.html#a3696a86d421281cac5c58a6cf1557198">get_overmap_path_to</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;dest,</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        <span class="keywordtype">bool</span> driving )</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;{</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">seen</a>( dest ) ) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> player_omt_pos = player_character.<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="structovermap__path__params.html">overmap_path_params</a> params;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <a class="code" href="classvehicle.html">vehicle</a> *player_veh = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">if</span>( driving ) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordflow">if</span>( !vp.has_value() ) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Failed to find driven vehicle&quot;</span> );</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        player_veh = &amp;vp-&gt;vehicle();</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="comment">// for now we can only handle flyers if already in the air</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_fly = player_veh-&gt;<a class="code" href="classvehicle.html#a292961ab33a42bf495d19b8692f6f105">is_rotorcraft</a>() &amp;&amp; player_veh-&gt;<a class="code" href="classvehicle.html#a6ac15340cefeea4793448cdb34784011">is_flying_in_air</a>();</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_float = player_veh-&gt;<a class="code" href="classvehicle.html#ac460f925a21efb9dea1dc0fc2f930609">can_float</a>();</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> can_drive = player_veh-&gt;<a class="code" href="classvehicle.html#a578c681656be6b419c62799006008035">valid_wheel_config</a>();</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="comment">// TODO: check engines/fuel</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="keywordflow">if</span>( can_fly ) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            params = <a class="code" href="structovermap__path__params.html#a1a6cabe39892b16c0a4c0253c89b7148">overmap_path_params::for_aircraft</a>();</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( can_float &amp;&amp; !can_drive ) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            params = <a class="code" href="structovermap__path__params.html#a10bed46ca1148e6106f93406ba99ad5e">overmap_path_params::for_watercraft</a>();</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( can_drive ) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> offroad_coeff = player_veh-&gt;<a class="code" href="classvehicle.html#a9d41a3f9a7969c40ca5a9b7b5a3fdebe">k_traction</a>( player_veh-&gt;<a class="code" href="classvehicle.html#ab738fb6279eb3c198c96dfc2ff1207ff">wheel_area</a>() *</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                                        player_veh-&gt;<a class="code" href="classvehicle.html#a1fcf1cb434b8bde3613a2a1981d87775">average_offroad_rating</a>() );</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a> = player_veh-&gt;<a class="code" href="classvehicle.html#ae6df00db578931d74d20de595736b190">get_points</a>().size() &lt;= 3;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;            params = <a class="code" href="structovermap__path__params.html#acde7ad344516e6dab5f4dd77285ae00e">overmap_path_params::for_land_vehicle</a>( offroad_coeff, <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>, can_float );</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        params = <a class="code" href="structovermap__path__params.html#a3550342b716f161a03951caf58ee97a8">overmap_path_params::for_player</a>();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keyword">const</span> <a class="code" href="classint__id.html">oter_id</a> dest_ter = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a232145b434bc1f83bc6df7221d15310b">ter_existing</a>( dest );</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="comment">// already in water or going to a water tile</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a>, player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ||</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            <a class="code" href="overmap_8cpp.html#a5f87462516143186903431d4b1fe48c1">is_water_body</a>( dest_ter ) ) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            params.<a class="code" href="structovermap__path__params.html#a7d746d4005110719f65756fc4290c850">set_cost</a>( <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da9460370bb0ca1c98a779b1bcc6861c2c">oter_travel_cost_type::water</a>, 100 );</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        }</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="comment">// literal &quot;edge&quot; case: the vehicle may be in a different OMT than the player</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> start_omt_pos = driving ? player_veh-&gt;<a class="code" href="classvehicle.html#aec200af03ac3aa401024514d9cfd60ee">global_omt_location</a>() : player_omt_pos;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span>( dest == player_omt_pos || dest == start_omt_pos ) {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a5b59e43dc5c0e4f7bce3501dde28c20a">get_travel_path</a>( start_omt_pos, dest, params );</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;}</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a5dd6d95bf99f06b235f0c05d5ca31598"> 1733</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespaceovermap__ui.html#a5dd6d95bf99f06b235f0c05d5ca31598">overmap_zoom_level</a> = <a class="code" href="game_8h.html#a2ec593ae25fa781c4c03384f439a3175">DEFAULT_TILESET_ZOOM</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#abd8c1281a6a6f0878ac1873a8cb33154"> 1735</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceovermap__ui.html#abd8c1281a6a6f0878ac1873a8cb33154">try_travel_to_destination</a>( <a class="code" href="classavatar.html">avatar</a> &amp;player_character, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> curs,</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                                       <span class="keyword">const</span> <span class="keywordtype">bool</span> driving )</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;{</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    std::vector&lt;tripoint_abs_omt&gt; path = <a class="code" href="namespaceovermap__ui.html#a3696a86d421281cac5c58a6cf1557198">get_overmap_path_to</a>( curs, driving );</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordtype">bool</span> same_path_selected = path == player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    std::string confirm_msg;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">if</span>( !driving &amp;&amp; player_character.<a class="code" href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">weight_carried</a>() &gt; player_character.<a class="code" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a>() ) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        confirm_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You are overburdened, are you sure you want to travel (it may be painful)?&quot;</span> );</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !driving &amp;&amp; player_character.<a class="code" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> ) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        confirm_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You are in a vehicle but not driving.  Are you sure you want to walk?&quot;</span> );</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( driving ) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <span class="keywordflow">if</span>( same_path_selected ) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            confirm_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Drive to this point?&quot;</span> );</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            confirm_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Drive to your destination?&quot;</span> );</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        }</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">if</span>( same_path_selected ) {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            confirm_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Travel to this point?&quot;</span> );</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            confirm_msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Travel to your destination?&quot;</span> );</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( confirm_msg ) ) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a> = path;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <span class="keywordflow">if</span>( driving ) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="classautodrive__activity__actor.html">autodrive_activity_actor</a>() );</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            player_character.<a class="code" href="classavatar.html#afe96b5b38706039d754e6d9e052217bb">reset_move_mode</a>();</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="overmap__ui_8cpp.html#aac77bbfbcec73a3444dfb3f53f2be91a">ACT_TRAVELLING</a> );</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;}</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"><a class="line" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891"> 1771</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">display</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;orig,</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structovermap__ui_1_1draw__data__t.html">draw_data_t</a> &amp;data = <a class="code" href="structovermap__ui_1_1draw__data__t.html">draw_data_t</a>() )</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;{</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> previous_zoom = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_zoom();</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;set_zoom( <a class="code" href="namespaceovermap__ui.html#a5dd6d95bf99f06b235f0c05d5ca31598">overmap_zoom_level</a> );</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="classon__out__of__scope.html">on_out_of_scope</a> reset_zoom( [&amp;]() {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <a class="code" href="namespaceovermap__ui.html#a5dd6d95bf99f06b235f0c05d5ca31598">overmap_zoom_level</a> = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_zoom();</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;set_zoom( previous_zoom );</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;mark_main_ui_adaptor_resize();</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    } );</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="classbackground__pane.html">background_pane</a> bg_pane;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <a class="code" href="classui__adaptor.html">ui_adaptor</a> <a class="code" href="namespaceui.html">ui</a>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_screen_resize( []( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {<span class="comment"></span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="comment">        /**</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">         * Handle possibly different overmap font size</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <a class="code" href="output_8cpp.html#a7aee2f244062e1b9e28c950adb745a42">OVERMAP_LEGEND_WIDTH</a> = <a class="code" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> / 5, 28, 55 );</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <a class="code" href="output_8cpp.html#a1e0d11129ca6fd0bab77caf62990eaa4">OVERMAP_WINDOW_HEIGHT</a> = <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <a class="code" href="output_8cpp.html#afc789ce1952cc5eabbd5cee34bdabaff">OVERMAP_WINDOW_WIDTH</a> = <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code" href="output_8cpp.html#a7aee2f244062e1b9e28c950adb745a42">OVERMAP_LEGEND_WIDTH</a>;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        <a class="code" href="output_8cpp.html#aee1dcfd0092cd6b74c7225e140adefeb">OVERMAP_WINDOW_TERM_WIDTH</a> = <a class="code" href="output_8cpp.html#afc789ce1952cc5eabbd5cee34bdabaff">OVERMAP_WINDOW_WIDTH</a>;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <a class="code" href="output_8cpp.html#a347e7b1532c691f6b1547ecfe4425e3f">OVERMAP_WINDOW_TERM_HEIGHT</a> = <a class="code" href="output_8cpp.html#a1e0d11129ca6fd0bab77caf62990eaa4">OVERMAP_WINDOW_HEIGHT</a>;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <a class="code" href="game__ui_8cpp.html#a1f3b92598b7c181d58189bf9b2bcfa32">to_overmap_font_dimension</a>( <a class="code" href="output_8cpp.html#afc789ce1952cc5eabbd5cee34bdabaff">OVERMAP_WINDOW_WIDTH</a>, <a class="code" href="output_8cpp.html#a1e0d11129ca6fd0bab77caf62990eaa4">OVERMAP_WINDOW_HEIGHT</a> );</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_omlegend = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="output_8cpp.html#a347e7b1532c691f6b1547ecfe4425e3f">OVERMAP_WINDOW_TERM_HEIGHT</a>, <a class="code" href="output_8cpp.html#a7aee2f244062e1b9e28c950adb745a42">OVERMAP_LEGEND_WIDTH</a>,</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                                            <a class="code" href="structpoint.html">point</a>( <a class="code" href="output_8cpp.html#aee1dcfd0092cd6b74c7225e140adefeb">OVERMAP_WINDOW_TERM_WIDTH</a>, 0 ) );</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_overmap = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="output_8cpp.html#a1e0d11129ca6fd0bab77caf62990eaa4">OVERMAP_WINDOW_HEIGHT</a>, <a class="code" href="output_8cpp.html#afc789ce1952cc5eabbd5cee34bdabaff">OVERMAP_WINDOW_WIDTH</a>, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> );</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <a class="code" href="namespaceui.html">ui</a>.position_from_window( <a class="code" href="namespacecatacurses.html#a51707e12b1a95f6c69b1e128c4ba2601">catacurses::stdscr</a> );</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    } );</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a>;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> curs( orig );</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">if</span>( data.select != <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a>( -1, -1, -1 ) ) {</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        curs = data.select;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="comment">// Configure input context for navigating the map.</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ictxt( <span class="stringliteral">&quot;OVERMAP&quot;</span> );</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;ANY_INPUT&quot;</span> );</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    ictxt.<a class="code" href="classinput__context.html#a26d796fbe876b21a2d8b85eb5d59195f">register_directions</a>();</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;LEVEL_UP&quot;</span> );</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;LEVEL_DOWN&quot;</span> );</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;zoom_in&quot;</span> );</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;zoom_out&quot;</span> );</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;MOUSE_MOVE&quot;</span> );</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;SELECT&quot;</span> );</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CHOOSE_DESTINATION&quot;</span> );</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CENTER_ON_DESTINATION&quot;</span> );</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;GO_TO_DESTINATION&quot;</span> );</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="comment">// Actions whose keys we want to display.</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CENTER&quot;</span> );</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;CREATE_NOTE&quot;</span> );</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;DELETE_NOTE&quot;</span> );</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;MARK_DANGER&quot;</span> );</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;SEARCH&quot;</span> );</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;LIST_NOTES&quot;</span> );</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_MAP_NOTES&quot;</span> );</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_BLINKING&quot;</span> );</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_OVERLAYS&quot;</span> );</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_HORDES&quot;</span> );</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_LAND_USE_CODES&quot;</span> );</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_CITY_LABELS&quot;</span> );</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_MAP_REVEALS&quot;</span> );</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_EXPLORED&quot;</span> );</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_FAST_SCROLL&quot;</span> );</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_OVERMAP_WEATHER&quot;</span> );</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;TOGGLE_FOREST_TRAILS&quot;</span> );</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;MISSIONS&quot;</span> );</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="keywordflow">if</span>( data.debug_editor ) {</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;PLACE_TERRAIN&quot;</span> );</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;PLACE_SPECIAL&quot;</span> );</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;SET_SPECIAL_ARGS&quot;</span> );</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;LONG_TELEPORT&quot;</span> );</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    ictxt.<a class="code" href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">register_action</a>( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordtype">bool</span> show_explored = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> fast_scroll = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordtype">int</span> fast_scroll_offset = get_option&lt;int&gt;( <span class="stringliteral">&quot;FAST_SCROLL_OFFSET&quot;</span> );</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    std::optional&lt;tripoint&gt; mouse_pos;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    std::chrono::time_point&lt;std::chrono::steady_clock&gt; last_blink = std::chrono::steady_clock::now();</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160; </div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.on_redraw( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        <a class="code" href="namespaceovermap__ui.html#a4aeb45df4fdc5bb21b1935abb8280fd7">draw</a>( <a class="code" href="namespaceui.html">ui</a>, curs, orig, <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a>,</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;              show_explored, fast_scroll, &amp;ictxt, data );</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    } );</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="preprocessor">#if (defined TILES || defined _WIN32 || defined WINDOWS )</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        <span class="keywordtype">int</span> scroll_timeout = get_option&lt;int&gt;( <span class="stringliteral">&quot;EDGE_SCROLL&quot;</span> );</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <span class="comment">// If EDGE_SCROLL is disabled, it will have a value of -1.</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="comment">// blinking won&#39;t work if handle_input() is passed a negative integer.</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="keywordflow">if</span>( scroll_timeout &lt; 0 ) {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            scroll_timeout = get_option&lt;int&gt;( <span class="stringliteral">&quot;BLINK_SPEED&quot;</span> );</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ictxt.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>( scroll_timeout );</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = ictxt.<a class="code" href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">handle_input</a>( get_option&lt;int&gt;( <span class="stringliteral">&quot;BLINK_SPEED&quot;</span> ) );</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="keywordflow">if</span>( <span class="keyword">const</span> std::optional&lt;tripoint&gt; vec = ictxt.<a class="code" href="classinput__context.html#a0acd9546d02155a0b3a270560f20713a">get_direction</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) ) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="keywordtype">int</span> scroll_d = fast_scroll ? fast_scroll_offset : 1;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            curs += vec-&gt;<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>() * scroll_d;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOUSE_MOVE&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TIMEOUT&quot;</span> ) {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <a class="code" href="structtripoint.html">tripoint</a> edge_scroll = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;mouse_edge_scrolling_overmap( ictxt );</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            <span class="keywordflow">if</span>( edge_scroll != <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a> ) {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOUSE_MOVE&quot;</span> ) {</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                    edge_scroll *= 2;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                }</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                curs += edge_scroll;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            }</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SELECT&quot;</span> &amp;&amp;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                   ( mouse_pos = ictxt.<a class="code" href="classinput__context.html#a78a04063aa3ae17a4597ee7dcc584bfa">get_coordinates</a>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;w_overmap, <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <span class="keyword">true</span> ) ) ) {</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            curs += mouse_pos-&gt;<a class="code" href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">xy</a>();</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CENTER&quot;</span> ) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            curs = orig;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEVEL_DOWN&quot;</span> &amp;&amp; curs.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() &gt; -<a class="code" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> ) {</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            curs.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() -= 1;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEVEL_UP&quot;</span> &amp;&amp; curs.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() &lt; <a class="code" href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a> ) {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            curs.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() += 1;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;zoom_out&quot;</span> ) {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;zoom_out_overmap();</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        } <span class="keywordflow">else</span>  <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;zoom_in&quot;</span> ) {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;zoom_in_overmap();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.mark_resize();</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CONFIRM&quot;</span> ) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = curs;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CREATE_NOTE&quot;</span> ) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <a class="code" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">create_note</a>( curs );</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DELETE_NOTE&quot;</span> ) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aac77ae4ff8b1cb0f8f51bcf0497d40af">has_note</a>( curs ) &amp;&amp; <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Really delete note?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ad8dadf41c2ab452a2a506afce4dab982">delete_note</a>( curs );</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MARK_DANGER&quot;</span> ) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abda38bce9d78ce58ba00f38731564c61">is_marked_dangerous</a>( curs ) &amp;&amp;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Remove dangerous mark?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a50a380696bceb21a2875b1154783e8db">mark_note_dangerous</a>( curs, 0,</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                                                    <span class="keyword">false</span> );</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                <span class="keywordtype">bool</span> has_mark = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a87373fbee22f6a20e0042b495a224e1f">note_danger_radius</a>( curs ) &gt;= 0;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                <span class="keywordtype">bool</span> has_note = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#aac77ae4ff8b1cb0f8f51bcf0497d40af">has_note</a>( curs );</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                std::string query_text = has_mark ?  <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Edit dangerous mark?&quot;</span> )  : has_note ?</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Mark area as dangerous (to avoid on auto move paths)?&quot;</span> ) :</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                                         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Create note and mark area as dangerous (to avoid on auto move paths)?&quot;</span> );</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( query_text ) ) {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                    <span class="keywordflow">if</span>( !has_note ) {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                        <a class="code" href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">create_note</a>( curs );</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                    }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> max_amount = 20;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                    <span class="comment">// NOLINTNEXTLINE(cata-text-style): No need for two whitespaces</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                    <span class="keyword">const</span> std::string popupmsg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Danger radius in overmap squares? (0-20)&quot;</span> );</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                    <span class="keywordtype">int</span> amount = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                                 .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( popupmsg )</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                                 .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                                 .<a class="code" href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">text</a>( <span class="stringliteral">&quot;0&quot;</span> )</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                                 .<a class="code" href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">only_digits</a>( <span class="keyword">true</span> )</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                                 .<a class="code" href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">query_int</a>();</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                    <span class="keywordflow">if</span>( amount &gt;= 0 &amp;&amp; amount &lt;= max_amount ) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                        <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#a50a380696bceb21a2875b1154783e8db">mark_note_dangerous</a>( curs, amount, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                    }</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                }</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;            }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LIST_NOTES&quot;</span> ) {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">point_abs_omt</a> p = <a class="code" href="namespaceovermap__ui.html#a5081beedf9b873c292bdcaf08d28476a">draw_notes</a>( curs );</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <span class="keywordflow">if</span>( p != <a class="code" href="coordinates_8h.html#aefe14c1a57a07846c0292a6814feaa40">point_abs_omt</a>( <a class="code" href="point_8h.html#a66feef6944f7a9037008b5206fd1e586">point_min</a> ) ) {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                curs.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() = p.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>();</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                curs.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() = p.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>();</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;GO_TO_DESTINATION&quot;</span> ) {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;            <span class="keywordflow">if</span>( !player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>.empty() ) {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> driving = player_character.<a class="code" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> &amp;&amp; player_character.<a class="code" href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">controlling_vehicle</a>;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceovermap__ui.html#abd8c1281a6a6f0878ac1873a8cb33154">try_travel_to_destination</a>( player_character, player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>.front(), driving ) ) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                    <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <span class="stringliteral">&quot;QUIT&quot;</span>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                }</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CENTER_ON_DESTINATION&quot;</span> ) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            <span class="keywordflow">if</span>( !player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>.empty() ) {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> p = player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>[0];</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                curs.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() = p.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>();</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                curs.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() = p.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>();</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CHOOSE_DESTINATION&quot;</span> ) {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> driving = player_character.<a class="code" href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">in_vehicle</a> &amp;&amp; player_character.<a class="code" href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">controlling_vehicle</a>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            std::vector&lt;tripoint_abs_omt&gt; path = <a class="code" href="namespaceovermap__ui.html#a3696a86d421281cac5c58a6cf1557198">get_overmap_path_to</a>( curs, driving );</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            <span class="keywordtype">bool</span> same_path_selected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            <span class="keywordflow">if</span>( path == player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a> ) {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                same_path_selected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>.swap( path );</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            }</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            <span class="keywordflow">if</span>( same_path_selected &amp;&amp; !player_character.<a class="code" href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">omt_path</a>.empty() ) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceovermap__ui.html#abd8c1281a6a6f0878ac1873a8cb33154">try_travel_to_destination</a>( player_character, curs, driving ) ) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                    <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <span class="stringliteral">&quot;QUIT&quot;</span>;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            }</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_BLINKING&quot;</span> ) {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            <span class="comment">// if we turn off overmap blinking, show overlays and explored status</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> ) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                show_explored = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            }</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_OVERLAYS&quot;</span> ) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <span class="comment">// if we are currently blinking, turn blinking off.</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> ) {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                show_explored = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a>;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                show_explored = !show_explored;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;            }</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_LAND_USE_CODES&quot;</span> ) {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a5682c56c267d08f4ebdeeb8fd06b3037">overmap_show_land_use_codes</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a5682c56c267d08f4ebdeeb8fd06b3037">overmap_show_land_use_codes</a>;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_MAP_NOTES&quot;</span> ) {</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a02d98ac2e93fab7c76964d670eccfa01">overmap_show_map_notes</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a02d98ac2e93fab7c76964d670eccfa01">overmap_show_map_notes</a>;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_HORDES&quot;</span> ) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac36e8b4e7bc4fa56ffdf75405e4cef43">overmap_show_hordes</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac36e8b4e7bc4fa56ffdf75405e4cef43">overmap_show_hordes</a>;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_CITY_LABELS&quot;</span> ) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aa3ec3473ece2af731c64b5674792e352">overmap_show_city_labels</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aa3ec3473ece2af731c64b5674792e352">overmap_show_city_labels</a>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_MAP_REVEALS&quot;</span> ) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a05ffc3416939a967544f157d0cabcaa0">overmap_show_revealed_omts</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a05ffc3416939a967544f157d0cabcaa0">overmap_show_revealed_omts</a>;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_EXPLORED&quot;</span> ) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;            <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#ac1bfe822103eac071b6cae195c7bee86">toggle_explored</a>( curs );</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_OVERMAP_WEATHER&quot;</span> ) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().is_outside( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>() ) ) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_FAST_SCROLL&quot;</span> ) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            fast_scroll = !fast_scroll;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_FOREST_TRAILS&quot;</span> ) {</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8a309551318f3f163541f1bb493897d3">overmap_show_forest_trails</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8a309551318f3f163541f1bb493897d3">overmap_show_forest_trails</a>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SEARCH&quot;</span> ) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="namespaceovermap__ui.html#a06c7012cacbc54d3089948f7d99791ce">search</a>( <a class="code" href="namespaceui.html">ui</a>, curs, orig ) ) {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;            }</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PLACE_TERRAIN&quot;</span> || <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PLACE_SPECIAL&quot;</span> ) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            <a class="code" href="namespaceovermap__ui.html#a42e88e8afcf281959d291b79fe01b7f3">place_ter_or_special</a>( <a class="code" href="namespaceui.html">ui</a>, curs, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SET_SPECIAL_ARGS&quot;</span> ) {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            <a class="code" href="namespaceovermap__ui.html#a1d7ba01ae73566bf481f2822455a0a9c">set_special_args</a>( curs );</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LONG_TELEPORT&quot;</span> &amp;&amp; curs != <a class="code" href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a> ) {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;            <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_player_overmap( curs );</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You teleport to submap %s.&quot;</span> ), curs.<a class="code" href="classcoords_1_1coord__point__base.html#abadb043d4129616ea20396a03e046301">to_string</a>() );</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <span class="stringliteral">&quot;QUIT&quot;</span>;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MISSIONS&quot;</span> ) {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;list_missions();</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        std::chrono::time_point&lt;std::chrono::steady_clock&gt; now = std::chrono::steady_clock::now();</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="keywordflow">if</span>( now &gt; last_blink + std::chrono::milliseconds( get_option&lt;int&gt;( <span class="stringliteral">&quot;BLINK_SPEED&quot;</span> ) ) ) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">overmap_blinking</a> ) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a> = !<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">overmap_show_overlays</a>;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            }</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            last_blink = now;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    } <span class="keywordflow">while</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <span class="stringliteral">&quot;QUIT&quot;</span> &amp;&amp; <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <span class="stringliteral">&quot;CONFIRM&quot;</span> );</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;}</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;} <span class="comment">// namespace overmap_ui</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a9c1e7b2cc97be5072b464abfe6a7bb63"> 2047</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#a9c1e7b2cc97be5072b464abfe6a7bb63">ui::omap::display</a>()</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;{</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().global_omt_location(), <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a>() );</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;}</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a5db73f0db131ef8f27c85e854ce0e2f8"> 2052</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#a5db73f0db131ef8f27c85e854ce0e2f8">ui::omap::display_hordes</a>()</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;{</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">overmap_debug_mongroup</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().global_omt_location(), data );</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">overmap_debug_mongroup</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a9c77634aea7f1a23166fc4b32b272561"> 2060</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#a9c77634aea7f1a23166fc4b32b272561">ui::omap::display_weather</a>()</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;{</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">overmap_debug_weather</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>.z() = 10;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, data );</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">overmap_debug_weather</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;}</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a561977e5c88239e18b061f444d66356d"> 2070</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#a561977e5c88239e18b061f444d66356d">ui::omap::display_visible_weather</a>()</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;{</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>.z() = 10;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, data );</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">overmap_visible_weather</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;}</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a6e3c94aa877e09d66ed3b868594c64a0"> 2080</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#a6e3c94aa877e09d66ed3b868594c64a0">ui::omap::display_scents</a>()</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;{</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#ad0fc38965afee59aac3c0d1b84f16a8f">debug_scent</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().global_omt_location(), data );</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;}</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a214241ab6e6ccee2cb5d474959020b4d"> 2087</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#a214241ab6e6ccee2cb5d474959020b4d">ui::omap::display_editor</a>()</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;{</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#aa54aa7c154abb92f5603e94bec6e6607">debug_editor</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().global_omt_location(), data );</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;}</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#ab8f5795aa88f807d4b900dd529a9fd9c"> 2094</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#ab8f5795aa88f807d4b900dd529a9fd9c">ui::omap::display_zones</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;<a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;select,</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">int</span> iZoneIndex )</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;{</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#a57ef4ad6104353c9c370300d9aa8c30b">select</a> = select;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#ad6434671256ce9022da6bc59f7a16470">iZoneIndex</a> = iZoneIndex;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a>, data );</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;}</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160; </div>
<div class="line"><a name="l02103"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf"> 2103</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a>( <span class="keywordtype">bool</span> show_debug_info )</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;{</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#a5da3b1318b3c3664a9969f872dfbc531">debug_info</a> = show_debug_info;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().global_omt_location(), data );</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;}</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a5f4a0e587196f3ded2839dd787a65219"> 2110</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a>( <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> &amp;<a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">bool</span> show_debug_info )</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;{</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#a5da3b1318b3c3664a9969f872dfbc531">debug_info</a> = show_debug_info;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( <a class="code" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, data );</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#acdeb49a5b5e78ef40ad41293ab34e2ff"> 2117</a></span>&#160;<a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> <a class="code" href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a>( <span class="keywordtype">int</span> z, <span class="keywordtype">bool</span> show_debug_info )</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <a class="code" href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a> data;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    data.<a class="code" href="structovermap__ui_1_1draw__data__t.html#a5da3b1318b3c3664a9969f872dfbc531">debug_info</a> = show_debug_info;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> loc = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>();</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    loc.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() = z;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a>( loc, data );</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;}</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#addd81d06fbf04e009f60d5add595cc0d"> 2126</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceui_1_1omap.html#addd81d06fbf04e009f60d5add595cc0d">ui::omap::setup_cities_menu</a>( <a class="code" href="classuilist.html">uilist</a> &amp;cities_menu, std::vector&lt;city&gt; &amp;cities_container )</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;{</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;SELECT_STARTING_CITY&quot;</span> ) ) {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="structuilist__entry.html">uilist_entry</a> entry_random_city( <a class="code" href="overmap__ui_8h.html#a506db5aa1b9bb482238b530cbb383b00">RANDOM_CITY_ENTRY</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;*&#39;</span>,</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;color_red&gt;* Random city *&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Location: &lt;color_white&gt;(?,?)&lt;/color&gt;:&lt;color_white&gt;(?,?)&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                                        <span class="comment">//~ &quot;pop&quot; refers to population count</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(pop &lt;color_white&gt;?&lt;/color&gt;)&quot;</span> )</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                                      );</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        cities_menu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( entry_random_city );</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        cities_menu.<a class="code" href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">desc_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        cities_menu.<a class="code" href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">title</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select a starting city&quot;</span> );</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structcity.html">city</a> &amp;<a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> : cities_container ) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;            <a class="code" href="structuilist__entry.html">uilist_entry</a> entry( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.database_id, <span class="keyword">true</span>, -1, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s (size: %d)&quot;</span> ), <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.name, <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.size ),</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                                <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Location: &lt;color_white&gt;%s&lt;/color&gt;:&lt;color_white&gt;%s&lt;/color&gt;&quot;</span> ),</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                                    <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.pos_om.to_string(), <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.pos.to_string() ),</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                                <span class="comment">//~ &quot;pop&quot; refers to population count</span></div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                                <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(pop &lt;color_white&gt;%s&lt;/color&gt;)&quot;</span> ), <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.population ) );</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;            cities_menu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( entry );</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        }</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        cities_menu.<a class="code" href="classuilist.html#a7d03ff2194b5dc30035d88d77108f6a4">w_height_setup</a> = <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - 4;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    }</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;}</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"><a class="line" href="namespaceui_1_1omap.html#a47f00b524792b9430f4840b1977fbe7c"> 2151</a></span>&#160;std::optional&lt;city&gt; <a class="code" href="namespaceui_1_1omap.html#a47f00b524792b9430f4840b1977fbe7c">ui::omap::select_city</a>( <a class="code" href="classuilist.html">uilist</a> &amp;cities_menu,</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        std::vector&lt;city&gt; &amp;cities_container, <span class="keywordtype">bool</span> <a class="code" href="namespaceom__direction.html#a0fdbb3cc8e25454026b9ab57f9b91c69">random</a> )</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;{</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    std::optional&lt;city&gt; <a class="code" href="classret__val.html">ret_val</a> = std::nullopt;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespaceom__direction.html#a0fdbb3cc8e25454026b9ab57f9b91c69">random</a> ) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <a class="code" href="classret__val.html">ret_val</a> = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( cities_container );</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        cities_menu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <span class="keywordflow">if</span>( cities_menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == <a class="code" href="overmap__ui_8h.html#a506db5aa1b9bb482238b530cbb383b00">RANDOM_CITY_ENTRY</a> ) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;            <a class="code" href="classret__val.html">ret_val</a> = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( cities_container );</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( cities_menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> == <a class="code" href="ui_8h.html#ae8a811731dd950d56e478c3ddc17e725">UILIST_CANCEL</a> ) {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            <a class="code" href="classret__val.html">ret_val</a> = std::nullopt;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <span class="keywordflow">if</span>( cities_menu.<a class="code" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.size() &gt; 1 ) {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                <a class="code" href="classret__val.html">ret_val</a> = cities_container[cities_menu.<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> - 1];</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;            }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classret__val.html">ret_val</a>;</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;}</div>
<div class="ttc" id="aactivity__actor__definitions_8h_html"><div class="ttname"><a href="activity__actor__definitions_8h.html">activity_actor_definitions.h</a></div></div>
<div class="ttc" id="aall__enum__values_8h_html"><div class="ttname"><a href="all__enum__values_8h.html">all_enum_values.h</a></div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="abasecamp_8h_html"><div class="ttname"><a href="basecamp_8h.html">basecamp.h</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a9b72c9314ac0439a25820b3abf2229f3"><div class="ttname"><a href="cached__options_8cpp.html#a9b72c9314ac0439a25820b3abf2229f3">use_tiles</a></div><div class="ttdeci">bool use_tiles</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00014">cached_options.cpp:14</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_abd565076389e60bf86352ffefbbeb5b1"><div class="ttname"><a href="cached__options_8cpp.html#abd565076389e60bf86352ffefbbeb5b1">use_tiles_overmap</a></div><div class="ttdeci">bool use_tiles_overmap</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00017">cached_options.cpp:17</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="acata__scope__helpers_8h_html"><div class="ttname"><a href="cata__scope__helpers_8h.html">cata_scope_helpers.h</a></div></div>
<div class="ttc" id="acata__tiles_8h_html"><div class="ttname"><a href="cata__tiles_8h.html">cata_tiles.h</a></div></div>
<div class="ttc" id="acata__utility_8cpp_html_a697d19e586c4d49389c28233b2290fcf"><div class="ttname"><a href="cata__utility_8cpp.html#a697d19e586c4d49389c28233b2290fcf">match_include_exclude</a></div><div class="ttdeci">bool match_include_exclude(const std::string_view text, std::string filter)</div><div class="ttdoc">Matches text case insensitive with the include/exclude rules of the filter.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8cpp_source.html#l00123">cata_utility.cpp:123</a></div></div>
<div class="ttc" id="acata__utility_8h_html"><div class="ttname"><a href="cata__utility_8h.html">cata_utility.h</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00221">cata_utility.h:221</a></div></div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="acatacharset_8h_html"><div class="ttname"><a href="catacharset_8h.html">catacharset.h</a></div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="acity_8h_html"><div class="ttname"><a href="city_8h.html">city.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0701e6a3f1987d9fa3f76b450dd5624a"><div class="ttname"><a href="classCharacter.html#a0701e6a3f1987d9fa3f76b450dd5624a">Character::controlling_vehicle</a></div><div class="ttdeci">bool controlling_vehicle</div><div class="ttdoc">Is currently in control of a vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00559">character.h:559</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0bdec852c8280a1cb4bb5e45e14057b5"><div class="ttname"><a href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">Character::weight_capacity</a></div><div class="ttdeci">units::mass weight_capacity() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03197">character.cpp:3197</a></div></div>
<div class="ttc" id="aclassCharacter_html_a245ded9582f9892c203ca1452cbac4df"><div class="ttname"><a href="classCharacter.html#a245ded9582f9892c203ca1452cbac4df">Character::overmap_los</a></div><div class="ttdeci">bool overmap_los(const tripoint_abs_omt &amp;omt, int sight_points) const</div><div class="ttdoc">Returns true if overmap tile is within player line-of-sight.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01266">character.cpp:1266</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5929e955c11ee6c749447472df7c774d"><div class="ttname"><a href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">Character::weight_carried</a></div><div class="ttdeci">units::mass weight_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03088">character.cpp:3088</a></div></div>
<div class="ttc" id="aclassCharacter_html_a61bc9422c35b63128532af268e52cb71"><div class="ttname"><a href="classCharacter.html#a61bc9422c35b63128532af268e52cb71">Character::in_vehicle</a></div><div class="ttdeci">bool in_vehicle</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02693">character.h:2693</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6f3bd3c696e0ba97a77be5fb3b9db07a"><div class="ttname"><a href="classCharacter.html#a6f3bd3c696e0ba97a77be5fb3b9db07a">Character::overmap_sight_range</a></div><div class="ttdeci">int overmap_sight_range(float light_level) const</div><div class="ttdoc">Returns the distance the player can see on the overmap.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01288">character.cpp:1288</a></div></div>
<div class="ttc" id="aclassCharacter_html_aae9cc7af2ea4a1bf81838ea14f5f9e69"><div class="ttname"><a href="classCharacter.html#aae9cc7af2ea4a1bf81838ea14f5f9e69">Character::map_revealed_omts</a></div><div class="ttdeci">std::unordered_set&lt; tripoint_abs_omt &gt; map_revealed_omts</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01705">character.h:1705</a></div></div>
<div class="ttc" id="aclassCharacter_html_abf9fb0e53589386ea19d64a377ad6247"><div class="ttname"><a href="classCharacter.html#abf9fb0e53589386ea19d64a377ad6247">Character::omt_path</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_omt &gt; omt_path</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01703">character.h:1703</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad00f56641a33efb961a32f1651b83541"><div class="ttname"><a href="classCharacter.html#ad00f56641a33efb961a32f1651b83541">Character::symbol_color</a></div><div class="ttdeci">nc_color symbol_color() const override</div><div class="ttdoc">Creature symbol background color.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05745">character.cpp:5745</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae47514f140700c67ea21ccbadf66d106"><div class="ttname"><a href="classCharacter.html#ae47514f140700c67ea21ccbadf66d106">Character::get_name</a></div><div class="ttdeci">std::string get_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05731">character.cpp:5731</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08935">character.cpp:8935</a></div></div>
<div class="ttc" id="aclassCreature_html_a14ecbd8f044628463354090421a805b4"><div class="ttname"><a href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the creature in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03242">creature.cpp:3242</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a88c28bc08aa3e0d6fa1b187cee97d1c4"><div class="ttname"><a href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">Creature::posz</a></div><div class="ttdeci">int posz() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00317">creature.h:317</a></div></div>
<div class="ttc" id="aclassautodrive__activity__actor_html"><div class="ttname"><a href="classautodrive__activity__actor.html">autodrive_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l00113">activity_actor_definitions.h:114</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclassavatar_html_a9c40a50429a13a1a3d0e7d38d93e72f4"><div class="ttname"><a href="classavatar.html#a9c40a50429a13a1a3d0e7d38d93e72f4">avatar::get_active_mission_target</a></div><div class="ttdeci">tripoint_abs_omt get_active_mission_target() const</div><div class="ttdoc">Returns the target of the active mission or overmap::invalid_tripoint if there is no active mission.</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00339">avatar.cpp:339</a></div></div>
<div class="ttc" id="aclassavatar_html_ab9d7689c7af3f73b1adc4c434b426d29"><div class="ttname"><a href="classavatar.html#ab9d7689c7af3f73b1adc4c434b426d29">avatar::get_active_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; get_active_missions() const</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00311">avatar.cpp:311</a></div></div>
<div class="ttc" id="aclassavatar_html_afe96b5b38706039d754e6d9e052217bb"><div class="ttname"><a href="classavatar.html#afe96b5b38706039d754e6d9e052217bb">avatar::reset_move_mode</a></div><div class="ttdeci">void reset_move_mode()</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l01358">avatar.cpp:1358</a></div></div>
<div class="ttc" id="aclassbackground__pane_html"><div class="ttname"><a href="classbackground__pane.html">background_pane</a></div><div class="ttdoc">Helper class that fills the background and obscures all UIs below.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00260">ui_manager.h:261</a></div></div>
<div class="ttc" id="aclasscata__variant_html_afd637bc7ebb6d353c7192ffd46add95a"><div class="ttname"><a href="classcata__variant.html#afd637bc7ebb6d353c7192ffd46add95a">cata_variant::from_string</a></div><div class="ttdeci">static cata_variant from_string(cata_variant_type t, std::string &amp;&amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="cata__variant_8h_source.html#l00466">cata_variant.h:466</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasscharacter__id_html"><div class="ttname"><a href="classcharacter__id.html">character_id</a></div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00009">character_id.h:10</a></div></div>
<div class="ttc" id="aclasscolor__manager_html"><div class="ttname"><a href="classcolor__manager.html">color_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00413">color.h:414</a></div></div>
<div class="ttc" id="aclasscolor__manager_html_a69525b119cb42562d02a07228abb840f"><div class="ttname"><a href="classcolor__manager.html#a69525b119cb42562d02a07228abb840f">color_manager::get</a></div><div class="ttdeci">nc_color get(color_id id) const</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00147">color.cpp:147</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__base_html_abadb043d4129616ea20396a03e046301"><div class="ttname"><a href="classcoords_1_1coord__point__base.html#abadb043d4129616ea20396a03e046301">coords::coord_point_base::to_string</a></div><div class="ttdeci">std::string to_string() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00121">coordinates.h:121</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a0e6b02267065e16149a37d98991f653e"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">coords::coord_point_mut::y</a></div><div class="ttdeci">constexpr auto y() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00164">coordinates.h:164</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a0fa1f1039d6d6f5b5f744a5d3d039a02"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">coords::coord_point_mut::x</a></div><div class="ttdeci">constexpr auto x() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00161">coordinates.h:161</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a5a5454f4ce144b5b3a84c2698a54ab8c"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a5a5454f4ce144b5b3a84c2698a54ab8c">coords::coord_point_mut::raw</a></div><div class="ttdeci">constexpr const Point &amp; raw() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00157">coordinates.h:157</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_aa94b8bd33e85ce94a3634e6e27ab0cdd"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">coords::coord_point_mut::z</a></div><div class="ttdeci">constexpr auto z() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00167">coordinates.h:167</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt;</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html_a7b5804160d1d0e69a9f2fba098bea723"><div class="ttname"><a href="classcoords_1_1coord__point.html#a7b5804160d1d0e69a9f2fba098bea723">coords::coord_point::xy</a></div><div class="ttdeci">constexpr auto xy() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00273">coordinates.h:273</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8h_source.html#l00039">input_context.h:40</a></div></div>
<div class="ttc" id="aclassinput__context_html_a0969b1d951fbc9e4c9707583228d5a38"><div class="ttname"><a href="classinput__context.html#a0969b1d951fbc9e4c9707583228d5a38">input_context::get_action_name</a></div><div class="ttdeci">std::string get_action_name(const std::string &amp;action_id) const</div><div class="ttdoc">Get the human-readable name for an action.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01196">input_context.cpp:1196</a></div></div>
<div class="ttc" id="aclassinput__context_html_a0acd9546d02155a0b3a270560f20713a"><div class="ttname"><a href="classinput__context.html#a0acd9546d02155a0b3a270560f20713a">input_context::get_direction</a></div><div class="ttdeci">std::optional&lt; tripoint &gt; get_direction(const std::string &amp;action) const</div><div class="ttdoc">Convert a direction action (UP, DOWN etc) to a delta vector.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00551">input_context.cpp:551</a></div></div>
<div class="ttc" id="aclassinput__context_html_a26d796fbe876b21a2d8b85eb5d59195f"><div class="ttname"><a href="classinput__context.html#a26d796fbe876b21a2d8b85eb5d59195f">input_context::register_directions</a></div><div class="ttdeci">void register_directions()</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00492">input_context.cpp:492</a></div></div>
<div class="ttc" id="aclassinput__context_html_a43aa2fcd42cabfd04056def8986bc927"><div class="ttname"><a href="classinput__context.html#a43aa2fcd42cabfd04056def8986bc927">input_context::handle_input</a></div><div class="ttdeci">const std::string &amp; handle_input()</div><div class="ttdoc">Handles input and returns the next action in the queue.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00427">input_context.cpp:427</a></div></div>
<div class="ttc" id="aclassinput__context_html_a5f99b201990b09a6809f183a9cee5ab6"><div class="ttname"><a href="classinput__context.html#a5f99b201990b09a6809f183a9cee5ab6">input_context::input_to_action</a></div><div class="ttdeci">const std::string &amp; input_to_action(const input_event &amp;inp) const</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00138">input_context.cpp:138</a></div></div>
<div class="ttc" id="aclassinput__context_html_a78a04063aa3ae17a4597ee7dcc584bfa"><div class="ttname"><a href="classinput__context.html#a78a04063aa3ae17a4597ee7dcc584bfa">input_context::get_coordinates</a></div><div class="ttdeci">std::optional&lt; tripoint &gt; get_coordinates(const catacurses::window &amp;capture_win_, const point &amp;offset=point_zero, bool center_cursor=false) const</div><div class="ttdoc">Get the coordinates associated with the last mouse click (if any).</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l01144">input_context.cpp:1144</a></div></div>
<div class="ttc" id="aclassinput__context_html_abe76d2c284f2a277cbd2f367963fa9ab"><div class="ttname"><a href="classinput__context.html#abe76d2c284f2a277cbd2f367963fa9ab">input_context::get_desc</a></div><div class="ttdeci">std::string get_desc(const std::string &amp;action_descriptor, unsigned int max_limit=0, const input_event_filter &amp;evt_filter=allow_all_keys) const</div><div class="ttdoc">Get a description text for the key/other input method associated with the given action.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00269">input_context.cpp:269</a></div></div>
<div class="ttc" id="aclassinput__context_html_ac66ac124d5c0ac5637b5806f124d428f"><div class="ttname"><a href="classinput__context.html#ac66ac124d5c0ac5637b5806f124d428f">input_context::register_action</a></div><div class="ttdeci">void register_action(const std::string &amp;action_descriptor)</div><div class="ttdoc">Register an action with this input context.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00180">input_context.cpp:180</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; oter_t &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03077">map.cpp:3077</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassmapbuffer_html_a735a8ab72394141749562047e7f9ca55"><div class="ttname"><a href="classmapbuffer.html#a735a8ab72394141749562047e7f9ca55">mapbuffer::lookup_submap</a></div><div class="ttdeci">submap * lookup_submap(const tripoint_abs_sm &amp;p)</div><div class="ttdoc">Get a submap stored in this buffer.</div><div class="ttdef"><b>Definition:</b> <a href="mapbuffer_8cpp_source.html#l00104">mapbuffer.cpp:104</a></div></div>
<div class="ttc" id="aclassmapgen__parameter_html"><div class="ttname"><a href="classmapgen__parameter.html">mapgen_parameter</a></div><div class="ttdef"><b>Definition:</b> <a href="mapgen__parameter_8h_source.html#l00030">mapgen_parameter.h:31</a></div></div>
<div class="ttc" id="aclassmapgen__parameter_html_a7d71bab1e5403fea80279ad0facfd867"><div class="ttname"><a href="classmapgen__parameter.html#a7d71bab1e5403fea80279ad0facfd867">mapgen_parameter::all_possible_values</a></div><div class="ttdeci">std::vector&lt; std::string &gt; all_possible_values(const mapgen_parameters &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01644">mapgen.cpp:1644</a></div></div>
<div class="ttc" id="aclassmapgen__parameter_html_adf237acc2a926e3379c60409771977f0"><div class="ttname"><a href="classmapgen__parameter.html#adf237acc2a926e3379c60409771977f0">mapgen_parameter::type</a></div><div class="ttdeci">cata_variant_type type() const</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l01634">mapgen.cpp:1634</a></div></div>
<div class="ttc" id="aclassmission_html"><div class="ttname"><a href="classmission.html">mission</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00272">mission.h:273</a></div></div>
<div class="ttc" id="aclassmission_html_a13e39f34d8079f690e671c6dc0f794cd"><div class="ttname"><a href="classmission.html#a13e39f34d8079f690e671c6dc0f794cd">mission::get_target</a></div><div class="ttdeci">const tripoint_abs_omt &amp; get_target() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00709">mission.cpp:709</a></div></div>
<div class="ttc" id="aclassmission_html_aee1d08a5297b5b9117cf5bf33b960c53"><div class="ttname"><a href="classmission.html#aee1d08a5297b5b9117cf5bf33b960c53">mission::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00824">mission.cpp:824</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassnpc_html_a0a8acc925f97e3b0233e6dbd507d99c8"><div class="ttname"><a href="classnpc.html#a0a8acc925f97e3b0233e6dbd507d99c8">npc::mission</a></div><div class="ttdeci">npc_mission mission</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01400">npc.h:1400</a></div></div>
<div class="ttc" id="aclassnpc_html_a55e8bac9f932d4bf3e41e025331829ae"><div class="ttname"><a href="classnpc.html#a55e8bac9f932d4bf3e41e025331829ae">npc::marked_for_death</a></div><div class="ttdeci">bool marked_for_death</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01409">npc.h:1409</a></div></div>
<div class="ttc" id="aclassnpc_html_acf1b8241a8bd376dd32403cba43bbbc8"><div class="ttname"><a href="classnpc.html#acf1b8241a8bd376dd32403cba43bbbc8">npc::basic_symbol_color</a></div><div class="ttdeci">nc_color basic_symbol_color() const override</div><div class="ttdoc">Creature symbol color.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02556">npc.cpp:2556</a></div></div>
<div class="ttc" id="aclasson__out__of__scope_html"><div class="ttname"><a href="classon__out__of__scope.html">on_out_of_scope</a></div><div class="ttdef"><b>Definition:</b> <a href="cata__scope__helpers_8h_source.html#l00007">cata_scope_helpers.h:8</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aclassovermap__special_html"><div class="ttname"><a href="classovermap__special.html">overmap_special</a></div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00545">omdata.h:546</a></div></div>
<div class="ttc" id="aclassovermap__special_html_a0dcb9609bca70e3cdcb9e6ae6734a636"><div class="ttname"><a href="classovermap__special.html#a0dcb9609bca70e3cdcb9e6ae6734a636">overmap_special::preview_terrains</a></div><div class="ttdeci">std::vector&lt; overmap_special_terrain &gt; preview_terrains() const</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l02699">overmap.cpp:2699</a></div></div>
<div class="ttc" id="aclassovermap__special_html_aae533ac4ea687db241db7619f6b318f9"><div class="ttname"><a href="classovermap__special.html#aae533ac4ea687db241db7619f6b318f9">overmap_special::id</a></div><div class="ttdeci">overmap_special_id id</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00598">omdata.h:598</a></div></div>
<div class="ttc" id="aclassovermap__special_html_adfba1697d4cd6f81930856f1eb55a79c"><div class="ttname"><a href="classovermap__special.html#adfba1697d4cd6f81930856f1eb55a79c">overmap_special::is_rotatable</a></div><div class="ttdeci">bool is_rotatable() const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00556">omdata.h:556</a></div></div>
<div class="ttc" id="aclassovermap__special_html_af4fc374165c2520ca03a2c396f6e113f"><div class="ttname"><a href="classovermap__special.html#af4fc374165c2520ca03a2c396f6e113f">overmap_special::get_params</a></div><div class="ttdeci">const mapgen_parameters &amp; get_params() const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00593">omdata.h:593</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html">overmap_ui::map_notes_callback</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00343">overmap_ui.cpp:344</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_a0746c85dcfaf38bf8a415d8c0f6da146"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#a0746c85dcfaf38bf8a415d8c0f6da146">overmap_ui::map_notes_callback::w_preview_title</a></div><div class="ttdeci">catacurses::window w_preview_title</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00351">overmap_ui.cpp:351</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_a3b58af3ca8513e24c30f5982d5c06d14"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#a3b58af3ca8513e24c30f5982d5c06d14">overmap_ui::map_notes_callback::point_selected</a></div><div class="ttdeci">point_abs_omt point_selected()</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00356">overmap_ui.cpp:356</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_a59c76e5b6e308f0dddb1c4478a86ddcc"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#a59c76e5b6e308f0dddb1c4478a86ddcc">overmap_ui::map_notes_callback::w_preview</a></div><div class="ttdeci">catacurses::window w_preview</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00350">overmap_ui.cpp:350</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_a648644ef8dca74b431cb65fe558f01f7"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#a648644ef8dca74b431cb65fe558f01f7">overmap_ui::map_notes_callback::_z</a></div><div class="ttdeci">int _z</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00347">overmap_ui.cpp:347</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_a884959473d0d8c9d7d44b01c30b661df"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#a884959473d0d8c9d7d44b01c30b661df">overmap_ui::map_notes_callback::map_notes_callback</a></div><div class="ttdeci">map_notes_callback(const overmapbuffer::t_notes_vector &amp;notes, int z)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00363">overmap_ui.cpp:363</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_a9f4413397f36068235928ebe672a6dd9"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#a9f4413397f36068235928ebe672a6dd9">overmap_ui::map_notes_callback::_selected</a></div><div class="ttdeci">int _selected</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00348">overmap_ui.cpp:348</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_ab9bb2f7d5cea76cd6e5db55f55451412"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#ab9bb2f7d5cea76cd6e5db55f55451412">overmap_ui::map_notes_callback::preview_windows</a></div><div class="ttdeci">std::tuple&lt; catacurses::window *, catacurses::window *, catacurses::window * &gt; preview_windows</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00353">overmap_ui.cpp:353</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_aba9a8d5a32c111c192e25d49469b9302"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#aba9a8d5a32c111c192e25d49469b9302">overmap_ui::map_notes_callback::ui</a></div><div class="ttdeci">ui_adaptor ui</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00354">overmap_ui.cpp:354</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_ad5d512a6c6c4eb10852d2075fb4dcccc"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#ad5d512a6c6c4eb10852d2075fb4dcccc">overmap_ui::map_notes_callback::note_location</a></div><div class="ttdeci">tripoint_abs_omt note_location()</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00359">overmap_ui.cpp:359</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_aebe5030a131f6b2e72d5bb2ce144b463"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#aebe5030a131f6b2e72d5bb2ce144b463">overmap_ui::map_notes_callback::_notes</a></div><div class="ttdeci">overmapbuffer::t_notes_vector _notes</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00346">overmap_ui.cpp:346</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_aee03c590fa4a0b2d750eff52c01df7f7"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#aee03c590fa4a0b2d750eff52c01df7f7">overmap_ui::map_notes_callback::w_preview_map</a></div><div class="ttdeci">catacurses::window w_preview_map</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00352">overmap_ui.cpp:352</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_af0ed684e6cc828e2025913b6dfa1bd94"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#af0ed684e6cc828e2025913b6dfa1bd94">overmap_ui::map_notes_callback::select</a></div><div class="ttdeci">void select(uilist *menu) override</div><div class="ttdoc">After a new item is selected, call this once.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00439">overmap_ui.cpp:439</a></div></div>
<div class="ttc" id="aclassovermap__ui_1_1map__notes__callback_html_af2a12903964e7a2412e53dfaf03ce3d8"><div class="ttname"><a href="classovermap__ui_1_1map__notes__callback.html#af2a12903964e7a2412e53dfaf03ce3d8">overmap_ui::map_notes_callback::key</a></div><div class="ttdeci">bool key(const input_context &amp;ctxt, const input_event &amp;event, int, uilist *menu) override</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00386">overmap_ui.cpp:386</a></div></div>
<div class="ttc" id="aclassovermap_html_a0210211a5de4b81cee36a3dd65ec2821"><div class="ttname"><a href="classovermap.html#a0210211a5de4b81cee36a3dd65ec2821">overmap::seen</a></div><div class="ttdeci">bool seen(const tripoint_om_omt &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l03025">overmap.cpp:3025</a></div></div>
<div class="ttc" id="aclassovermap_html_a2444f100ebbc34110bc1749c484e0f2c"><div class="ttname"><a href="classovermap.html#a2444f100ebbc34110bc1749c484e0f2c">overmap::find_notes</a></div><div class="ttdeci">std::vector&lt; point_abs_omt &gt; find_notes(int z, const std::string &amp;text)</div><div class="ttdoc">Return a vector containing the absolute coordinates of every matching note on the current z level of ...</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l03212">overmap.cpp:3212</a></div></div>
<div class="ttc" id="aclassovermap_html_a24d474a8edb1dba4f644dbef56829538"><div class="ttname"><a href="classovermap.html#a24d474a8edb1dba4f644dbef56829538">overmap::pos</a></div><div class="ttdeci">const point_abs_om &amp; pos() const</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00200">overmap.h:200</a></div></div>
<div class="ttc" id="aclassovermap_html_a9e25d23d53cbf2270939de3c9968ca8e"><div class="ttname"><a href="classovermap.html#a9e25d23d53cbf2270939de3c9968ca8e">overmap::ter</a></div><div class="ttdeci">const oter_id &amp; ter(const tripoint_om_omt &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l02966">overmap.cpp:2966</a></div></div>
<div class="ttc" id="aclassovermap_html_aa0999e49bed45fc1eb5e30498b8934f4"><div class="ttname"><a href="classovermap.html#aa0999e49bed45fc1eb5e30498b8934f4">overmap::invalid_tripoint</a></div><div class="ttdeci">static constexpr tripoint_abs_omt invalid_tripoint</div><div class="ttdoc">Dummy value, used to indicate that a point returned by a function is invalid.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00277">overmap.h:277</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a0b8bef1667c69f597978afadac7a6e84"><div class="ttname"><a href="classovermapbuffer.html#a0b8bef1667c69f597978afadac7a6e84">overmapbuffer::get_vehicle</a></div><div class="ttdeci">std::vector&lt; om_vehicle &gt; get_vehicle(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00506">overmapbuffer.cpp:506</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a0e52f9fbb9ce04d1611ca012a836e212"><div class="ttname"><a href="classovermapbuffer.html#a0e52f9fbb9ce04d1611ca012a836e212">overmapbuffer::seen</a></div><div class="ttdeci">bool seen(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00766">overmapbuffer.cpp:766</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a1dbfde514340fe86001b8327829f931d"><div class="ttname"><a href="classovermapbuffer.html#a1dbfde514340fe86001b8327829f931d">overmapbuffer::t_notes_vector</a></div><div class="ttdeci">std::vector&lt; t_point_with_note &gt; t_notes_vector</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00407">overmapbuffer.h:407</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a1f6fc805716b6a3ef98294560548ca8a"><div class="ttname"><a href="classovermapbuffer.html#a1f6fc805716b6a3ef98294560548ca8a">overmapbuffer::place_special</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; tripoint_abs_omt &gt; &gt; place_special(const overmap_special &amp;special, const tripoint_abs_omt &amp;origin, om_direction::type dir, bool must_be_unexplored, bool force)</div><div class="ttdoc">Place the specified overmap special directly on the map using the provided location and rotation.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01669">overmapbuffer.cpp:1669</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a232145b434bc1f83bc6df7221d15310b"><div class="ttname"><a href="classovermapbuffer.html#a232145b434bc1f83bc6df7221d15310b">overmapbuffer::ter_existing</a></div><div class="ttdeci">const oter_id &amp; ter_existing(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Returns the overmap terrain at the given OMT coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00786">overmapbuffer.cpp:786</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a23de1360c9412f1e051e82cb2ecb0059"><div class="ttname"><a href="classovermapbuffer.html#a23de1360c9412f1e051e82cb2ecb0059">overmapbuffer::get_npcs_near_player</a></div><div class="ttdeci">std::vector&lt; shared_ptr_fast&lt; npc &gt; &gt; get_npcs_near_player(int radius)</div><div class="ttdoc">Same as get_npcs_near(int,int,int,int) but uses player position as center.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01293">overmapbuffer.cpp:1293</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a244cfaabef2c2d359a9fe2c3d84afbb5"><div class="ttname"><a href="classovermapbuffer.html#a244cfaabef2c2d359a9fe2c3d84afbb5">overmapbuffer::get_cities_near</a></div><div class="ttdeci">std::vector&lt; city_reference &gt; get_cities_near(const tripoint_abs_sm &amp;location, int radius)</div><div class="ttdoc">Find all cities within the specified radius.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01450">overmapbuffer.cpp:1450</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a2508c1962e125f20509e6e5c13cf298f"><div class="ttname"><a href="classovermapbuffer.html#a2508c1962e125f20509e6e5c13cf298f">overmapbuffer::note</a></div><div class="ttdeci">const std::string &amp; note(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00391">overmapbuffer.cpp:391</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a26022593af819d49eed700bb6c72abc5"><div class="ttname"><a href="classovermapbuffer.html#a26022593af819d49eed700bb6c72abc5">overmapbuffer::get_existing_om_global</a></div><div class="ttdeci">overmap_with_local_coords get_existing_om_global(const point_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00345">overmapbuffer.cpp:345</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a268c20e273a6f8939754f474d70ebd45"><div class="ttname"><a href="classovermapbuffer.html#a268c20e273a6f8939754f474d70ebd45">overmapbuffer::join_used_at</a></div><div class="ttdeci">std::string * join_used_at(const std::pair&lt; tripoint_abs_omt, cube_direction &gt; &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00808">overmapbuffer.cpp:808</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a3d05210f2ba34eb4e4908d4791691d84"><div class="ttname"><a href="classovermapbuffer.html#a3d05210f2ba34eb4e4908d4791691d84">overmapbuffer::add_note</a></div><div class="ttdeci">void add_note(const tripoint_abs_omt &amp;, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00258">overmapbuffer.cpp:258</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a47320c7add37992ef2ea8da5696b4ed7"><div class="ttname"><a href="classovermapbuffer.html#a47320c7add37992ef2ea8da5696b4ed7">overmapbuffer::set_seen</a></div><div class="ttdeci">void set_seen(const tripoint_abs_omt &amp;p, bool seen=true)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00774">overmapbuffer.cpp:774</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a50a380696bceb21a2875b1154783e8db"><div class="ttname"><a href="classovermapbuffer.html#a50a380696bceb21a2875b1154783e8db">overmapbuffer::mark_note_dangerous</a></div><div class="ttdeci">void mark_note_dangerous(const tripoint_abs_omt &amp;p, int radius, bool is_dangerous)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00272">overmapbuffer.cpp:272</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a5b59e43dc5c0e4f7bce3501dde28c20a"><div class="ttname"><a href="classovermapbuffer.html#a5b59e43dc5c0e4f7bce3501dde28c20a">overmapbuffer::get_travel_path</a></div><div class="ttdeci">std::vector&lt; tripoint_abs_omt &gt; get_travel_path(const tripoint_abs_omt &amp;src, const tripoint_abs_omt &amp;dest, const overmap_path_params &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00931">overmapbuffer.cpp:931</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a5f03ee97ee03420e5eca686b8221e200"><div class="ttname"><a href="classovermapbuffer.html#a5f03ee97ee03420e5eca686b8221e200">overmapbuffer::get_horde_size</a></div><div class="ttdeci">int get_horde_size(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00450">overmapbuffer.cpp:450</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a64a2d80b914e4c75a393ed4d799a730b"><div class="ttname"><a href="classovermapbuffer.html#a64a2d80b914e4c75a393ed4d799a730b">overmapbuffer::get_camps_near</a></div><div class="ttdeci">std::vector&lt; camp_reference &gt; get_camps_near(const tripoint_abs_sm &amp;location, int radius)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01416">overmapbuffer.cpp:1416</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a6c1b7ebcbef5aba523f3af70a367bc47"><div class="ttname"><a href="classovermapbuffer.html#a6c1b7ebcbef5aba523f3af70a367bc47">overmapbuffer::is_explored</a></div><div class="ttdeci">bool is_explored(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00425">overmapbuffer.cpp:425</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a87373fbee22f6a20e0042b495a224e1f"><div class="ttname"><a href="classovermapbuffer.html#a87373fbee22f6a20e0042b495a224e1f">overmapbuffer::note_danger_radius</a></div><div class="ttdeci">int note_danger_radius(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00400">overmapbuffer.cpp:400</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a8cdc16cf2845743baf233b3d0ff06a55"><div class="ttname"><a href="classovermapbuffer.html#a8cdc16cf2845743baf233b3d0ff06a55">overmapbuffer::get_description_at</a></div><div class="ttdeci">std::string get_description_at(const tripoint_abs_sm &amp;where)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01503">overmapbuffer.cpp:1503</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a8e5a337fdc7c100ee0d2eefd9978775d"><div class="ttname"><a href="classovermapbuffer.html#a8e5a337fdc7c100ee0d2eefd9978775d">overmapbuffer::get_settings</a></div><div class="ttdeci">const regional_settings &amp; get_settings(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00252">overmapbuffer.cpp:252</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a9473dfa5b65790d6d67c4544c7961911"><div class="ttname"><a href="classovermapbuffer.html#a9473dfa5b65790d6d67c4544c7961911">overmapbuffer::overmap_special_at</a></div><div class="ttdeci">std::optional&lt; overmap_special_id &gt; overmap_special_at(const tripoint_abs_omt &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01029">overmapbuffer.cpp:1029</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_a9577ecd3951a2244525005618d0f0c6f"><div class="ttname"><a href="classovermapbuffer.html#a9577ecd3951a2244525005618d0f0c6f">overmapbuffer::get_vehicle_ter_sym</a></div><div class="ttdeci">std::string get_vehicle_ter_sym(const tripoint_abs_omt &amp;omt)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00521">overmapbuffer.cpp:521</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aa9fbf966291f6b82de9c540262324aba"><div class="ttname"><a href="classovermapbuffer.html#aa9fbf966291f6b82de9c540262324aba">overmapbuffer::ter</a></div><div class="ttdeci">const oter_id &amp; ter(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Returns the overmap terrain at the given OMT coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00780">overmapbuffer.cpp:780</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aac77ae4ff8b1cb0f8f51bcf0497d40af"><div class="ttname"><a href="classovermapbuffer.html#aac77ae4ff8b1cb0f8f51bcf0497d40af">overmapbuffer::has_note</a></div><div class="ttdeci">bool has_note(const tripoint_abs_omt &amp;p)</div><div class="ttdoc">Uses global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00375">overmapbuffer.cpp:375</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aac8249284c8cd4887867cbc47d84ff57"><div class="ttname"><a href="classovermapbuffer.html#aac8249284c8cd4887867cbc47d84ff57">overmapbuffer::scent_at</a></div><div class="ttdeci">scent_trace scent_at(const tripoint_abs_omt &amp;pos)</div><div class="ttdoc">Method to retrieve the scent at a given location.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00686">overmapbuffer.cpp:686</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abda38bce9d78ce58ba00f38731564c61"><div class="ttname"><a href="classovermapbuffer.html#abda38bce9d78ce58ba00f38731564c61">overmapbuffer::is_marked_dangerous</a></div><div class="ttdeci">bool is_marked_dangerous(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00383">overmapbuffer.cpp:383</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abe3397983bdf2419ede84ee43bdf587f"><div class="ttname"><a href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">overmapbuffer::find_npc</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; find_npc(character_id id)</div><div class="ttdoc">Find the npc with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer.cpp:1234</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abfe64342d71e6225d0aae92096d7e4ad"><div class="ttname"><a href="classovermapbuffer.html#abfe64342d71e6225d0aae92096d7e4ad">overmapbuffer::has_vehicle</a></div><div class="ttdeci">bool has_vehicle(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00490">overmapbuffer.cpp:490</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ac1827a678e822c8c9d1d4cae79b032c7"><div class="ttname"><a href="classovermapbuffer.html#ac1827a678e822c8c9d1d4cae79b032c7">overmapbuffer::ter_set</a></div><div class="ttdeci">void ter_set(const tripoint_abs_omt &amp;p, const oter_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00796">overmapbuffer.cpp:796</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ac1bfe822103eac071b6cae195c7bee86"><div class="ttname"><a href="classovermapbuffer.html#ac1bfe822103eac071b6cae195c7bee86">overmapbuffer::toggle_explored</a></div><div class="ttdeci">void toggle_explored(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00433">overmapbuffer.cpp:433</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ac2ac6fb871fc146ec094b2975bd2c746"><div class="ttname"><a href="classovermapbuffer.html#ac2ac6fb871fc146ec094b2975bd2c746">overmapbuffer::monsters_at</a></div><div class="ttdeci">std::vector&lt; mongroup * &gt; monsters_at(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00634">overmapbuffer.cpp:634</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ad8dadf41c2ab452a2a506afce4dab982"><div class="ttname"><a href="classovermapbuffer.html#ad8dadf41c2ab452a2a506afce4dab982">overmapbuffer::delete_note</a></div><div class="ttdeci">void delete_note(const tripoint_abs_omt &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00264">overmapbuffer.cpp:264</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_adf11a26ca843eb3b4624fced9a29a900"><div class="ttname"><a href="classovermapbuffer.html#adf11a26ca843eb3b4624fced9a29a900">overmapbuffer::get_all_notes</a></div><div class="ttdeci">t_notes_vector get_all_notes(int z)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00408">overmapbuffer.h:408</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_ae5789098e078c16d272e2383f6af35ec"><div class="ttname"><a href="classovermapbuffer.html#ae5789098e078c16d272e2383f6af35ec">overmapbuffer::mapgen_args</a></div><div class="ttdeci">std::optional&lt; mapgen_arguments &gt; * mapgen_args(const tripoint_abs_omt &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00802">overmapbuffer.cpp:802</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_aea5b64a6fdbcd031743a9ee008a979c1"><div class="ttname"><a href="classovermapbuffer.html#aea5b64a6fdbcd031743a9ee008a979c1">overmapbuffer::predecessors</a></div><div class="ttdeci">std::vector&lt; oter_id &gt; predecessors(const tripoint_abs_omt &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00814">overmapbuffer.cpp:814</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00048">ret_val.h:49</a></div></div>
<div class="ttc" id="aclassscent__trace_html"><div class="ttname"><a href="classscent__trace.html">scent_trace</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__types_8h_source.html#l00007">overmap_types.h:8</a></div></div>
<div class="ttc" id="aclassscent__trace_html_a8844ead2e6d3c42b4d208bf412d750cc"><div class="ttname"><a href="classscent__trace.html#a8844ead2e6d3c42b4d208bf412d750cc">scent_trace::initial_strength</a></div><div class="ttdeci">int initial_strength</div><div class="ttdef"><b>Definition:</b> <a href="overmap__types_8h_source.html#l00016">overmap_types.h:16</a></div></div>
<div class="ttc" id="aclassscent__trace_html_afaae5b5e3a84f4a1d71182c000303018"><div class="ttname"><a href="classscent__trace.html#afaae5b5e3a84f4a1d71182c000303018">scent_trace::creation_time</a></div><div class="ttdeci">time_point creation_time</div><div class="ttdef"><b>Definition:</b> <a href="overmap__types_8h_source.html#l00015">overmap_types.h:15</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; activity_type &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; oter_t &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; oter_t &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00048">string_input_popup.h:49</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a1362802e2c62e8ecd7e4a9a3ad679b5e"><div class="ttname"><a href="classstring__input__popup.html#a1362802e2c62e8ecd7e4a9a3ad679b5e">string_input_popup::identifier</a></div><div class="ttdeci">string_input_popup &amp; identifier(const std::string &amp;value)</div><div class="ttdoc">An identifier to be used to store / get the input history.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00144">string_input_popup.h:144</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a42554f299ffa809034aa4cb4486e365b"><div class="ttname"><a href="classstring__input__popup.html#a42554f299ffa809034aa4cb4486e365b">string_input_popup::text</a></div><div class="ttdeci">string_input_popup &amp; text(const std::string &amp;value)</div><div class="ttdoc">Set / get the text that can be modified by the user.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00666">string_input_popup.cpp:666</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a4e92a00b7b63abec83fcd4755470b52e"><div class="ttname"><a href="classstring__input__popup.html#a4e92a00b7b63abec83fcd4755470b52e">string_input_popup::canceled</a></div><div class="ttdeci">bool canceled() const</div><div class="ttdoc">Whether the input box was canceled via the ESCAPE key (or similar) If the input was finished via the ...</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00255">string_input_popup.h:255</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a524e435905e68a4adc9aa085cdcc72fc"><div class="ttname"><a href="classstring__input__popup.html#a524e435905e68a4adc9aa085cdcc72fc">string_input_popup::confirmed</a></div><div class="ttdeci">bool confirmed() const</div><div class="ttdoc">Returns true if query was finished via the ENTER key.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00261">string_input_popup.h:261</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a697f226af763180589af061a1b62cb81"><div class="ttname"><a href="classstring__input__popup.html#a697f226af763180589af061a1b62cb81">string_input_popup::desc_color</a></div><div class="ttdeci">string_input_popup &amp; desc_color(const nc_color &amp;color)</div><div class="ttdoc">Set / get the foreground color of the description.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00211">string_input_popup.h:211</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_a9f31b9d59f6c7a6b8dc5057e9a12b0d2"><div class="ttname"><a href="classstring__input__popup.html#a9f31b9d59f6c7a6b8dc5057e9a12b0d2">string_input_popup::description</a></div><div class="ttdeci">string_input_popup &amp; description(const std::string &amp;value)</div><div class="ttdoc">Additional help text, shown below the input box.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00132">string_input_popup.h:132</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aa96aa0184abb3c9740c2a48f098eeb8b"><div class="ttname"><a href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00113">string_input_popup.h:113</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ab3273f9bfdeac38fff067187b1d3715c"><div class="ttname"><a href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">string_input_popup::width</a></div><div class="ttdeci">string_input_popup &amp; width(int value)</div><div class="ttdoc">Width (in console cells) of the input field itself.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00151">string_input_popup.h:151</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_acd7eba6664e8c473cc2b754f5d8d2cde"><div class="ttname"><a href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">string_input_popup::query_string</a></div><div class="ttdeci">const std::string &amp; query_string(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00371">string_input_popup.cpp:371</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ad9511310a3e0d119d5587fbf0f877c07"><div class="ttname"><a href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">string_input_popup::query_int</a></div><div class="ttdeci">int query_int(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00361">string_input_popup.cpp:361</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ae0de064b10ae4276fed6823505f13961"><div class="ttname"><a href="classstring__input__popup.html#ae0de064b10ae4276fed6823505f13961">string_input_popup::title_color</a></div><div class="ttdeci">string_input_popup &amp; title_color(const nc_color &amp;color)</div><div class="ttdoc">Set / get the foreground color of the title.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00203">string_input_popup.h:203</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aeadfe72da1297a085088ee4f4d3439da"><div class="ttname"><a href="classstring__input__popup.html#aeadfe72da1297a085088ee4f4d3439da">string_input_popup::string_color</a></div><div class="ttdeci">string_input_popup &amp; string_color(const nc_color &amp;color)</div><div class="ttdoc">Set / get the foreground color of the input string.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00219">string_input_popup.h:219</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_af38cf4937c0dea802498161d1642fb08"><div class="ttname"><a href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">string_input_popup::only_digits</a></div><div class="ttdeci">string_input_popup &amp; only_digits(bool value)</div><div class="ttdoc">If true, any non-digit input cancels the input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00166">string_input_popup.h:166</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00459">calendar.h:460</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00017">translation.h:18</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="aclassui__adaptor_html_a1629a0fbc701c48c974bb374f6cfad16"><div class="ttname"><a href="classui__adaptor.html#a1629a0fbc701c48c974bb374f6cfad16">ui_adaptor::invalidate_ui</a></div><div class="ttdeci">void invalidate_ui() const</div><div class="ttdoc">Invalidate this UI so it gets redrawn the next redraw unless an upper UI completely occludes this UI.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00275">ui_manager.cpp:275</a></div></div>
<div class="ttc" id="aclassuilist__callback_html"><div class="ttname"><a href="classuilist__callback.html">uilist_callback</a></div><div class="ttdoc">uilist::query() handles most input events first, and then passes the event to the callback if it can'...</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00211">ui.h:212</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_a1a7ee6e719a4f1bba45fc94e29a19166"><div class="ttname"><a href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">uilist::desc_enabled</a></div><div class="ttdeci">bool desc_enabled</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00451">ui.h:451</a></div></div>
<div class="ttc" id="aclassuilist_html_a3d9259dd0d2627c4768fb4a17cddf3b6"><div class="ttname"><a href="classuilist.html#a3d9259dd0d2627c4768fb4a17cddf3b6">uilist::input_category</a></div><div class="ttdeci">std::string input_category</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00424">ui.h:424</a></div></div>
<div class="ttc" id="aclassuilist_html_a53ff5990a6abb4e7da837db31afea4b8"><div class="ttname"><a href="classuilist.html#a53ff5990a6abb4e7da837db31afea4b8">uilist::title</a></div><div class="ttdeci">std::string title</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00418">ui.h:418</a></div></div>
<div class="ttc" id="aclassuilist_html_a7d03ff2194b5dc30035d88d77108f6a4"><div class="ttname"><a href="classuilist.html#a7d03ff2194b5dc30035d88d77108f6a4">uilist::w_height_setup</a></div><div class="ttdeci">size_scalar w_height_setup</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00439">ui.h:439</a></div></div>
<div class="ttc" id="aclassuilist_html_a9b6f96a3e12c8b35fe79a2b3e4605d5c"><div class="ttname"><a href="classuilist.html#a9b6f96a3e12c8b35fe79a2b3e4605d5c">uilist::additional_actions</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::string, translation &gt; &gt; additional_actions</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00425">ui.h:425</a></div></div>
<div class="ttc" id="aclassuilist_html_ab0890d56d6d29dd98a0b3f17bb3ebba3"><div class="ttname"><a href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">uilist::selected</a></div><div class="ttdeci">int selected</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00526">ui.h:526</a></div></div>
<div class="ttc" id="aclassuilist_html_ad4f5806d1d8ab3de3af8e3285faf47d6"><div class="ttname"><a href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">uilist::callback</a></div><div class="ttdeci">uilist_callback * callback</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00434">ui.h:434</a></div></div>
<div class="ttc" id="aclassuilist_html_adc2a36afdfede40aa5927aa8c3b0d526"><div class="ttname"><a href="classuilist.html#adc2a36afdfede40aa5927aa8c3b0d526">uilist::addentry_desc</a></div><div class="ttdeci">void addentry_desc(const std::string &amp;txt, const std::string &amp;desc)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01227">ui.cpp:1227</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00419">ui.h:419</a></div></div>
<div class="ttc" id="aclassuilist_html_af5fc2972d43a795c49a632dbcf58132b"><div class="ttname"><a href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">uilist::entries</a></div><div class="ttdeci">std::vector&lt; uilist_entry &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00422">ui.h:422</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a02d98ac2e93fab7c76964d670eccfa01"><div class="ttname"><a href="classuistatedata.html#a02d98ac2e93fab7c76964d670eccfa01">uistatedata::overmap_show_map_notes</a></div><div class="ttdeci">bool overmap_show_map_notes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00133">uistate.h:133</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a05ffc3416939a967544f157d0cabcaa0"><div class="ttname"><a href="classuistatedata.html#a05ffc3416939a967544f157d0cabcaa0">uistatedata::overmap_show_revealed_omts</a></div><div class="ttdeci">bool overmap_show_revealed_omts</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00137">uistate.h:137</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a2e59236e70385fa48ae1f6a2fcfd00b8"><div class="ttname"><a href="classuistatedata.html#a2e59236e70385fa48ae1f6a2fcfd00b8">uistatedata::overmap_show_overlays</a></div><div class="ttdeci">bool overmap_show_overlays</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00132">uistate.h:132</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a432325cca49c585966b1aa07113586b1"><div class="ttname"><a href="classuistatedata.html#a432325cca49c585966b1aa07113586b1">uistatedata::place_special</a></div><div class="ttdeci">const overmap_special * place_special</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00183">uistate.h:183</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a5682c56c267d08f4ebdeeb8fd06b3037"><div class="ttname"><a href="classuistatedata.html#a5682c56c267d08f4ebdeeb8fd06b3037">uistatedata::overmap_show_land_use_codes</a></div><div class="ttdeci">bool overmap_show_land_use_codes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00134">uistate.h:134</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a8a309551318f3f163541f1bb493897d3"><div class="ttname"><a href="classuistatedata.html#a8a309551318f3f163541f1bb493897d3">uistatedata::overmap_show_forest_trails</a></div><div class="ttdeci">bool overmap_show_forest_trails</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00138">uistate.h:138</a></div></div>
<div class="ttc" id="aclassuistatedata_html_a8f4352b686cf6a32a279a41ed70f0d5a"><div class="ttname"><a href="classuistatedata.html#a8f4352b686cf6a32a279a41ed70f0d5a">uistatedata::overmap_blinking</a></div><div class="ttdeci">bool overmap_blinking</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00131">uistate.h:131</a></div></div>
<div class="ttc" id="aclassuistatedata_html_aa3ec3473ece2af731c64b5674792e352"><div class="ttname"><a href="classuistatedata.html#aa3ec3473ece2af731c64b5674792e352">uistatedata::overmap_show_city_labels</a></div><div class="ttdeci">bool overmap_show_city_labels</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00135">uistate.h:135</a></div></div>
<div class="ttc" id="aclassuistatedata_html_ac36e8b4e7bc4fa56ffdf75405e4cef43"><div class="ttname"><a href="classuistatedata.html#ac36e8b4e7bc4fa56ffdf75405e4cef43">uistatedata::overmap_show_hordes</a></div><div class="ttdeci">bool overmap_show_hordes</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00136">uistate.h:136</a></div></div>
<div class="ttc" id="aclassuistatedata_html_ac38c9c089d2623d41325fea93ad9a348"><div class="ttname"><a href="classuistatedata.html#ac38c9c089d2623d41325fea93ad9a348">uistatedata::overmap_debug_weather</a></div><div class="ttdeci">bool overmap_debug_weather</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00140">uistate.h:140</a></div></div>
<div class="ttc" id="aclassuistatedata_html_ad07ed84a135b0adcfe3c6d726dbc2a49"><div class="ttname"><a href="classuistatedata.html#ad07ed84a135b0adcfe3c6d726dbc2a49">uistatedata::overmap_debug_mongroup</a></div><div class="ttdeci">bool overmap_debug_mongroup</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00142">uistate.h:142</a></div></div>
<div class="ttc" id="aclassuistatedata_html_adb7c5f73d4e26f9e12e75161b3570d8a"><div class="ttname"><a href="classuistatedata.html#adb7c5f73d4e26f9e12e75161b3570d8a">uistatedata::overmap_visible_weather</a></div><div class="ttdeci">bool overmap_visible_weather</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00139">uistate.h:139</a></div></div>
<div class="ttc" id="aclassuistatedata_html_ae701b895ac6f22ce2abffbfff8e6c10f"><div class="ttname"><a href="classuistatedata.html#ae701b895ac6f22ce2abffbfff8e6c10f">uistatedata::omedit_rotation</a></div><div class="ttdeci">om_direction::type omedit_rotation</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00184">uistate.h:184</a></div></div>
<div class="ttc" id="aclassuistatedata_html_af3fa4f89a6723702ee6af1d9fce5ba8d"><div class="ttname"><a href="classuistatedata.html#af3fa4f89a6723702ee6af1d9fce5ba8d">uistatedata::place_terrain</a></div><div class="ttdeci">const oter_t * place_terrain</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00182">uistate.h:182</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00801">vehicle.h:802</a></div></div>
<div class="ttc" id="aclassvehicle_html_a1fcf1cb434b8bde3613a2a1981d87775"><div class="ttname"><a href="classvehicle.html#a1fcf1cb434b8bde3613a2a1981d87775">vehicle::average_offroad_rating</a></div><div class="ttdeci">float average_offroad_rating() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04115">vehicle.cpp:4115</a></div></div>
<div class="ttc" id="aclassvehicle_html_a292961ab33a42bf495d19b8692f6f105"><div class="ttname"><a href="classvehicle.html#a292961ab33a42bf495d19b8692f6f105">vehicle::is_rotorcraft</a></div><div class="ttdeci">bool is_rotorcraft() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04391">vehicle.cpp:4391</a></div></div>
<div class="ttc" id="aclassvehicle_html_a578c681656be6b419c62799006008035"><div class="ttname"><a href="classvehicle.html#a578c681656be6b419c62799006008035">vehicle::valid_wheel_config</a></div><div class="ttdeci">bool valid_wheel_config() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04764">vehicle.cpp:4764</a></div></div>
<div class="ttc" id="aclassvehicle_html_a6ac15340cefeea4793448cdb34784011"><div class="ttname"><a href="classvehicle.html#a6ac15340cefeea4793448cdb34784011">vehicle::is_flying_in_air</a></div><div class="ttdeci">bool is_flying_in_air() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04447">vehicle.cpp:4447</a></div></div>
<div class="ttc" id="aclassvehicle_html_a9d41a3f9a7969c40ca5a9b7b5a3fdebe"><div class="ttname"><a href="classvehicle.html#a9d41a3f9a7969c40ca5a9b7b5a3fdebe">vehicle::k_traction</a></div><div class="ttdeci">float k_traction(float wheel_traction_area) const</div><div class="ttdoc">Traction coefficient of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04560">vehicle.cpp:4560</a></div></div>
<div class="ttc" id="aclassvehicle_html_ab738fb6279eb3c198c96dfc2ff1207ff"><div class="ttname"><a href="classvehicle.html#ab738fb6279eb3c198c96dfc2ff1207ff">vehicle::wheel_area</a></div><div class="ttdeci">int wheel_area() const</div><div class="ttdoc">Calculates the sum of the area under the wheels of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04105">vehicle.cpp:4105</a></div></div>
<div class="ttc" id="aclassvehicle_html_ac460f925a21efb9dea1dc0fc2f930609"><div class="ttname"><a href="classvehicle.html#ac460f925a21efb9dea1dc0fc2f930609">vehicle::can_float</a></div><div class="ttdeci">bool can_float() const</div><div class="ttdoc">can_float does the vehicle have freeboard or does it overflow with water?</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04349">vehicle.cpp:4349</a></div></div>
<div class="ttc" id="aclassvehicle_html_ae6df00db578931d74d20de595736b190"><div class="ttname"><a href="classvehicle.html#ae6df00db578931d74d20de595736b190">vehicle::get_points</a></div><div class="ttdeci">const std::set&lt; tripoint &gt; &amp; get_points(bool force_refresh=false, bool no_fake=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07725">vehicle.cpp:7725</a></div></div>
<div class="ttc" id="aclassvehicle_html_aec200af03ac3aa401024514d9cfd60ee"><div class="ttname"><a href="classvehicle.html#aec200af03ac3aa401024514d9cfd60ee">vehicle::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03426">vehicle.cpp:3426</a></div></div>
<div class="ttc" id="aclassweather__generator_html"><div class="ttname"><a href="classweather__generator.html">weather_generator</a></div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8h_source.html#l00028">weather_gen.h:29</a></div></div>
<div class="ttc" id="aclassweather__generator_html_a0b76efe4659d27cbcf9525b4aec4be57"><div class="ttname"><a href="classweather__generator.html#a0b76efe4659d27cbcf9525b4aec4be57">weather_generator::get_weather_conditions</a></div><div class="ttdeci">weather_type_id get_weather_conditions(const tripoint_abs_ms &amp;, const time_point &amp;, unsigned seed) const</div><div class="ttdef"><b>Definition:</b> <a href="weather__gen_8cpp_source.html#l00178">weather_gen.cpp:178</a></div></div>
<div class="ttc" id="aclasszone__data_html"><div class="ttname"><a href="classzone__data.html">zone_data</a></div><div class="ttdoc">These are zones the player can designate.</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00348">clzones.h:349</a></div></div>
<div class="ttc" id="aclasszone__data_html_a5637fa2679a1b0edaa449b2e0d972ca4"><div class="ttname"><a href="classzone__data.html#a5637fa2679a1b0edaa449b2e0d972ca4">zone_data::get_center_point</a></div><div class="ttdeci">tripoint_abs_ms get_center_point() const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l00828">clzones.cpp:828</a></div></div>
<div class="ttc" id="aclasszone__data_html_a8b9b60e7059aa6e04b161eee85f96cc1"><div class="ttname"><a href="classzone__data.html#a8b9b60e7059aa6e04b161eee85f96cc1">zone_data::get_name</a></div><div class="ttdeci">std::string get_name() const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00439">clzones.h:439</a></div></div>
<div class="ttc" id="aclasszone__manager_html"><div class="ttname"><a href="classzone__manager.html">zone_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00512">clzones.h:513</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a54609d51d21bd8f370ee8b59525eb750"><div class="ttname"><a href="classzone__manager.html#a54609d51d21bd8f370ee8b59525eb750">zone_manager::get_manager</a></div><div class="ttdeci">static zone_manager &amp; get_manager()</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00550">clzones.h:550</a></div></div>
<div class="ttc" id="aclzones_8h_html"><div class="ttname"><a href="clzones_8h.html">clzones.h</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a09bab5719dd54ab37a7aeaa343d56ebe"><div class="ttname"><a href="color_8cpp.html#a09bab5719dd54ab37a7aeaa343d56ebe">get_note_color_names</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, note_color &gt; &amp; get_note_color_names()</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00788">color.cpp:788</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00742">color.cpp:742</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a24e6e535a2054805b8c1ab0786e50e66"><div class="ttname"><a href="color_8cpp.html#a24e6e535a2054805b8c1ab0786e50e66">string_from_color</a></div><div class="ttdeci">std::string string_from_color(const nc_color &amp;color)</div><div class="ttdoc">The reverse of color_from_string.</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00667">color.cpp:667</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a8c9d398d812c546baae9a55dbfd22d21"><div class="ttname"><a href="color_8cpp.html#a8c9d398d812c546baae9a55dbfd22d21">red_background</a></div><div class="ttdeci">nc_color red_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00552">color.cpp:552</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a936ada358907519ef76966d7774212e4"><div class="ttname"><a href="color_8cpp.html#a936ada358907519ef76966d7774212e4">get_all_colors</a></div><div class="ttdeci">color_manager &amp; get_all_colors()</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00043">color.cpp:43</a></div></div>
<div class="ttc" id="acolor_8cpp_html_aff00fc176cad5ed150eef669a98c4ae4"><div class="ttname"><a href="color_8cpp.html#aff00fc176cad5ed150eef669a98c4ae4">get_note_color</a></div><div class="ttdeci">nc_color get_note_color(const std::string_view note_id)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00776">color.cpp:776</a></div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7"><div class="ttname"><a href="color_8h.html#a258fd137afc4bfddf230fc6aa9b5c050a7fa3b767c460b54a2be4d49030b349c7">report_color_error::no</a></div><div class="ttdeci">@ no</div></div>
<div class="ttc" id="acolor_8h_html_a2740fd73e1b9184c904d95a580c5ea7b"><div class="ttname"><a href="color_8h.html#a2740fd73e1b9184c904d95a580c5ea7b">c_blue</a></div><div class="ttdeci">#define c_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="acolor_8h_html_a2d8f37367a34632745626276dd4c9da6"><div class="ttname"><a href="color_8h.html#a2d8f37367a34632745626276dd4c9da6">c_black</a></div><div class="ttdeci">#define c_black</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00015">color.h:15</a></div></div>
<div class="ttc" id="acolor_8h_html_a39fc218ef401d918701636583a85a168"><div class="ttname"><a href="color_8h.html#a39fc218ef401d918701636583a85a168">c_magenta</a></div><div class="ttdeci">#define c_magenta</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00023">color.h:23</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a6ae40361a7c556faaf7cbb098307ad41"><div class="ttname"><a href="color_8h.html#a6ae40361a7c556faaf7cbb098307ad41">i_yellow</a></div><div class="ttdeci">#define i_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00064">color.h:64</a></div></div>
<div class="ttc" id="acolor_8h_html_a6c870a877c442090edead1e229b3953d"><div class="ttname"><a href="color_8h.html#a6c870a877c442090edead1e229b3953d">c_pink</a></div><div class="ttdeci">#define c_pink</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00029">color.h:29</a></div></div>
<div class="ttc" id="acolor_8h_html_a78fbe37cc34bf90b4ed6a67306d8b107"><div class="ttname"><a href="color_8h.html#a78fbe37cc34bf90b4ed6a67306d8b107">c_unset</a></div><div class="ttdeci">#define c_unset</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00066">color.h:66</a></div></div>
<div class="ttc" id="acolor_8h_html_a7b00fb82de0be83f6fc5f7965ea86623"><div class="ttname"><a href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a></div><div class="ttdeci">#define c_light_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_a92219025bff743ee69ea01efc094ca44"><div class="ttname"><a href="color_8h.html#a92219025bff743ee69ea01efc094ca44">color_id</a></div><div class="ttdeci">color_id</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00170">color.h:170</a></div></div>
<div class="ttc" id="acolor_8h_html_a95b67111e2e4be7fcac981d2b7b208f6"><div class="ttname"><a href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a></div><div class="ttdeci">#define c_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="acolor_8h_html_ae1c367a24e2835dec371789f03990bb1"><div class="ttname"><a href="color_8h.html#ae1c367a24e2835dec371789f03990bb1">i_white</a></div><div class="ttdeci">#define i_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00050">color.h:50</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="acoordinates_8h_html"><div class="ttname"><a href="coordinates_8h.html">coordinates.h</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a25195af12949fae51d496c1fbd549871"><div class="ttname"><a href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt; tripoint_abs_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00712">coordinates.h:712</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a383a8345c0282c087ef788e4421c3ded"><div class="ttname"><a href="coordinates_8h.html#a383a8345c0282c087ef788e4421c3ded">tripoint_abs_omt</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::omt &gt; tripoint_abs_omt</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00726">coordinates.h:726</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a70d5706d5a84c7c1953498fa0c651b3e"><div class="ttname"><a href="coordinates_8h.html#a70d5706d5a84c7c1953498fa0c651b3e">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00790">coordinates.h:790</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="acoordinates_8h_html_aafe19be6ce6f4788aa78a07a71807739"><div class="ttname"><a href="coordinates_8h.html#aafe19be6ce6f4788aa78a07a71807739">trig_dist</a></div><div class="ttdeci">int trig_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00762">coordinates.h:762</a></div></div>
<div class="ttc" id="acoordinates_8h_html_ae72b84003f239e5e878a036da3758331"><div class="ttname"><a href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::sm &gt; tripoint_abs_sm</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00720">coordinates.h:720</a></div></div>
<div class="ttc" id="acoordinates_8h_html_aefe14c1a57a07846c0292a6814feaa40"><div class="ttname"><a href="coordinates_8h.html#aefe14c1a57a07846c0292a6814feaa40">point_abs_omt</a></div><div class="ttdeci">coords::coord_point&lt; point, coords::origin::abs, coords::omt &gt; point_abs_omt</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00705">coordinates.h:705</a></div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a></div><div class="ttdeci">@ tiny</div></div>
<div class="ttc" id="acube__direction_8h_html_aea62013051f3c8842efa174037dfb5bc"><div class="ttname"><a href="cube__direction_8h.html#aea62013051f3c8842efa174037dfb5bc">cube_direction</a></div><div class="ttdeci">cube_direction</div><div class="ttdef"><b>Definition:</b> <a href="cube__direction_8h_source.html#l00019">cube_direction.h:19</a></div></div>
<div class="ttc" id="acuboid__rectangle_8h_html"><div class="ttname"><a href="cuboid__rectangle_8h.html">cuboid_rectangle.h</a></div></div>
<div class="ttc" id="acursesdef_8h_html"><div class="ttname"><a href="cursesdef_8h.html">cursesdef.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="adescriptions_8cpp_html_aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04"><div class="ttname"><a href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a47afa88cfb198f52733fa3d1f43d7f04">description_target::terrain</a></div><div class="ttdeci">@ terrain</div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="adisplay_8h_html"><div class="ttname"><a href="display_8h.html">display.h</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="aeditmap_8cpp_html_aad8315087dc1d0ef9212680412a20601"><div class="ttname"><a href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a></div><div class="ttdeci">static int symbol(const T_t &amp;t)</div></div>
<div class="ttc" id="aenum__conversions_8h_html"><div class="ttname"><a href="enum__conversions_8h.html">enum_conversions.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9aaff35d0e26ed8830cf708063bac9c834">corner</a></div><div class="ttdeci">@ corner</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00411">enums.h:411</a></div></div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a></div><div class="ttdeci">@ center</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00410">enums.h:410</a></div></div>
<div class="ttc" id="agame_8cpp_html_a764052f34a47c6dee072c67b842a222c"><div class="ttname"><a href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a></div><div class="ttdeci">uistatedata uistate</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00385">game.cpp:385</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="agame_8h_html_a2ec593ae25fa781c4c03384f439a3175"><div class="ttname"><a href="game_8h.html#a2ec593ae25fa781c4c03384f439a3175">DEFAULT_TILESET_ZOOM</a></div><div class="ttdeci">constexpr int DEFAULT_TILESET_ZOOM</div><div class="ttdef"><b>Definition:</b> <a href="game_8h_source.html#l00038">game.h:38</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a282f307f5d51bf229c829518b5ab9232"><div class="ttname"><a href="game__constants_8h.html#a282f307f5d51bf229c829518b5ab9232">OMAPX</a></div><div class="ttdeci">constexpr int OMAPX</div><div class="ttdoc">Size of the overmap.</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00057">game_constants.h:57</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a3984a9476d1edc78e4e7b886a08d4d4b"><div class="ttname"><a href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a></div><div class="ttdeci">constexpr int OVERMAP_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00075">game_constants.h:75</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a8ed501038659216d69578cb28ec3d716"><div class="ttname"><a href="game__constants_8h.html#a8ed501038659216d69578cb28ec3d716">HORDE_VISIBILITY_SIZE</a></div><div class="ttdeci">constexpr int HORDE_VISIBILITY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00146">game_constants.h:146</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aad0eacfa516a8f7e005674027d7640fe"><div class="ttname"><a href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a></div><div class="ttdeci">constexpr int OVERMAP_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00073">game_constants.h:73</a></div></div>
<div class="ttc" id="agame__ui_8cpp_html_a1f3b92598b7c181d58189bf9b2bcfa32"><div class="ttname"><a href="game__ui_8cpp.html#a1f3b92598b7c181d58189bf9b2bcfa32">to_overmap_font_dimension</a></div><div class="ttdeci">void to_overmap_font_dimension(int &amp;, int &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="game__ui_8cpp_source.html#l00023">game_ui.cpp:23</a></div></div>
<div class="ttc" id="agame__ui_8h_html"><div class="ttname"><a href="game__ui_8h.html">game_ui.h</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a43443191f61bb76aca1c2895eea4ad8f"><div class="ttname"><a href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string_view name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00829">generic_factory.h:829</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="agroup__UI_html_ga936e38521cb23329cc6c3b85f90900cd"><div class="ttname"><a href="group__UI.html#ga936e38521cb23329cc6c3b85f90900cd">uilist::color_error</a></div><div class="ttdeci">void color_error(bool report)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00225">ui.cpp:225</a></div></div>
<div class="ttc" id="agroup__UI_html_ga93f381e783bfe32daea2b16b8f99c749"><div class="ttname"><a href="group__UI.html#ga93f381e783bfe32daea2b16b8f99c749">uilist::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">Sane defaults on initialization.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00245">ui.cpp:245</a></div></div>
<div class="ttc" id="ainput__context_8h_html"><div class="ttname"><a href="input__context_8h.html">input_context.h</a></div></div>
<div class="ttc" id="ainput__enums_8h_html_a1f876ea56927f9d927b8783a4c55d7d4a2ab64f4ee279e5baf7ab7059b15e6d12"><div class="ttname"><a href="input__enums_8h.html#a1f876ea56927f9d927b8783a4c55d7d4a2ab64f4ee279e5baf7ab7059b15e6d12">keymod_t::shift</a></div><div class="ttdeci">@ shift</div></div>
<div class="ttc" id="ainput__enums_8h_html_a427553e505f5e242305906ce8a1ca8b5a1a54c1036ccb10069e9c06281d52007a"><div class="ttname"><a href="input__enums_8h.html#a427553e505f5e242305906ce8a1ca8b5a1a54c1036ccb10069e9c06281d52007a">keyboard_mode::keycode</a></div><div class="ttdeci">@ keycode</div></div>
<div class="ttc" id="aline_8cpp_html_a6444e80137e060b38b07184baf565228"><div class="ttname"><a href="line_8cpp.html#a6444e80137e060b38b07184baf565228">direction_name_short</a></div><div class="ttdeci">std::string direction_name_short(const direction dir)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00617">line.cpp:617</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a2bf8f791695c70efa9c14e6f1c326403"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a2bf8f791695c70efa9c14e6f1c326403">direction::NORTH</a></div><div class="ttdeci">@ NORTH</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a45ac78bf3d4882ac520f4e7fb08d55c5"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a45ac78bf3d4882ac520f4e7fb08d55c5">direction::EAST</a></div><div class="ttdeci">@ EAST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a54486c15c75f9e0ada3484a7812252ff"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a54486c15c75f9e0ada3484a7812252ff">direction::NORTHWEST</a></div><div class="ttdeci">@ NORTHWEST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a5a889abd3c291052e9dcce6adbc4092e"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a5a889abd3c291052e9dcce6adbc4092e">direction::NORTHEAST</a></div><div class="ttdeci">@ NORTHEAST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a83c9f5692281bf59471b13dfddb3af91"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a83c9f5692281bf59471b13dfddb3af91">direction::WEST</a></div><div class="ttdeci">@ WEST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a96e44fa82e5a5263fb92337be422d3eb"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a96e44fa82e5a5263fb92337be422d3eb">direction::SOUTH</a></div><div class="ttdeci">@ SOUTH</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3a96f30aeb5638ae7ac40d90b5ebdde47e"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3a96f30aeb5638ae7ac40d90b5ebdde47e">direction::SOUTHWEST</a></div><div class="ttdeci">@ SOUTHWEST</div></div>
<div class="ttc" id="aline_8h_html_a3621d2006812bd84f3ed6999b38f90a3ad8edaf2a35fe6e4eb32cc57b7d8fa270"><div class="ttname"><a href="line_8h.html#a3621d2006812bd84f3ed6999b38f90a3ad8edaf2a35fe6e4eb32cc57b7d8fa270">direction::SOUTHEAST</a></div><div class="ttdeci">@ SOUTHEAST</div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">static constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01568">magic.cpp:1568</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html_a93494cda6db06e3f43ea14c7a545d481"><div class="ttname"><a href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; Tripoint &gt; points_in_radius(const Tripoint &amp;center, const int radius, const int radiusz=0)</div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00154">map_iterator.h:154</a></div></div>
<div class="ttc" id="amapbuffer_8cpp_html_abc900a0fe17d282e0e4717540106e608"><div class="ttname"><a href="mapbuffer_8cpp.html#abc900a0fe17d282e0e4717540106e608">MAPBUFFER</a></div><div class="ttdeci">mapbuffer MAPBUFFER</div><div class="ttdef"><b>Definition:</b> <a href="mapbuffer_8cpp_source.html#l00048">mapbuffer.cpp:48</a></div></div>
<div class="ttc" id="amapbuffer_8h_html"><div class="ttname"><a href="mapbuffer_8h.html">mapbuffer.h</a></div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a1fc389d4c9efd3d3954eb2b1557c895b">ter_furn_flag::TFLAG_SWIMMABLE</a></div><div class="ttdeci">@ TFLAG_SWIMMABLE</div></div>
<div class="ttc" id="amapgen_8cpp_html_a4f3a5fd278254d867d914ad5953679e2"><div class="ttname"><a href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2, int z)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07721">mapgen.cpp:7721</a></div></div>
<div class="ttc" id="amapgen_8h_html_afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5"><div class="ttname"><a href="mapgen_8h.html#afdd0a1598dc015b56a1b46d51da2b06ea26f94136f5db8afd4e9df1e512f7fdc5">mapgen_phase::zones</a></div><div class="ttdeci">@ zones</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amission_8h_html"><div class="ttname"><a href="mission_8h.html">mission.h</a></div></div>
<div class="ttc" id="amongroup_8h_html"><div class="ttname"><a href="mongroup_8h.html">mongroup.h</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02overmap__location_8cpp_03_html_aa2bfd485299479e73ab0b2c5c0ca4273"><div class="ttname"><a href="namespaceanonymous__namespace_02overmap__location_8cpp_03.html#aa2bfd485299479e73ab0b2c5c0ca4273">anonymous_namespace{overmap_location.cpp}::locations</a></div><div class="ttdeci">generic_factory&lt; overmap_location &gt; locations(&quot;overmap location&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_abf9e7bc62ef51f362834af2a093d567b"><div class="ttname"><a href="namespacecalendar.html#abf9e7bc62ef51f362834af2a093d567b">calendar::before_time_starts</a></div><div class="ttdeci">constexpr time_point before_time_starts</div><div class="ttdoc">A time point that is always before the current turn, even when the game has just started.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00535">calendar.h:535</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a51707e12b1a95f6c69b1e128c4ba2601"><div class="ttname"><a href="namespacecatacurses.html#a51707e12b1a95f6c69b1e128c4ba2601">catacurses::stdscr</a></div><div class="ttdeci">window stdscr</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00306">ncurses_def.cpp:306</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a7407bbe97af63fd80e0a4d26bf0274ab"><div class="ttname"><a href="namespacecatacurses.html#a7407bbe97af63fd80e0a4d26bf0274ab">catacurses::refresh</a></div><div class="ttdeci">void refresh()</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00181">ncurses_def.cpp:181</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
<div class="ttc" id="anamespacecoords_html"><div class="ttname"><a href="namespacecoords.html">coords</a></div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00026">coordinates.h:27</a></div></div>
<div class="ttc" id="anamespacecoords_html_a7457d0a4e8c8e6407a2c0ee89d275962"><div class="ttname"><a href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">coords::sm</a></div><div class="ttdeci">constexpr scale sm</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00039">coordinates.h:39</a></div></div>
<div class="ttc" id="anamespacecoords_html_a7e7a33f31b43172314a187c97a002107"><div class="ttname"><a href="namespacecoords.html#a7e7a33f31b43172314a187c97a002107">coords::project_combine</a></div><div class="ttdeci">auto project_combine(const coord_point&lt; PointL, CoarseOrigin, CoarseScale, CoarseInBounds &gt; &amp;coarse, const coord_point&lt; PointR, FineOrigin, FineScale, FineInBounds &gt; &amp;fine)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00633">coordinates.h:633</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00065">coordinates.h:65</a></div></div>
<div class="ttc" id="anamespacedisplay_html_a9c0f5b64941085d3f192939903f8b4c7"><div class="ttname"><a href="namespacedisplay.html#a9c0f5b64941085d3f192939903f8b4c7">display::overmap_position_text</a></div><div class="ttdeci">std::string overmap_position_text(const tripoint_abs_omt &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="display_8cpp_source.html#l01221">display.cpp:1221</a></div></div>
<div class="ttc" id="anamespaceio_html_aa8fa8545615e452e23e6bcc8a6a3a37a"><div class="ttname"><a href="namespaceio.html#aa8fa8545615e452e23e6bcc8a6a3a37a">io::enum_to_string</a></div><div class="ttdeci">std::string enum_to_string(E)</div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="anamespacemusic_html_a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220"><div class="ttname"><a href="namespacemusic.html#a9c32fc77ff4a8513eb6beec268d48e12ac1aeefd5db867a2bf1814a6282f5e220">music::title</a></div><div class="ttdeci">@ title</div><div class="ttdef"><b>Definition:</b> <a href="music_8h_source.html#l00014">music.h:14</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a0fdbb3cc8e25454026b9ab57f9b91c69"><div class="ttname"><a href="namespaceom__direction.html#a0fdbb3cc8e25454026b9ab57f9b91c69">om_direction::random</a></div><div class="ttdeci">type random()</div><div class="ttdoc">Returns a random direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06504">overmap.cpp:6504</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a27cad92b0d05637eb934f1a7f3424e41"><div class="ttname"><a href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">om_direction::all</a></div><div class="ttdeci">const std::array&lt; type, 4 &gt; all</div><div class="ttdoc">For the purposes of iteration.</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00065">omdata.h:65</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a3f3a3bf2c5af33fc8036734d1ba70b7c"><div class="ttname"><a href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7c">om_direction::type</a></div><div class="ttdeci">type</div><div class="ttdoc">Basic enum for directions.</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00054">omdata.h:54</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a3f3a3bf2c5af33fc8036734d1ba70b7ca334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="namespaceom__direction.html#a3f3a3bf2c5af33fc8036734d1ba70b7ca334c4a4c42fdb79d7ebc3e73b517e6f8">om_direction::type::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="anamespaceom__direction_html_a81218991d18ce76097c769d5c3f185c2"><div class="ttname"><a href="namespaceom__direction.html#a81218991d18ce76097c769d5c3f185c2">om_direction::rotate</a></div><div class="ttdeci">point rotate(const point &amp;p, type dir)</div><div class="ttdoc">Various rotations.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06435">overmap.cpp:6435</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a873bc312d49e851dd397d439879ea67e"><div class="ttname"><a href="namespaceom__direction.html#a873bc312d49e851dd397d439879ea67e">om_direction::turn_right</a></div><div class="ttdeci">type turn_right(type dir)</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06489">overmap.cpp:6489</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06412">overmap.cpp:6412</a></div></div>
<div class="ttc" id="anamespaceovermap__specials_html_ae39e94620013b52e3f84a973c5a5bf73"><div class="ttname"><a href="namespaceovermap__specials.html#ae39e94620013b52e3f84a973c5a5bf73">overmap_specials::get_all</a></div><div class="ttdeci">const std::vector&lt; overmap_special &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l00554">overmap.cpp:554</a></div></div>
<div class="ttc" id="anamespaceovermap__terrains_html_adeb350d773c86be9ebdc18a60b9eca30"><div class="ttname"><a href="namespaceovermap__terrains.html#adeb350d773c86be9ebdc18a60b9eca30">overmap_terrains::get_all</a></div><div class="ttdeci">const std::vector&lt; oter_t &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l01072">overmap.cpp:1072</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html"><div class="ttname"><a href="namespaceovermap__ui.html">overmap_ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00103">overmap_ui.cpp:104</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a00c1ab8e895549bcc78a03e178a4c0f2"><div class="ttname"><a href="namespaceovermap__ui.html#a00c1ab8e895549bcc78a03e178a4c0f2">overmap_ui::draw_om_sidebar</a></div><div class="ttdeci">static void draw_om_sidebar(ui_adaptor &amp;ui, const catacurses::window &amp;wbar, const tripoint_abs_omt &amp;center, const tripoint_abs_omt &amp;orig, bool, bool fast_scroll, input_context *inp_ctxt, const draw_data_t &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01024">overmap_ui.cpp:1024</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a06c7012cacbc54d3089948f7d99791ce"><div class="ttname"><a href="namespaceovermap__ui.html#a06c7012cacbc54d3089948f7d99791ce">overmap_ui::search</a></div><div class="ttdeci">static bool search(const ui_adaptor &amp;om_ui, tripoint_abs_omt &amp;curs, const tripoint_abs_omt &amp;orig)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01358">overmap_ui.cpp:1358</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a1d7ba01ae73566bf481f2822455a0a9c"><div class="ttname"><a href="namespaceovermap__ui.html#a1d7ba01ae73566bf481f2822455a0a9c">overmap_ui::set_special_args</a></div><div class="ttdeci">static void set_special_args(tripoint_abs_omt &amp;curs)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01640">overmap_ui.cpp:1640</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a3696a86d421281cac5c58a6cf1557198"><div class="ttname"><a href="namespaceovermap__ui.html#a3696a86d421281cac5c58a6cf1557198">overmap_ui::get_overmap_path_to</a></div><div class="ttdeci">static std::vector&lt; tripoint_abs_omt &gt; get_overmap_path_to(const tripoint_abs_omt &amp;dest, bool driving)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01680">overmap_ui.cpp:1680</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a40004ff0b8d2974f70bb13840dd508c0"><div class="ttname"><a href="namespaceovermap__ui.html#a40004ff0b8d2974f70bb13840dd508c0">overmap_ui::get_weather_at_point</a></div><div class="ttdeci">weather_type_id get_weather_at_point(const tripoint_abs_omt &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00217">overmap_ui.cpp:217</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a42e88e8afcf281959d291b79fe01b7f3"><div class="ttname"><a href="namespaceovermap__ui.html#a42e88e8afcf281959d291b79fe01b7f3">overmap_ui::place_ter_or_special</a></div><div class="ttdeci">static void place_ter_or_special(const ui_adaptor &amp;om_ui, tripoint_abs_omt &amp;curs, const std::string &amp;om_action)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01497">overmap_ui.cpp:1497</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a44861d29438aa969ea5f0e57ed5780fb"><div class="ttname"><a href="namespaceovermap__ui.html#a44861d29438aa969ea5f0e57ed5780fb">overmap_ui::update_note_preview</a></div><div class="ttdeci">static void update_note_preview(const std::string_view note, const std::array&lt; std::pair&lt; nc_color, std::string &gt;, npm_width *npm_height &gt; &amp;map_around, const std::tuple&lt; catacurses::window *, catacurses::window *, catacurses::window * &gt; &amp;preview_windows)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00172">overmap_ui.cpp:172</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a4aeb45df4fdc5bb21b1935abb8280fd7"><div class="ttname"><a href="namespaceovermap__ui.html#a4aeb45df4fdc5bb21b1935abb8280fd7">overmap_ui::draw</a></div><div class="ttdeci">static void draw(ui_adaptor &amp;ui, const tripoint_abs_omt &amp;center, const tripoint_abs_omt &amp;orig, bool blink, bool show_explored, bool fast_scroll, input_context *inp_ctxt, const draw_data_t &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01253">overmap_ui.cpp:1253</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a4ba12fdc7202cba4c3c78cc6c4ccc891"><div class="ttname"><a href="namespaceovermap__ui.html#a4ba12fdc7202cba4c3c78cc6c4ccc891">overmap_ui::display</a></div><div class="ttdeci">static tripoint_abs_omt display(const tripoint_abs_omt &amp;orig, const draw_data_t &amp;data=draw_data_t())</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01771">overmap_ui.cpp:1771</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a5081beedf9b873c292bdcaf08d28476a"><div class="ttname"><a href="namespaceovermap__ui.html#a5081beedf9b873c292bdcaf08d28476a">overmap_ui::draw_notes</a></div><div class="ttdeci">static point_abs_omt draw_notes(const tripoint_abs_omt &amp;origin)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00445">overmap_ui.cpp:445</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a5dd6d95bf99f06b235f0c05d5ca31598"><div class="ttname"><a href="namespaceovermap__ui.html#a5dd6d95bf99f06b235f0c05d5ca31598">overmap_ui::overmap_zoom_level</a></div><div class="ttdeci">static int overmap_zoom_level</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01733">overmap_ui.cpp:1733</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_a7ac1244230d855fdd4299bc989d81317"><div class="ttname"><a href="namespaceovermap__ui.html#a7ac1244230d855fdd4299bc989d81317">overmap_ui::draw_camp_labels</a></div><div class="ttdeci">static void draw_camp_labels(const catacurses::window &amp;w, const tripoint_abs_omt &amp;center)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00304">overmap_ui.cpp:304</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_aa72a54dbbaeeeade7ea7737edba4ef38"><div class="ttname"><a href="namespaceovermap__ui.html#aa72a54dbbaeeeade7ea7737edba4ef38">overmap_ui::get_scent_glyph</a></div><div class="ttdeci">static bool get_scent_glyph(const tripoint_abs_omt &amp;pos, nc_color &amp;ter_color, std::string &amp;ter_sym)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00237">overmap_ui.cpp:237</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_ab6a26a12cee815df3e9016ccde0c9a5c"><div class="ttname"><a href="namespaceovermap__ui.html#ab6a26a12cee815df3e9016ccde0c9a5c">overmap_ui::create_note</a></div><div class="ttdeci">static void create_note(const tripoint_abs_omt &amp;curs)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01271">overmap_ui.cpp:1271</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_ab7f43df94d3fa37fb53eec9d2e0975c4"><div class="ttname"><a href="namespaceovermap__ui.html#ab7f43df94d3fa37fb53eec9d2e0975c4">overmap_ui::draw_city_labels</a></div><div class="ttdeci">static void draw_city_labels(const catacurses::window &amp;w, const tripoint_abs_omt &amp;center)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00263">overmap_ui.cpp:263</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_abd8c1281a6a6f0878ac1873a8cb33154"><div class="ttname"><a href="namespaceovermap__ui.html#abd8c1281a6a6f0878ac1873a8cb33154">overmap_ui::try_travel_to_destination</a></div><div class="ttdeci">static bool try_travel_to_destination(avatar &amp;player_character, const tripoint_abs_omt curs, const bool driving)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l01735">overmap_ui.cpp:1735</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_acfc73f00584f2398e3750993bfebe9cb"><div class="ttname"><a href="namespaceovermap__ui.html#acfc73f00584f2398e3750993bfebe9cb">overmap_ui::get_overmap_neighbors</a></div><div class="ttdeci">static std::array&lt; std::pair&lt; nc_color, std::string &gt;, npm_width *npm_height &gt; get_overmap_neighbors(const tripoint_abs_omt &amp;current)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00145">overmap_ui.cpp:145</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_ad3925ce734d53c481b6678c1846c0757"><div class="ttname"><a href="namespaceovermap__ui.html#ad3925ce734d53c481b6678c1846c0757">overmap_ui::draw_ascii</a></div><div class="ttdeci">static void draw_ascii(const catacurses::window &amp;w, const tripoint_abs_omt &amp;center, const tripoint_abs_omt &amp;orig, bool blink, bool show_explored, bool, input_context *, const draw_data_t &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00537">overmap_ui.cpp:537</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_ad39a207b869555c6ec71ac9f48326484"><div class="ttname"><a href="namespaceovermap__ui.html#ad39a207b869555c6ec71ac9f48326484">overmap_ui::get_note_display_info</a></div><div class="ttdeci">std::tuple&lt; char, nc_color, size_t &gt; get_note_display_info(const std::string_view note)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00108">overmap_ui.cpp:108</a></div></div>
<div class="ttc" id="anamespaceovermap__ui_html_ad72aa0a7884fc56f5e24e40efe677423"><div class="ttname"><a href="namespaceovermap__ui.html#ad72aa0a7884fc56f5e24e40efe677423">overmap_ui::get_and_assign_los</a></div><div class="ttdeci">static bool get_and_assign_los(int &amp;los, avatar &amp;player_character, const tripoint_abs_omt &amp;omp, const int &amp;sight_points)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00527">overmap_ui.cpp:527</a></div></div>
<div class="ttc" id="anamespacesfx_html_a8fa2bb887ac81392fb686cc4079b5d5a"><div class="ttname"><a href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a></div><div class="ttdeci">void play_variant_sound(const std::string &amp;id, const std::string &amp;variant, int volume, units::angle angle, double pitch_min=-1.0, double pitch_max=-1.0)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01999">sounds.cpp:1999</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a214241ab6e6ccee2cb5d474959020b4d"><div class="ttname"><a href="namespaceui_1_1omap.html#a214241ab6e6ccee2cb5d474959020b4d">ui::omap::display_editor</a></div><div class="ttdeci">void display_editor()</div><div class="ttdoc">Display overmap like with display() and enable the overmap editor.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02087">overmap_ui.cpp:2087</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a47f00b524792b9430f4840b1977fbe7c"><div class="ttname"><a href="namespaceui_1_1omap.html#a47f00b524792b9430f4840b1977fbe7c">ui::omap::select_city</a></div><div class="ttdeci">std::optional&lt; city &gt; select_city(uilist &amp;cities_menu, std::vector&lt; city &gt; &amp;cities_container, bool random=false)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02151">overmap_ui.cpp:2151</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a561977e5c88239e18b061f444d66356d"><div class="ttname"><a href="namespaceui_1_1omap.html#a561977e5c88239e18b061f444d66356d">ui::omap::display_visible_weather</a></div><div class="ttdeci">void display_visible_weather()</div><div class="ttdoc">Display overmap like with display() and display the weather that is within line of sight.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02070">overmap_ui.cpp:2070</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a5db73f0db131ef8f27c85e854ce0e2f8"><div class="ttname"><a href="namespaceui_1_1omap.html#a5db73f0db131ef8f27c85e854ce0e2f8">ui::omap::display_hordes</a></div><div class="ttdeci">void display_hordes()</div><div class="ttdoc">Display overmap like with display() and display hordes.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02052">overmap_ui.cpp:2052</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a6e3c94aa877e09d66ed3b868594c64a0"><div class="ttname"><a href="namespaceui_1_1omap.html#a6e3c94aa877e09d66ed3b868594c64a0">ui::omap::display_scents</a></div><div class="ttdeci">void display_scents()</div><div class="ttdoc">Display overmap like with display() and display scent traces.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02080">overmap_ui.cpp:2080</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a9c1e7b2cc97be5072b464abfe6a7bb63"><div class="ttname"><a href="namespaceui_1_1omap.html#a9c1e7b2cc97be5072b464abfe6a7bb63">ui::omap::display</a></div><div class="ttdeci">void display()</div><div class="ttdoc">Display overmap centered at the player's position.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02047">overmap_ui.cpp:2047</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_a9c77634aea7f1a23166fc4b32b272561"><div class="ttname"><a href="namespaceui_1_1omap.html#a9c77634aea7f1a23166fc4b32b272561">ui::omap::display_weather</a></div><div class="ttdeci">void display_weather()</div><div class="ttdoc">Display overmap like with display() and display the weather.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02060">overmap_ui.cpp:2060</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_ab8f5795aa88f807d4b900dd529a9fd9c"><div class="ttname"><a href="namespaceui_1_1omap.html#ab8f5795aa88f807d4b900dd529a9fd9c">ui::omap::display_zones</a></div><div class="ttdeci">void display_zones(const tripoint_abs_omt &amp;center, const tripoint_abs_omt &amp;select, int iZoneIndex)</div><div class="ttdoc">Display overmap like with display() and display the given zone.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02094">overmap_ui.cpp:2094</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_ac7acc85229398a074d820b340c59d1cf"><div class="ttname"><a href="namespaceui_1_1omap.html#ac7acc85229398a074d820b340c59d1cf">ui::omap::choose_point</a></div><div class="ttdeci">tripoint_abs_omt choose_point(bool show_debug_info=false)</div><div class="ttdoc">Interactive point choosing; used as the map screen.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02103">overmap_ui.cpp:2103</a></div></div>
<div class="ttc" id="anamespaceui_1_1omap_html_addd81d06fbf04e009f60d5add595cc0d"><div class="ttname"><a href="namespaceui_1_1omap.html#addd81d06fbf04e009f60d5add595cc0d">ui::omap::setup_cities_menu</a></div><div class="ttdeci">void setup_cities_menu(uilist &amp;cities_menu, std::vector&lt; city &gt; &amp;cities_container)</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l02126">overmap_ui.cpp:2126</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="anpc_8h_html"><div class="ttname"><a href="npc_8h.html">npc.h</a></div></div>
<div class="ttc" id="anpc_8h_html_a1cfe07d375f7cf0b8c656a5bcae8fc6daf5b83209bc53322e7a58eecfb974a4ce"><div class="ttname"><a href="npc_8h.html#a1cfe07d375f7cf0b8c656a5bcae8fc6daf5b83209bc53322e7a58eecfb974a4ce">NPC_MISSION_TRAVELLING</a></div><div class="ttdeci">@ NPC_MISSION_TRAVELLING</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00185">npc.h:184</a></div></div>
<div class="ttc" id="aomdata_8h_html"><div class="ttname"><a href="omdata_8h.html">omdata.h</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505da9460370bb0ca1c98a779b1bcc6861c2c"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da9460370bb0ca1c98a779b1bcc6861c2c">oter_travel_cost_type::water</a></div><div class="ttdeci">@ water</div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf379cfd7a55b621577a8389d1817a102">oter_travel_cost_type::forest</a></div><div class="ttdeci">@ forest</div></div>
<div class="ttc" id="aoptions_8h_html"><div class="ttname"><a href="options_8h.html">options.h</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e0d11129ca6fd0bab77caf62990eaa4"><div class="ttname"><a href="output_8cpp.html#a1e0d11129ca6fd0bab77caf62990eaa4">OVERMAP_WINDOW_HEIGHT</a></div><div class="ttdeci">int OVERMAP_WINDOW_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00060">output.cpp:60</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a347e7b1532c691f6b1547ecfe4425e3f"><div class="ttname"><a href="output_8cpp.html#a347e7b1532c691f6b1547ecfe4425e3f">OVERMAP_WINDOW_TERM_HEIGHT</a></div><div class="ttdeci">int OVERMAP_WINDOW_TERM_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00063">output.cpp:63</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a64a769083b78bb93dbb99935b959f3f5"><div class="ttname"><a href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a></div><div class="ttdeci">void print_colored_text(const catacurses::window &amp;w, const point &amp;p, nc_color &amp;color, const nc_color &amp;base_color, const std::string_view text, const report_color_error color_error)</div><div class="ttdoc">Print text with embedded color_tags, x, y are in curses system.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00239">output.cpp:239</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a7aee2f244062e1b9e28c950adb745a42"><div class="ttname"><a href="output_8cpp.html#a7aee2f244062e1b9e28c950adb745a42">OVERMAP_LEGEND_WIDTH</a></div><div class="ttdeci">int OVERMAP_LEGEND_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00065">output.cpp:65</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00379">output.cpp:379</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ae5dd6b0452233905e03a18f54b721f99"><div class="ttname"><a href="output_8cpp.html#ae5dd6b0452233905e03a18f54b721f99">mvwputch_hi</a></div><div class="ttdeci">void mvwputch_hi(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00621">output.cpp:621</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aee1dcfd0092cd6b74c7225e140adefeb"><div class="ttname"><a href="output_8cpp.html#aee1dcfd0092cd6b74c7225e140adefeb">OVERMAP_WINDOW_TERM_WIDTH</a></div><div class="ttdeci">int OVERMAP_WINDOW_TERM_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00062">output.cpp:62</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afc789ce1952cc5eabbd5cee34bdabaff"><div class="ttname"><a href="output_8cpp.html#afc789ce1952cc5eabbd5cee34bdabaff">OVERMAP_WINDOW_WIDTH</a></div><div class="ttdeci">int OVERMAP_WINDOW_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00061">output.cpp:61</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00688">output.cpp:688</a></div></div>
<div class="ttc" id="aoutput_8h_html"><div class="ttname"><a href="output_8h.html">output.h</a></div></div>
<div class="ttc" id="aoutput_8h_html_a33ab4e0193402fed8f74590a30fadc3c"><div class="ttname"><a href="output_8h.html#a33ab4e0193402fed8f74590a30fadc3c">LINE_XOXO</a></div><div class="ttdeci">#define LINE_XOXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00046">output.h:46</a></div></div>
<div class="ttc" id="aoutput_8h_html_a3b84757c9b490933aef4e6fc828b656b"><div class="ttname"><a href="output_8h.html#a3b84757c9b490933aef4e6fc828b656b">LINE_XOOX_S</a></div><div class="ttdeci">#define LINE_XOOX_S</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00075">output.h:75</a></div></div>
<div class="ttc" id="aoutput_8h_html_a435355aeca1be3844e79fc4db8e691e1"><div class="ttname"><a href="output_8h.html#a435355aeca1be3844e79fc4db8e691e1">LINE_OXOX</a></div><div class="ttdeci">#define LINE_OXOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00047">output.h:47</a></div></div>
<div class="ttc" id="aoutput_8h_html_a479e8a9ad84c68ed5f8609d4b536a8bb"><div class="ttname"><a href="output_8h.html#a479e8a9ad84c68ed5f8609d4b536a8bb">LINE_OOXX</a></div><div class="ttdeci">#define LINE_OOXX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00050">output.h:50</a></div></div>
<div class="ttc" id="aoutput_8h_html_a520d39f88f60e7528d531e5666849448"><div class="ttname"><a href="output_8h.html#a520d39f88f60e7528d531e5666849448">LINE_XXOO_S</a></div><div class="ttdeci">#define LINE_XXOO_S</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00072">output.h:72</a></div></div>
<div class="ttc" id="aoutput_8h_html_a6405dcdb708433c3c3dde836aa8a15cc"><div class="ttname"><a href="output_8h.html#a6405dcdb708433c3c3dde836aa8a15cc">LINE_OXXO</a></div><div class="ttdeci">#define LINE_OXXO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00049">output.h:49</a></div></div>
<div class="ttc" id="aoutput_8h_html_a732f880551507150edbcae9d698e3662"><div class="ttname"><a href="output_8h.html#a732f880551507150edbcae9d698e3662">LINE_OOXX_S</a></div><div class="ttdeci">#define LINE_OOXX_S</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00074">output.h:74</a></div></div>
<div class="ttc" id="aoutput_8h_html_a76e9474eeb8aea2803f3d49c04230e5c"><div class="ttname"><a href="output_8h.html#a76e9474eeb8aea2803f3d49c04230e5c">LINE_OXXO_S</a></div><div class="ttdeci">#define LINE_OXXO_S</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00073">output.h:73</a></div></div>
<div class="ttc" id="aoutput_8h_html_ad3a54f998264087befce6de30cb787b0"><div class="ttname"><a href="output_8h.html#ad3a54f998264087befce6de30cb787b0">LINE_XOOX</a></div><div class="ttdeci">#define LINE_XOOX</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00051">output.h:51</a></div></div>
<div class="ttc" id="aoutput_8h_html_af6d239f277e1b763f690b94efa469792"><div class="ttname"><a href="output_8h.html#af6d239f277e1b763f690b94efa469792">LINE_XXOO</a></div><div class="ttdeci">#define LINE_XXOO</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00048">output.h:48</a></div></div>
<div class="ttc" id="aovermap_8cpp_html_a5f87462516143186903431d4b1fe48c1"><div class="ttname"><a href="overmap_8cpp.html#a5f87462516143186903431d4b1fe48c1">is_water_body</a></div><div class="ttdeci">bool is_water_body(const oter_id &amp;ter)</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l00583">overmap.cpp:583</a></div></div>
<div class="ttc" id="aovermap_8h_html"><div class="ttname"><a href="overmap_8h.html">overmap.h</a></div></div>
<div class="ttc" id="aovermap__types_8h_html"><div class="ttname"><a href="overmap__types_8h.html">overmap_types.h</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_a2c51deafaa62ba85fb99f9c9d4398213"><div class="ttname"><a href="overmap__ui_8cpp.html#a2c51deafaa62ba85fb99f9c9d4398213">trait_DEBUG_CLAIRVOYANCE</a></div><div class="ttdeci">static const trait_id trait_DEBUG_CLAIRVOYANCE(&quot;DEBUG_CLAIRVOYANCE&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_a312b38ede72948f869aae8081636b414"><div class="ttname"><a href="overmap__ui_8cpp.html#a312b38ede72948f869aae8081636b414">max_note_length</a></div><div class="ttdeci">static constexpr int max_note_length</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00095">overmap_ui.cpp:95</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_a34842d53e8654b7fb519cc1a42bb82b5"><div class="ttname"><a href="overmap__ui_8cpp.html#a34842d53e8654b7fb519cc1a42bb82b5">npm_height</a></div><div class="ttdeci">static const int npm_height</div><div class="ttdoc">Note preview map height without borders.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00101">overmap_ui.cpp:101</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_a3c79f1ed69b5378d3dec8aa1c9212bc7"><div class="ttname"><a href="overmap__ui_8cpp.html#a3c79f1ed69b5378d3dec8aa1c9212bc7">UILIST_MAP_NOTE_DELETED</a></div><div class="ttdeci">static constexpr int UILIST_MAP_NOTE_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00092">overmap_ui.cpp:92</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_a5b8ce57db4b42f0bf8d0bfd8a3e7d374"><div class="ttname"><a href="overmap__ui_8cpp.html#a5b8ce57db4b42f0bf8d0bfd8a3e7d374">npm_width</a></div><div class="ttdeci">static const int npm_width</div><div class="ttdoc">Note preview map width without borders.</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00099">overmap_ui.cpp:99</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_aa75a70b5c0627f2a927c958ab9fac7bc"><div class="ttname"><a href="overmap__ui_8cpp.html#aa75a70b5c0627f2a927c958ab9fac7bc">GROUP_FOREST</a></div><div class="ttdeci">static const mongroup_id GROUP_FOREST(&quot;GROUP_FOREST&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_aaa8375f847ab9d02f7b3075b8e4bfb2c"><div class="ttname"><a href="overmap__ui_8cpp.html#aaa8375f847ab9d02f7b3075b8e4bfb2c">oter_unexplored</a></div><div class="ttdeci">static const oter_str_id oter_unexplored(&quot;unexplored&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_aac77bbfbcec73a3444dfb3f53f2be91a"><div class="ttname"><a href="overmap__ui_8cpp.html#aac77bbfbcec73a3444dfb3f53f2be91a">ACT_TRAVELLING</a></div><div class="ttdeci">static const activity_id ACT_TRAVELLING(&quot;ACT_TRAVELLING&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_ab9f60c51c80214feb1ff493452bee257"><div class="ttname"><a href="overmap__ui_8cpp.html#ab9f60c51c80214feb1ff493452bee257">trait_DEBUG_NIGHTVISION</a></div><div class="ttdeci">static const trait_id trait_DEBUG_NIGHTVISION(&quot;DEBUG_NIGHTVISION&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_aca1b319bb2e892e7aba032da5fe95770"><div class="ttname"><a href="overmap__ui_8cpp.html#aca1b319bb2e892e7aba032da5fe95770">UILIST_MAP_NOTE_EDITED</a></div><div class="ttdeci">static constexpr int UILIST_MAP_NOTE_EDITED</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00093">overmap_ui.cpp:93</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_acbc71b1c2d3589310617ff622c55eec1"><div class="ttname"><a href="overmap__ui_8cpp.html#acbc71b1c2d3589310617ff622c55eec1">GROUP_NEMESIS</a></div><div class="ttdeci">static const mongroup_id GROUP_NEMESIS(&quot;GROUP_NEMESIS&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_ad06a2e4dc0ead0821cf0fe454172edee"><div class="ttname"><a href="overmap__ui_8cpp.html#ad06a2e4dc0ead0821cf0fe454172edee">max_note_display_length</a></div><div class="ttdeci">static constexpr int max_note_display_length</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8cpp_source.html#l00096">overmap_ui.cpp:96</a></div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_adfc346e5a9a75e444f4b5d67d4b5db51"><div class="ttname"><a href="overmap__ui_8cpp.html#adfc346e5a9a75e444f4b5d67d4b5db51">oter_type_forest_trail</a></div><div class="ttdeci">static const oter_type_str_id oter_type_forest_trail(&quot;forest_trail&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8cpp_html_aec113d21058eefec588fa15e437a83d3"><div class="ttname"><a href="overmap__ui_8cpp.html#aec113d21058eefec588fa15e437a83d3">oter_forest</a></div><div class="ttdeci">static const oter_str_id oter_forest(&quot;forest&quot;)</div></div>
<div class="ttc" id="aovermap__ui_8h_html"><div class="ttname"><a href="overmap__ui_8h.html">overmap_ui.h</a></div></div>
<div class="ttc" id="aovermap__ui_8h_html_a506db5aa1b9bb482238b530cbb383b00"><div class="ttname"><a href="overmap__ui_8h.html#a506db5aa1b9bb482238b530cbb383b00">RANDOM_CITY_ENTRY</a></div><div class="ttdeci">constexpr int RANDOM_CITY_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00009">overmap_ui.h:9</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00051">overmapbuffer.cpp:51</a></div></div>
<div class="ttc" id="aovermapbuffer_8h_html"><div class="ttname"><a href="overmapbuffer_8h.html">overmapbuffer.h</a></div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
<div class="ttc" id="apoint_8h_html_a5c8645fbdd39f3862d10d1521f3d0254"><div class="ttname"><a href="point_8h.html#a5c8645fbdd39f3862d10d1521f3d0254">point_south_east</a></div><div class="ttdeci">constexpr point point_south_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00256">point.h:256</a></div></div>
<div class="ttc" id="apoint_8h_html_a66feef6944f7a9037008b5206fd1e586"><div class="ttname"><a href="point_8h.html#a66feef6944f7a9037008b5206fd1e586">point_min</a></div><div class="ttdeci">constexpr point point_min</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00296">point.h:296</a></div></div>
<div class="ttc" id="aregional__settings_8h_html"><div class="ttname"><a href="regional__settings_8h.html">regional_settings.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="asmart__controller__ui_8h_html_a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3"><div class="ttname"><a href="smart__controller__ui_8h.html#a70311dd7f8c88e8727c2a7567aa555caaa7970bb5f1149f16a82922773632ebe3">length</a></div><div class="ttdeci">@ length</div><div class="ttdef"><b>Definition:</b> <a href="smart__controller__ui_8h_source.html#l00026">smart_controller_ui.h:26</a></div></div>
<div class="ttc" id="asounds_8h_html"><div class="ttname"><a href="sounds_8h.html">sounds.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astring__input__popup_8h_html"><div class="ttname"><a href="string__input__popup_8h.html">string_input_popup.h</a></div></div>
<div class="ttc" id="astructcamp__reference_html"><div class="ttname"><a href="structcamp__reference.html">camp_reference</a></div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00088">overmapbuffer.h:88</a></div></div>
<div class="ttc" id="astructcity__reference_html"><div class="ttname"><a href="structcity__reference.html">city_reference</a></div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00072">overmapbuffer.h:72</a></div></div>
<div class="ttc" id="astructcity_html"><div class="ttname"><a href="structcity.html">city</a></div><div class="ttdef"><b>Definition:</b> <a href="city_8h_source.html#l00015">city.h:15</a></div></div>
<div class="ttc" id="astructhalf__open__rectangle_html"><div class="ttname"><a href="structhalf__open__rectangle.html">half_open_rectangle</a></div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00027">cuboid_rectangle.h:27</a></div></div>
<div class="ttc" id="astructhalf__open__rectangle_html_ab08078b04b36fca6f5a08daee6bd9486"><div class="ttname"><a href="structhalf__open__rectangle.html#ab08078b04b36fca6f5a08daee6bd9486">half_open_rectangle::contains</a></div><div class="ttdeci">constexpr bool contains(const Point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="cuboid__rectangle_8h_source.html#l00033">cuboid_rectangle.h:33</a></div></div>
<div class="ttc" id="astructinput__event_html"><div class="ttname"><a href="structinput__event.html">input_event</a></div><div class="ttdoc">An instance of an input, like a keypress etc.</div><div class="ttdef"><b>Definition:</b> <a href="input__enums_8h_source.html#l00063">input_enums.h:63</a></div></div>
<div class="ttc" id="astructmapgen__arguments_html"><div class="ttname"><a href="structmapgen__arguments.html">mapgen_arguments</a></div><div class="ttdef"><b>Definition:</b> <a href="mapgendata_8h_source.html#l00026">mapgendata.h:26</a></div></div>
<div class="ttc" id="astructmapgen__arguments_html_a54f7fbf6f4844a2d2dc68e053b4dc207"><div class="ttname"><a href="structmapgen__arguments.html#a54f7fbf6f4844a2d2dc68e053b4dc207">mapgen_arguments::map</a></div><div class="ttdeci">std::unordered_map&lt; std::string, cata_variant &gt; map</div><div class="ttdef"><b>Definition:</b> <a href="mapgendata_8h_source.html#l00043">mapgendata.h:43</a></div></div>
<div class="ttc" id="astructmapgen__parameters_html"><div class="ttname"><a href="structmapgen__parameters.html">mapgen_parameters</a></div><div class="ttdef"><b>Definition:</b> <a href="mapgen__parameter_8h_source.html#l00056">mapgen_parameter.h:56</a></div></div>
<div class="ttc" id="astructmapgen__parameters_html_af11d99749c3dd3a67087ea4869a9bcff"><div class="ttname"><a href="structmapgen__parameters.html#af11d99749c3dd3a67087ea4869a9bcff">mapgen_parameters::map</a></div><div class="ttdeci">std::unordered_map&lt; std::string, mapgen_parameter &gt; map</div><div class="ttdef"><b>Definition:</b> <a href="mapgen__parameter_8h_source.html#l00057">mapgen_parameter.h:57</a></div></div>
<div class="ttc" id="astructmongroup_html"><div class="ttname"><a href="structmongroup.html">mongroup</a></div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00108">mongroup.h:108</a></div></div>
<div class="ttc" id="astructmongroup_html_a3c37722339092e091c21043deb975459"><div class="ttname"><a href="structmongroup.html#a3c37722339092e091c21043deb975459">mongroup::target</a></div><div class="ttdeci">point_abs_sm target</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8h_source.html#l00120">mongroup.h:120</a></div></div>
<div class="ttc" id="astructnote__color_html"><div class="ttname"><a href="structnote__color.html">note_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00495">color.h:495</a></div></div>
<div class="ttc" id="astructom__vehicle_html"><div class="ttname"><a href="structom__vehicle.html">om_vehicle</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap_8h_source.html#l00062">overmap.h:62</a></div></div>
<div class="ttc" id="astructoter__t_html"><div class="ttname"><a href="structoter__t.html">oter_t</a></div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00310">omdata.h:310</a></div></div>
<div class="ttc" id="astructoter__t_html_a091d9efb4c55e9ef6b38edcb43b6ec71"><div class="ttname"><a href="structoter__t.html#a091d9efb4c55e9ef6b38edcb43b6ec71">oter_t::get_symbol</a></div><div class="ttdeci">std::string get_symbol(const bool from_land_use_code=false) const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00334">omdata.h:334</a></div></div>
<div class="ttc" id="astructoter__t_html_a1e734b780cad20081d4a923ba80771a9"><div class="ttname"><a href="structoter__t.html#a1e734b780cad20081d4a923ba80771a9">oter_t::get_name</a></div><div class="ttdeci">std::string get_name() const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00330">omdata.h:330</a></div></div>
<div class="ttc" id="astructoter__t_html_a21a188a609d43d92a9e1b71b47d494f6"><div class="ttname"><a href="structoter__t.html#a21a188a609d43d92a9e1b71b47d494f6">oter_t::get_rotation</a></div><div class="ttdeci">int get_rotation() const</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l00949">overmap.cpp:949</a></div></div>
<div class="ttc" id="astructoter__t_html_a2925a174bf7349052f72ad9279b1c87b"><div class="ttname"><a href="structoter__t.html#a2925a174bf7349052f72ad9279b1c87b">oter_t::get_color</a></div><div class="ttdeci">nc_color get_color(const bool from_land_use_code=false) const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00342">omdata.h:342</a></div></div>
<div class="ttc" id="astructoter__t_html_a5b69161ceba78a1954395d340fad0f0a"><div class="ttname"><a href="structoter__t.html#a5b69161ceba78a1954395d340fad0f0a">oter_t::get_rotated</a></div><div class="ttdeci">oter_id get_rotated(om_direction::type dir) const</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l00927">overmap.cpp:927</a></div></div>
<div class="ttc" id="astructoter__t_html_ab15d534fa68fa86074239dcf8b05000f"><div class="ttname"><a href="structoter__t.html#ab15d534fa68fa86074239dcf8b05000f">oter_t::is_rotatable</a></div><div class="ttdeci">bool is_rotatable() const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00401">omdata.h:401</a></div></div>
<div class="ttc" id="astructoter__t_html_ab1638475c8650985ec100f0bc7fcafe7"><div class="ttname"><a href="structoter__t.html#ab1638475c8650985ec100f0bc7fcafe7">oter_t::get_type_id</a></div><div class="ttdeci">const string_id&lt; oter_type_t &gt; &amp; get_type_id() const</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00323">omdata.h:323</a></div></div>
<div class="ttc" id="astructoter__t_html_ac6eb612d8150546238274e14bfb58ca8"><div class="ttname"><a href="structoter__t.html#ac6eb612d8150546238274e14bfb58ca8">oter_t::id</a></div><div class="ttdeci">oter_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00315">omdata.h:315</a></div></div>
<div class="ttc" id="astructovermap__path__params_html"><div class="ttname"><a href="structovermap__path__params.html">overmap_path_params</a></div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00040">overmapbuffer.h:40</a></div></div>
<div class="ttc" id="astructovermap__path__params_html_a10bed46ca1148e6106f93406ba99ad5e"><div class="ttname"><a href="structovermap__path__params.html#a10bed46ca1148e6106f93406ba99ad5e">overmap_path_params::for_watercraft</a></div><div class="ttdeci">static overmap_path_params for_watercraft()</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00897">overmapbuffer.cpp:897</a></div></div>
<div class="ttc" id="astructovermap__path__params_html_a1a6cabe39892b16c0a4c0253c89b7148"><div class="ttname"><a href="structovermap__path__params.html#a1a6cabe39892b16c0a4c0253c89b7148">overmap_path_params::for_aircraft</a></div><div class="ttdeci">static overmap_path_params for_aircraft()</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00905">overmapbuffer.cpp:905</a></div></div>
<div class="ttc" id="astructovermap__path__params_html_a3550342b716f161a03951caf58ee97a8"><div class="ttname"><a href="structovermap__path__params.html#a3550342b716f161a03951caf58ee97a8">overmap_path_params::for_player</a></div><div class="ttdeci">static overmap_path_params for_player()</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00856">overmapbuffer.cpp:856</a></div></div>
<div class="ttc" id="astructovermap__path__params_html_a7d746d4005110719f65756fc4290c850"><div class="ttname"><a href="structovermap__path__params.html#a7d746d4005110719f65756fc4290c850">overmap_path_params::set_cost</a></div><div class="ttdeci">void set_cost(const oter_travel_cost_type &amp;type, int v)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00045">overmapbuffer.h:45</a></div></div>
<div class="ttc" id="astructovermap__path__params_html_acde7ad344516e6dab5f4dd77285ae00e"><div class="ttname"><a href="structovermap__path__params.html#acde7ad344516e6dab5f4dd77285ae00e">overmap_path_params::for_land_vehicle</a></div><div class="ttdeci">static overmap_path_params for_land_vehicle(float offroad_coeff, bool tiny, bool amphibious)</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00878">overmapbuffer.cpp:878</a></div></div>
<div class="ttc" id="astructovermap__special__terrain_html"><div class="ttname"><a href="structovermap__special__terrain.html">overmap_special_terrain</a></div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00495">omdata.h:495</a></div></div>
<div class="ttc" id="astructovermap__ui_1_1draw__data__t_html"><div class="ttname"><a href="structovermap__ui_1_1draw__data__t.html">overmap_ui::draw_data_t</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00093">overmap_ui.h:93</a></div></div>
<div class="ttc" id="astructovermap__ui_1_1draw__data__t_html_a57ef4ad6104353c9c370300d9aa8c30b"><div class="ttname"><a href="structovermap__ui_1_1draw__data__t.html#a57ef4ad6104353c9c370300d9aa8c30b">overmap_ui::draw_data_t::select</a></div><div class="ttdeci">tripoint_abs_omt select</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00101">overmap_ui.h:101</a></div></div>
<div class="ttc" id="astructovermap__ui_1_1draw__data__t_html_a5da3b1318b3c3664a9969f872dfbc531"><div class="ttname"><a href="structovermap__ui_1_1draw__data__t.html#a5da3b1318b3c3664a9969f872dfbc531">overmap_ui::draw_data_t::debug_info</a></div><div class="ttdeci">bool debug_info</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00099">overmap_ui.h:99</a></div></div>
<div class="ttc" id="astructovermap__ui_1_1draw__data__t_html_aa54aa7c154abb92f5603e94bec6e6607"><div class="ttname"><a href="structovermap__ui_1_1draw__data__t.html#aa54aa7c154abb92f5603e94bec6e6607">overmap_ui::draw_data_t::debug_editor</a></div><div class="ttdeci">bool debug_editor</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00095">overmap_ui.h:95</a></div></div>
<div class="ttc" id="astructovermap__ui_1_1draw__data__t_html_ad0fc38965afee59aac3c0d1b84f16a8f"><div class="ttname"><a href="structovermap__ui_1_1draw__data__t.html#ad0fc38965afee59aac3c0d1b84f16a8f">overmap_ui::draw_data_t::debug_scent</a></div><div class="ttdeci">bool debug_scent</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00097">overmap_ui.h:97</a></div></div>
<div class="ttc" id="astructovermap__ui_1_1draw__data__t_html_ad6434671256ce9022da6bc59f7a16470"><div class="ttname"><a href="structovermap__ui_1_1draw__data__t.html#ad6434671256ce9022da6bc59f7a16470">overmap_ui::draw_data_t::iZoneIndex</a></div><div class="ttdeci">int iZoneIndex</div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00102">overmap_ui.h:102</a></div></div>
<div class="ttc" id="astructovermap__with__local__coords_html"><div class="ttname"><a href="structovermap__with__local__coords.html">overmap_with_local_coords</a></div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00104">overmapbuffer.h:104</a></div></div>
<div class="ttc" id="astructovermap__with__local__coords_html_a749d647f83b34abc7ed2daf9c8513e91"><div class="ttname"><a href="structovermap__with__local__coords.html#a749d647f83b34abc7ed2daf9c8513e91">overmap_with_local_coords::local</a></div><div class="ttdeci">tripoint_om_omt local</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00106">overmapbuffer.h:106</a></div></div>
<div class="ttc" id="astructovermap__with__local__coords_html_ad18d3e44eaf3c4b7966a2586f2050f86"><div class="ttname"><a href="structovermap__with__local__coords.html#ad18d3e44eaf3c4b7966a2586f2050f86">overmap_with_local_coords::om</a></div><div class="ttdeci">overmap * om</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8h_source.html#l00105">overmapbuffer.h:105</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
<div class="ttc" id="astructregional__settings_html_aa3e13275f58002592356ff023c6797c4"><div class="ttname"><a href="structregional__settings.html#aa3e13275f58002592356ff023c6797c4">regional_settings::weather</a></div><div class="ttdeci">weather_generator weather</div><div class="ttdef"><b>Definition:</b> <a href="regional__settings_8h_source.html#l00284">regional_settings.h:284</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructuilist__entry_html"><div class="ttname"><a href="structuilist__entry.html">uilist_entry</a></div><div class="ttdoc">uilist_entry: entry line for uilist</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00059">ui.h:59</a></div></div>
<div class="ttc" id="atranslation_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translation_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00420">translation.cpp:420</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="atype__id_8h_html"><div class="ttname"><a href="type__id_8h.html">type_id.h</a></div></div>
<div class="ttc" id="aui_8h_html"><div class="ttname"><a href="ui_8h.html">ui.h</a></div></div>
<div class="ttc" id="aui_8h_html_ae8a811731dd950d56e478c3ddc17e725"><div class="ttname"><a href="ui_8h.html#ae8a811731dd950d56e478c3ddc17e725">UILIST_CANCEL</a></div><div class="ttdeci">const int UILIST_CANCEL</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00035">ui.h:35</a></div></div>
<div class="ttc" id="aui__manager_8h_html"><div class="ttname"><a href="ui__manager_8h.html">ui_manager.h</a></div></div>
<div class="ttc" id="auistate_8h_html"><div class="ttname"><a href="uistate_8h.html">uistate.h</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="avehicle_8h_html"><div class="ttname"><a href="vehicle_8h.html">vehicle.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html"><div class="ttname"><a href="vpart__position_8h.html">vpart_position.h</a></div></div>
<div class="ttc" id="aweather__gen_8h_html"><div class="ttname"><a href="weather__gen_8h.html">weather_gen.h</a></div></div>
<div class="ttc" id="aweather__type_8h_html"><div class="ttname"><a href="weather__type_8h.html">weather_type.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:30 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
