<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: advanced_inventory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classadvanced__inventory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">advanced_inventory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a123ed91d66504a4fe000766fe7c11dc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a123ed91d66504a4fe000766fe7c11dc9">advanced_inventory</a> ()</td></tr>
<tr class="separator:a123ed91d66504a4fe000766fe7c11dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc77e6461bfa9b5b745acd8e4371fa41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#adc77e6461bfa9b5b745acd8e4371fa41">~advanced_inventory</a> ()</td></tr>
<tr class="separator:adc77e6461bfa9b5b745acd8e4371fa41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1eaedb86e958387770e71ba02959f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a3f1eaedb86e958387770e71ba02959f7">display</a> ()</td></tr>
<tr class="separator:a3f1eaedb86e958387770e71ba02959f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a725bb72705a0b4aa651cabc05c5b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#af8a725bb72705a0b4aa651cabc05c5b3">temp_hide</a> ()</td></tr>
<tr class="separator:af8a725bb72705a0b4aa651cabc05c5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec5a92b6c3f8f9373936eacd7d44d56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a7ec5a92b6c3f8f9373936eacd7d44d56">screen_relative_location</a> (<a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> area)</td></tr>
<tr class="memdesc:a7ec5a92b6c3f8f9373936eacd7d44d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts from screen relative location to game-space relative location for control rotation in isometric mode.  <a href="classadvanced__inventory.html#a7ec5a92b6c3f8f9373936eacd7d44d56">More...</a><br /></td></tr>
<tr class="separator:a7ec5a92b6c3f8f9373936eacd7d44d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475c466bbf36be7522405e9cc44f82ac"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a475c466bbf36be7522405e9cc44f82ac">get_location_key</a> (<a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> area)</td></tr>
<tr class="separator:a475c466bbf36be7522405e9cc44f82ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21153cedb7b03b7d89ae34a10760cd9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a21153cedb7b03b7d89ae34a10760cd9f">get_one_square</a> (const <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;loc)</td></tr>
<tr class="separator:a21153cedb7b03b7d89ae34a10760cd9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a36fc13ffc4d1e4c93416f0f1b5432b68"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> { <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a> = 0
, <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a> = 1
, <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b">NUM_PANES</a> = 2
 }</td></tr>
<tr class="memdesc:a36fc13ffc4d1e4c93416f0f1b5432b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refers to the two panes, used as index into <a class="el" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>.  <a href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">More...</a><br /></td></tr>
<tr class="separator:a36fc13ffc4d1e4c93416f0f1b5432b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aff053d1eda71abdca82ba282a2df48ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aff053d1eda71abdca82ba282a2df48ef">swap_panes</a> ()</td></tr>
<tr class="separator:aff053d1eda71abdca82ba282a2df48ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ae50672223477fd09a06f0a8a75aab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a62ae50672223477fd09a06f0a8a75aab">draw_minimap</a> ()</td></tr>
<tr class="separator:a62ae50672223477fd09a06f0a8a75aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a5ea864736a63718496effc94c93fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ab2a5ea864736a63718496effc94c93fd">refresh_minimap</a> ()</td></tr>
<tr class="separator:ab2a5ea864736a63718496effc94c93fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad387d818d71f4a4377f68874ff1df649"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ad387d818d71f4a4377f68874ff1df649">get_minimap_sym</a> (<a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> p) const</td></tr>
<tr class="separator:ad387d818d71f4a4377f68874ff1df649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed56ac7f33ace4e7b9f5e56f754e353"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinput__context.html">input_context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a6ed56ac7f33ace4e7b9f5e56f754e353">register_ctxt</a> () const</td></tr>
<tr class="memdesc:a6ed56ac7f33ace4e7b9f5e56f754e353"><td class="mdescLeft">&#160;</td><td class="mdescRight">registers all the ctxt for <a class="el" href="classadvanced__inventory.html#a3f1eaedb86e958387770e71ba02959f7">display()</a>  <a href="classadvanced__inventory.html#a6ed56ac7f33ace4e7b9f5e56f754e353">More...</a><br /></td></tr>
<tr class="separator:a6ed56ac7f33ace4e7b9f5e56f754e353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdf4e9393d79d4cf3f38de2d9eddf91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aebdf4e9393d79d4cf3f38de2d9eddf91">start_activity</a> (<a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> destarea, <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> srcarea, <a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *sitem, int &amp;amount_to_move, bool from_vehicle, bool to_vehicle) const</td></tr>
<tr class="memdesc:aebdf4e9393d79d4cf3f38de2d9eddf91"><td class="mdescLeft">&#160;</td><td class="mdescRight">a smaller chunk of <a class="el" href="classadvanced__inventory.html#a3f1eaedb86e958387770e71ba02959f7">display()</a>  <a href="classadvanced__inventory.html#aebdf4e9393d79d4cf3f38de2d9eddf91">More...</a><br /></td></tr>
<tr class="separator:aebdf4e9393d79d4cf3f38de2d9eddf91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ca16ce8205feb7114014befd7257d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a62ca16ce8205feb7114014befd7257d2">action_move_item</a> (<a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *sitem, <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;dpane, const <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;spane, const std::string &amp;<a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>)</td></tr>
<tr class="memdesc:a62ca16ce8205feb7114014befd7257d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns whether the display loop exits or not  <a href="classadvanced__inventory.html#a62ca16ce8205feb7114014befd7257d2">More...</a><br /></td></tr>
<tr class="separator:a62ca16ce8205feb7114014befd7257d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c08409dd0ac9f82dcb8ddfb529efbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a49c08409dd0ac9f82dcb8ddfb529efbf">action_examine</a> (<a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *sitem, <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;spane)</td></tr>
<tr class="separator:a49c08409dd0ac9f82dcb8ddfb529efbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bda6ab396f9a1844a7825bbc36cad0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a7bda6ab396f9a1844a7825bbc36cad0a">save_settings</a> (bool only_panes)</td></tr>
<tr class="separator:a7bda6ab396f9a1844a7825bbc36cad0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813463c770578ff022b7c60db06324e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a813463c770578ff022b7c60db06324e4">load_settings</a> ()</td></tr>
<tr class="separator:a813463c770578ff022b7c60db06324e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a5e14e66a1c3f82b8eeb1f7047f0f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a> ()</td></tr>
<tr class="separator:a77a5e14e66a1c3f82b8eeb1f7047f0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ce472107cae6f207e959e91d5cd131"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a> () const</td></tr>
<tr class="separator:aa0ce472107cae6f207e959e91d5cd131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e471fd524d89ca6372d59453608a624"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a4e471fd524d89ca6372d59453608a624">print_items</a> (<a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> p, bool <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>)</td></tr>
<tr class="separator:a4e471fd524d89ca6372d59453608a624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dab4ec53d54896b60c772483264bfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aa6dab4ec53d54896b60c772483264bfa">recalc_pane</a> (<a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> p)</td></tr>
<tr class="separator:aa6dab4ec53d54896b60c772483264bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2a67fe1a2582c1ffc2be3d7d6c3851"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aca2a67fe1a2582c1ffc2be3d7d6c3851">redraw_pane</a> (<a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> p)</td></tr>
<tr class="separator:aca2a67fe1a2582c1ffc2be3d7d6c3851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ffe088a119bd2f60cb715ad33ce532"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a48ffe088a119bd2f60cb715ad33ce532">redraw_sidebar</a> ()</td></tr>
<tr class="separator:a48ffe088a119bd2f60cb715ad33ce532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a0ddb540ab77d4bb9e88f862a4dadf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a06a0ddb540ab77d4bb9e88f862a4dadf">move_all_items</a> ()</td></tr>
<tr class="separator:a06a0ddb540ab77d4bb9e88f862a4dadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0413d6248358a9b7ae05f8068df25f5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a0413d6248358a9b7ae05f8068df25f5a">fill_lists_with_pane_items</a> (<a class="el" href="classCharacter.html">Character</a> &amp;player_character, <a class="el" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a> sort_priority, <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;spane, <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;dpane, std::vector&lt; <a class="el" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &gt; &amp;item_list, std::vector&lt; <a class="el" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &gt; &amp;fav_list, bool forbid_buckets)</td></tr>
<tr class="memdesc:a0413d6248358a9b7ae05f8068df25f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills <a class="el" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> vectors with the contents of the AIM's panes, for use with move_all_items.  <a href="classadvanced__inventory.html#a0413d6248358a9b7ae05f8068df25f5a">More...</a><br /></td></tr>
<tr class="separator:a0413d6248358a9b7ae05f8068df25f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae283d462ae0e75225f59b3d7be8bbb38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae283d462ae0e75225f59b3d7be8bbb38">print_header</a> (<a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;pane, <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> sel)</td></tr>
<tr class="separator:ae283d462ae0e75225f59b3d7be8bbb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa370e38f80d5a1b99a8d0b5f48bfe3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a7aa370e38f80d5a1b99a8d0b5f48bfe3">init</a> ()</td></tr>
<tr class="separator:a7aa370e38f80d5a1b99a8d0b5f48bfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c22e63c355f3ef14f4399d02acc51c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a85c22e63c355f3ef14f4399d02acc51c">get_square</a> (const std::string &amp;<a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;ret)</td></tr>
<tr class="memdesc:a85c22e63c355f3ef14f4399d02acc51c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate an action ident from the input context to an aim_location.  <a href="classadvanced__inventory.html#a85c22e63c355f3ef14f4399d02acc51c">More...</a><br /></td></tr>
<tr class="separator:a85c22e63c355f3ef14f4399d02acc51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaceca3cfbe98197ab6286d6b3356ff75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aaceca3cfbe98197ab6286d6b3356ff75">change_square</a> (<a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> changeSquare, <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;dpane, <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;spane)</td></tr>
<tr class="separator:aaceca3cfbe98197ab6286d6b3356ff75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2448ee4634d1bb472405f0e99ed2243"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae2448ee4634d1bb472405f0e99ed2243">show_sort_menu</a> (<a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;pane)</td></tr>
<tr class="memdesc:ae2448ee4634d1bb472405f0e99ed2243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show the sort-by menu and change the sorting of this pane accordingly.  <a href="classadvanced__inventory.html#ae2448ee4634d1bb472405f0e99ed2243">More...</a><br /></td></tr>
<tr class="separator:ae2448ee4634d1bb472405f0e99ed2243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a814330bc95db8c5962477d574f454ad3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a814330bc95db8c5962477d574f454ad3">query_destination</a> (<a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;def)</td></tr>
<tr class="memdesc:a814330bc95db8c5962477d574f454ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether one can put items into the supplied location.  <a href="classadvanced__inventory.html#a814330bc95db8c5962477d574f454ad3">More...</a><br /></td></tr>
<tr class="separator:a814330bc95db8c5962477d574f454ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd8496fa06d19335a67bc1de3c7864a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a8fd8496fa06d19335a67bc1de3c7864a">query_charges</a> (<a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> destarea, const <a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> &amp;sitem, const std::string &amp;<a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, int &amp;amount)</td></tr>
<tr class="memdesc:a8fd8496fa06d19335a67bc1de3c7864a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup how many items/charges (if counted by charges) should be moved.  <a href="classadvanced__inventory.html#a8fd8496fa06d19335a67bc1de3c7864a">More...</a><br /></td></tr>
<tr class="separator:a8fd8496fa06d19335a67bc1de3c7864a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ae56282ee21526f30de9f3f0cd460a8bd"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a> (<a class="el" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a> sortby)</td></tr>
<tr class="separator:ae56282ee21526f30de9f3f0cd460a8bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aee529e2e08c251b6d4e830ce9b8d6ac3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aee529e2e08c251b6d4e830ce9b8d6ac3">move_all_items_and_waiting_to_quit</a> = false</td></tr>
<tr class="separator:aee529e2e08c251b6d4e830ce9b8d6ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7966a1dfa8a29d25dfb8b6a6e3d4cbf4"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classui__adaptor.html">ui_adaptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a7966a1dfa8a29d25dfb8b6a6e3d4cbf4">ui</a></td></tr>
<tr class="separator:a7966a1dfa8a29d25dfb8b6a6e3d4cbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36cfe09099b043516ea4473afc772a2d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classstring__input__popup.html">string_input_popup</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a></td></tr>
<tr class="separator:a36cfe09099b043516ea4473afc772a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24d0b01699da125b499bd789234ad2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a></td></tr>
<tr class="separator:ae24d0b01699da125b499bd789234ad2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923f90a37fed0a25fed12989a2b43c7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">mm_border</a></td></tr>
<tr class="separator:a923f90a37fed0a25fed12989a2b43c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a391685edb03bc7df4736fe2943369e62"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a> = 3</td></tr>
<tr class="separator:a391685edb03bc7df4736fe2943369e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae386d305fc3d0774cb143513f9c2cdff"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae386d305fc3d0774cb143513f9c2cdff">minimap_height</a> = 3</td></tr>
<tr class="separator:ae386d305fc3d0774cb143513f9c2cdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad27f5d82ee36c1b3f777e122f933c26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">inCategoryMode</a> = false</td></tr>
<tr class="separator:aad27f5d82ee36c1b3f777e122f933c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4b6293c811e55f1c8e7eeddd52ca27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a> = 0</td></tr>
<tr class="separator:add4b6293c811e55f1c8e7eeddd52ca27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6020fed7f6c4704ac0151a828bbcf321"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a> = 0</td></tr>
<tr class="separator:a6020fed7f6c4704ac0151a828bbcf321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac327f193560528b62a700bd5bee19730"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> = 0</td></tr>
<tr class="separator:ac327f193560528b62a700bd5bee19730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416b92343f3e1fab9643a4903304d0a8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> = 0</td></tr>
<tr class="separator:a416b92343f3e1fab9643a4903304d0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414757fb3e840dcbd7ff24513b813bd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a> = 0</td></tr>
<tr class="separator:a414757fb3e840dcbd7ff24513b813bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4362a2d179f241a7d7097fd42d2d7f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = false</td></tr>
<tr class="separator:a2c4362a2d179f241a7d7097fd42d2d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e5849ac4c0fe48a85e74b628e2f6889"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a5e5849ac4c0fe48a85e74b628e2f6889">always_recalc</a> = false</td></tr>
<tr class="separator:a5e5849ac4c0fe48a85e74b628e2f6889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7827f4e2a1be3dd9b6b2cc2579a405"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a></td></tr>
<tr class="memdesc:a7d7827f4e2a1be3dd9b6b2cc2579a405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Which panels is active (item moved from there).  <a href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">More...</a><br /></td></tr>
<tr class="separator:a7d7827f4e2a1be3dd9b6b2cc2579a405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae223fb96e573d2b8c453e65a0902d5ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a></td></tr>
<tr class="memdesc:ae223fb96e573d2b8c453e65a0902d5ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Which panel is the destination (items want to go to there).  <a href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">More...</a><br /></td></tr>
<tr class="separator:ae223fb96e573d2b8c453e65a0902d5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0562b28ecb072e6ec1b639cdbf96b0e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> = false</td></tr>
<tr class="memdesc:ae0562b28ecb072e6ec1b639cdbf96b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if (and only if) the filter of the active panel is currently being edited.  <a href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">More...</a><br /></td></tr>
<tr class="separator:ae0562b28ecb072e6ec1b639cdbf96b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee9c31085bc87acd086c5a8b0029505"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a>, <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b">NUM_PANES</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a></td></tr>
<tr class="memdesc:afee9c31085bc87acd086c5a8b0029505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Two panels (left and right) showing the items, use a value of <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> as index.  <a href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">More...</a><br /></td></tr>
<tr class="separator:afee9c31085bc87acd086c5a8b0029505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fa4f8d9e527cd26a0fba31ea47b9d6"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="classadvanced__inv__area.html">advanced_inv_area</a>, <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a></td></tr>
<tr class="separator:a44fa4f8d9e527cd26a0fba31ea47b9d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d0399fffd672f19a64b07a65301f19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a></td></tr>
<tr class="separator:ae7d0399fffd672f19a64b07a65301f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad8bf9c59492370c2a1d671ed82e196"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = false</td></tr>
<tr class="separator:a4ad8bf9c59492370c2a1d671ed82e196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c3da3386c3dd19455b9a9f2d5b0f8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structadvanced__inv__save__state.html">advanced_inv_save_state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a></td></tr>
<tr class="separator:ac8c3da3386c3dd19455b9a9f2d5b0f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ac453879b421a4acd4de3a7d920becd7d"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a> = 5</td></tr>
<tr class="separator:ac453879b421a4acd4de3a7d920becd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a66ce311815a1d213fcc4e55dbd22e5"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classadvanced__inventory.html#a3a66ce311815a1d213fcc4e55dbd22e5">null_pane</a></td></tr>
<tr class="separator:a3a66ce311815a1d213fcc4e55dbd22e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00030">30</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a36fc13ffc4d1e4c93416f0f1b5432b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fc13ffc4d1e4c93416f0f1b5432b68">&#9670;&nbsp;</a></span>side</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">advanced_inventory::side</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Refers to the two panes, used as index into <a class="el" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd"></a>left&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33"></a>right&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b"></a>NUM_PANES&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00053">53</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                  {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>  = 0,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a> = 1,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b">NUM_PANES</a> = 2</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        };</div>
<div class="ttc" id="aclassadvanced__inventory_html_a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd"><div class="ttname"><a href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">advanced_inventory::left</a></div><div class="ttdeci">@ left</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00054">advanced_inv.h:54</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b"><div class="ttname"><a href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b">advanced_inventory::NUM_PANES</a></div><div class="ttdeci">@ NUM_PANES</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00057">advanced_inv.h:56</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33"><div class="ttname"><a href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">advanced_inventory::right</a></div><div class="ttdeci">@ right</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00055">advanced_inv.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a123ed91d66504a4fe000766fe7c11dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123ed91d66504a4fe000766fe7c11dc9">&#9670;&nbsp;</a></span>advanced_inventory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">advanced_inventory::advanced_inventory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00145">145</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    : <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a>( <span class="keyword">true</span> )</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    , <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>( <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a> )</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    , <a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>( <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a> )</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="comment">// panes don&#39;t need initialization, they are recalculated immediately</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    , <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>( {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">//               pos in window</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 25, 2 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Inventory&quot;</span> ),          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;IN&quot;</span> ),  <span class="stringliteral">&quot;I&quot;</span>, <span class="stringliteral">&quot;ITEMS_INVENTORY&quot;</span>, <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a>},</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 30, 3 ), <a class="code" href="point_8h.html#acb82c7b237b74c17b506c0383e38b7aa">tripoint_south_west</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;South West&quot;</span> ),         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;SW&quot;</span> ),  <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;ITEMS_SW&quot;</span>,        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a40d88a6328f744fd6d681c6640a2ffa2">AIM_WEST</a>},</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a52b14ded0abe632dc3019045a8609fc7">AIM_SOUTH</a>,     <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 33, 3 ), <a class="code" href="point_8h.html#ae0d4ab15dc375a3a436b745abaa6ed4b">tripoint_south</a>,      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;South&quot;</span> ),              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;S&quot;</span> ),   <span class="stringliteral">&quot;2&quot;</span>, <span class="stringliteral">&quot;ITEMS_S&quot;</span>,         <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a>},</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a37fc17ceb516deccf3480675eaa88bde">AIM_SOUTHEAST</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 36, 3 ), <a class="code" href="point_8h.html#a5767887bb9dcb0ae61b2ab06979a1d1b">tripoint_south_east</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;South East&quot;</span> ),         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;SE&quot;</span> ),  <span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;ITEMS_SE&quot;</span>,        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a52b14ded0abe632dc3019045a8609fc7">AIM_SOUTH</a>},</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a40d88a6328f744fd6d681c6640a2ffa2">AIM_WEST</a>,      <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 30, 2 ), <a class="code" href="point_8h.html#abd7de5098b6f2a3e020cdc13cfc5c5ab">tripoint_west</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;West&quot;</span> ),               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;W&quot;</span> ),   <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;ITEMS_W&quot;</span>,         <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab84bd7a0394c4e338d82be51601056f4">AIM_NORTHWEST</a>},</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251">AIM_CENTER</a>,    <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 33, 2 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Directly below you&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;DN&quot;</span> ),  <span class="stringliteral">&quot;5&quot;</span>, <span class="stringliteral">&quot;ITEMS_CE&quot;</span>,        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251">AIM_CENTER</a>},</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43aea5243b6bcc83cd05983fc2a53f882db">AIM_EAST</a>,      <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 36, 2 ), <a class="code" href="point_8h.html#ad388a59168c3ba4b7d9d921b052d1201">tripoint_east</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;East&quot;</span> ),               <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;E&quot;</span> ),   <span class="stringliteral">&quot;6&quot;</span>, <span class="stringliteral">&quot;ITEMS_E&quot;</span>,         <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a37fc17ceb516deccf3480675eaa88bde">AIM_SOUTHEAST</a>},</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab84bd7a0394c4e338d82be51601056f4">AIM_NORTHWEST</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 30, 1 ), <a class="code" href="point_8h.html#a161d3b46a2531cb4eecd7d82391ecd0a">tripoint_north_west</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;North West&quot;</span> ),         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;NW&quot;</span> ),  <span class="stringliteral">&quot;7&quot;</span>, <span class="stringliteral">&quot;ITEMS_NW&quot;</span>,        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a2fb1b219fc4b5b52c434dd59483f25dd">AIM_NORTH</a>},</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a2fb1b219fc4b5b52c434dd59483f25dd">AIM_NORTH</a>,     <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 33, 1 ), <a class="code" href="point_8h.html#a1167cb93baa23dd31f0297460b2255b9">tripoint_north</a>,      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;North&quot;</span> ),              <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;N&quot;</span> ),   <span class="stringliteral">&quot;8&quot;</span>, <span class="stringliteral">&quot;ITEMS_N&quot;</span>,         <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a>},</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 36, 1 ), <a class="code" href="point_8h.html#a0551ee1b2f69906cb1d616b4cf473da3">tripoint_north_east</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;North East&quot;</span> ),         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;NE&quot;</span> ),  <span class="stringliteral">&quot;9&quot;</span>, <span class="stringliteral">&quot;ITEMS_NE&quot;</span>,        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43aea5243b6bcc83cd05983fc2a53f882db">AIM_EAST</a>},</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a>,   <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 22, 3 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Grabbed Vehicle&quot;</span> ),    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;GR&quot;</span> ),  <span class="stringliteral">&quot;D&quot;</span>, <span class="stringliteral">&quot;ITEMS_DRAGGED_CONTAINER&quot;</span>, <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a>},</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a>,       <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 25, 3 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Surrounding area&quot;</span> ),   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;AL&quot;</span> ),  <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;ITEMS_AROUND&quot;</span>,    <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a>},</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 25, 1 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Container&quot;</span> ),          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;CN&quot;</span> ),  <span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;ITEMS_CONTAINER&quot;</span>, <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a>},</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a>,    <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 22, 1 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <span class="stringliteral">&quot;&quot;</span>,                        <span class="stringliteral">&quot;&quot;</span>,         <span class="stringliteral">&quot;X&quot;</span>, <span class="stringliteral">&quot;ITEMS_PARENT&quot;</span>,    <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a>},</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        { <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a>,      <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 22, 2 ), <a class="code" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>,       <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Worn Items&quot;</span> ),         <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;WR&quot;</span> ),  <span class="stringliteral">&quot;W&quot;</span>, <span class="stringliteral">&quot;ITEMS_WORN&quot;</span>,      <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a>}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;} )</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a> = &amp;<a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aaa8e0be61e584b02f8c79957ea6db267">transfer_save</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a></div><div class="ttdeci">@ AIM_NORTHEAST</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00023">advanced_inv_area.h:23</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a2fb1b219fc4b5b52c434dd59483f25dd"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a2fb1b219fc4b5b52c434dd59483f25dd">AIM_NORTH</a></div><div class="ttdeci">@ AIM_NORTH</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00022">advanced_inv_area.h:22</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a37fc17ceb516deccf3480675eaa88bde"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a37fc17ceb516deccf3480675eaa88bde">AIM_SOUTHEAST</a></div><div class="ttdeci">@ AIM_SOUTHEAST</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00017">advanced_inv_area.h:17</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a40d88a6328f744fd6d681c6640a2ffa2"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a40d88a6328f744fd6d681c6640a2ffa2">AIM_WEST</a></div><div class="ttdeci">@ AIM_WEST</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00018">advanced_inv_area.h:18</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a></div><div class="ttdeci">@ AIM_CONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00026">advanced_inv_area.h:26</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a52b14ded0abe632dc3019045a8609fc7"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a52b14ded0abe632dc3019045a8609fc7">AIM_SOUTH</a></div><div class="ttdeci">@ AIM_SOUTH</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00016">advanced_inv_area.h:16</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251">AIM_CENTER</a></div><div class="ttdeci">@ AIM_CENTER</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00019">advanced_inv_area.h:19</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a></div><div class="ttdeci">@ AIM_INVENTORY</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00014">advanced_inv_area.h:14</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a></div><div class="ttdeci">@ AIM_WORN</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00028">advanced_inv_area.h:28</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a></div><div class="ttdeci">@ AIM_PARENT</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00027">advanced_inv_area.h:27</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43ab84bd7a0394c4e338d82be51601056f4"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab84bd7a0394c4e338d82be51601056f4">AIM_NORTHWEST</a></div><div class="ttdeci">@ AIM_NORTHWEST</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00021">advanced_inv_area.h:21</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a></div><div class="ttdeci">@ AIM_DRAGGED</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00024">advanced_inv_area.h:24</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a></div><div class="ttdeci">@ AIM_SOUTHWEST</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00015">advanced_inv_area.h:15</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43aea5243b6bcc83cd05983fc2a53f882db"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43aea5243b6bcc83cd05983fc2a53f882db">AIM_EAST</a></div><div class="ttdeci">@ AIM_EAST</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00020">advanced_inv_area.h:20</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a></div><div class="ttdeci">@ AIM_ALL</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00025">advanced_inv_area.h:25</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a2c4362a2d179f241a7d7097fd42d2d7f"><div class="ttname"><a href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">advanced_inventory::recalc</a></div><div class="ttdeci">bool recalc</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00085">advanced_inv.h:85</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a44fa4f8d9e527cd26a0fba31ea47b9d6"><div class="ttname"><a href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">advanced_inventory::squares</a></div><div class="ttdeci">std::array&lt; advanced_inv_area, NUM_AIM_LOCATIONS &gt; squares</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00106">advanced_inv.h:106</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a7d7827f4e2a1be3dd9b6b2cc2579a405"><div class="ttname"><a href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">advanced_inventory::src</a></div><div class="ttdeci">side src</div><div class="ttdoc">Which panels is active (item moved from there).</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00090">advanced_inv.h:90</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ac8c3da3386c3dd19455b9a9f2d5b0f8f"><div class="ttname"><a href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">advanced_inventory::save_state</a></div><div class="ttdeci">advanced_inv_save_state * save_state</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00112">advanced_inv.h:112</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae223fb96e573d2b8c453e65a0902d5ff"><div class="ttname"><a href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">advanced_inventory::dest</a></div><div class="ttdeci">side dest</div><div class="ttdoc">Which panel is the destination (items want to go to there).</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00094">advanced_inv.h:94</a></div></div>
<div class="ttc" id="aclassuistatedata_html_aaa8e0be61e584b02f8c79957ea6db267"><div class="ttname"><a href="classuistatedata.html#aaa8e0be61e584b02f8c79957ea6db267">uistatedata::transfer_save</a></div><div class="ttdeci">advanced_inv_save_state transfer_save</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00125">uistate.h:125</a></div></div>
<div class="ttc" id="agame_8cpp_html_a764052f34a47c6dee072c67b842a222c"><div class="ttname"><a href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a></div><div class="ttdeci">uistatedata uistate</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00385">game.cpp:385</a></div></div>
<div class="ttc" id="apoint_8h_html_a0551ee1b2f69906cb1d616b4cf473da3"><div class="ttname"><a href="point_8h.html#a0551ee1b2f69906cb1d616b4cf473da3">tripoint_north_east</a></div><div class="ttdeci">constexpr tripoint tripoint_north_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00263">point.h:263</a></div></div>
<div class="ttc" id="apoint_8h_html_a1167cb93baa23dd31f0297460b2255b9"><div class="ttname"><a href="point_8h.html#a1167cb93baa23dd31f0297460b2255b9">tripoint_north</a></div><div class="ttdeci">constexpr tripoint tripoint_north</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00262">point.h:262</a></div></div>
<div class="ttc" id="apoint_8h_html_a161d3b46a2531cb4eecd7d82391ecd0a"><div class="ttname"><a href="point_8h.html#a161d3b46a2531cb4eecd7d82391ecd0a">tripoint_north_west</a></div><div class="ttdeci">constexpr tripoint tripoint_north_west</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00269">point.h:269</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00250">point.h:250</a></div></div>
<div class="ttc" id="apoint_8h_html_a5767887bb9dcb0ae61b2ab06979a1d1b"><div class="ttname"><a href="point_8h.html#a5767887bb9dcb0ae61b2ab06979a1d1b">tripoint_south_east</a></div><div class="ttdeci">constexpr tripoint tripoint_south_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00265">point.h:265</a></div></div>
<div class="ttc" id="apoint_8h_html_abd7de5098b6f2a3e020cdc13cfc5c5ab"><div class="ttname"><a href="point_8h.html#abd7de5098b6f2a3e020cdc13cfc5c5ab">tripoint_west</a></div><div class="ttdeci">constexpr tripoint tripoint_west</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00268">point.h:268</a></div></div>
<div class="ttc" id="apoint_8h_html_acb82c7b237b74c17b506c0383e38b7aa"><div class="ttname"><a href="point_8h.html#acb82c7b237b74c17b506c0383e38b7aa">tripoint_south_west</a></div><div class="ttdeci">constexpr tripoint tripoint_south_west</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00267">point.h:267</a></div></div>
<div class="ttc" id="apoint_8h_html_ad388a59168c3ba4b7d9d921b052d1201"><div class="ttname"><a href="point_8h.html#ad388a59168c3ba4b7d9d921b052d1201">tripoint_east</a></div><div class="ttdeci">constexpr tripoint tripoint_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00264">point.h:264</a></div></div>
<div class="ttc" id="apoint_8h_html_ae0d4ab15dc375a3a436b745abaa6ed4b"><div class="ttname"><a href="point_8h.html#ae0d4ab15dc375a3a436b745abaa6ed4b">tripoint_south</a></div><div class="ttdeci">constexpr tripoint tripoint_south</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00266">point.h:266</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00019">AIM_CENTER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00024">AIM_DRAGGED</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00020">AIM_EAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00022">AIM_NORTH</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00023">AIM_NORTHEAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00021">AIM_NORTHWEST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00027">AIM_PARENT</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00016">AIM_SOUTH</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00017">AIM_SOUTHEAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00015">AIM_SOUTHWEST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00018">AIM_WEST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="pixel__minimap_8h.html#a6090ef73d2b1d07d802941f7b1e57421a192ba166b3957ab1020e9a72ea1b40ed">squares</a>, <a class="el" href="point_8h_source.html#l00264">tripoint_east</a>, <a class="el" href="point_8h_source.html#l00262">tripoint_north</a>, <a class="el" href="point_8h_source.html#l00263">tripoint_north_east</a>, <a class="el" href="point_8h_source.html#l00269">tripoint_north_west</a>, <a class="el" href="point_8h_source.html#l00266">tripoint_south</a>, <a class="el" href="point_8h_source.html#l00265">tripoint_south_east</a>, <a class="el" href="point_8h_source.html#l00267">tripoint_south_west</a>, <a class="el" href="point_8h_source.html#l00268">tripoint_west</a>, and <a class="el" href="point_8h_source.html#l00250">tripoint_zero</a>.</p>

</div>
</div>
<a id="adc77e6461bfa9b5b745acd8e4371fa41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc77e6461bfa9b5b745acd8e4371fa41">&#9670;&nbsp;</a></span>~advanced_inventory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">advanced_inventory::~advanced_inventory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00175">175</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="classadvanced__inventory.html#a7bda6ab396f9a1844a7825bbc36cad0a">save_settings</a>( <span class="keyword">false</span> );</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">exit_code</a> != <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">aim_exit::re_entry</a> ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">exit_code</a> = <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0adf8fede7ff71608e24a5576326e41c75">aim_exit::okay</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Only refresh if we exited manually, otherwise we&#39;re going to be right back</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> ) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#a2cf277ecea2a8248e835aa6a94e20b57">check_item_encumbrance_flag</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2cf277ecea2a8248e835aa6a94e20b57"><div class="ttname"><a href="classCharacter.html#a2cf277ecea2a8248e835aa6a94e20b57">Character::check_item_encumbrance_flag</a></div><div class="ttdeci">void check_item_encumbrance_flag()</div><div class="ttdoc">Checks worn items for the &quot;RESET_ENCUMBRANCE&quot; flag, which indicates that encumbrance may have changed...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02649">character.cpp:2649</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a4ad8bf9c59492370c2a1d671ed82e196"><div class="ttname"><a href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">advanced_inventory::exit</a></div><div class="ttdeci">bool exit</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00110">advanced_inv.h:110</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a7bda6ab396f9a1844a7825bbc36cad0a"><div class="ttname"><a href="classadvanced__inventory.html#a7bda6ab396f9a1844a7825bbc36cad0a">advanced_inventory::save_settings</a></div><div class="ttdeci">void save_settings(bool only_panes)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00187">advanced_inv.cpp:187</a></div></div>
<div class="ttc" id="aenums_8h_html_a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a"><div class="ttname"><a href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">aim_exit::re_entry</a></div><div class="ttdeci">@ re_entry</div></div>
<div class="ttc" id="aenums_8h_html_a4e9f163ad07562a548642459ea9474e0adf8fede7ff71608e24a5576326e41c75"><div class="ttname"><a href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0adf8fede7ff71608e24a5576326e41c75">aim_exit::okay</a></div><div class="ttdeci">@ okay</div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_aa611261cef08a8603b1667bea91e5e7d"><div class="ttname"><a href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">advanced_inv_save_state::exit_code</a></div><div class="ttdeci">aim_exit exit_code</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00053">uistate.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02649">Character::check_item_encumbrance_flag()</a>, <a class="el" href="advanced__inv_8h_source.html#l00110">exit</a>, <a class="el" href="uistate_8h_source.html#l00053">advanced_inv_save_state::exit_code</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0adf8fede7ff71608e24a5576326e41c75">okay</a>, <a class="el" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">re_entry</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00187">save_settings()</a>, and <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a49c08409dd0ac9f82dcb8ddfb529efbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c08409dd0ac9f82dcb8ddfb529efbf">&#9670;&nbsp;</a></span>action_examine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::action_examine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *&#160;</td>
          <td class="paramname"><em>sitem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>spane</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01725">1725</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;{</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> info_width = [<span class="keyword">this</span>]() -&gt; <span class="keywordtype">int</span> {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    };</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> info_startx = [<span class="keyword">this</span>]() -&gt; <span class="keywordtype">int</span> {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a> + ( <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> == <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317">advanced_inventory::side::left</a> ? <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2 : 0 );</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    };</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ||</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        ( spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a469707b7c1bb9b13683fec7adcaa26a9">carrier</a>() == player_character.<a class="code" href="classCharacter.html#a01a7950e28e24252e372d7e74078e12f">as_character</a>() ) ) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp;loc = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="comment">// Setup a &quot;return to AIM&quot; activity. If examining the item creates a new activity</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="comment">// (e.g. reading, reloading, activating), the new activity will be put on top of</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="comment">// &quot;return to AIM&quot;. Once the new activity is finished, &quot;return to AIM&quot; comes back</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="comment">// (automatically, see player activity handling) and it re-opens the AIM.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="comment">// If examining the item did not create a new activity, we have to remove</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="comment">// &quot;return to AIM&quot;.</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( player_character.<a class="code" href="classCharacter.html#a6186c819cc348b5a060e140b5bab8226">has_activity</a>( <a class="code" href="advanced__inv_8cpp.html#aea8a4524fc166b67268583f1a94717b4">ACT_ADV_INVENTORY</a> ) );</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="comment">// `inventory_item_menu` may call functions that move items, so we should</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="comment">// always recalculate during this period to ensure all item references are valid</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <a class="code" href="classadvanced__inventory.html#a5e5849ac4c0fe48a85e74b628e2f6889">always_recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;inventory_item_menu( loc, info_startx, info_width,</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                                      <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> == <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317">advanced_inventory::side::left</a> ? <a class="code" href="classgame.html#a34ea669d879ae89282e95940e24e43a3a0201d6a33bf223a8e833ff6b6eb5aba7">game::LEFT_OF_INFO</a> : <a class="code" href="classgame.html#a34ea669d879ae89282e95940e24e43a3a2d351d61974da536a773f37bcedb8c2c">game::RIGHT_OF_INFO</a> );</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <a class="code" href="classadvanced__inventory.html#a5e5849ac4c0fe48a85e74b628e2f6889">always_recalc</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="keywordflow">if</span>( !player_character.<a class="code" href="classCharacter.html#a6186c819cc348b5a060e140b5bab8226">has_activity</a>( <a class="code" href="advanced__inv_8cpp.html#aea8a4524fc166b67268583f1a94717b4">ACT_ADV_INVENTORY</a> ) || !<a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            player_character.<a class="code" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a>();</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            <a class="code" href="game_8cpp.html#a764052f34a47c6dee072c67b842a222c">uistate</a>.<a class="code" href="classuistatedata.html#aaa8e0be61e584b02f8c79957ea6db267">transfer_save</a>.<a class="code" href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">exit_code</a> = <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0a334c4a4c42fdb79d7ebc3e73b517e6f8">aim_exit::none</a>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        }</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        <span class="comment">// Might have changed a stack (activated an item, repaired an item, etc.)</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            player_character.<a class="code" href="classCharacter.html#a96ec9152d401f128cf31a7cc35c97f65">inv</a>-&gt;restack( player_character );</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <a class="code" href="classitem.html">item</a> &amp;it = *sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        std::vector&lt;iteminfo&gt; vThisItem;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        std::vector&lt;iteminfo&gt; vDummy;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        it.<a class="code" href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">info</a>( <span class="keyword">true</span>, vThisItem );</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <a class="code" href="structitem__info__data.html">item_info_data</a> data( it.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>(), it.<a class="code" href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">type_name</a>(), vThisItem, vDummy );</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        data.handle_scrolling = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="output_8cpp.html#ae94727a9102271cfed214e5988c8f440">draw_item_info</a>( [&amp;]() -&gt; <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( 0, info_width(), <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( info_startx(), 0 ) );</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        }, data ).get_first_input();</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> == <a class="code" href="input_8h.html#a3eb5e354329f66eddf45515dedadfc14">KEY_NPAGE</a> || <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> == <a class="code" href="input_8h.html#af3b3462a5f8df1b9fae4c8dec239bc76">KEY_DOWN</a> ) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#ade8e1e1d5703345da960700c763900e6">scroll_by</a>( +1 );</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> == <a class="code" href="input_8h.html#a6759cfc3c55dcda34effc92014d899e3">KEY_PPAGE</a> || <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> == <a class="code" href="input_8h.html#af4f9cc98a80e8e792d91d13ef7036005">KEY_UP</a> ) {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#ade8e1e1d5703345da960700c763900e6">scroll_by</a>( -1 );</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv_8cpp_html_aea8a4524fc166b67268583f1a94717b4"><div class="ttname"><a href="advanced__inv_8cpp.html#aea8a4524fc166b67268583f1a94717b4">ACT_ADV_INVENTORY</a></div><div class="ttdeci">static const activity_id ACT_ADV_INVENTORY(&quot;ACT_ADV_INVENTORY&quot;)</div></div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="acata__assert_8h_html_abb2ca9fce6a171932c05748ecc5df5bb"><div class="ttname"><a href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a></div><div class="ttdeci">#define cata_assert(expression)</div><div class="ttdef"><b>Definition:</b> <a href="cata__assert_8h_source.html#l00036">cata_assert.h:36</a></div></div>
<div class="ttc" id="aclassCharacter_html_a01a7950e28e24252e372d7e74078e12f"><div class="ttname"><a href="classCharacter.html#a01a7950e28e24252e372d7e74078e12f">Character::as_character</a></div><div class="ttdeci">Character * as_character() override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00532">character.h:532</a></div></div>
<div class="ttc" id="aclassCharacter_html_a597968eba450c923b56a1c9cac1676dc"><div class="ttname"><a href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity</a></div><div class="ttdeci">void cancel_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08983">character.cpp:8983</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6186c819cc348b5a060e140b5bab8226"><div class="ttname"><a href="classCharacter.html#a6186c819cc348b5a060e140b5bab8226">Character::has_activity</a></div><div class="ttdeci">bool has_activity(const activity_id &amp;type) const</div><div class="ttdoc">Check if player currently has a given activity.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08973">character.cpp:8973</a></div></div>
<div class="ttc" id="aclassCharacter_html_a96ec9152d401f128cf31a7cc35c97f65"><div class="ttname"><a href="classCharacter.html#a96ec9152d401f128cf31a7cc35c97f65">Character::inv</a></div><div class="ttdeci">pimpl&lt; inventory &gt; inv</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02712">character.h:2712</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_a23b551706395612a062eadb9510b8667"><div class="ttname"><a href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">advanced_inv_listitem::items</a></div><div class="ttdeci">std::vector&lt; item_location &gt; items</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem.h:34</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a3a6e079f3e977f112007cc17bfa35609"><div class="ttname"><a href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">advanced_inventory_pane::container</a></div><div class="ttdeci">item_location container</div><div class="ttdoc">The active container item in container view.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00084">advanced_inv_pane.h:84</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_aabf2671969752a97eb8a4470bd6d5625"><div class="ttname"><a href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">advanced_inventory_pane::get_area</a></div><div class="ttdeci">aim_location get_area() const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00051">advanced_inv_pane.h:51</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_ade8e1e1d5703345da960700c763900e6"><div class="ttname"><a href="classadvanced__inventory__pane.html#ade8e1e1d5703345da960700c763900e6">advanced_inventory_pane::scroll_by</a></div><div class="ttdeci">void scroll_by(int offset)</div><div class="ttdoc">Scroll index, by given offset,.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00319">advanced_inv_pane.cpp:319</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a414757fb3e840dcbd7ff24513b813bd0"><div class="ttname"><a href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">advanced_inventory::colstart</a></div><div class="ttdeci">int colstart</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00083">advanced_inv.h:83</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a5e5849ac4c0fe48a85e74b628e2f6889"><div class="ttname"><a href="classadvanced__inventory.html#a5e5849ac4c0fe48a85e74b628e2f6889">advanced_inventory::always_recalc</a></div><div class="ttdeci">bool always_recalc</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00086">advanced_inv.h:86</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a77a5e14e66a1c3f82b8eeb1f7047f0f5"><div class="ttname"><a href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">advanced_inventory::do_return_entry</a></div><div class="ttdeci">void do_return_entry()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02353">advanced_inv.cpp:2353</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ac327f193560528b62a700bd5bee19730"><div class="ttname"><a href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">advanced_inventory::w_width</a></div><div class="ttdeci">int w_width</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00080">advanced_inv.h:80</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclassgame_html_a34ea669d879ae89282e95940e24e43a3a0201d6a33bf223a8e833ff6b6eb5aba7"><div class="ttname"><a href="classgame.html#a34ea669d879ae89282e95940e24e43a3a0201d6a33bf223a8e833ff6b6eb5aba7">game::LEFT_OF_INFO</a></div><div class="ttdeci">@ LEFT_OF_INFO</div><div class="ttdef"><b>Definition:</b> <a href="game_8h_source.html#l00668">game.h:668</a></div></div>
<div class="ttc" id="aclassgame_html_a34ea669d879ae89282e95940e24e43a3a2d351d61974da536a773f37bcedb8c2c"><div class="ttname"><a href="classgame.html#a34ea669d879ae89282e95940e24e43a3a2d351d61974da536a773f37bcedb8c2c">game::RIGHT_OF_INFO</a></div><div class="ttdeci">@ RIGHT_OF_INFO</div><div class="ttdef"><b>Definition:</b> <a href="game_8h_source.html#l00669">game.h:669</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem__location_html_a469707b7c1bb9b13683fec7adcaa26a9"><div class="ttname"><a href="classitem__location.html#a469707b7c1bb9b13683fec7adcaa26a9">item_location::carrier</a></div><div class="ttdeci">Character * carrier() const</div><div class="ttdoc">returns the character whose inventory contains this item, nullptr if none</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01102">item_location.cpp:1102</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassitem_html_a60ce7c1072cdd4a6384d95598ba10231"><div class="ttname"><a href="classitem.html#a60ce7c1072cdd4a6384d95598ba10231">item::info</a></div><div class="ttdeci">std::string info(bool showtext=false) const</div><div class="ttdoc">Return all the information about the item and its type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01953">item.cpp:1953</a></div></div>
<div class="ttc" id="aclassitem_html_abfb7ed1fed5f72c532192eb33e6c4962"><div class="ttname"><a href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">item::type_name</a></div><div class="ttdeci">std::string type_name(unsigned int quantity=1, bool use_variant=true, bool use_cond_name=true, bool use_corpse=true) const</div><div class="ttdoc">Name of the item type (not the item), with proper plural.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14449">item.cpp:14449</a></div></div>
<div class="ttc" id="aenums_8h_html_a4e9f163ad07562a548642459ea9474e0a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0a334c4a4c42fdb79d7ebc3e73b517e6f8">aim_exit::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="ainput_8h_html_a3eb5e354329f66eddf45515dedadfc14"><div class="ttname"><a href="input_8h.html#a3eb5e354329f66eddf45515dedadfc14">KEY_NPAGE</a></div><div class="ttdeci">constexpr int KEY_NPAGE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00060">input.h:60</a></div></div>
<div class="ttc" id="ainput_8h_html_a6759cfc3c55dcda34effc92014d899e3"><div class="ttname"><a href="input_8h.html#a6759cfc3c55dcda34effc92014d899e3">KEY_PPAGE</a></div><div class="ttdeci">constexpr int KEY_PPAGE</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00061">input.h:61</a></div></div>
<div class="ttc" id="ainput_8h_html_af3b3462a5f8df1b9fae4c8dec239bc76"><div class="ttname"><a href="input_8h.html#af3b3462a5f8df1b9fae4c8dec239bc76">KEY_DOWN</a></div><div class="ttdeci">constexpr int KEY_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00021">input.h:21</a></div></div>
<div class="ttc" id="ainput_8h_html_af4f9cc98a80e8e792d91d13ef7036005"><div class="ttname"><a href="input_8h.html#af4f9cc98a80e8e792d91d13ef7036005">KEY_UP</a></div><div class="ttdeci">constexpr int KEY_UP</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00022">input.h:22</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a576fd20080b8f49e27acf97af45b374b"><div class="ttname"><a href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a></div><div class="ttdeci">window newwin(int nlines, int ncols, const point &amp;begin)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317">keycode::left</a></div><div class="ttdeci">@ left</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00098">input.h:98</a></div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ae94727a9102271cfed214e5988c8f440"><div class="ttname"><a href="output_8cpp.html#ae94727a9102271cfed214e5988c8f440">draw_item_info</a></div><div class="ttdeci">input_event draw_item_info(const int iLeft, const int iWidth, const int iTop, const int iHeight, item_info_data &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00962">output.cpp:962</a></div></div>
<div class="ttc" id="astructitem__info__data_html"><div class="ttname"><a href="structitem__info__data.html">item_info_data</a></div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00508">output.h:508</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv_8cpp.html#aea8a4524fc166b67268583f1a94717b4">ACT_ADV_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="advanced__inv_8h_source.html#l00086">always_recalc</a>, <a class="el" href="character_8h_source.html#l00532">Character::as_character()</a>, <a class="el" href="character_8cpp_source.html#l08983">Character::cancel_activity()</a>, <a class="el" href="item__location_8cpp_source.html#l01102">item_location::carrier()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="advanced__inv_8h_source.html#l00083">colstart</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>, <a class="el" href="output_8cpp_source.html#l00962">draw_item_info()</a>, <a class="el" href="advanced__inv_8h_source.html#l00110">exit</a>, <a class="el" href="uistate_8h_source.html#l00053">advanced_inv_save_state::exit_code</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="output_8h_source.html#l00548">item_info_data::handle_scrolling</a>, <a class="el" href="character_8cpp_source.html#l08973">Character::has_activity()</a>, <a class="el" href="item_8cpp_source.html#l01953">item::info()</a>, <a class="el" href="character_8h_source.html#l02712">Character::inv</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="input_8h_source.html#l00021">KEY_DOWN</a>, <a class="el" href="input_8h_source.html#l00060">KEY_NPAGE</a>, <a class="el" href="input_8h_source.html#l00061">KEY_PPAGE</a>, <a class="el" href="input_8h_source.html#l00022">KEY_UP</a>, <a class="el" href="input_8h_source.html#l00098">keycode::left</a>, <a class="el" href="game_8h_source.html#l00668">game::LEFT_OF_INFO</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="advanced__inv_8h_source.html#l00085">recalc</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="game_8h_source.html#l00669">game::RIGHT_OF_INFO</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00319">advanced_inventory_pane::scroll_by()</a>, <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="uistate_8h_source.html#l00125">uistatedata::transfer_save</a>, <a class="el" href="item_8cpp_source.html#l14449">item::type_name()</a>, <a class="el" href="game_8cpp_source.html#l00385">uistate</a>, and <a class="el" href="advanced__inv_8h_source.html#l00080">w_width</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a62ca16ce8205feb7114014befd7257d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ca16ce8205feb7114014befd7257d2">&#9670;&nbsp;</a></span>action_move_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::action_move_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *&#160;</td>
          <td class="paramname"><em>sitem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>dpane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>spane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>returns whether the display loop exits or not </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01542">1542</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;{</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">if</span>( sitem == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> destarea = dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>();</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> srcarea = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a2d4e8868df3bf42a4f2e2f6beb2fe45b">area</a>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordtype">bool</span> restore_area = destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#a814330bc95db8c5962477d574f454ad3">query_destination</a>( destarea ) ) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="comment">// Not necessarily equivalent to spane.in_vehicle() if using AIM_ALL</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordtype">bool</span> from_vehicle = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#ab6bce7c4fab92d47f3baecdee859f155">from_vehicle</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordtype">bool</span> to_vehicle = dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>();</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// Same location check for AIM_CONTAINER and AIM_ALL.</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">// AIM_ALL should disable same area check and handle it with proper filtering instead.</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="comment">// This is a workaround around the lack of vehicle location info in</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="comment">// either aim_location or advanced_inv_listitem.</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> == dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s is already in the %2$s.&quot;</span> ),</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                          sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;type_name(), dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">type_name</a>() );</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[srcarea].is_same( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[destarea] ) &amp;&amp;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;               spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %1$s is already there.&quot;</span> ), sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;type_name() );</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( !sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.empty() );</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;itm = *sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front().get_item();</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <a class="code" href="classret__val_3_01void_01_4.html">ret_val&lt;void&gt;</a> can_wear = player_character.<a class="code" href="classCharacter.html#ab8bb62a82f437cb52719b9862a967311">can_wear</a>( itm );</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <a class="code" href="classret__val_3_01void_01_4.html">ret_val&lt;void&gt;</a> can_wield = player_character.<a class="code" href="classCharacter.html#a28e314b50dae2c237a0675ed748aaf1d">can_wield</a>( itm );</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <span class="keywordflow">if</span>( can_wear.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( can_wield.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            destarea = <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a>;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            std::string err = can_wear.<a class="code" href="classret__val__common.html#a2ff6049c1d3021e3dfd0b32434326327">c_str</a>();</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            err += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            err += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Wield instead?&quot;</span> );</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( err ) ) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            std::string err = can_wear.<a class="code" href="classret__val__common.html#a2ff6049c1d3021e3dfd0b32434326327">c_str</a>();</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            err += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            err += can_wield.<a class="code" href="classret__val__common.html#a2ff6049c1d3021e3dfd0b32434326327">c_str</a>();</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( err.c_str(), <a class="code" href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a> );</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordtype">int</span> amount_to_move = 0;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#a8fd8496fa06d19335a67bc1de3c7864a">query_charges</a>( destarea, *sitem, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, amount_to_move ) ) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    }</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="advanced__inv_8cpp.html#a4f0587545a47d233d566708fb96fad9c">json_flag_NO_UNLOAD</a> ) ) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Source container can&#39;t be unloaded.&quot;</span> ) );</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="advanced__inv_8cpp.html#a48722d189ba972fea546bc860acb8cff">json_flag_NO_RELOAD</a> ) ) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Destination container can&#39;t be reloaded.&quot;</span> ) );</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;        }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <a class="code" href="classret__val_3_01void_01_4.html">ret_val&lt;void&gt;</a> can_contain = dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a28fa4969a257ea0b79acc9c60595ee7b">can_contain</a>( *sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() );</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <span class="keywordflow">if</span>( can_contain.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            can_contain = dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a9dc3e085525739ad057a65065cf70b75">parents_can_contain_recursive</a>( &amp;*sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() );</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        }</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">if</span>( !can_contain.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( can_contain.<a class="code" href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">str</a>().empty() ?</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                          <span class="comment">//~ %1$s: item we failed to put in the container, %2$s: container to put item in</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Could not put %1$s into %2$s.&quot;</span> ),</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                                         sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;tname(), dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ).c_str() :</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                          <span class="comment">//~ %1$s: item we failed to put in the container, %2$s: container to put item in, %3$s: reason it failed</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                          <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Could not put %1$s into %2$s, %3$s.&quot;</span> ),</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                                         sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;tname(), dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>(), can_contain.<a class="code" href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">str</a>() ).c_str() );</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="comment">// This makes sure that all item references in the advanced_inventory_pane::items vector</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// are recalculated, even when they might not have changed, but they could (e.g. items</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="comment">// taken from inventory, but unable to put into the cargo trunk go back into the inventory,</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="comment">// but are potentially at a different place).</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( amount_to_move &gt; 0 );</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">if</span>( srcarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp; destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> &amp;&amp;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a337696f1679154f092c1e941dc10ba12">held_by</a>( player_character ) ) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s is already in your inventory.&quot;</span> ), sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;tname() );</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( srcarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> &amp;&amp; destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160; </div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="comment">// make sure advanced inventory is reopened after activity completion.</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="keyword">const</span> <a class="code" href="classwear__activity__actor.html">wear_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( { sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() }, { amount_to_move } );</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="comment">// exit so that the activity can be carried out</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( srcarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> &amp;&amp; destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a> ) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <span class="keyword">const</span> <a class="code" href="classwield__activity__actor.html">wield_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front(), amount_to_move );</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( srcarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ||</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;               ( srcarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> &amp;&amp; sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() != player_character.<a class="code" href="classCharacter.html#aa9a4335ab1fd0d975199750b1ebf5bef">get_wielded_item</a>() ) ) {</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a> );</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <span class="comment">// make sure advanced inventory is reopened after activity completion</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="keywordflow">if</span>( srcarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> &amp;&amp; destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            <span class="comment">// if worn, we need to fix with the worn index number (starts at -2, as -1 is weapon)</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            <span class="comment">// this is ok because worn items are never stacked (can&#39;t move more than 1)</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            player_character.<a class="code" href="classCharacter.html#a65c75bafc4b69004d5581c0907407d98">takeoff</a>( <a class="code" href="classCharacter.html#a551a7515cd7bf17ebae122cc816cf66f">Character::worn_position_to_index</a>( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a5f37492e13412b90ee2e34abe8e7c320">idx</a> ) + 1 );</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <span class="comment">// important if item is worn</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a1ad4cc7377c4c2537ec0ea73301ae6d3">can_drop</a>( *sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                    <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                    <a class="code" href="classadvanced__inventory.html#aebdf4e9393d79d4cf3f38de2d9eddf91">start_activity</a>( destarea, srcarea, sitem, amount_to_move, from_vehicle, to_vehicle );</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                    <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> placement = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[destarea].off;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                    <span class="comment">// incase there is vehicle cargo space at dest but the player wants to drop to ground</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> force_ground = !to_vehicle;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                    std::vector&lt;drop_or_stash_item_info&gt; to_drop;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160; </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                    <span class="keywordtype">int</span> remaining_amount = amount_to_move;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp;itm : sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a> ) {</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                        <span class="keywordflow">if</span>( remaining_amount &lt;= 0 ) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                        }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">int</span> move_amount = itm-&gt;<a class="code" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ?</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                                                <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( remaining_amount, itm-&gt;<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> ) : 1;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                        to_drop.emplace_back( itm, move_amount );</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                        remaining_amount -= move_amount;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                    }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classdrop__activity__actor.html">drop_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( to_drop, placement, force_ground );</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                    player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="comment">// exit so that the activity can be carried out</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            <span class="keywordtype">bool</span> can_stash = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            <span class="keywordflow">if</span>( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;count_by_charges() ) {</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                <a class="code" href="classitem.html">item</a> dummy = *sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;                dummy.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = amount_to_move;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                can_stash = player_character.<a class="code" href="classCharacter.html#a03a17861579bf099c665ca234cd2a3b5">can_stash</a>( dummy );</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                can_stash = player_character.<a class="code" href="classCharacter.html#a03a17861579bf099c665ca234cd2a3b5">can_stash</a>( *sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() );</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            <span class="keywordflow">if</span>( !can_stash ) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have no space for the %s.&quot;</span> ), sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;tname() );</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;            }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="comment">// from map/vehicle: start ACT_PICKUP or ACT_MOVE_ITEMS as necessary</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">// Make sure advanced inventory is reopened after activity completion.</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <a class="code" href="classadvanced__inventory.html#aebdf4e9393d79d4cf3f38de2d9eddf91">start_activity</a>( destarea, srcarea, sitem, amount_to_move, from_vehicle, to_vehicle );</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="comment">// exit so that the activity can be carried out</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="comment">// if dest was AIM_ALL then we used query_destination and should undo that</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">if</span>( restore_area ) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        dpane.<a class="code" href="classadvanced__inventory__pane.html#af2c4b2f624bbf139fe14db30f4c4a619">restore_area</a>();</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv_8cpp_html_a48722d189ba972fea546bc860acb8cff"><div class="ttname"><a href="advanced__inv_8cpp.html#a48722d189ba972fea546bc860acb8cff">json_flag_NO_RELOAD</a></div><div class="ttdeci">static const flag_id json_flag_NO_RELOAD(&quot;NO_RELOAD&quot;)</div></div>
<div class="ttc" id="aadvanced__inv_8cpp_html_a4f0587545a47d233d566708fb96fad9c"><div class="ttname"><a href="advanced__inv_8cpp.html#a4f0587545a47d233d566708fb96fad9c">json_flag_NO_UNLOAD</a></div><div class="ttdeci">static const flag_id json_flag_NO_UNLOAD(&quot;NO_UNLOAD&quot;)</div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a></div><div class="ttdeci">aim_location</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00013">advanced_inv_area.h:13</a></div></div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a></div><div class="ttdeci">@ AIM_WIELD</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00031">advanced_inv_area.h:31</a></div></div>
<div class="ttc" id="aclassCharacter_html_a03a17861579bf099c665ca234cd2a3b5"><div class="ttname"><a href="classCharacter.html#a03a17861579bf099c665ca234cd2a3b5">Character::can_stash</a></div><div class="ttdeci">bool can_stash(const item &amp;it, bool ignore_pkt_settings=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01494">character.cpp:1494</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1ad4cc7377c4c2537ec0ea73301ae6d3"><div class="ttname"><a href="classCharacter.html#a1ad4cc7377c4c2537ec0ea73301ae6d3">Character::can_drop</a></div><div class="ttdeci">ret_val&lt; void &gt; can_drop(const item &amp;it) const</div><div class="ttdoc">Check player capable of dropping an item.</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00657">character_inventory.cpp:657</a></div></div>
<div class="ttc" id="aclassCharacter_html_a28e314b50dae2c237a0675ed748aaf1d"><div class="ttname"><a href="classCharacter.html#a28e314b50dae2c237a0675ed748aaf1d">Character::can_wield</a></div><div class="ttdeci">ret_val&lt; void &gt; can_wield(const item &amp;it) const</div><div class="ttdoc">Check player capable of wielding an item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07836">character.cpp:7836</a></div></div>
<div class="ttc" id="aclassCharacter_html_a551a7515cd7bf17ebae122cc816cf66f"><div class="ttname"><a href="classCharacter.html#a551a7515cd7bf17ebae122cc816cf66f">Character::worn_position_to_index</a></div><div class="ttdeci">static int worn_position_to_index(int position)</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01906">character.h:1906</a></div></div>
<div class="ttc" id="aclassCharacter_html_a65c75bafc4b69004d5581c0907407d98"><div class="ttname"><a href="classCharacter.html#a65c75bafc4b69004d5581c0907407d98">Character::takeoff</a></div><div class="ttdeci">bool takeoff(item_location loc, std::list&lt; item &gt; *res=nullptr)</div><div class="ttdoc">Takes off an item, returning false on fail.</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l00511">character_attire.cpp:511</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa9a4335ab1fd0d975199750b1ebf5bef"><div class="ttname"><a href="classCharacter.html#aa9a4335ab1fd0d975199750b1ebf5bef">Character::get_wielded_item</a></div><div class="ttdeci">item_location get_wielded_item() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00674">character.cpp:674</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab8bb62a82f437cb52719b9862a967311"><div class="ttname"><a href="classCharacter.html#ab8bb62a82f437cb52719b9862a967311">Character::can_wear</a></div><div class="ttdeci">ret_val&lt; void &gt; can_wear(const item &amp;it, bool with_equip_change=false) const</div><div class="ttdoc">Check character capable of wearing an item.</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l00109">character_attire.cpp:109</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08935">character.cpp:8935</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_a2d4e8868df3bf42a4f2e2f6beb2fe45b"><div class="ttname"><a href="classadvanced__inv__listitem.html#a2d4e8868df3bf42a4f2e2f6beb2fe45b">advanced_inv_listitem::area</a></div><div class="ttdeci">aim_location area</div><div class="ttdoc">The location of the item, never AIM_ALL.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00030">advanced_inv_listitem.h:30</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_a5f37492e13412b90ee2e34abe8e7c320"><div class="ttname"><a href="classadvanced__inv__listitem.html#a5f37492e13412b90ee2e34abe8e7c320">advanced_inv_listitem::idx</a></div><div class="ttdeci">int idx</div><div class="ttdoc">Index of the item in the itemstack.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00026">advanced_inv_listitem.h:26</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_ab6bce7c4fab92d47f3baecdee859f155"><div class="ttname"><a href="classadvanced__inv__listitem.html#ab6bce7c4fab92d47f3baecdee859f155">advanced_inv_listitem::from_vehicle</a></div><div class="ttdeci">bool from_vehicle</div><div class="ttdoc">Is the item stored in a vehicle?</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00068">advanced_inv_listitem.h:68</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_ad9db3c7237891dd5185127702e4a3d96"><div class="ttname"><a href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">advanced_inventory_pane::in_vehicle</a></div><div class="ttdeci">bool in_vehicle() const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00057">advanced_inv_pane.h:57</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_af2c4b2f624bbf139fe14db30f4c4a619"><div class="ttname"><a href="classadvanced__inventory__pane.html#af2c4b2f624bbf139fe14db30f4c4a619">advanced_inventory_pane::restore_area</a></div><div class="ttdeci">void restore_area()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00044">advanced_inv_pane.cpp:44</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a814330bc95db8c5962477d574f454ad3"><div class="ttname"><a href="classadvanced__inventory.html#a814330bc95db8c5962477d574f454ad3">advanced_inventory::query_destination</a></div><div class="ttdeci">bool query_destination(aim_location &amp;def)</div><div class="ttdoc">Checks whether one can put items into the supplied location.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02083">advanced_inv.cpp:2083</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a8fd8496fa06d19335a67bc1de3c7864a"><div class="ttname"><a href="classadvanced__inventory.html#a8fd8496fa06d19335a67bc1de3c7864a">advanced_inventory::query_charges</a></div><div class="ttdeci">bool query_charges(aim_location destarea, const advanced_inv_listitem &amp;sitem, const std::string &amp;action, int &amp;amount)</div><div class="ttdoc">Setup how many items/charges (if counted by charges) should be moved.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02135">advanced_inv.cpp:2135</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aebdf4e9393d79d4cf3f38de2d9eddf91"><div class="ttname"><a href="classadvanced__inventory.html#aebdf4e9393d79d4cf3f38de2d9eddf91">advanced_inventory::start_activity</a></div><div class="ttdeci">void start_activity(aim_location destarea, aim_location srcarea, advanced_inv_listitem *sitem, int &amp;amount_to_move, bool from_vehicle, bool to_vehicle) const</div><div class="ttdoc">a smaller chunk of display()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01422">advanced_inv.cpp:1422</a></div></div>
<div class="ttc" id="aclassdrop__activity__actor_html"><div class="ttname"><a href="classdrop__activity__actor.html">drop_activity_actor</a></div><div class="ttdoc">Activity to drop items to the ground or into a vehicle cargo part.</div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l01047">activity_actor_definitions.h:1048</a></div></div>
<div class="ttc" id="aclassitem__location_html_a337696f1679154f092c1e941dc10ba12"><div class="ttname"><a href="classitem__location.html#a337696f1679154f092c1e941dc10ba12">item_location::held_by</a></div><div class="ttdeci">bool held_by(Character const &amp;who) const</div><div class="ttdoc">returns true if the item is in the inventory of the given character</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01107">item_location.cpp:1107</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01087">item_location.cpp:1087</a></div></div>
<div class="ttc" id="aclassitem__location_html_a9dc3e085525739ad057a65065cf70b75"><div class="ttname"><a href="classitem__location.html#a9dc3e085525739ad057a65065cf70b75">item_location::parents_can_contain_recursive</a></div><div class="ttdeci">ret_val&lt; void &gt; parents_can_contain_recursive(item *it) const</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00884">item_location.cpp:884</a></div></div>
<div class="ttc" id="aclassitem_html_a28fa4969a257ea0b79acc9c60595ee7b"><div class="ttname"><a href="classitem.html#a28fa4969a257ea0b79acc9c60595ee7b">item::can_contain</a></div><div class="ttdeci">ret_val&lt; void &gt; can_contain(const item &amp;it, bool nested=false, bool ignore_rigidity=false, bool ignore_pkt_settings=true, bool is_pick_up_inv=false, const item_location &amp;parent_it=item_location(), units::volume remaining_parent_volume=10000000_ml, bool allow_nested=true) const</div><div class="ttdoc">Can the pocket contain the specified item?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10101">item.cpp:10101</a></div></div>
<div class="ttc" id="aclassitem_html_a3e532e4e5b7cef943634b1d910f99384"><div class="ttname"><a href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">item::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdoc">Return true if this item's type is counted by charges (true for stackable, ammo, or comestible)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08618">item.cpp:8618</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassret__val_3_01void_01_4_html"><div class="ttname"><a href="classret__val_3_01void_01_4.html">ret_val&lt; void &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00103">ret_val.h:104</a></div></div>
<div class="ttc" id="aclassret__val__common_html_a2ff6049c1d3021e3dfd0b32434326327"><div class="ttname"><a href="classret__val__common.html#a2ff6049c1d3021e3dfd0b32434326327">ret_val_common::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00021">ret_val.h:21</a></div></div>
<div class="ttc" id="aclassret__val__common_html_a933807b816264e791e488ed5e7abb1c3"><div class="ttname"><a href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">ret_val_common::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00013">ret_val.h:13</a></div></div>
<div class="ttc" id="aclassret__val__common_html_adf8af6e05bb9773c0b77b4299ba13c6c"><div class="ttname"><a href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">ret_val_common::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00017">ret_val.h:17</a></div></div>
<div class="ttc" id="aclasswear__activity__actor_html"><div class="ttname"><a href="classwear__activity__actor.html">wear_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l01703">activity_actor_definitions.h:1704</a></div></div>
<div class="ttc" id="aclasswield__activity__actor_html"><div class="ttname"><a href="classwield__activity__actor.html">wield_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l01730">activity_actor_definitions.h:1731</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00044">dialogue.h:43</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
<div class="ttc" id="aoutput_8h_html_a776e76ac0d873faf3607d5e839f08ee3"><div class="ttname"><a href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a></div><div class="ttdeci">int popup_getkey(const char *const mes, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00482">output.h:482</a></div></div>
<div class="ttc" id="aoutput_8h_html_ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240"><div class="ttname"><a href="output_8h.html#ab214b85345aeab978acdcea0250f27f5ad0065579023647501fcb0f076a1c5240">PF_GET_KEY</a></div><div class="ttdeci">@ PF_GET_KEY</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00476">output.h:476</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">static activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00079">sounds.cpp:79</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00031">AIM_WIELD</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00030">advanced_inv_listitem::area</a>, <a class="el" href="character_8cpp_source.html#l08935">Character::assign_activity()</a>, <a class="el" href="ret__val_8h_source.html#l00021">ret_val_common::c_str()</a>, <a class="el" href="item_8cpp_source.html#l10101">item::can_contain()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00657">Character::can_drop()</a>, <a class="el" href="character_8cpp_source.html#l01494">Character::can_stash()</a>, <a class="el" href="character__attire_8cpp_source.html#l00109">Character::can_wear()</a>, <a class="el" href="character_8cpp_source.html#l07836">Character::can_wield()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="item_8cpp_source.html#l08618">item::count_by_charges()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>, <a class="el" href="advanced__inv_8h_source.html#l00110">exit</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00068">advanced_inv_listitem::from_vehicle</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="item__location_8cpp_source.html#l01087">item_location::get_item()</a>, <a class="el" href="character_8cpp_source.html#l00674">Character::get_wielded_item()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="item__location_8cpp_source.html#l01107">item_location::held_by()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00026">advanced_inv_listitem::idx</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="advanced__inv_8cpp.html#a48722d189ba972fea546bc860acb8cff">json_flag_NO_RELOAD</a>, <a class="el" href="advanced__inv_8cpp.html#a4f0587545a47d233d566708fb96fad9c">json_flag_NO_UNLOAD</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="item__location_8cpp_source.html#l00884">item_location::parents_can_contain_recursive()</a>, <a class="el" href="output_8h_source.html#l00476">PF_GET_KEY</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02135">query_charges()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="advanced__inv_8h_source.html#l00085">recalc</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00044">advanced_inventory_pane::restore_area()</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01422">start_activity()</a>, <a class="el" href="ret__val_8h_source.html#l00017">ret_val_common::str()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="ret__val_8h_source.html#l00013">ret_val_common::success()</a>, <a class="el" href="character__attire_8cpp_source.html#l00511">Character::takeoff()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="item_8cpp_source.html#l14449">item::type_name()</a>, and <a class="el" href="character_8h_source.html#l01906">Character::worn_position_to_index()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="aaceca3cfbe98197ab6286d6b3356ff75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaceca3cfbe98197ab6286d6b3356ff75">&#9670;&nbsp;</a></span>change_square()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::change_square </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>changeSquare</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>dpane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>spane</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01309">1309</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;{</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="comment">// Determine behavior if current pane is used.  AIM_CONTAINER should never swap to allow for multi-containers</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">if</span>( ( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].get_area() == changeSquare || <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].get_area() == changeSquare ) &amp;&amp;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        changeSquare != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp; changeSquare != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a> ) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[changeSquare].can_store_in_vehicle() &amp;&amp; changeSquare != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a> &amp;&amp;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != changeSquare ) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="comment">// only deal with spane, as you can&#39;t _directly_ change dpane</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> = <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> = <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                <span class="comment">// Update dpane to show items removed from the spane.</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                dpane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            }</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == changeSquare ) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[changeSquare], !dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() );</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() ) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                <span class="comment">// swap the `in_vehicle` element of each pane if &quot;one in, one out&quot;</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()], !spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() );</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                dpane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()], !dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() );</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="classadvanced__inventory.html#aff053d1eda71abdca82ba282a2df48ef">swap_panes</a>();</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( changeSquare == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a> &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a1907f4d3bf3b12b1e909873b3186e2a7">target_item_after_recalc</a> = spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> &amp;&amp; !spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>().<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                <span class="comment">// If we&#39;re here from the inventory, skip past individual worn items straight to the full inventory view.</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <a class="code" href="classadvanced__inventory.html#aaceca3cfbe98197ab6286d6b3356ff75">change_square</a>( <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a>, dpane, spane );</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                    <a class="code" href="classadvanced__inventory.html#aff053d1eda71abdca82ba282a2df48ef">swap_panes</a>();</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> = spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>();</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a>], <span class="keyword">false</span> );</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <a class="code" href="classadvanced__inventory.html#aaceca3cfbe98197ab6286d6b3356ff75">change_square</a>( spane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a>, dpane, spane );</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        }</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">index</a> = 0;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        dpane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[changeSquare].canputitems(</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                   changeSquare == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>() != <span class="keyword">nullptr</span> ?</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                   spane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>()-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() : <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a> ) ) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordflow">if</span>( changeSquare == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <a class="code" href="classitem__location.html">item_location</a> &amp;target_container = spane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>()-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            <span class="keywordflow">if</span>( target_container == dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                <a class="code" href="classadvanced__inventory.html#aff053d1eda71abdca82ba282a2df48ef">swap_panes</a>();</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <span class="comment">// Set the pane&#39;s container to the selected item.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> = target_container;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> = spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>();</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <span class="comment">// Update dpane to hide items added to the spane.</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;            dpane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="comment">// Reset the pane&#39;s container whenever we&#39;re switching to something else.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> = <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> = <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                <span class="comment">// Update dpane to show items removed from the spane.</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                dpane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="comment">// Check the original area if we can place items in vehicle storage.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordtype">bool</span> in_vehicle_cargo = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[changeSquare].can_store_in_vehicle() &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != changeSquare ) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="comment">// auto select vehicle if items exist at said square, or both are empty</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <span class="keywordflow">if</span>( changeSquare == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a> ) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                in_vehicle_cargo = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                <span class="comment">// check item stacks in vehicle and map at said square</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> sq = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[changeSquare];</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                <a class="code" href="classmap__stack.html">map_stack</a> <a class="code" href="classmap__stack.html">map_stack</a> = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( sq.<a class="code" href="classadvanced__inv__area.html#a61a6310e15de73ab32f29e3a4e004c19">pos</a> );</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                <a class="code" href="classvehicle__stack.html">vehicle_stack</a> veh_stack = sq.<a class="code" href="classadvanced__inv__area.html#a8b9d88a27c7c1bf7c06deaa511d03e90">get_vehicle_stack</a>();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                <span class="comment">// auto switch to vehicle storage if vehicle items are there, or neither are there</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                <span class="keywordflow">if</span>( !veh_stack.<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() || <a class="code" href="classmap__stack.html">map_stack</a>.<a class="code" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() ) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                    in_vehicle_cargo = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[changeSquare], in_vehicle_cargo );</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">index</a> = 0;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;            dpane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">switch</span>( changeSquare ) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a>:</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You aren&#39;t dragging a vehicle.&quot;</span> ) );</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a>:</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;That isn&#39;t a container.&quot;</span> ) );</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a>:</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You aren&#39;t in a container.&quot;</span> ) );</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t put items there.&quot;</span> ) );</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv__area_8h_html_a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1"><div class="ttname"><a href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a></div><div class="ttdeci">@ NUM_AIM_LOCATIONS</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00029">advanced_inv_area.h:29</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html"><div class="ttname"><a href="classadvanced__inv__area.html">advanced_inv_area</a></div><div class="ttdoc">Defines the source of item stacks.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00044">advanced_inv_area.h:45</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a61a6310e15de73ab32f29e3a4e004c19"><div class="ttname"><a href="classadvanced__inv__area.html#a61a6310e15de73ab32f29e3a4e004c19">advanced_inv_area::pos</a></div><div class="ttdeci">tripoint pos</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00061">advanced_inv_area.h:61</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a8b9d88a27c7c1bf7c06deaa511d03e90"><div class="ttname"><a href="classadvanced__inv__area.html#a8b9d88a27c7c1bf7c06deaa511d03e90">advanced_inv_area::get_vehicle_stack</a></div><div class="ttdeci">vehicle_stack get_vehicle_stack() const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8cpp_source.html#l00265">advanced_inv_area.cpp:265</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a176bc037c1775727cdb0ce5fe47d837b"><div class="ttname"><a href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">advanced_inventory_pane::get_cur_item_ptr</a></div><div class="ttdeci">advanced_inv_listitem * get_cur_item_ptr()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00429">advanced_inv_pane.cpp:429</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a1907f4d3bf3b12b1e909873b3186e2a7"><div class="ttname"><a href="classadvanced__inventory__pane.html#a1907f4d3bf3b12b1e909873b3186e2a7">advanced_inventory_pane::target_item_after_recalc</a></div><div class="ttdeci">item_location target_item_after_recalc</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00079">advanced_inv_pane.h:79</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a6107a46d370a922184e9ee6124cd6307"><div class="ttname"><a href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">advanced_inventory_pane::set_area</a></div><div class="ttdeci">void set_area(const advanced_inv_area &amp;square, bool in_vehicle_cargo=false)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00036">advanced_inv_pane.cpp:36</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a6212a9703170092d77e8e6eeb51cabf8"><div class="ttname"><a href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">advanced_inventory_pane::index</a></div><div class="ttdeci">int index</div><div class="ttdoc">Index of the selected item (index of items),.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00067">advanced_inv_pane.h:67</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_aa868b0cd3fc4867b75a0d8137124459d"><div class="ttname"><a href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">advanced_inventory_pane::recalc</a></div><div class="ttdeci">bool recalc</div><div class="ttdoc">Whether to recalculate the content of this pane.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00078">advanced_inv_pane.h:78</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_ac9162feaf1fd3dc5944511fe561bb342"><div class="ttname"><a href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">advanced_inventory_pane::container_base_loc</a></div><div class="ttdeci">aim_location container_base_loc</div><div class="ttdoc">The original location from which container view was entered.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00088">advanced_inv_pane.h:88</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aaceca3cfbe98197ab6286d6b3356ff75"><div class="ttname"><a href="classadvanced__inventory.html#aaceca3cfbe98197ab6286d6b3356ff75">advanced_inventory::change_square</a></div><div class="ttdeci">void change_square(aim_location changeSquare, advanced_inventory_pane &amp;dpane, advanced_inventory_pane &amp;spane)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01309">advanced_inv.cpp:1309</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_afee9c31085bc87acd086c5a8b0029505"><div class="ttname"><a href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">advanced_inventory::panes</a></div><div class="ttdeci">std::array&lt; advanced_inventory_pane, NUM_PANES &gt; panes</div><div class="ttdoc">Two panels (left and right) showing the items, use a value of side as index.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00104">advanced_inv.h:104</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aff053d1eda71abdca82ba282a2df48ef"><div class="ttname"><a href="classadvanced__inventory.html#aff053d1eda71abdca82ba282a2df48ef">advanced_inventory::swap_panes</a></div><div class="ttdeci">void swap_panes()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02339">advanced_inv.cpp:2339</a></div></div>
<div class="ttc" id="aclassitem__location_html_ac32191753a11cc2f4aa2ad6d50e6405b"><div class="ttname"><a href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a></div><div class="ttdeci">static const item_location nowhere</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00041">item_location.h:41</a></div></div>
<div class="ttc" id="aclassitem__location_html_ad2c318c46c6daaa28c9ed522ae6d13a4"><div class="ttname"><a href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">item_location::parent_item</a></div><div class="ttdeci">item_location parent_item() const</div><div class="ttdoc">returns the parent item, or an invalid location if it has no parent</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00860">item_location.cpp:860</a></div></div>
<div class="ttc" id="aclassitem__location_html_afbeb9ca7c1b58ec0564c0ffa437e415a"><div class="ttname"><a href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">item_location::has_parent</a></div><div class="ttdeci">bool has_parent() const</div><div class="ttdoc">true if this item location can and does have a parent</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00876">item_location.cpp:876</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a83fd3bd296c75326b3709280804acef4"><div class="ttname"><a href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">item_stack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00019">item_stack.cpp:19</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00106">map.h:107</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html"><div class="ttname"><a href="classvehicle__stack.html">vehicle_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00173">vehicle.h:174</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00024">AIM_DRAGGED</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00027">AIM_PARENT</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00088">advanced_inventory_pane::container_base_loc</a>, <a class="el" href="item__stack_8cpp_source.html#l00019">item_stack::empty()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00429">advanced_inventory_pane::get_cur_item_ptr()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00265">advanced_inv_area::get_vehicle_stack()</a>, <a class="el" href="item__location_8cpp_source.html#l00876">item_location::has_parent()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00067">advanced_inventory_pane::index</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="item__location_8h_source.html#l00041">item_location::nowhere</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00029">NUM_AIM_LOCATIONS</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="item__location_8cpp_source.html#l00860">item_location::parent_item()</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00061">advanced_inv_area::pos</a>, <a class="el" href="advanced__inv_8h_source.html#l00085">recalc</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00078">advanced_inventory_pane::recalc</a>, <a class="el" href="advanced__inv_8h_source.html#l00055">right</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00036">advanced_inventory_pane::set_area()</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02339">swap_panes()</a>, and <a class="el" href="advanced__inv__pane_8h_source.html#l00079">advanced_inventory_pane::target_item_after_recalc</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a3f1eaedb86e958387770e71ba02959f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1eaedb86e958387770e71ba02959f7">&#9670;&nbsp;</a></span>display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::display </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01784">1784</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;{</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt{ <a class="code" href="classadvanced__inventory.html#a6ed56ac7f33ace4e7b9f5e56f754e353">register_ctxt</a>() };</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a>() ) {</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        player_character.<a class="code" href="classCharacter.html#a96ec9152d401f128cf31a7cc35c97f65">inv</a>-&gt;restack( player_character );</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;wait_popup.reset();</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <a class="code" href="classadvanced__inventory.html#a7aa370e38f80d5a1b99a8d0b5f48bfe3">init</a>();</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <a class="code" href="namespaceui.html">ui</a> = std::make_unique&lt;ui_adaptor&gt;();</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <a class="code" href="namespaceui.html">ui</a>-&gt;on_screen_resize( [&amp;]( <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            constexpr <span class="keywordtype">int</span> min_w_height = 10;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> min_w_width = <a class="code" href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> max_w_width = get_option&lt;bool&gt;( <span class="stringliteral">&quot;AIM_WIDTH&quot;</span> ) ? <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> : <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 120,</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                                    <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - 2 * ( <a class="code" href="classpanel__manager.html#a5acbe61fa6ec7eaf06ea15c80f14ebc6">panel_manager::get_manager</a>().get_width_right() +</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                                                  <a class="code" href="classpanel__manager.html#a5acbe61fa6ec7eaf06ea15c80f14ebc6">panel_manager::get_manager</a>().get_width_left() ) );</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a> = <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> &lt; min_w_height + <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a> ? min_w_height : <a class="code" href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a> - <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> = TERMX &lt; min_w_width ? min_w_width : TERMX &gt; max_w_width ? max_w_width :</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> );</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            <span class="comment">//(TERMY&gt;w_height)?(TERMY-w_height)/2:0;</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> = 0;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a> = <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> &gt; <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> ? ( <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> - <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> ) / 2 : 0;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a>, <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> - <a class="code" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a>, <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> ) );</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            <a class="code" href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">mm_border</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classadvanced__inventory.html#ae386d305fc3d0774cb143513f9c2cdff">minimap_height</a> + 2, <a class="code" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a> + 2,</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                                            <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a> + ( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> - ( <a class="code" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a> + 2 ) ), <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> ) );</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a> = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classadvanced__inventory.html#ae386d305fc3d0774cb143513f9c2cdff">minimap_height</a>, <a class="code" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a>,</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                                          <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a> + ( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> - ( <a class="code" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a> + 1 ) ), <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> + 1 ) );</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].window = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a>, <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a>,</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                                 <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> + <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a> ) );</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].window = <a class="code" href="namespacecatacurses.html#a576fd20080b8f49e27acf97af45b374b">catacurses::newwin</a>( <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a>, <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a> + <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2,</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                                  <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> + <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a> ) );</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            <span class="comment">// 2 for the borders, 5 for the header stuff</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a> = <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a> - 2 - 5;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> &amp;&amp; <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a> ) {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;window( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 4, <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a> - 1 ), <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2 - 4 );</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.position( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#a414757fb3e840dcbd7ff24513b813bd0">colstart</a>, <a class="code" href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">headstart</a> ), <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a>, <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a> + <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a> ) );</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        } );</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <a class="code" href="namespaceui.html">ui</a>-&gt;mark_resize();</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <a class="code" href="namespaceui.html">ui</a>-&gt;on_redraw( [&amp;]( <span class="keyword">const</span> <a class="code" href="classui__adaptor.html">ui_adaptor</a> &amp; ) {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a5e5849ac4c0fe48a85e74b628e2f6889">always_recalc</a> ) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            <a class="code" href="classadvanced__inventory.html#aca2a67fe1a2582c1ffc2be3d7d6c3851">redraw_pane</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317">advanced_inventory::side::left</a> );</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <a class="code" href="classadvanced__inventory.html#aca2a67fe1a2582c1ffc2be3d7d6c3851">redraw_pane</a>( <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa71175910d38b92b1d517712c548d4dc">advanced_inventory::side::right</a> );</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[0].other_cont &gt; -1 &amp;&amp; <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[0].other_cont &lt; <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a> ) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[0].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2 - 1, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[0].other_cont + 6 ), <a class="code" href="color_8h.html#a77e8f522ea502367f4925a463437f06e">i_brown</a>, <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[1].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[0].other_cont + 6 ), <a class="code" href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a>, <span class="stringliteral">&quot;▶&quot;</span> );</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[1].other_cont &gt; -1 &amp;&amp; <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[1].other_cont &lt; <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a> ) {</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[0].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2 - 1, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[1].other_cont + 6 ), <a class="code" href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a>, <span class="stringliteral">&quot;◀&quot;</span> );</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[1].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 0, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[1].other_cont + 6 ), <a class="code" href="color_8h.html#a77e8f522ea502367f4925a463437f06e">i_brown</a>, <span class="stringliteral">&quot; &quot;</span> );</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            }</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].window );</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].window );</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;            <a class="code" href="classadvanced__inventory.html#a48ffe088a119bd2f60cb715ad33ce532">redraw_sidebar</a>();</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> &amp;&amp; <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a> ) {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                <a class="code" href="output_8cpp.html#adb7f78c8c3ea998fd9c686e6d7bd8015">draw_item_filter_rules</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].window, 1, <a class="code" href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">w_height</a> - 2, <a class="code" href="output_8h.html#aa3bbd067f432dba23cd7bdfe75d7c3b4ae75ab17a550f46adbbe891b819cf951d">item_filter_type::FILTER</a> );</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].window ) - 1 ), <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a>, <span class="stringliteral">&quot;&lt; &quot;</span> );</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2 - 4, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].window ) - 1 ), <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a>,</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                           <span class="stringliteral">&quot; &gt;&quot;</span> );</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;query_string( <span class="comment">/*loop=*/</span><span class="keyword">false</span>, <span class="comment">/*draw_only=*/</span><span class="keyword">true</span> );</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;            }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        } );</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">while</span>( !<a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> ) {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        <span class="keywordflow">if</span>( player_character.<a class="code" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">get_moves</a>() &lt; 0 ) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        }</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a> = <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> == <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317">advanced_inventory::side::left</a> ? <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa71175910d38b92b1d517712c548d4dc">advanced_inventory::side::right</a> :</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;               <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7ae4956a4c75f3714cb1bb5cca8d9b3317">advanced_inventory::side::left</a>;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            <a class="code" href="namespaceui.html">ui</a>-&gt;invalidate_ui();</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> ) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;invalidate_main_ui_adaptor();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            <a class="code" href="namespaceui__manager.html#a5496220e43b7d5f1b3cbbebe6cf1f83d">ui_manager::redraw_invalidated</a>();</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        }</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="comment">// source and destination pane</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;spane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>];</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;dpane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>];</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <span class="comment">// current item in source pane, might be null</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        <a class="code" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *sitem = spane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>();</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> changeSquare = <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a>;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a>() &amp;&amp; <a class="code" href="classadvanced__inventory.html#aee529e2e08c251b6d4e830ce9b8d6ac3">move_all_items_and_waiting_to_quit</a> ) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        }</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160; </div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keyword">const</span> std::string <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a>() ? <span class="stringliteral">&quot;MOVE_ALL_ITEMS&quot;</span> : ctxt.handle_input();</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;CATEGORY_SELECTION&quot;</span> ) {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <a class="code" href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">inCategoryMode</a> = !<a class="code" href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">inCategoryMode</a>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;ITEMS_DEFAULT&quot;</span> ) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="subbodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a> cside : {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                     <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>, <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                 } ) {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;pane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[cside];</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                <span class="keywordtype">int</span> i_location = cside == <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a> ? <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a31fe7569d3cf6fa8fe91eabb1c8dcf3e">saved_area</a> : <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#afb375e0d4ca44d95ee4bfd0a6442258a">saved_area_right</a>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a><span class="keyword">&gt;</span>( i_location );</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> || <a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a> == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                    pane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                pane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a>] );</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;            }</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SAVE_DEFAULT&quot;</span> ) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a31fe7569d3cf6fa8fe91eabb1c8dcf3e">saved_area</a> = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].get_area();</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#afb375e0d4ca44d95ee4bfd0a6442258a">saved_area_right</a> = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].get_area();</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Default layout was saved.&quot;</span> ) );</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a85c22e63c355f3ef14f4399d02acc51c">get_square</a>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>, changeSquare ) ) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            <a class="code" href="classadvanced__inventory.html#aaceca3cfbe98197ab6286d6b3356ff75">change_square</a>( changeSquare, dpane, spane );</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_FAVORITE&quot;</span> ) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <span class="keywordflow">if</span>( sitem == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem__location.html">item_location</a> &amp;<a class="code" href="classitem.html">item</a> : sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a> ) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                <a class="code" href="classitem.html">item</a>-&gt;<a class="code" href="classitem.html#a9a1f33d04abe5ec73a31213be8d0c44e">set_favorite</a>( !<a class="code" href="classitem.html">item</a>-&gt;<a class="code" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> );</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;            <span class="comment">// In case we&#39;ve merged faved and unfaved items</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_SINGLE_ITEM&quot;</span> ||</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                   <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_VARIABLE_ITEM&quot;</span> ||</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                   <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_ITEM_STACK&quot;</span> ) {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;            <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <a class="code" href="classadvanced__inventory.html#a62ca16ce8205feb7114014befd7257d2">action_move_item</a>( sitem, dpane, spane, <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_ALL_ITEMS&quot;</span> ) {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <a class="code" href="classadvanced__inventory.html#a06a0ddb540ab77d4bb9e88f862a4dadf">move_all_items</a>();</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> ) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;CLOSE_ADV_INV&quot;</span> ) ) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                    <a class="code" href="classadvanced__inventory.html#aee529e2e08c251b6d4e830ce9b8d6ac3">move_all_items_and_waiting_to_quit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                }</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;SORT&quot;</span> ) {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#ae2448ee4634d1bb472405f0e99ed2243">show_sort_menu</a>( spane ) ) {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;FILTER&quot;</span> ) {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            std::string <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> = spane.<a class="code" href="classadvanced__inventory__pane.html#adf44cdbe904fdadbeee158e3f773ce4f">filter</a>;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            <a class="code" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a> = std::make_unique&lt;string_input_popup&gt;();</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;max_length( 256 ).text( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;identifier( <span class="stringliteral">&quot;item_filter&quot;</span> ).hist_use_uilist( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                <a class="code" href="namespaceui.html">ui</a>-&gt;mark_resize();</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            }</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="namespaceui.html">ui</a> ) {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                    <a class="code" href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a>();</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                std::string new_filter = <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;query_string( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;canceled() ) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                    <span class="comment">// restore original filter</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                    spane.<a class="code" href="classadvanced__inventory__pane.html#a477e9a726f662fb52211d144196432e2">set_filter</a>( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                    spane.<a class="code" href="classadvanced__inventory__pane.html#a477e9a726f662fb52211d144196432e2">set_filter</a>( new_filter );</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;                }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            } <span class="keywordflow">while</span>( !<a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;canceled() &amp;&amp; !<a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a>-&gt;confirmed() );</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;            <a class="code" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            <a class="code" href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">spopup</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RESET_FILTER&quot;</span> ) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#a477e9a726f662fb52211d144196432e2">set_filter</a>( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_AUTO_PICKUP&quot;</span> ) {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            <span class="keywordflow">if</span>( sitem == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;            }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            <span class="keywordflow">if</span>( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a26c467cfe32bbf5fbadd155696d06df0">autopickup</a> ) {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                <a class="code" href="auto__pickup_8cpp.html#ae63f2dc7701c67efb5202ff3974537a1">get_auto_pickup</a>().<a class="code" href="classauto__pickup_1_1player__settings.html#a459277e128aa4ba3bc0efaf1ff01903a">remove_rule</a>( &amp;*sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() );</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a26c467cfe32bbf5fbadd155696d06df0">autopickup</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                <a class="code" href="auto__pickup_8cpp.html#ae63f2dc7701c67efb5202ff3974537a1">get_auto_pickup</a>().<a class="code" href="classauto__pickup_1_1player__settings.html#ac4cd531be7fa21a9b0dbc56dc712b966">add_rule</a>( &amp;*sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front(), <span class="keyword">true</span> );</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a26c467cfe32bbf5fbadd155696d06df0">autopickup</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;EXAMINE&quot;</span> ) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            <span class="keywordflow">if</span>( sitem == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <a class="code" href="classadvanced__inventory.html#a49c08409dd0ac9f82dcb8ddfb529efbf">action_examine</a>( sitem, spane );</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;EXAMINE_CONTENTS&quot;</span> ) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="keywordflow">if</span>( sitem == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;            }</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <a class="code" href="classitem__location.html">item_location</a> sitem_location = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            <a class="code" href="classinventory__examiner.html">inventory_examiner</a> examine_contents( player_character, sitem_location );</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            examine_contents.add_contained_items( sitem_location );</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            <span class="keywordtype">int</span> examine_result = examine_contents.execute();</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            <span class="keywordflow">if</span>( examine_result == <a class="code" href="inventory__ui_8h.html#a4fb97eea2617334c282d6ced31e038e5">NO_CONTENTS_TO_EXAMINE</a> ) {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                <a class="code" href="classadvanced__inventory.html#a49c08409dd0ac9f82dcb8ddfb529efbf">action_examine</a>( sitem, spane );</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;            }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;QUIT&quot;</span> ) {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            <a class="code" href="classadvanced__inventory.html#a4ad8bf9c59492370c2a1d671ed82e196">exit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_DOWN&quot;</span> ) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#a085ac4fa3e71f99b86aa14a0eecc36fd">scroll_page</a>( <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a>, +1 );</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;PAGE_UP&quot;</span> ) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#a085ac4fa3e71f99b86aa14a0eecc36fd">scroll_page</a>( <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a>, -1 );</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;HOME&quot;</span> ) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#ad668bee5dbd34ce5e46b4e650191bb7d">scroll_to_start</a>();</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;END&quot;</span> ) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#aab78fc365f4e39b917fa226362a00136">scroll_to_end</a>();</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;DOWN&quot;</span> ) {</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">inCategoryMode</a> ) {</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#aae962e883acd344410444cdc096ee0e5">scroll_category</a>( +1 );</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#ade8e1e1d5703345da960700c763900e6">scroll_by</a>( +1 );</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;UP&quot;</span> ) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">inCategoryMode</a> ) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#aae962e883acd344410444cdc096ee0e5">scroll_category</a>( -1 );</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                spane.<a class="code" href="classadvanced__inventory__pane.html#ade8e1e1d5703345da960700c763900e6">scroll_by</a>( -1 );</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;LEFT&quot;</span> ) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> = <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;RIGHT&quot;</span> ) {</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> = <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_TAB&quot;</span> ) {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;            <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> = <a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;TOGGLE_VEH&quot;</span> ) {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()].can_store_in_vehicle() ) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                <span class="comment">// swap the panes if going vehicle will show the same tile</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() != dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ) {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                    <a class="code" href="classadvanced__inventory.html#aff053d1eda71abdca82ba282a2df48ef">swap_panes</a>();</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                    <span class="comment">// disallow for dragged vehicles</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a> ) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                    <span class="comment">// Toggle between vehicle and ground</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                    spane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()], !spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() );</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                    spane.<a class="code" href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">index</a> = 0;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                    spane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                    <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                        dpane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                    }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There&#39;s no vehicle storage space there.&quot;</span> ) );</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            }</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        }</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;}</div>
<div class="ttc" id="aauto__pickup_8cpp_html_ae63f2dc7701c67efb5202ff3974537a1"><div class="ttname"><a href="auto__pickup_8cpp.html#ae63f2dc7701c67efb5202ff3974537a1">get_auto_pickup</a></div><div class="ttdeci">auto_pickup::player_settings &amp; get_auto_pickup()</div><div class="ttdef"><b>Definition:</b> <a href="auto__pickup_8cpp_source.html#l00052">auto_pickup.cpp:52</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a6fe65b9e39049b6d361709241a23d1b6"><div class="ttname"><a href="calendar_8cpp.html#a6fe65b9e39049b6d361709241a23d1b6">location</a></div><div class="ttdeci">static lat_long location</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00034">calendar.cpp:34</a></div></div>
<div class="ttc" id="aclassCreature_html_af3d3fb7cfb98cf3c36f0f0681414274a"><div class="ttname"><a href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">Creature::get_moves</a></div><div class="ttdeci">int get_moves() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02004">creature.cpp:2004</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html"><div class="ttname"><a href="classadvanced__inv__listitem.html">advanced_inv_listitem</a></div><div class="ttdoc">Entry that is displayed in a adv.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00020">advanced_inv_listitem.h:21</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_a26c467cfe32bbf5fbadd155696d06df0"><div class="ttname"><a href="classadvanced__inv__listitem.html#a26c467cfe32bbf5fbadd155696d06df0">advanced_inv_listitem::autopickup</a></div><div class="ttdeci">bool autopickup</div><div class="ttdoc">Whether auto pickup is enabled for this item (based on the name).</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00047">advanced_inv_listitem.h:47</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html"><div class="ttname"><a href="classadvanced__inventory__pane.html">advanced_inventory_pane</a></div><div class="ttdoc">Displayed pane, what is shown on the screen.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00039">advanced_inv_pane.h:40</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a085ac4fa3e71f99b86aa14a0eecc36fd"><div class="ttname"><a href="classadvanced__inventory__pane.html#a085ac4fa3e71f99b86aa14a0eecc36fd">advanced_inventory_pane::scroll_page</a></div><div class="ttdeci">void scroll_page(int linesPerPage, int offset)</div><div class="ttdoc">Scroll index, by given offset in pages,.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00329">advanced_inv_pane.cpp:329</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a477e9a726f662fb52211d144196432e2"><div class="ttname"><a href="classadvanced__inventory__pane.html#a477e9a726f662fb52211d144196432e2">advanced_inventory_pane::set_filter</a></div><div class="ttdeci">void set_filter(const std::string &amp;new_filter)</div><div class="ttdoc">Set the filter string, disables filtering when the filter string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00471">advanced_inv_pane.cpp:471</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_aab78fc365f4e39b917fa226362a00136"><div class="ttname"><a href="classadvanced__inventory__pane.html#aab78fc365f4e39b917fa226362a00136">advanced_inventory_pane::scroll_to_end</a></div><div class="ttdeci">void scroll_to_end()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00424">advanced_inv_pane.cpp:424</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_aae962e883acd344410444cdc096ee0e5"><div class="ttname"><a href="classadvanced__inventory__pane.html#aae962e883acd344410444cdc096ee0e5">advanced_inventory_pane::scroll_category</a></div><div class="ttdeci">void scroll_category(int offset)</div><div class="ttdoc">Scroll index, in category mode by given offset.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00388">advanced_inv_pane.cpp:388</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_ad668bee5dbd34ce5e46b4e650191bb7d"><div class="ttname"><a href="classadvanced__inventory__pane.html#ad668bee5dbd34ce5e46b4e650191bb7d">advanced_inventory_pane::scroll_to_start</a></div><div class="ttdeci">void scroll_to_start()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00419">advanced_inv_pane.cpp:419</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_adf44cdbe904fdadbeee158e3f773ce4f"><div class="ttname"><a href="classadvanced__inventory__pane.html#adf44cdbe904fdadbeee158e3f773ce4f">advanced_inventory_pane::filter</a></div><div class="ttdeci">std::string filter</div><div class="ttdoc">The current filter string.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00074">advanced_inv_pane.h:74</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a06a0ddb540ab77d4bb9e88f862a4dadf"><div class="ttname"><a href="classadvanced__inventory.html#a06a0ddb540ab77d4bb9e88f862a4dadf">advanced_inventory::move_all_items</a></div><div class="ttdeci">bool move_all_items()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00995">advanced_inv.cpp:995</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a36cfe09099b043516ea4473afc772a2d"><div class="ttname"><a href="classadvanced__inventory.html#a36cfe09099b043516ea4473afc772a2d">advanced_inventory::spopup</a></div><div class="ttdeci">std::unique_ptr&lt; string_input_popup &gt; spopup</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00062">advanced_inv.h:62</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a391685edb03bc7df4736fe2943369e62"><div class="ttname"><a href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">advanced_inventory::minimap_width</a></div><div class="ttdeci">const int minimap_width</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00070">advanced_inv.h:70</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a416b92343f3e1fab9643a4903304d0a8"><div class="ttname"><a href="classadvanced__inventory.html#a416b92343f3e1fab9643a4903304d0a8">advanced_inventory::headstart</a></div><div class="ttdeci">int headstart</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00082">advanced_inv.h:82</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a48ffe088a119bd2f60cb715ad33ce532"><div class="ttname"><a href="classadvanced__inventory.html#a48ffe088a119bd2f60cb715ad33ce532">advanced_inventory::redraw_sidebar</a></div><div class="ttdeci">void redraw_sidebar()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01287">advanced_inv.cpp:1287</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a49c08409dd0ac9f82dcb8ddfb529efbf"><div class="ttname"><a href="classadvanced__inventory.html#a49c08409dd0ac9f82dcb8ddfb529efbf">advanced_inventory::action_examine</a></div><div class="ttdeci">void action_examine(advanced_inv_listitem *sitem, advanced_inventory_pane &amp;spane)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01725">advanced_inv.cpp:1725</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a6020fed7f6c4704ac0151a828bbcf321"><div class="ttname"><a href="classadvanced__inventory.html#a6020fed7f6c4704ac0151a828bbcf321">advanced_inventory::w_height</a></div><div class="ttdeci">int w_height</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00079">advanced_inv.h:79</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a62ca16ce8205feb7114014befd7257d2"><div class="ttname"><a href="classadvanced__inventory.html#a62ca16ce8205feb7114014befd7257d2">advanced_inventory::action_move_item</a></div><div class="ttdeci">bool action_move_item(advanced_inv_listitem *sitem, advanced_inventory_pane &amp;dpane, const advanced_inventory_pane &amp;spane, const std::string &amp;action)</div><div class="ttdoc">returns whether the display loop exits or not</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01542">advanced_inv.cpp:1542</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a6ed56ac7f33ace4e7b9f5e56f754e353"><div class="ttname"><a href="classadvanced__inventory.html#a6ed56ac7f33ace4e7b9f5e56f754e353">advanced_inventory::register_ctxt</a></div><div class="ttdeci">input_context register_ctxt() const</div><div class="ttdoc">registers all the ctxt for display()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01238">advanced_inv.cpp:1238</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a7aa370e38f80d5a1b99a8d0b5f48bfe3"><div class="ttname"><a href="classadvanced__inventory.html#a7aa370e38f80d5a1b99a8d0b5f48bfe3">advanced_inventory::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00268">advanced_inv.cpp:268</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a85c22e63c355f3ef14f4399d02acc51c"><div class="ttname"><a href="classadvanced__inventory.html#a85c22e63c355f3ef14f4399d02acc51c">advanced_inventory::get_square</a></div><div class="ttdeci">bool get_square(const std::string &amp;action, aim_location &amp;ret)</div><div class="ttdoc">Translate an action ident from the input context to an aim_location.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00243">advanced_inv.cpp:243</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a923f90a37fed0a25fed12989a2b43c7e"><div class="ttname"><a href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">advanced_inventory::mm_border</a></div><div class="ttdeci">catacurses::window mm_border</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00069">advanced_inv.h:69</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aa0ce472107cae6f207e959e91d5cd131"><div class="ttname"><a href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">advanced_inventory::is_processing</a></div><div class="ttdeci">bool is_processing() const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02370">advanced_inv.cpp:2370</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aad27f5d82ee36c1b3f777e122f933c26"><div class="ttname"><a href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">advanced_inventory::inCategoryMode</a></div><div class="ttdeci">bool inCategoryMode</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00076">advanced_inv.h:76</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ac453879b421a4acd4de3a7d920becd7d"><div class="ttname"><a href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">advanced_inventory::head_height</a></div><div class="ttdeci">static constexpr int head_height</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00058">advanced_inv.h:58</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aca2a67fe1a2582c1ffc2be3d7d6c3851"><div class="ttname"><a href="classadvanced__inventory.html#aca2a67fe1a2582c1ffc2be3d7d6c3851">advanced_inventory::redraw_pane</a></div><div class="ttdeci">void redraw_pane(side p)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00789">advanced_inv.cpp:789</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_add4b6293c811e55f1c8e7eeddd52ca27"><div class="ttname"><a href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">advanced_inventory::linesPerPage</a></div><div class="ttdeci">int linesPerPage</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00078">advanced_inv.h:78</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae0562b28ecb072e6ec1b639cdbf96b0e"><div class="ttname"><a href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">advanced_inventory::filter_edit</a></div><div class="ttdeci">bool filter_edit</div><div class="ttdoc">True if (and only if) the filter of the active panel is currently being edited.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00099">advanced_inv.h:99</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae2448ee4634d1bb472405f0e99ed2243"><div class="ttname"><a href="classadvanced__inventory.html#ae2448ee4634d1bb472405f0e99ed2243">advanced_inventory::show_sort_menu</a></div><div class="ttdeci">bool show_sort_menu(advanced_inventory_pane &amp;pane)</div><div class="ttdoc">Show the sort-by menu and change the sorting of this pane accordingly.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l01211">advanced_inv.cpp:1211</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae24d0b01699da125b499bd789234ad2e"><div class="ttname"><a href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">advanced_inventory::minimap</a></div><div class="ttdeci">catacurses::window minimap</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00068">advanced_inv.h:68</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae386d305fc3d0774cb143513f9c2cdff"><div class="ttname"><a href="classadvanced__inventory.html#ae386d305fc3d0774cb143513f9c2cdff">advanced_inventory::minimap_height</a></div><div class="ttdeci">const int minimap_height</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00071">advanced_inv.h:71</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae7d0399fffd672f19a64b07a65301f19"><div class="ttname"><a href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">advanced_inventory::head</a></div><div class="ttdeci">catacurses::window head</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00108">advanced_inv.h:108</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aee529e2e08c251b6d4e830ce9b8d6ac3"><div class="ttname"><a href="classadvanced__inventory.html#aee529e2e08c251b6d4e830ce9b8d6ac3">advanced_inventory::move_all_items_and_waiting_to_quit</a></div><div class="ttdeci">bool move_all_items_and_waiting_to_quit</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00059">advanced_inv.h:59</a></div></div>
<div class="ttc" id="aclassauto__pickup_1_1player__settings_html_a459277e128aa4ba3bc0efaf1ff01903a"><div class="ttname"><a href="classauto__pickup_1_1player__settings.html#a459277e128aa4ba3bc0efaf1ff01903a">auto_pickup::player_settings::remove_rule</a></div><div class="ttdeci">void remove_rule(const item *it)</div><div class="ttdef"><b>Definition:</b> <a href="auto__pickup_8cpp_source.html#l00769">auto_pickup.cpp:769</a></div></div>
<div class="ttc" id="aclassauto__pickup_1_1player__settings_html_ac4cd531be7fa21a9b0dbc56dc712b966"><div class="ttname"><a href="classauto__pickup_1_1player__settings.html#ac4cd531be7fa21a9b0dbc56dc712b966">auto_pickup::player_settings::add_rule</a></div><div class="ttdeci">void add_rule(const item *it, bool include)</div><div class="ttdef"><b>Definition:</b> <a href="auto__pickup_8cpp_source.html#l00757">auto_pickup.cpp:757</a></div></div>
<div class="ttc" id="aclassinput__context_html"><div class="ttname"><a href="classinput__context.html">input_context</a></div><div class="ttdoc">Represents a context in which a set of actions can be performed.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8h_source.html#l00039">input_context.h:40</a></div></div>
<div class="ttc" id="aclassinventory__examiner_html"><div class="ttname"><a href="classinventory__examiner.html">inventory_examiner</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l01082">inventory_ui.h:1083</a></div></div>
<div class="ttc" id="aclassitem_html_a05c24ca1052a7a8cb9fd314acdb49f40"><div class="ttname"><a href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">item::is_favorite</a></div><div class="ttdeci">bool is_favorite</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03213">item.h:3213</a></div></div>
<div class="ttc" id="aclassitem_html_a9a1f33d04abe5ec73a31213be8d0c44e"><div class="ttname"><a href="classitem.html#a9a1f33d04abe5ec73a31213be8d0c44e">item::set_favorite</a></div><div class="ttdeci">void set_favorite(bool favorite)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14753">item.cpp:14753</a></div></div>
<div class="ttc" id="aclasspanel__manager_html_a5acbe61fa6ec7eaf06ea15c80f14ebc6"><div class="ttname"><a href="classpanel__manager.html#a5acbe61fa6ec7eaf06ea15c80f14ebc6">panel_manager::get_manager</a></div><div class="ttdeci">static panel_manager &amp; get_manager()</div><div class="ttdef"><b>Definition:</b> <a href="panels_8h_source.html#l00132">panels.h:132</a></div></div>
<div class="ttc" id="aclassui__adaptor_html"><div class="ttname"><a href="classui__adaptor.html">ui_adaptor</a></div><div class="ttdoc">Adaptor between UI code and the UI management system.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8h_source.html#l00074">ui_manager.h:75</a></div></div>
<div class="ttc" id="acolor_8h_html_a50c10870af6969c67007ca1374cf5da3"><div class="ttname"><a href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a></div><div class="ttdeci">#define c_brown</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00024">color.h:24</a></div></div>
<div class="ttc" id="acolor_8h_html_a77e8f522ea502367f4925a463437f06e"><div class="ttname"><a href="color_8h.html#a77e8f522ea502367f4925a463437f06e">i_brown</a></div><div class="ttdeci">#define i_brown</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00058">color.h:58</a></div></div>
<div class="ttc" id="acolor_8h_html_a95b67111e2e4be7fcac981d2b7b208f6"><div class="ttname"><a href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a></div><div class="ttdeci">#define c_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="ainventory__ui_8h_html_a4fb97eea2617334c282d6ced31e038e5"><div class="ttname"><a href="inventory__ui_8h.html#a4fb97eea2617334c282d6ced31e038e5">NO_CONTENTS_TO_EXAMINE</a></div><div class="ttdeci">#define NO_CONTENTS_TO_EXAMINE</div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l01081">inventory_ui.h:1081</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_aa9823d249c21fa50daf277957fabb175"><div class="ttname"><a href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">catacurses::wnoutrefresh</a></div><div class="ttdeci">void wnoutrefresh(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00067">ncurses_def.cpp:67</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00099">ncurses_def.cpp:99</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa71175910d38b92b1d517712c548d4dc"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa71175910d38b92b1d517712c548d4dc">keycode::right</a></div><div class="ttdeci">@ right</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00097">input.h:97</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_a5496220e43b7d5f1b3cbbebe6cf1f83d"><div class="ttname"><a href="namespaceui__manager.html#a5496220e43b7d5f1b3cbbebe6cf1f83d">ui_manager::redraw_invalidated</a></div><div class="ttdeci">void redraw_invalidated()</div><div class="ttdoc">Redraw all invalidated windows without invalidating the top window.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00509">ui_manager.cpp:509</a></div></div>
<div class="ttc" id="anamespaceui__manager_html_ae38f3a918052ef286ee60daac47f52d4"><div class="ttname"><a href="namespaceui__manager.html#ae38f3a918052ef286ee60daac47f52d4">ui_manager::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Invalidate the top window and redraw all invalidated windows.</div><div class="ttdef"><b>Definition:</b> <a href="ui__manager_8cpp_source.html#l00504">ui_manager.cpp:504</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a000abea6447dfafd5f9b787aa6753609"><div class="ttname"><a href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a></div><div class="ttdeci">int TERMX</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00049">output.cpp:49</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1e645471d321d71b235fb285da5c08ff"><div class="ttname"><a href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a></div><div class="ttdeci">int popup(const std::string &amp;text, PopupFlags flags)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00912">output.cpp:912</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a567a63be8cb70cc3eb47bf8affced8e5"><div class="ttname"><a href="output_8cpp.html#a567a63be8cb70cc3eb47bf8affced8e5">TERMY</a></div><div class="ttdeci">int TERMY</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00050">output.cpp:50</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_adb7f78c8c3ea998fd9c686e6d7bd8015"><div class="ttname"><a href="output_8cpp.html#adb7f78c8c3ea998fd9c686e6d7bd8015">draw_item_filter_rules</a></div><div class="ttdeci">void draw_item_filter_rules(const catacurses::window &amp;win, const int starty, const int height, const item_filter_type type)</div><div class="ttdoc">Write some tips (such as precede items with - to exclude them) onto the window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01096">output.cpp:1096</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_af24921c70e875c1d0888315b9452b562"><div class="ttname"><a href="output_8cpp.html#af24921c70e875c1d0888315b9452b562">FULL_SCREEN_WIDTH</a></div><div class="ttdeci">int FULL_SCREEN_WIDTH</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00057">output.cpp:57</a></div></div>
<div class="ttc" id="aoutput_8h_html_aa3bbd067f432dba23cd7bdfe75d7c3b4ae75ab17a550f46adbbe891b819cf951d"><div class="ttname"><a href="output_8h.html#aa3bbd067f432dba23cd7bdfe75d7c3b4ae75ab17a550f46adbbe891b819cf951d">item_filter_type::FILTER</a></div><div class="ttdeci">@ FILTER</div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_a31fe7569d3cf6fa8fe91eabb1c8dcf3e"><div class="ttname"><a href="structadvanced__inv__save__state.html#a31fe7569d3cf6fa8fe91eabb1c8dcf3e">advanced_inv_save_state::saved_area</a></div><div class="ttdeci">int saved_area</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00060">uistate.h:60</a></div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_afb375e0d4ca44d95ee4bfd0a6442258a"><div class="ttname"><a href="structadvanced__inv__save__state.html#afb375e0d4ca44d95ee4bfd0a6442258a">advanced_inv_save_state::saved_area_right</a></div><div class="ttdeci">int saved_area_right</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00061">uistate.h:61</a></div></div>
<div class="ttc" id="asubbodypart_8h_html_ae70ba95c272bf8b7296bc0df8bcd03e4"><div class="ttname"><a href="subbodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a></div><div class="ttdeci">side</div><div class="ttdef"><b>Definition:</b> <a href="subbodypart_8h_source.html#l00029">subbodypart.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l02012">inventory_selector::add_contained_items()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00757">auto_pickup::player_settings::add_rule()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00024">AIM_DRAGGED</a>, <a class="el" href="advanced__inv_8h_source.html#l00086">always_recalc</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00047">advanced_inv_listitem::autopickup</a>, <a class="el" href="color_8h_source.html#l00024">c_brown</a>, <a class="el" href="color_8h_source.html#l00022">c_cyan</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01309">change_square()</a>, <a class="el" href="advanced__inv_8h_source.html#l00083">colstart</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>, <a class="el" href="output_8cpp_source.html#l01096">draw_item_filter_rules()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l04355">inventory_examiner::execute()</a>, <a class="el" href="advanced__inv_8h_source.html#l00110">exit</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00074">advanced_inventory_pane::filter</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="output_8h.html#aa3bbd067f432dba23cd7bdfe75d7c3b4ae75ab17a550f46adbbe891b819cf951d">FILTER</a>, <a class="el" href="advanced__inv_8h_source.html#l00099">filter_edit</a>, <a class="el" href="output_8cpp_source.html#l00057">FULL_SCREEN_WIDTH</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00052">get_auto_pickup()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00429">advanced_inventory_pane::get_cur_item_ptr()</a>, <a class="el" href="panels_8h_source.html#l00132">panel_manager::get_manager()</a>, <a class="el" href="creature_8cpp_source.html#l02004">Creature::get_moves()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00243">get_square()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="advanced__inv_8h_source.html#l00108">head</a>, <a class="el" href="advanced__inv_8h_source.html#l00058">head_height</a>, <a class="el" href="advanced__inv_8h_source.html#l00082">headstart</a>, <a class="el" href="color_8h_source.html#l00058">i_brown</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="advanced__inv_8h_source.html#l00076">inCategoryMode</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00067">advanced_inventory_pane::index</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>, <a class="el" href="character_8h_source.html#l02712">Character::inv</a>, <a class="el" href="item_8h_source.html#l03213">item::is_favorite</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02370">is_processing()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="input_8h_source.html#l00098">keycode::left</a>, <a class="el" href="advanced__inv_8h_source.html#l00078">linesPerPage</a>, <a class="el" href="calendar_8cpp_source.html#l00034">location</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="advanced__inv_8h_source.html#l00068">minimap</a>, <a class="el" href="advanced__inv_8h_source.html#l00071">minimap_height</a>, <a class="el" href="advanced__inv_8h_source.html#l00070">minimap_width</a>, <a class="el" href="advanced__inv_8h_source.html#l00069">mm_border</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, <a class="el" href="advanced__inv_8h_source.html#l00059">move_all_items_and_waiting_to_quit</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00058">catacurses::newwin()</a>, <a class="el" href="inventory__ui_8h_source.html#l01081">NO_CONTENTS_TO_EXAMINE</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00029">NUM_AIM_LOCATIONS</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="advanced__inv_8h_source.html#l00085">recalc</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00078">advanced_inventory_pane::recalc</a>, <a class="el" href="ui__manager_8cpp_source.html#l00504">ui_manager::redraw()</a>, <a class="el" href="ui__manager_8cpp_source.html#l00509">ui_manager::redraw_invalidated()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01238">register_ctxt()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00769">auto_pickup::player_settings::remove_rule()</a>, <a class="el" href="advanced__inv_8h_source.html#l00055">right</a>, <a class="el" href="input_8h_source.html#l00097">keycode::right</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, <a class="el" href="uistate_8h_source.html#l00060">advanced_inv_save_state::saved_area</a>, <a class="el" href="uistate_8h_source.html#l00061">advanced_inv_save_state::saved_area_right</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00319">advanced_inventory_pane::scroll_by()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00388">advanced_inventory_pane::scroll_category()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00329">advanced_inventory_pane::scroll_page()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00424">advanced_inventory_pane::scroll_to_end()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00419">advanced_inventory_pane::scroll_to_start()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00036">advanced_inventory_pane::set_area()</a>, <a class="el" href="item_8cpp_source.html#l14753">item::set_favorite()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00471">advanced_inventory_pane::set_filter()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01211">show_sort_menu()</a>, <a class="el" href="advanced__inv_8h_source.html#l00062">spopup</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02339">swap_panes()</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="output_8cpp_source.html#l00050">TERMY</a>, <a class="el" href="advanced__inv_8h_source.html#l00079">w_height</a>, <a class="el" href="advanced__inv_8h_source.html#l00080">w_width</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

</div>
</div>
<a id="a77a5e14e66a1c3f82b8eeb1f7047f0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a5e14e66a1c3f82b8eeb1f7047f0f5">&#9670;&nbsp;</a></span>do_return_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::do_return_entry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02353">2353</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;{</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <span class="comment">// only save pane settings</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="classadvanced__inventory.html#a7bda6ab396f9a1844a7825bbc36cad0a">save_settings</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="advanced__inv_8cpp.html#aea8a4524fc166b67268583f1a94717b4">ACT_ADV_INVENTORY</a> );</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    player_character.<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">exit_code</a> = <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">aim_exit::re_entry</a>;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02709">character.h:2709</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a7009e282d5300da78140ba918c5bca18"><div class="ttname"><a href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">player_activity::auto_resume</a></div><div class="ttdeci">bool auto_resume</div><div class="ttdoc">If true, the activity will be auto-resumed next time the player attempts an identical activity.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00078">player_activity.h:78</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv_8cpp.html#aea8a4524fc166b67268583f1a94717b4">ACT_ADV_INVENTORY</a>, <a class="el" href="character_8h_source.html#l02709">Character::activity</a>, <a class="el" href="character_8cpp_source.html#l08935">Character::assign_activity()</a>, <a class="el" href="player__activity_8h_source.html#l00078">player_activity::auto_resume</a>, <a class="el" href="uistate_8h_source.html#l00053">advanced_inv_save_state::exit_code</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">re_entry</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00187">save_settings()</a>, and <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02363">temp_hide()</a>.</p>

</div>
</div>
<a id="a62ae50672223477fd09a06f0a8a75aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ae50672223477fd09a06f0a8a75aab">&#9670;&nbsp;</a></span>draw_minimap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::draw_minimap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02271">2271</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;{</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <span class="comment">// if player is in one of the below, invert the player cell</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;aim_location, 3&gt; player_locations = {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        {<a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251">AIM_CENTER</a>, <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a>, <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a>}</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    };</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;side, NUM_PANES&gt; sides = {{<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>, <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>}};</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="comment">// get the center of the window</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> pc = {<a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a> ) / 2, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a> ) / 2, 0};</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="comment">// draw the 3x3 tiles centered around player</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a091e78df9647c7c8a468a33886a097c5">draw</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a>, player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="subbodypart_8h.html#ae70ba95c272bf8b7296bc0df8bcd03e4">side</a> s : sides ) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        <span class="keywordtype">char</span> sym = <a class="code" href="classadvanced__inventory.html#ad387d818d71f4a4377f68874ff1df649">get_minimap_sym</a>( s );</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordflow">if</span>( sym == <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        }</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> sq = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[s].get_area()];</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        <a class="code" href="structtripoint.html">tripoint</a> pt = pc + sq.<a class="code" href="classadvanced__inv__area.html#a49b65955057c9eb3f32b71e41b880d0d">off</a>;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="comment">// invert the color if pointing to the player&#39;s position</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> cl = sq.<a class="code" href="classadvanced__inv__area.html#a93a2722f51ef6c6b31d8f44e9e3098d9">id</a> == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || sq.<a class="code" href="classadvanced__inv__area.html#a93a2722f51ef6c6b31d8f44e9e3098d9">id</a> == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ?</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                      <a class="code" href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a>( <a class="code" href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a> ) : <a class="code" href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a>.blink();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <a class="code" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a>, pt.<a class="code" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), cl, sym );</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160; </div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="comment">// Invert player&#39;s tile color if exactly one pane points to player&#39;s tile</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="keywordtype">bool</span> invert_left = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordtype">bool</span> invert_right = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> is_selected = [ this ]( <span class="keyword">const</span> <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp; where, <span class="keywordtype">size_t</span> <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> ) {</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <span class="keywordflow">return</span> where == this-&gt;panes[ <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> ].get_area();</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    };</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;loc : player_locations ) {</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        invert_left |= is_selected( loc, 0 );</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        invert_right |= is_selected( loc, 1 );</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    }</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">if</span>( !invert_left || !invert_right ) {</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        player_character.<a class="code" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a>, player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), invert_left || invert_right );</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a1f39711701b63d9ae4e74b624c326316"><div class="ttname"><a href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a></div><div class="ttdeci">void draw(const catacurses::window &amp;w, const point &amp;origin, bool inverted) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02977">creature.cpp:2977</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a49b65955057c9eb3f32b71e41b880d0d"><div class="ttname"><a href="classadvanced__inv__area.html#a49b65955057c9eb3f32b71e41b880d0d">advanced_inv_area::off</a></div><div class="ttdeci">tripoint off</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00054">advanced_inv_area.h:54</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a93a2722f51ef6c6b31d8f44e9e3098d9"><div class="ttname"><a href="classadvanced__inv__area.html#a93a2722f51ef6c6b31d8f44e9e3098d9">advanced_inv_area::id</a></div><div class="ttdeci">const aim_location id</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00050">advanced_inv_area.h:50</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a36fc13ffc4d1e4c93416f0f1b5432b68"><div class="ttname"><a href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">advanced_inventory::side</a></div><div class="ttdeci">side</div><div class="ttdoc">Refers to the two panes, used as index into panes.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8h_source.html#l00053">advanced_inv.h:53</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ad387d818d71f4a4377f68874ff1df649"><div class="ttname"><a href="classadvanced__inventory.html#ad387d818d71f4a4377f68874ff1df649">advanced_inventory::get_minimap_sym</a></div><div class="ttdeci">char get_minimap_sym(side p) const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02312">advanced_inv.cpp:2312</a></div></div>
<div class="ttc" id="aclassmap_html_a091e78df9647c7c8a468a33886a097c5"><div class="ttname"><a href="classmap.html#a091e78df9647c7c8a468a33886a097c5">map::draw</a></div><div class="ttdeci">void draw(const catacurses::window &amp;w, const tripoint &amp;center)</div><div class="ttdoc">Draw a visible part of the map into w.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06930">map.cpp:6930</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a4306eceb07389bb063f39894f4af0503"><div class="ttname"><a href="color_8cpp.html#a4306eceb07389bb063f39894f4af0503">invert_color</a></div><div class="ttdeci">nc_color invert_color(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00540">color.cpp:540</a></div></div>
<div class="ttc" id="acolor_8h_html_a894265dad49331c44392826fc52b848f"><div class="ttname"><a href="color_8h.html#a894265dad49331c44392826fc52b848f">c_light_cyan</a></div><div class="ttdeci">#define c_light_cyan</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00028">color.h:28</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00590">output.cpp:590</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00202">point.h:202</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv__area_8h_source.html#l00019">AIM_CENTER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="color_8h_source.html#l00028">c_light_cyan</a>, <a class="el" href="creature_8cpp_source.html#l02977">Creature::draw()</a>, <a class="el" href="map_8cpp_source.html#l06930">map::draw()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02312">get_minimap_sym()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00050">advanced_inv_area::id</a>, <a class="el" href="color_8cpp_source.html#l00540">invert_color()</a>, <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="advanced__inv_8h_source.html#l00068">minimap</a>, <a class="el" href="output_8cpp_source.html#l00590">mvwputch()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00054">advanced_inv_area::off</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="advanced__inv_8h_source.html#l00055">right</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, and <a class="el" href="point_8h_source.html#l00202">tripoint::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>.</p>

</div>
</div>
<a id="a0413d6248358a9b7ae05f8068df25f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0413d6248358a9b7ae05f8068df25f5a">&#9670;&nbsp;</a></span>fill_lists_with_pane_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::fill_lists_with_pane_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>player_character</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a>&#160;</td>
          <td class="paramname"><em>sort_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>spane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>dpane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>item_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fav_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forbid_buckets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fills <a class="el" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> vectors with the contents of the AIM's panes, for use with move_all_items. </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00873">873</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;{</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    std::vector&lt;move_all_entry&gt; unsorted_item_list;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    std::vector&lt;move_all_entry&gt; unsorted_fav_list;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> wielded = player_character.<a class="code" href="classCharacter.html#aa9a4335ab1fd0d975199750b1ebf5bef">get_wielded_item</a>();</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordtype">bool</span> try_unwield = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> stashed_bucket;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> &amp;listit : spane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a> ) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="keywordflow">if</span>( listit.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() == dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp;it : listit.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a> ) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <span class="keywordflow">if</span>( ( it-&gt;<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) &amp;&amp; !it-&gt;<a class="code" href="classitem.html#a52f5044582c9c5dd6ccf882fad039d64">is_frozen_liquid</a>() ) ||</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                    it-&gt;<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">phase_id::GAS</a> ) ) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                <span class="keywordflow">if</span>( !player_character.<a class="code" href="classCharacter.html#af84eccbb8811da4ef5ea1a991ac28094">can_stash_partial</a>( *it ) ) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> &amp;&amp;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                       !dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a3974b4c42192b80b20bea8d0c093dbf0">can_contain_directly</a>( *it ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">if</span>( it-&gt;<a class="code" href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">is_corpse</a>() &amp;&amp; !it-&gt;<a class="code" href="classitem.html#a69b6ce2dd3062aa4b7d1dcc043d762bb">empty_container</a>() ) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                <span class="comment">// Only allow moving corpses if they&#39;re empty.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keywordflow">if</span>( forbid_buckets &amp;&amp; it-&gt;<a class="code" href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">is_bucket_nonempty</a>() ) {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <span class="comment">// Don&#39;t allow putting nonempty buckets into pockets.</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                stashed_bucket = it;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it == wielded ) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                <span class="comment">// Only allow moving wielded item if it&#39;s the only valid item left.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                try_unwield = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="keywordflow">if</span>( sort_priority == <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">advanced_inv_sortby::SORTBY_NONE</a> ) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="keywordflow">if</span>( it-&gt;<a class="code" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    fav_list.emplace_back( it, it-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                    item_list.emplace_back( it, it-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                <span class="keywordtype">int</span> weight_int = it-&gt;<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>().<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() &gt; INT_MAX ? INT_MAX :</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                 <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( it-&gt;<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>().<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() );</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                std::pair&lt;int, int&gt; sort_values = sort_priority == <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">advanced_inv_sortby::SORTBY_VOLUME</a> ?</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                                  std::make_pair( it-&gt;<a class="code" href="classitem.html#a686df014e8aa8bc4637883802d05f935">volume</a>().<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>(), weight_int ) :</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                                  std::make_pair( weight_int, it-&gt;<a class="code" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">volume</a>().value() );</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <span class="keywordflow">if</span>( it-&gt;<a class="code" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                    unsorted_fav_list.emplace_back( sort_values, <a class="code" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a>( it, it-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() ) );</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                    unsorted_item_list.emplace_back( sort_values, <a class="code" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a>( it, it-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() ) );</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;            }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span>( item_list.empty() &amp;&amp; fav_list.empty() &amp;&amp;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        unsorted_item_list.empty() &amp;&amp; unsorted_fav_list.empty() ) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">if</span>( stashed_bucket ) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s would spill if stored there.  Store its contents first?&quot;</span> ),</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                           stashed_bucket-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) ) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *it : stashed_bucket-&gt;<a class="code" href="classitem.html#afd9fcc8f19476c95071b72c300f47ad1">get_contents</a>().<a class="code" href="classitem__contents.html#a3d0ce1b26434123e939a54714180b09b">all_items_top</a>() ) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                item_list.emplace_back( <a class="code" href="classitem__location.html">item_location</a>( stashed_bucket, it ), it-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="keywordflow">if</span>( stashed_bucket-&gt;<a class="code" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                fav_list.emplace_back( stashed_bucket, stashed_bucket-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                item_list.emplace_back( stashed_bucket, stashed_bucket-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( try_unwield ) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Unwield the %s?&quot;</span> ), wielded-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) ) {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">if</span>( wielded-&gt;<a class="code" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                fav_list.emplace_back( wielded, wielded-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                item_list.emplace_back( wielded, wielded-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;None of the items can be moved there.&quot;</span> ) );</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span>( sort_priority == <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">advanced_inv_sortby::SORTBY_NONE</a> ) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">auto</span> sort = [&amp;dpane]( <span class="keyword">const</span> <a class="code" href="advanced__inv_8cpp.html#ae6a9069c8747fcde4830f9f1d7549704">move_all_entry</a> &amp; lhs, <span class="keyword">const</span> <a class="code" href="advanced__inv_8cpp.html#ae6a9069c8747fcde4830f9f1d7549704">move_all_entry</a> &amp; rhs ) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="comment">// pickup_activity_actor processes from the back, so reverse the order if moving to inventory.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">if</span>( lhs.first.first == rhs.first.first ) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="keywordflow">return</span> dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ?</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                   lhs.first.second &gt; rhs.first.second : lhs.first.second &lt; rhs.first.second;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">return</span> dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ?</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;               lhs.first.first &gt; rhs.first.first : lhs.first.first &lt; rhs.first.first;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    };</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    std::sort( std::begin( unsorted_item_list ), <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">std::end</a>( unsorted_item_list ), sort );</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    std::sort( std::begin( unsorted_fav_list ), <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">std::end</a>( unsorted_fav_list ), sort );</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="advanced__inv_8cpp.html#ae6a9069c8747fcde4830f9f1d7549704">move_all_entry</a> &amp;entry : unsorted_item_list ) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        item_list.push_back( entry.second );</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="advanced__inv_8cpp.html#ae6a9069c8747fcde4830f9f1d7549704">move_all_entry</a> &amp;entry : unsorted_fav_list ) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        fav_list.push_back( entry.second );</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv_8cpp_html_ae6a9069c8747fcde4830f9f1d7549704"><div class="ttname"><a href="advanced__inv_8cpp.html#ae6a9069c8747fcde4830f9f1d7549704">move_all_entry</a></div><div class="ttdeci">std::pair&lt; std::pair&lt; int, int &gt;, drop_or_stash_item_info &gt; move_all_entry</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00076">advanced_inv.cpp:76</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">SORTBY_VOLUME</a></div><div class="ttdeci">@ SORTBY_VOLUME</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00026">advanced_inv_pane.h:26</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">SORTBY_NONE</a></div><div class="ttdeci">@ SORTBY_NONE</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00023">advanced_inv_pane.h:23</a></div></div>
<div class="ttc" id="aclassCharacter_html_af84eccbb8811da4ef5ea1a991ac28094"><div class="ttname"><a href="classCharacter.html#af84eccbb8811da4ef5ea1a991ac28094">Character::can_stash_partial</a></div><div class="ttdeci">bool can_stash_partial(const item &amp;it, bool ignore_pkt_settings=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01514">character.cpp:1514</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a41476b314de69784bad29f4b1ab9f58f"><div class="ttname"><a href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">advanced_inventory_pane::items</a></div><div class="ttdeci">std::vector&lt; advanced_inv_listitem &gt; items</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00070">advanced_inv_pane.h:70</a></div></div>
<div class="ttc" id="aclassdrop__or__stash__item__info_html"><div class="ttname"><a href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l01018">activity_actor_definitions.h:1019</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a3d0ce1b26434123e939a54714180b09b"><div class="ttname"><a href="classitem__contents.html#a3d0ce1b26434123e939a54714180b09b">item_contents::all_items_top</a></div><div class="ttdeci">std::list&lt; item * &gt; all_items_top(const std::function&lt; bool(item_pocket &amp;)&gt; &amp;filter)</div><div class="ttdoc">returns a list of pointers to all top-level items from pockets that match the predicate</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l01677">item_contents.cpp:1677</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08623">item.cpp:8623</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdoc">Total weight of an item accounting for all contained/integrated items.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07081">item.cpp:7081</a></div></div>
<div class="ttc" id="aclassitem_html_a3974b4c42192b80b20bea8d0c093dbf0"><div class="ttname"><a href="classitem.html#a3974b4c42192b80b20bea8d0c093dbf0">item::can_contain_directly</a></div><div class="ttdeci">ret_val&lt; void &gt; can_contain_directly(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10096">item.cpp:10096</a></div></div>
<div class="ttc" id="aclassitem_html_a52f5044582c9c5dd6ccf882fad039d64"><div class="ttname"><a href="classitem.html#a52f5044582c9c5dd6ccf882fad039d64">item::is_frozen_liquid</a></div><div class="ttdeci">bool is_frozen_liquid() const</div><div class="ttdoc">Returns true if the item is A: is SOLID and if it B: is of type LIQUID.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00937">item.cpp:937</a></div></div>
<div class="ttc" id="aclassitem_html_a686df014e8aa8bc4637883802d05f935"><div class="ttname"><a href="classitem.html#a686df014e8aa8bc4637883802d05f935">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false, bool ignore_contents=false, int charges_in_vol=-1) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07360">item.cpp:7360</a></div></div>
<div class="ttc" id="aclassitem_html_a69b6ce2dd3062aa4b7d1dcc043d762bb"><div class="ttname"><a href="classitem.html#a69b6ce2dd3062aa4b7d1dcc043d762bb">item::empty_container</a></div><div class="ttdeci">bool empty_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l15140">item.cpp:15140</a></div></div>
<div class="ttc" id="aclassitem_html_ac9df48bb2d4404a70af9d2fc5e1fa1dd"><div class="ttname"><a href="classitem.html#ac9df48bb2d4404a70af9d2fc5e1fa1dd">item::is_corpse</a></div><div class="ttdeci">bool is_corpse() const</div><div class="ttdoc">Whether this is a corpse item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09526">item.cpp:9526</a></div></div>
<div class="ttc" id="aclassitem_html_af486ddb23bd7e254cc07ef3ba1ba846d"><div class="ttname"><a href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">item::made_of_from_type</a></div><div class="ttdeci">bool made_of_from_type(phase_id phase) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09268">item.cpp:9268</a></div></div>
<div class="ttc" id="aclassitem_html_af84e26c1418a4d090bbf55174431b6ac"><div class="ttname"><a href="classitem.html#af84e26c1418a4d090bbf55174431b6ac">item::is_bucket_nonempty</a></div><div class="ttdeci">bool is_bucket_nonempty() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09746">item.cpp:9746</a></div></div>
<div class="ttc" id="aclassitem_html_afd9fcc8f19476c95071b72c300f47ad1"><div class="ttname"><a href="classitem.html#afd9fcc8f19476c95071b72c300f47ad1">item::get_contents</a></div><div class="ttdeci">item_contents &amp; get_contents()</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03165">item.h:3165</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html_a96f3f957dba2ea5583a55060ffa04363"><div class="ttname"><a href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">units::quantity::value</a></div><div class="ttdeci">constexpr const value_type &amp; value() const</div><div class="ttdoc">Access the raw dimensionless value.</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00060">units.h:60</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">phase_id::GAS</a></div><div class="ttdeci">@ GAS</div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
<div class="ttc" id="anamespaceunits_html_a5d16607c866588620acb381e7dbbf0a6"><div class="ttname"><a href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a></div><div class="ttdeci">quantity&lt; int, volume_in_milliliter_tag &gt; volume</div><div class="ttdef"><b>Definition:</b> <a href="units__fwd_8h_source.html#l00017">units_fwd.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="item__contents_8cpp_source.html#l01677">item_contents::all_items_top()</a>, <a class="el" href="item_8cpp_source.html#l10096">item::can_contain_directly()</a>, <a class="el" href="character_8cpp_source.html#l01514">Character::can_stash_partial()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="item_8cpp_source.html#l08623">item::count()</a>, <a class="el" href="item_8cpp_source.html#l15140">item::empty_container()</a>, <a class="el" href="input_8h_source.html#l00095">keycode::end</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">GAS</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="item_8h_source.html#l03165">item::get_contents()</a>, <a class="el" href="character_8cpp_source.html#l00674">Character::get_wielded_item()</a>, <a class="el" href="item_8cpp_source.html#l09746">item::is_bucket_nonempty()</a>, <a class="el" href="item_8cpp_source.html#l09526">item::is_corpse()</a>, <a class="el" href="item_8h_source.html#l03213">item::is_favorite</a>, <a class="el" href="item_8cpp_source.html#l00937">item::is_frozen_liquid()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00070">advanced_inventory_pane::items</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l09268">item::made_of_from_type()</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00023">SORTBY_NONE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00026">SORTBY_VOLUME</a>, <a class="el" href="ret__val_8h_source.html#l00013">ret_val_common::success()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="units_8h_source.html#l00060">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="item_8cpp_source.html#l07360">item::volume()</a>, and <a class="el" href="item_8cpp_source.html#l07081">item::weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>.</p>

</div>
</div>
<a id="a475c466bbf36be7522405e9cc44f82ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475c466bbf36be7522405e9cc44f82ac">&#9670;&nbsp;</a></span>get_location_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string advanced_inventory::get_location_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>area</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00263">263</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[area].minimapname;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l02056">query_destination_callback::draw_squares()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00666">print_header()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>.</p>

</div>
</div>
<a id="ad387d818d71f4a4377f68874ff1df649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad387d818d71f4a4377f68874ff1df649">&#9670;&nbsp;</a></span>get_minimap_sym()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char advanced_inventory::get_minimap_sym </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02312">2312</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;{</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;char, NUM_PANES&gt; c_side = {{<span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;R&#39;</span>}};</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;char, NUM_PANES&gt; d_side = {{<span class="charliteral">&#39;^&#39;</span>, <span class="charliteral">&#39;v&#39;</span>}};</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;char, NUM_AIM_LOCATIONS&gt; g_nome = {{</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;            <span class="charliteral">&#39;@&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;@&#39;</span>, <span class="charliteral">&#39;#&#39;</span>,</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;            <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;^&#39;</span>, <span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;@&#39;</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    };</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="keywordtype">char</span> ch = g_nome[<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p].get_area()];</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">switch</span>( ch ) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;@&#39;</span>:</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;            <span class="comment">// &#39;^&#39; or &#39;v&#39;</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;            ch = d_side[<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[-p + 1].get_area() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251">AIM_CENTER</a>];</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;#&#39;</span>:</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;            <span class="comment">// &#39;L&#39; or &#39;R&#39;</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;            ch = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p].in_vehicle() ? <span class="charliteral">&#39;V&#39;</span> : c_side[p];</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;^&#39;</span>:</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;            <span class="comment">// do not show anything</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;            ch ^= ch;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    }</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordflow">return</span> ch;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv__area_8h_source.html#l00019">AIM_CENTER</a>, and <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l02271">draw_minimap()</a>.</p>

</div>
</div>
<a id="a21153cedb7b03b7d89ae34a10760cd9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21153cedb7b03b7d89ae34a10760cd9f">&#9670;&nbsp;</a></span>get_one_square()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classadvanced__inv__area.html">advanced_inv_area</a>&amp; advanced_inventory::get_one_square </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;&#160;</td>
          <td class="paramname"><em>loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00046">46</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                                     {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[loc];</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l02056">query_destination_callback::draw_squares()</a>.</p>

</div>
</div>
<a id="ae56282ee21526f30de9f3f0cd460a8bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56282ee21526f30de9f3f0cd460a8bd">&#9670;&nbsp;</a></span>get_sortname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string advanced_inventory::get_sortname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a>&#160;</td>
          <td class="paramname"><em>sortby</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00214">214</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">switch</span>( sortby ) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">SORTBY_NONE</a>:</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;none&quot;</span> );</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91afc2b69609d56228d7e73be025efd3234">SORTBY_NAME</a>:</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;name&quot;</span> );</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6">SORTBY_WEIGHT</a>:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;weight&quot;</span> );</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">SORTBY_VOLUME</a>:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;volume&quot;</span> );</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a3dcb463fdec4de6a4d59d33a84ed8f61">SORTBY_DENSITY</a>:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;density&quot;</span> );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a1b2de7910ffc4736260219d1ff51d4b4">SORTBY_CHARGES</a>:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;charges&quot;</span> );</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9">SORTBY_CATEGORY</a>:</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;category&quot;</span> );</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ab74a7001a876c5604c987bbe7d1ba907">SORTBY_DAMAGE</a>:</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;offensive power&quot;</span> );</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91aeb600d2e4896de8f1fde16a38479cc5d">SORTBY_AMMO</a>:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;ammo/charge type&quot;</span> );</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ae59d2d0ff2c17941ba5bbc1557927f73">SORTBY_SPOILAGE</a>:</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;spoilage&quot;</span> );</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a120d753902041d769c1d09d509d6f147">SORTBY_PRICE</a>:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;barter value&quot;</span> );</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;!BUG!&quot;</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91a120d753902041d769c1d09d509d6f147"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a120d753902041d769c1d09d509d6f147">SORTBY_PRICE</a></div><div class="ttdeci">@ SORTBY_PRICE</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00034">advanced_inv_pane.h:33</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91a1b2de7910ffc4736260219d1ff51d4b4"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a1b2de7910ffc4736260219d1ff51d4b4">SORTBY_CHARGES</a></div><div class="ttdeci">@ SORTBY_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00028">advanced_inv_pane.h:28</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91a3dcb463fdec4de6a4d59d33a84ed8f61"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a3dcb463fdec4de6a4d59d33a84ed8f61">SORTBY_DENSITY</a></div><div class="ttdeci">@ SORTBY_DENSITY</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00027">advanced_inv_pane.h:27</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6">SORTBY_WEIGHT</a></div><div class="ttdeci">@ SORTBY_WEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00025">advanced_inv_pane.h:25</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91ab74a7001a876c5604c987bbe7d1ba907"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ab74a7001a876c5604c987bbe7d1ba907">SORTBY_DAMAGE</a></div><div class="ttdeci">@ SORTBY_DAMAGE</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00030">advanced_inv_pane.h:30</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91ae59d2d0ff2c17941ba5bbc1557927f73"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ae59d2d0ff2c17941ba5bbc1557927f73">SORTBY_SPOILAGE</a></div><div class="ttdeci">@ SORTBY_SPOILAGE</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00032">advanced_inv_pane.h:32</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91aeb600d2e4896de8f1fde16a38479cc5d"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91aeb600d2e4896de8f1fde16a38479cc5d">SORTBY_AMMO</a></div><div class="ttdeci">@ SORTBY_AMMO</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00031">advanced_inv_pane.h:31</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9">SORTBY_CATEGORY</a></div><div class="ttdeci">@ SORTBY_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00029">advanced_inv_pane.h:29</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91afc2b69609d56228d7e73be025efd3234"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91afc2b69609d56228d7e73be025efd3234">SORTBY_NAME</a></div><div class="ttdeci">@ SORTBY_NAME</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00024">advanced_inv_pane.h:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00031">SORTBY_AMMO</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00029">SORTBY_CATEGORY</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00028">SORTBY_CHARGES</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00030">SORTBY_DAMAGE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00027">SORTBY_DENSITY</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00024">SORTBY_NAME</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00023">SORTBY_NONE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00033">SORTBY_PRICE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00032">SORTBY_SPOILAGE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00026">SORTBY_VOLUME</a>, and <a class="el" href="advanced__inv__pane_8h_source.html#l00025">SORTBY_WEIGHT</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01211">show_sort_menu()</a>.</p>

</div>
</div>
<a id="a85c22e63c355f3ef14f4399d02acc51c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c22e63c355f3ef14f4399d02acc51c">&#9670;&nbsp;</a></span>get_square()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::get_square </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translate an action ident from the input context to an aim_location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td>Action ident to translate </td></tr>
    <tr><td class="paramname">ret</td><td>If the action ident referred to a location, its id is stored here. Only valid when the function returns true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the action did refer to an location (which has been stored in ret), false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00243">243</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;s : <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a> ) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span>( s.actionname == <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classadvanced__inventory.html#a7ec5a92b6c3f8f9373936eacd7d44d56">screen_relative_location</a>( s.id );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="ttc" id="aclassadvanced__inventory_html_a7ec5a92b6c3f8f9373936eacd7d44d56"><div class="ttname"><a href="classadvanced__inventory.html#a7ec5a92b6c3f8f9373936eacd7d44d56">advanced_inventory::screen_relative_location</a></div><div class="ttdeci">aim_location screen_relative_location(aim_location area)</div><div class="ttdoc">Converts from screen relative location to game-space relative location for control rotation in isomet...</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00254">advanced_inv.cpp:254</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00254">screen_relative_location()</a>, and <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a7aa370e38f80d5a1b99a8d0b5f48bfe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aa370e38f80d5a1b99a8d0b5f48bfe3">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00268">268</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;<a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a> : <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a> ) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.init();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].save_state = &amp;<a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a6aff6b07cac501b04863ae2a355c0313">pane</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].save_state = &amp;<a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a97e2e344c1e3503d6e478430b44e0d80">pane_right</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classadvanced__inventory.html#a813463c770578ff022b7c60db06324e4">load_settings</a>();</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> = ( <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#ad6483fd2391737fc25b2d8bc3beb5174">active_left</a> ) ? <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a> : <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a> = ( <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#ad6483fd2391737fc25b2d8bc3beb5174">active_left</a> ) ? <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a> : <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">//sanity check, badly initialized values may cause problem in move_all_items( see cata_assert() )</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].get_area() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> &amp;&amp; <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].get_area() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].set_area( <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="ttc" id="aclassadvanced__inventory_html_a813463c770578ff022b7c60db06324e4"><div class="ttname"><a href="classadvanced__inventory.html#a813463c770578ff022b7c60db06324e4">advanced_inventory::load_settings</a></div><div class="ttdeci">void load_settings()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00197">advanced_inv.cpp:197</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a21b4b872795b4d56cd2cf0570f74860e"><div class="ttname"><a href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a></div><div class="ttdeci">void square(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07745">mapgen.cpp:7745</a></div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_a6aff6b07cac501b04863ae2a355c0313"><div class="ttname"><a href="structadvanced__inv__save__state.html#a6aff6b07cac501b04863ae2a355c0313">advanced_inv_save_state::pane</a></div><div class="ttdeci">advanced_inv_pane_save_state pane</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00062">uistate.h:62</a></div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_a97e2e344c1e3503d6e478430b44e0d80"><div class="ttname"><a href="structadvanced__inv__save__state.html#a97e2e344c1e3503d6e478430b44e0d80">advanced_inv_save_state::pane_right</a></div><div class="ttdeci">advanced_inv_pane_save_state pane_right</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00063">uistate.h:63</a></div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_ad6483fd2391737fc25b2d8bc3beb5174"><div class="ttname"><a href="structadvanced__inv__save__state.html#ad6483fd2391737fc25b2d8bc3beb5174">advanced_inv_save_state::active_left</a></div><div class="ttdeci">bool active_left</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00057">uistate.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uistate_8h_source.html#l00057">advanced_inv_save_state::active_left</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00197">load_settings()</a>, <a class="el" href="uistate_8h_source.html#l00062">advanced_inv_save_state::pane</a>, <a class="el" href="uistate_8h_source.html#l00063">advanced_inv_save_state::pane_right</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="advanced__inv_8h_source.html#l00055">right</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, <a class="el" href="mapgen_8cpp_source.html#l07745">square()</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, and <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="aa0ce472107cae6f207e959e91d5cd131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ce472107cae6f207e959e91d5cd131">&#9670;&nbsp;</a></span>is_processing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::is_processing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02370">2370</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;{</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#ad8ea42e02b577e39ebd34e3a907e0075">re_enter_move_all</a> != <a class="code" href="enums_8h.html#a0d2bc37fce00ba56c372e723a8afb484ab078ffd28db767c502ac367053f6e0ac">aim_entry::START</a>;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a0d2bc37fce00ba56c372e723a8afb484ab078ffd28db767c502ac367053f6e0ac"><div class="ttname"><a href="enums_8h.html#a0d2bc37fce00ba56c372e723a8afb484ab078ffd28db767c502ac367053f6e0ac">aim_entry::START</a></div><div class="ttdeci">@ START</div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_ad8ea42e02b577e39ebd34e3a907e0075"><div class="ttname"><a href="structadvanced__inv__save__state.html#ad8ea42e02b577e39ebd34e3a907e0075">advanced_inv_save_state::re_enter_move_all</a></div><div class="ttdeci">aim_entry re_enter_move_all</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00054">uistate.h:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uistate_8h_source.html#l00054">advanced_inv_save_state::re_enter_move_all</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, and <a class="el" href="enums_8h.html#a0d2bc37fce00ba56c372e723a8afb484ab078ffd28db767c502ac367053f6e0ac">START</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>.</p>

</div>
</div>
<a id="a813463c770578ff022b7c60db06324e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813463c770578ff022b7c60db06324e4">&#9670;&nbsp;</a></span>load_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::load_settings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00197">197</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0">aim_exit</a> aim_code = <span class="keyword">static_cast&lt;</span><a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0">aim_exit</a><span class="keyword">&gt;</span>( <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">exit_code</a> );</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].load_settings( <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a31fe7569d3cf6fa8fe91eabb1c8dcf3e">saved_area</a>, <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>, aim_code == <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">aim_exit::re_entry</a> );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].load_settings( <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#afb375e0d4ca44d95ee4bfd0a6442258a">saved_area_right</a>, <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>, aim_code == <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">aim_exit::re_entry</a> );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// In-vehicle flags are set dynamically inside advanced_inventory_pane::load_settings,</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// which means the flags may end up the same even if the areas are also the same. To</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// avoid this, we use the saved in-vehicle flags instead.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].get_area() == <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].get_area() ) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].set_area( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].get_area()], <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a6aff6b07cac501b04863ae2a355c0313">pane</a>.<a class="code" href="structadvanced__inv__pane__save__state.html#a55d66be0bb5f2cec022bd39dbeecac53">in_vehicle</a> );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// Use the negated in-vehicle flag of the left pane to ensure different</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// in-vehicle flags.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].set_area( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].get_area()], !<a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a6aff6b07cac501b04863ae2a355c0313">pane</a>.<a class="code" href="structadvanced__inv__pane__save__state.html#a55d66be0bb5f2cec022bd39dbeecac53">in_vehicle</a> );</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#aa611261cef08a8603b1667bea91e5e7d">exit_code</a> = <a class="code" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0a334c4a4c42fdb79d7ebc3e73b517e6f8">aim_exit::none</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a4e9f163ad07562a548642459ea9474e0"><div class="ttname"><a href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0">aim_exit</a></div><div class="ttdeci">aim_exit</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00015">enums.h:15</a></div></div>
<div class="ttc" id="astructadvanced__inv__pane__save__state_html_a55d66be0bb5f2cec022bd39dbeecac53"><div class="ttname"><a href="structadvanced__inv__pane__save__state.html#a55d66be0bb5f2cec022bd39dbeecac53">advanced_inv_pane_save_state::in_vehicle</a></div><div class="ttdeci">bool in_vehicle</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00026">uistate.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uistate_8h_source.html#l00053">advanced_inv_save_state::exit_code</a>, <a class="el" href="uistate_8h_source.html#l00026">advanced_inv_pane_save_state::in_vehicle</a>, <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="uistate_8h_source.html#l00062">advanced_inv_save_state::pane</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="enums_8h.html#a4e9f163ad07562a548642459ea9474e0ac2c4afe4d786a70449802066d4a7ab1a">re_entry</a>, <a class="el" href="advanced__inv_8h_source.html#l00055">right</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, <a class="el" href="uistate_8h_source.html#l00060">advanced_inv_save_state::saved_area</a>, <a class="el" href="uistate_8h_source.html#l00061">advanced_inv_save_state::saved_area_right</a>, and <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>.</p>

</div>
</div>
<a id="a06a0ddb540ab77d4bb9e88f862a4dadf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a0ddb540ab77d4bb9e88f862a4dadf">&#9670;&nbsp;</a></span>move_all_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::move_all_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00995">995</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;{</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;spane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>];</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;dpane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>];</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="comment">// Check some preconditions to quickly leave the function.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp; dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a337696f1679154f092c1e941dc10ba12">held_by</a>( player_character ) ) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="comment">// TODO: Implement this, distributing the contents to other inventory pockets.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You already have everything in that container.&quot;</span> ) );</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="advanced__inv_8cpp.html#a4f0587545a47d233d566708fb96fad9c">json_flag_NO_UNLOAD</a> ) ) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Source container can&#39;t be unloaded.&quot;</span> ) );</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>()-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="advanced__inv_8cpp.html#a48722d189ba972fea546bc860acb8cff">json_flag_NO_RELOAD</a> ) ) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Destination container can&#39;t be reloaded.&quot;</span> ) );</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordtype">size_t</span> liquid_items = 0;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> &amp;elem : spane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a> ) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp;elemit : elem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a> ) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordflow">if</span>( ( elemit-&gt;<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) &amp;&amp; !elemit-&gt;<a class="code" href="classitem.html#a52f5044582c9c5dd6ccf882fad039d64">is_frozen_liquid</a>() ) ||</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                elemit-&gt;<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">phase_id::GAS</a> ) ) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                liquid_items++;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.empty() || liquid_items == spane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.size() ) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a>() ) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;No eligible items found to be moved.&quot;</span> ) );</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="comment">// ensure we don&#39;t get stuck if the recursive calls in the switch above were interrupted</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            <span class="comment">// by a save-load cycle before the shadowed pane was restored</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            spane.<a class="code" href="classadvanced__inventory__pane.html#a6107a46d370a922184e9ee6124cd6307">set_area</a>( <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> );</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    std::unique_ptr&lt;on_out_of_scope&gt; restore_area;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> loc = dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>();</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="comment">// ask where we want to store the item via the menu</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#a814330bc95db8c5962477d574f454ad3">query_destination</a>( loc ) ) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        restore_area = std::make_unique&lt;on_out_of_scope&gt;( [&amp;]() {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            dpane.<a class="code" href="classadvanced__inventory__pane.html#af2c4b2f624bbf139fe14db30f4c4a619">restore_area</a>();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        } );</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()].canputitems( dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) ) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t put items there.&quot;</span> ) );</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;sarea = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()];</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;darea = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()];</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// Make sure source and destination are different, otherwise items will disappear</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">// Need to check actual position to account for dragged vehicles</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a> &amp;&amp; sarea.<a class="code" href="classadvanced__inv__area.html#a61a6310e15de73ab32f29e3a4e004c19">pos</a> == darea.<a class="code" href="classadvanced__inv__area.html#a61a6310e15de73ab32f29e3a4e004c19">pos</a> &amp;&amp;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() &amp;&amp; spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() == dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() &amp;&amp;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        spane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> == dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You try to put your bags into themselves, but physics won&#39;t let you.&quot;</span> ) );</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="comment">// TODO: implement move_all to worn from inventory.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>(</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Putting on everything from your inventory would be tricky.  Try equipping one by one.&quot;</span> ) );</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    }</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="comment">// TODO: implement move_all to worn from everywhere other than inventory.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>(</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You look at the items, then your clothes, and scratch your head…  Try equipping one by one.&quot;</span> ) );</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// Check first if the destination area still has enough room for moving all.</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a> sort_priority = <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">advanced_inv_sortby::SORTBY_NONE</a>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    std::string limitation;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a>() ) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> over_volume = 0_ml;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::mass</a> over_weight = 0_gram;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::volume</a> &amp;src_volume = spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ? sarea.<a class="code" href="classadvanced__inv__area.html#a72e174d54c55038927e1f409ee45551e">volume_veh</a> : sarea.<a class="code" href="classadvanced__inv__area.html#ac341f2e9a873aa952c543b71f721c6c3">volume</a>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::volume</a> dest_volume_free = dpane.<a class="code" href="classadvanced__inventory__pane.html#abb60b87363e2b6760ced7188761fe91d">free_volume</a>( darea );</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        over_volume = src_volume - dest_volume_free;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::mass</a> &amp;src_weight = spane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ? sarea.<a class="code" href="classadvanced__inv__area.html#ad14fa29e5ac640b1efe2482a80d38519">weight_veh</a> : sarea.<a class="code" href="classadvanced__inv__area.html#a1a6c78f6a7331332db9a66d5831688f4">weight</a>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::mass</a> dest_weight_free = dpane.<a class="code" href="classadvanced__inventory__pane.html#ac169fda39da2d3f9e877ff47882b3f47">free_weight_capacity</a>();</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            over_weight = src_weight - dest_weight_free;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160; </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">if</span>( over_volume &gt; 0_ml &amp;&amp; over_weight &gt; 0_gram ) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            limitation = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;room or weight capacity&quot;</span> );</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            <span class="comment">// Prioritize whichever one is closest to the limit</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            sort_priority = units::to_milliliter&lt;int&gt;( over_volume ) &lt; units::to_gram&lt;int&gt;( over_weight ) ?</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                            <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">SORTBY_VOLUME</a> : <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6">SORTBY_WEIGHT</a>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( over_volume &gt; 0_ml ) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            limitation = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;As in \&quot;not enough room in the backpack\&quot;&quot;</span>, <span class="stringliteral">&quot;room&quot;</span> );</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            sort_priority = <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">SORTBY_VOLUME</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( over_weight &gt; 0_gram ) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            limitation = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;weight capacity&quot;</span> );</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            sort_priority = <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6">SORTBY_WEIGHT</a>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    std::vector&lt;drop_or_stash_item_info&gt; pane_items;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">// Keep a list of favorites separated, only drop non-fav first if they exist.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    std::vector&lt;drop_or_stash_item_info&gt; pane_favs;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordtype">bool</span> forbid_buckets = dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ||</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                          dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> || dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>();</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#a0413d6248358a9b7ae05f8068df25f5a">fill_lists_with_pane_items</a>( player_character, sort_priority, spane, dpane,</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                                     pane_items, pane_favs, forbid_buckets ) ) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="comment">// Move all the favorite items only if there are no other items</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordflow">if</span>( pane_items.empty() ) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">// Check if the list is still empty for when all that&#39;s in the aim_worn list is a wielded weapon.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">if</span>( pane_favs.empty() ) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <a class="code" href="output_8cpp.html#a1e645471d321d71b235fb285da5c08ff">popup</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;None of the items can be moved there.&quot;</span> ) );</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="comment">// Ask to move favorites if the player is holding them</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Really drop all your favorite items?&quot;</span> ) ) ) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        pane_items = pane_favs;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">if</span>( !limitation.empty() &amp;&amp;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;There isn&#39;t enough %s.  Attempt to move as much as you can?&quot;</span> ),</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                   limitation ) ) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> items_to_insert;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &amp;drop : pane_items ) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                items_to_insert.emplace_back( drop.loc(), drop.count() );</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <span class="keyword">const</span> <a class="code" href="classinsert__item__activity__actor.html">insert_item_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( dpane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>, items_to_insert );</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || spane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> placement = darea.<a class="code" href="classadvanced__inv__area.html#a49b65955057c9eb3f32b71e41b880d0d">off</a>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <span class="comment">// in case there is vehicle cargo space at dest but the player wants to drop to ground</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> force_ground = !dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>();</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <span class="keyword">const</span> <a class="code" href="classdrop__activity__actor.html">drop_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( pane_items, placement, force_ground );</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( dpane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        std::vector&lt;item_location&gt; target_items;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        std::vector&lt;int&gt; quantities;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &amp;drop : pane_items ) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            target_items.emplace_back( drop.loc() );</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            <span class="comment">// quantity of 0 means move all</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            quantities.emplace_back( 0 );</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keyword">const</span> <a class="code" href="classpickup__activity__actor.html">pickup_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( target_items, quantities, player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <span class="keyword">false</span> );</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="comment">// Vehicle and map destinations are handled the same.</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="comment">// Stash the destination</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> relative_destination = darea.<a class="code" href="classadvanced__inv__area.html#a49b65955057c9eb3f32b71e41b880d0d">off</a>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        std::vector&lt;item_location&gt; target_items;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        std::vector&lt;int&gt; quantities;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classdrop__or__stash__item__info.html">drop_or_stash_item_info</a> &amp;drop : pane_items ) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            target_items.emplace_back( drop.loc() );</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="comment">// quantity of 0 means move all</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            quantities.emplace_back( 0 );</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="keyword">const</span> <a class="code" href="classmove__items__activity__actor.html">move_items_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( target_items, quantities, dpane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>(),</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                                             relative_destination );</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a14dcded7a48aa4f96aeecf1e76f8f947"><div class="ttname"><a href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a></div><div class="ttdeci">std::list&lt; std::pair&lt; item_location, int &gt; &gt; drop_locations</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00184">activity_item_handling.cpp:184</a></div></div>
<div class="ttc" id="aadvanced__inv__pane_8h_html_a3b88f49cc75a1a09452c1b2a4c10fa91"><div class="ttname"><a href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a></div><div class="ttdeci">advanced_inv_sortby</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00022">advanced_inv_pane.h:22</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a1a6c78f6a7331332db9a66d5831688f4"><div class="ttname"><a href="classadvanced__inv__area.html#a1a6c78f6a7331332db9a66d5831688f4">advanced_inv_area::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00075">advanced_inv_area.h:75</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a72e174d54c55038927e1f409ee45551e"><div class="ttname"><a href="classadvanced__inv__area.html#a72e174d54c55038927e1f409ee45551e">advanced_inv_area::volume_veh</a></div><div class="ttdeci">units::volume volume_veh</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00074">advanced_inv_area.h:74</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_ac341f2e9a873aa952c543b71f721c6c3"><div class="ttname"><a href="classadvanced__inv__area.html#ac341f2e9a873aa952c543b71f721c6c3">advanced_inv_area::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00073">advanced_inv_area.h:73</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_ad14fa29e5ac640b1efe2482a80d38519"><div class="ttname"><a href="classadvanced__inv__area.html#ad14fa29e5ac640b1efe2482a80d38519">advanced_inv_area::weight_veh</a></div><div class="ttdeci">units::mass weight_veh</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00076">advanced_inv_area.h:76</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_abb60b87363e2b6760ced7188761fe91d"><div class="ttname"><a href="classadvanced__inventory__pane.html#abb60b87363e2b6760ced7188761fe91d">advanced_inventory_pane::free_volume</a></div><div class="ttdeci">units::volume free_volume(const advanced_inv_area &amp;square) const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00437">advanced_inv_pane.cpp:437</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_ac169fda39da2d3f9e877ff47882b3f47"><div class="ttname"><a href="classadvanced__inventory__pane.html#ac169fda39da2d3f9e877ff47882b3f47">advanced_inventory_pane::free_weight_capacity</a></div><div class="ttdeci">units::mass free_weight_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00455">advanced_inv_pane.cpp:455</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a0413d6248358a9b7ae05f8068df25f5a"><div class="ttname"><a href="classadvanced__inventory.html#a0413d6248358a9b7ae05f8068df25f5a">advanced_inventory::fill_lists_with_pane_items</a></div><div class="ttdeci">bool fill_lists_with_pane_items(Character &amp;player_character, advanced_inv_sortby sort_priority, advanced_inventory_pane &amp;spane, advanced_inventory_pane &amp;dpane, std::vector&lt; drop_or_stash_item_info &gt; &amp;item_list, std::vector&lt; drop_or_stash_item_info &gt; &amp;fav_list, bool forbid_buckets)</div><div class="ttdoc">Fills drop_or_stash_item_info vectors with the contents of the AIM's panes, for use with move_all_ite...</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00873">advanced_inv.cpp:873</a></div></div>
<div class="ttc" id="aclassinsert__item__activity__actor_html"><div class="ttname"><a href="classinsert__item__activity__actor.html">insert_item_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l01312">activity_actor_definitions.h:1313</a></div></div>
<div class="ttc" id="aclassmove__items__activity__actor_html"><div class="ttname"><a href="classmove__items__activity__actor.html">move_items_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l00494">activity_actor_definitions.h:495</a></div></div>
<div class="ttc" id="aclasspickup__activity__actor_html"><div class="ttname"><a href="classpickup__activity__actor.html">pickup_activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor__definitions_8h_source.html#l00531">activity_actor_definitions.h:532</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00024">AIM_DRAGGED</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="character_8cpp_source.html#l08935">Character::assign_activity()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00873">fill_lists_with_pane_items()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00437">advanced_inventory_pane::free_volume()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00455">advanced_inventory_pane::free_weight_capacity()</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">GAS</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="item__location_8cpp_source.html#l01087">item_location::get_item()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="item__location_8cpp_source.html#l01107">item_location::held_by()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="item_8cpp_source.html#l00937">item::is_frozen_liquid()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02370">is_processing()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00070">advanced_inventory_pane::items</a>, <a class="el" href="advanced__inv_8cpp.html#a48722d189ba972fea546bc860acb8cff">json_flag_NO_RELOAD</a>, <a class="el" href="advanced__inv_8cpp.html#a4f0587545a47d233d566708fb96fad9c">json_flag_NO_UNLOAD</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l09268">item::made_of_from_type()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00054">advanced_inv_area::off</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="output_8cpp_source.html#l00912">popup()</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00061">advanced_inv_area::pos</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00044">advanced_inventory_pane::restore_area()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00036">advanced_inventory_pane::set_area()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00023">SORTBY_NONE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00026">SORTBY_VOLUME</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00025">SORTBY_WEIGHT</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00073">advanced_inv_area::volume</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00074">advanced_inv_area::volume_veh</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00075">advanced_inv_area::weight</a>, and <a class="el" href="advanced__inv__area_8h_source.html#l00076">advanced_inv_area::weight_veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="ae283d462ae0e75225f59b3d7be8bbb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae283d462ae0e75225f59b3d7be8bbb38">&#9670;&nbsp;</a></span>print_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int advanced_inventory::print_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>pane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>sel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00666">666</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;window = pane.<a class="code" href="classadvanced__inventory__pane.html#a947be308f4ed2ea5d75e779df566f9ab">window</a>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordtype">int</span> area = pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordtype">int</span> wwidth = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( window );</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordtype">int</span> ofs = wwidth - 25 - 2 - 14;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordtype">int</span> min_x = wwidth;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a>; ++i ) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordtype">int</span> data_location = <a class="code" href="classadvanced__inventory.html#a7ec5a92b6c3f8f9373936eacd7d44d56">screen_relative_location</a>( <span class="keyword">static_cast&lt;</span><a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a><span class="keyword">&gt;</span>( i ) );</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordtype">bool</span> can_put_items = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[data_location].canputitems( pane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>() != <span class="keyword">nullptr</span> ?</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                             pane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>()-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() : <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a> );</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *bracket = pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> == data_location ||</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                              data_location == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ? <span class="stringliteral">&quot;&gt;&lt;&quot;</span> :</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                              <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[data_location].can_store_in_vehicle() ||</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                              data_location == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a> ? <span class="stringliteral">&quot;&lt;&gt;&quot;</span> : <span class="stringliteral">&quot;[]&quot;</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordtype">bool</span> in_vehicle = pane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() &amp;&amp; data_location == area &amp;&amp; sel == area &amp;&amp;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                          area != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordtype">bool</span> all_brackets = area == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> &amp;&amp; ( data_location &gt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a> &amp;&amp;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                            data_location &lt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a> );</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> bcolor = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> kcolor = <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// Highlight location [#] if it can recieve items,</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="comment">// or highlight container [C] if container mode is active.</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">if</span>( can_put_items ) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            bcolor = in_vehicle ? <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a> :</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                     pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> == data_location ? <a class="code" href="color_8h.html#a50c10870af6969c67007ca1374cf5da3">c_brown</a> :</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                     data_location == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> :</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                     area == data_location || all_brackets ? <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            kcolor = data_location == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ? <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> :</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                     area == data_location ? <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> :</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                     sel == data_location || pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> == data_location ? <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( data_location == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ab75e064d77481d928c7846e3ca1e8f93">AIM_PARENT</a> &amp;&amp; pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            bcolor = <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            kcolor = <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="keyword">const</span> std::string key = <a class="code" href="classadvanced__inventory.html#a475c466bbf36be7522405e9cc44f82ac">get_location_key</a>( <span class="keyword">static_cast&lt;</span><a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a><span class="keyword">&gt;</span>( i ) );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keyword">const</span> <a class="code" href="structpoint.html">point</a> p( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[i].hscreen + <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( ofs, 0 ) );</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        min_x = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( min_x, p.x );</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, p, bcolor, <span class="stringliteral">&quot;%c&quot;</span>, bracket[0] );</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( window, kcolor, <span class="stringliteral">&quot;%s&quot;</span>, in_vehicle &amp;&amp; sel != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a> ? <span class="stringliteral">&quot;V&quot;</span> : key );</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <a class="code" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( window, bcolor, <span class="stringliteral">&quot;%c&quot;</span>, bracket[1] );</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> min_x;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a947be308f4ed2ea5d75e779df566f9ab"><div class="ttname"><a href="classadvanced__inventory__pane.html#a947be308f4ed2ea5d75e779df566f9ab">advanced_inventory_pane::window</a></div><div class="ttdeci">catacurses::window window</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00069">advanced_inv_pane.h:69</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a475c466bbf36be7522405e9cc44f82ac"><div class="ttname"><a href="classadvanced__inventory.html#a475c466bbf36be7522405e9cc44f82ac">advanced_inventory::get_location_key</a></div><div class="ttdeci">std::string get_location_key(aim_location area)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00263">advanced_inv.cpp:263</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00016">color.h:16</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a7b00fb82de0be83f6fc5f7965ea86623"><div class="ttname"><a href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a></div><div class="ttdeci">#define c_light_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aedec608a42edd33ec812f7769a9ed0c9"><div class="ttname"><a href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a></div><div class="ttdeci">void wprintz(const catacurses::window &amp;w, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03298">output.cpp:3298</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00024">AIM_DRAGGED</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00023">AIM_NORTHEAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00027">AIM_PARENT</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00015">AIM_SOUTHWEST</a>, <a class="el" href="color_8h_source.html#l00024">c_brown</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00027">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00088">advanced_inventory_pane::container_base_loc</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00429">advanced_inventory_pane::get_cur_item_ptr()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00263">get_location_key()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="item__location_8h_source.html#l00041">item_location::nowhere</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00029">NUM_AIM_LOCATIONS</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00254">screen_relative_location()</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00069">advanced_inventory_pane::window</a>, <a class="el" href="output_8cpp_source.html#l03298">wprintz()</a>, and <a class="el" href="point_8h_source.html#l00023">point::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>.</p>

</div>
</div>
<a id="a4e471fd524d89ca6372d59453608a624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e471fd524d89ca6372d59453608a624">&#9670;&nbsp;</a></span>print_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::print_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00288">288</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;pane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p];</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;items = pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">const</span> <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;window = pane.<a class="code" href="classadvanced__inventory__pane.html#a947be308f4ed2ea5d75e779df566f9ab">window</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> index = pane.<a class="code" href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">index</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> = <a class="code" href="output_8cpp.html#a000abea6447dfafd5f9b787aa6753609">TERMX</a> &lt;= 100;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    pane.<a class="code" href="classadvanced__inventory__pane.html#a2a1e5753b094a1ff720348f59a3b1663">other_cont</a> = -1;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    std::unordered_set&lt;const item *&gt; other_pane_conts;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[-p + 1].container ) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classitem__location.html">item_location</a> parent_recursive = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[-p + 1].container;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        other_pane_conts.insert( parent_recursive.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>() );</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">while</span>( parent_recursive.<a class="code" href="classitem__location.html#afbeb9ca7c1b58ec0564c0ffa437e415a">has_parent</a>() ) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            parent_recursive = parent_recursive.<a class="code" href="classitem__location.html#ad2c318c46c6daaa28c9ed522ae6d13a4">parent_item</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            other_pane_conts.insert( parent_recursive.<a class="code" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>() );</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordtype">int</span> columns = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( window );</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    std::string spaces( columns - 4, <span class="charliteral">&#39; &#39;</span> );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> norm = <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ? <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">//print inventory&#39;s current and total weight + volume</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ||</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        ( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp; pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) ) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordtype">double</span> weight_carried;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordtype">double</span> weight_capacity;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> volume_carried;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="classunits_1_1quantity.html">units::volume</a> volume_capacity;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            weight_carried = <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a553d53f0a1b730f9810e70981cb77fa8">get_total_contained_weight</a>() );</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            weight_capacity = <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a9b880f082ed473b329b45e78f21b7700">get_total_weight_capacity</a>() );</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            volume_carried = pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a3395fa0eddfd54f6b0acca093df8f274">get_total_contained_volume</a>();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            volume_capacity = pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#ae9daf89e99f089da259528d1ed85e75d">get_total_capacity</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            weight_carried = <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( player_character.<a class="code" href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">weight_carried</a>() );</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            weight_capacity = <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( player_character.<a class="code" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a>() );</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            volume_carried = player_character.<a class="code" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            volume_capacity = player_character.<a class="code" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="comment">// align right, so calculate formatted head length</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keyword">const</span> std::string formatted_head = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%.1f/%.1f %s  %s/%s %s&quot;</span>,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                           weight_carried, weight_capacity, <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>(),</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                                           <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( volume_carried ),</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                           <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( volume_capacity ),</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                           <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> hrightcol = columns - 1 - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( formatted_head );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = weight_carried &gt; weight_capacity ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( hrightcol, 4 ), <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, <span class="stringliteral">&quot;%.1f&quot;</span>, weight_carried );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( window, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <span class="stringliteral">&quot;/%.1f %s  &quot;</span>, weight_capacity, <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>() );</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a> = volume_carried.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() &gt; volume_capacity.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() ?</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( window, <a class="code" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a>, <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( volume_carried ) );</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="output_8cpp.html#aedec608a42edd33ec812f7769a9ed0c9">wprintz</a>( window, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <span class="stringliteral">&quot;/%s %s&quot;</span>, <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( volume_capacity ), <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment">//print square&#39;s current and total weight + volume</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        std::string formatted_head;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            formatted_head = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%3.1f %s  %s %s&quot;</span>,</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                            <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()].weight ),</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                            <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>(),</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                            <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()].volume ),</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                            <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <a class="code" href="classunits_1_1quantity.html">units::volume</a> maxvolume = 0_ml;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;s = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()];</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> &amp;&amp; pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                maxvolume = pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#ae9daf89e99f089da259528d1ed85e75d">get_total_capacity</a>();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                maxvolume = s.<a class="code" href="classadvanced__inv__area.html#a8b9d88a27c7c1bf7c06deaa511d03e90">get_vehicle_stack</a>().<a class="code" href="classvehicle__stack.html#abfa4eb15309e56b94c5d51475d525268">max_volume</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                maxvolume = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#ae47264a5a225fbac1e19fccc8f6dcc55">max_volume</a>( s.<a class="code" href="classadvanced__inv__area.html#a61a6310e15de73ab32f29e3a4e004c19">pos</a> );</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            formatted_head = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%3.1f %s  %s/%s %s&quot;</span>,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                            <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( pane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ? s.<a class="code" href="classadvanced__inv__area.html#ad14fa29e5ac640b1efe2482a80d38519">weight_veh</a> : s.<a class="code" href="classadvanced__inv__area.html#a1a6c78f6a7331332db9a66d5831688f4">weight</a> ),</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                            <a class="code" href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a>(),</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                            <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( pane.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ? s.<a class="code" href="classadvanced__inv__area.html#a72e174d54c55038927e1f409ee45551e">volume_veh</a> : s.<a class="code" href="classadvanced__inv__area.html#ac341f2e9a873aa952c543b71f721c6c3">volume</a> ),</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                            <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( maxvolume ),</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                            <a class="code" href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a>() );</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( columns - 1 - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( formatted_head ), 4 ), norm, formatted_head );</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">//print header row and determine max item name length</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// Last printable column</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> lastcol = columns - 2;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> name_startpos = <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ? 1 : 4;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> src_startpos = lastcol - 18;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> amt_startpos = lastcol - 15;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> weight_startpos = lastcol - 10;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> vol_startpos = lastcol - 4;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// Default name length</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordtype">int</span> max_name_length = amt_startpos - name_startpos - 1;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">//~ Items list header (length type 1). Table fields length without spaces: amt - 4, weight - 5, vol - 4.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> table_hdr_len1 = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;amt weight vol&quot;</span> ) );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">//~ Items list header (length type 2). Table fields length without spaces: src - 2, amt - 4, weight - 5, vol - 4.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> table_hdr_len2 = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;src amt weight vol&quot;</span> ) );</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ? 1 : 4, 5 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Name (charges)&quot;</span> ) );</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> &amp;&amp; !<a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( lastcol - table_hdr_len2 + 1, 5 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                   <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;src amt weight vol&quot;</span> ) );</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// 1 for space</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        max_name_length = src_startpos - name_startpos - 1;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( lastcol - table_hdr_len1 + 1, 5 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;amt weight vol&quot;</span> ) );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">int</span> pageStart = 0; <span class="comment">// index of first item on current page</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="classadvanced__inventory__pagination.html">advanced_inventory_pagination</a> pagination( <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a>, pane );</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span>( !items.empty() ) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="comment">// paginate up to the current item (to count pages)</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt;= index; i++ ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> pagebreak = pagination.step( i );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">if</span>( pagebreak ) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                pageStart = i;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    pagination.reset_page();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = pageStart; i &lt; items.size(); i++ ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keyword">const</span> <a class="code" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> &amp;sitem = items[i];</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> = pagination.line;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordtype">int</span> item_line = <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">sortby</a> == <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9">SORTBY_CATEGORY</a> &amp;&amp; pagination.new_category( sitem.<a class="code" href="classadvanced__inv__listitem.html#a14b5a7a6f2d3703deae4e0a20e5ade70">cat</a> ) ) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="comment">// don&#39;t put category header at bottom of page</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> == <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a> - 1 ) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="comment">// insert category header</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( ( columns - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( sitem.<a class="code" href="classadvanced__inv__listitem.html#a14b5a7a6f2d3703deae4e0a20e5ade70">cat</a>-&gt;<a class="code" href="classitem__category.html#a2de48450f318c5ce81abdb60d6a2f532">name_header</a>() ) - 6 ) / 2, 6 + <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> ),</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                       <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a>, <span class="stringliteral">&quot;[%s]&quot;</span>, sitem.<a class="code" href="classadvanced__inv__listitem.html#a14b5a7a6f2d3703deae4e0a20e5ade70">cat</a>-&gt;<a class="code" href="classitem__category.html#a2de48450f318c5ce81abdb60d6a2f532">name_header</a>() );</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            item_line = <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a> + 1;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it = *sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> selected = <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> &amp;&amp; index == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i );</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> thiscolor;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            thiscolor = norm;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">is_food_container</a>() &amp;&amp; !it.<a class="code" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() &amp;&amp; it.<a class="code" href="classitem.html#abb750db4f0d09dba25b5ed37c58caf75">num_item_stacks</a>() == 1 ) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            thiscolor = it.<a class="code" href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">all_items_top</a>().front()-&gt;color_in_inventory();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            thiscolor = it.<a class="code" href="classitem.html#a2e1ea4d40574ffdce04aa81eb128dca9">color_in_inventory</a>();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> thiscolordark = <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="classnc__color.html">nc_color</a> print_color;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">if</span>( selected ) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">if</span>( !other_pane_conts.empty() &amp;&amp; other_pane_conts.count( &amp;it ) == 1 ) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                pane.<a class="code" href="classadvanced__inventory__pane.html#a2a1e5753b094a1ff720348f59a3b1663">other_cont</a> = item_line;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                thiscolor = <a class="code" href="color_8h.html#aa123a57076e0e912b0547d64492e7b2b">c_white_yellow</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                thiscolor = <a class="code" href="classadvanced__inventory.html#aad27f5d82ee36c1b3f777e122f933c26">inCategoryMode</a> &amp;&amp; pane.<a class="code" href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">sortby</a> == <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9">SORTBY_CATEGORY</a> ? <a class="code" href="color_8h.html#af7bea175641eeb1fbec43dc22b5dd0ea">c_white_red</a> : <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            thiscolordark = <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( thiscolordark );</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 6 + item_line ), thiscolor, <span class="stringliteral">&quot;  %s&quot;</span>, spaces );</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 6 + item_line ), thiscolor, <span class="stringliteral">&quot;&gt;&gt;%s&quot;</span>, spaces );</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !other_pane_conts.empty() &amp;&amp; other_pane_conts.count( &amp;it ) == 1 ) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            pane.<a class="code" href="classadvanced__inventory__pane.html#a2a1e5753b094a1ff720348f59a3b1663">other_cont</a> = item_line;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            thiscolor = <a class="code" href="color_8h.html#a77e8f522ea502367f4925a463437f06e">i_brown</a>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 6 + item_line ), thiscolor, spaces );</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        std::string <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        std::string stolen_string;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">bool</span> stolen = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">if</span>( !it.<a class="code" href="classitem.html#a0b35b9066ad71987b77727af45d96059">is_owned_by</a>( player_character, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            stolen_string = <span class="stringliteral">&quot;&lt;color_light_red&gt;!&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            stolen = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">is_money</a>() ) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="comment">//Count charges</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="comment">// TODO: transition to the item_location system used for the normal inventory</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> charges_total = 0;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> &amp;<a class="code" href="classitem.html">item</a> : sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a> ) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                charges_total += <a class="code" href="classitem.html">item</a>-&gt;<a class="code" href="classitem.html#a428ea67bcf1a68b717f7cd4871b0b980">ammo_remaining</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">if</span>( stolen ) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s %s&quot;</span>, stolen_string, it.<a class="code" href="classitem.html#ae1bbacaa88454c4476b531b217bfa3e9">display_money</a>( sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.size(),</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                           charges_total ) );</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> = it.<a class="code" href="classitem.html#ae1bbacaa88454c4476b531b217bfa3e9">display_money</a>( sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.size(), charges_total );</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">if</span>( stolen ) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s %s&quot;</span>, stolen_string, it.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>() );</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> = it.<a class="code" href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">display_name</a>();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;ITEM_SYMBOLS&quot;</span> ) ) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s %s&quot;</span>, it.<a class="code" href="classitem.html#a1ff6f2a9cd0fc994e3484b66138cb049">symbol</a>(), <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> );</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="comment">//print item name</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ? 1 : 4, 6 + item_line ), max_name_length, thiscolor,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        <a class="code" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">item_name</a> );</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">//print src column</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">// TODO: specify this is coming from a vehicle!</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> &amp;&amp; !<a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( src_startpos, 6 + item_line ), thiscolor, <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[sitem.<a class="code" href="classadvanced__inv__listitem.html#a2d4e8868df3bf42a4f2e2f6beb2fe45b">area</a>].shortname );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="comment">//print &quot;amount&quot; column</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordtype">int</span> it_amt = sitem.<a class="code" href="classadvanced__inv__listitem.html#ae7cfe9308eb5694aa0bb946b6ffe39be">stacks</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span>( it_amt &gt; 1 ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            print_color = thiscolor;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">if</span>( it_amt &gt; 9999 ) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                it_amt = 9999;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                print_color = selected ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) : <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( amt_startpos, 6 + item_line ), print_color, <span class="stringliteral">&quot;%4d&quot;</span>, it_amt );</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">//print weight column</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordtype">double</span> it_weight = <a class="code" href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a>( sitem.<a class="code" href="classadvanced__inv__listitem.html#ab5a820388c8869bc0dfee40a2d429d13">weight</a> );</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordtype">size_t</span> w_precision;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        print_color = it_weight &gt; 0 ? thiscolor : thiscolordark;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span>( it_weight &gt;= 1000.0 ) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">if</span>( it_weight &gt;= 10000.0 ) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                print_color = selected ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) : <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                it_weight = 9999.0;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            w_precision = 0;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( it_weight &gt;= 100.0 ) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            w_precision = 1;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            w_precision = 2;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( weight_startpos, 6 + item_line ), print_color, <span class="stringliteral">&quot;%5.*f&quot;</span>, w_precision,</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                   it_weight );</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">//print volume column</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordtype">bool</span> it_vol_truncated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordtype">double</span> it_vol_value = 0.0;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        std::string it_vol = <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( sitem.<a class="code" href="classadvanced__inv__listitem.html#a39f7062dd390b070a2985bad6f7c0c1e">volume</a>, 5, &amp;it_vol_truncated, &amp;it_vol_value );</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span>( it_vol_truncated &amp;&amp; it_vol_value &gt; 0.0 ) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            print_color = selected ? <a class="code" href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a>( <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> ) : <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            print_color = sitem.<a class="code" href="classadvanced__inv__listitem.html#a39f7062dd390b070a2985bad6f7c0c1e">volume</a>.<a class="code" href="classunits_1_1quantity.html#a96f3f957dba2ea5583a55060ffa04363">value</a>() &gt; 0 ? thiscolor : thiscolordark;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( vol_startpos, 6 + item_line ), print_color, it_vol );</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> &amp;&amp; sitem.<a class="code" href="classadvanced__inv__listitem.html#a26c467cfe32bbf5fbadd155696d06df0">autopickup</a> ) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( window, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 6 + item_line ), <a class="code" href="color_8cpp.html#a5d2c29ee440b5997773bf3bbb3674c5b">magenta_background</a>( it.<a class="code" href="classitem.html#a2e1ea4d40574ffdce04aa81eb128dca9">color_in_inventory</a>() ),</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                       <a class="code" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a> ? it.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>().substr( 0, 1 ) : <span class="stringliteral">&quot;&gt;&quot;</span> );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">if</span>( pagination.step( i ) ) { <span class="comment">// page end</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="ttc" id="acalendar_8h_html_ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465"><div class="ttname"><a href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">clipped_align::compact</a></div><div class="ttdeci">@ compact</div></div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0bdec852c8280a1cb4bb5e45e14057b5"><div class="ttname"><a href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">Character::weight_capacity</a></div><div class="ttdeci">units::mass weight_capacity() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03197">character.cpp:3197</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4f0f412e4bec8d107de42bd34f1fa441"><div class="ttname"><a href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">Character::volume_capacity</a></div><div class="ttdeci">units::volume volume_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08778">character.cpp:8778</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5929e955c11ee6c749447472df7c774d"><div class="ttname"><a href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">Character::weight_carried</a></div><div class="ttdeci">units::mass weight_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03088">character.cpp:3088</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3a5a1cd76002a3e9903b7e09b77bb3f"><div class="ttname"><a href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">Character::volume_carried</a></div><div class="ttdeci">units::volume volume_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08814">character.cpp:8814</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_a14b5a7a6f2d3703deae4e0a20e5ade70"><div class="ttname"><a href="classadvanced__inv__listitem.html#a14b5a7a6f2d3703deae4e0a20e5ade70">advanced_inv_listitem::cat</a></div><div class="ttdeci">const item_category * cat</div><div class="ttdoc">The item category.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00064">advanced_inv_listitem.h:64</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_a39f7062dd390b070a2985bad6f7c0c1e"><div class="ttname"><a href="classadvanced__inv__listitem.html#a39f7062dd390b070a2985bad6f7c0c1e">advanced_inv_listitem::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdoc">The volume of all the items in this stack, used for sorting.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00056">advanced_inv_listitem.h:56</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_ab5a820388c8869bc0dfee40a2d429d13"><div class="ttname"><a href="classadvanced__inv__listitem.html#ab5a820388c8869bc0dfee40a2d429d13">advanced_inv_listitem::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdoc">The weight of all the items in this stack, used for sorting.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00060">advanced_inv_listitem.h:60</a></div></div>
<div class="ttc" id="aclassadvanced__inv__listitem_html_ae7cfe9308eb5694aa0bb946b6ffe39be"><div class="ttname"><a href="classadvanced__inv__listitem.html#ae7cfe9308eb5694aa0bb946b6ffe39be">advanced_inv_listitem::stacks</a></div><div class="ttdeci">int stacks</div><div class="ttdoc">The stack count represented by this item, should be &gt;= 1, should be 1 for anything counted by charges...</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__listitem_8h_source.html#l00052">advanced_inv_listitem.h:52</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pagination_html"><div class="ttname"><a href="classadvanced__inventory__pagination.html">advanced_inventory_pagination</a></div><div class="ttdoc">This class determines the page and line at which an item appears in the AIM.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pagination_8h_source.html#l00011">advanced_inv_pagination.h:12</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a2a1e5753b094a1ff720348f59a3b1663"><div class="ttname"><a href="classadvanced__inventory__pane.html#a2a1e5753b094a1ff720348f59a3b1663">advanced_inventory_pane::other_cont</a></div><div class="ttdeci">int other_cont</div><div class="ttdoc">The line number of the other pane's container, if it's inside this pane's aim location.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00092">advanced_inv_pane.h:92</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_aa0f9fb2db958472a4cd7e17c41368323"><div class="ttname"><a href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">advanced_inventory_pane::sortby</a></div><div class="ttdeci">advanced_inv_sortby sortby</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8h_source.html#l00068">advanced_inv_pane.h:68</a></div></div>
<div class="ttc" id="aclassitem__category_html_a2de48450f318c5ce81abdb60d6a2f532"><div class="ttname"><a href="classitem__category.html#a2de48450f318c5ce81abdb60d6a2f532">item_category::name_header</a></div><div class="ttdeci">std::string name_header() const</div><div class="ttdef"><b>Definition:</b> <a href="item__category_8cpp_source.html#l00087">item_category.cpp:87</a></div></div>
<div class="ttc" id="aclassitem_html_a0b35b9066ad71987b77727af45d96059"><div class="ttname"><a href="classitem.html#a0b35b9066ad71987b77727af45d96059">item::is_owned_by</a></div><div class="ttdeci">bool is_owned_by(const Character &amp;c, bool available_to_take=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l02116">item.cpp:2116</a></div></div>
<div class="ttc" id="aclassitem_html_a10898a02e2696873c90e6b9ea3aca7bc"><div class="ttname"><a href="classitem.html#a10898a02e2696873c90e6b9ea3aca7bc">item::all_items_top</a></div><div class="ttdeci">std::list&lt; const item * &gt; all_items_top() const</div><div class="ttdoc">returns a list of pointers to all top-level items that are not mods</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14951">item.cpp:14951</a></div></div>
<div class="ttc" id="aclassitem_html_a1ff6f2a9cd0fc994e3484b66138cb049"><div class="ttname"><a href="classitem.html#a1ff6f2a9cd0fc994e3484b66138cb049">item::symbol</a></div><div class="ttdeci">const std::string &amp; symbol() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06290">item.cpp:6290</a></div></div>
<div class="ttc" id="aclassitem_html_a2e1ea4d40574ffdce04aa81eb128dca9"><div class="ttname"><a href="classitem.html#a2e1ea4d40574ffdce04aa81eb128dca9">item::color_in_inventory</a></div><div class="ttdeci">nc_color color_in_inventory(const Character *ch=nullptr) const</div><div class="ttdoc">Returns the color of the item depending on usefulness for the player character, e....</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06298">item.cpp:6298</a></div></div>
<div class="ttc" id="aclassitem_html_a3395fa0eddfd54f6b0acca093df8f274"><div class="ttname"><a href="classitem.html#a3395fa0eddfd54f6b0acca093df8f274">item::get_total_contained_volume</a></div><div class="ttdeci">units::volume get_total_contained_volume(bool unrestricted_pockets_only=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11922">item.cpp:11922</a></div></div>
<div class="ttc" id="aclassitem_html_a428ea67bcf1a68b717f7cd4871b0b980"><div class="ttname"><a href="classitem.html#a428ea67bcf1a68b717f7cd4871b0b980">item::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining(const Character *carrier=nullptr, bool include_linked=false) const</div><div class="ttdoc">Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10739">item.cpp:10739</a></div></div>
<div class="ttc" id="aclassitem_html_a553d53f0a1b730f9810e70981cb77fa8"><div class="ttname"><a href="classitem.html#a553d53f0a1b730f9810e70981cb77fa8">item::get_total_contained_weight</a></div><div class="ttdeci">units::mass get_total_contained_weight(bool unrestricted_pockets_only=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11926">item.cpp:11926</a></div></div>
<div class="ttc" id="aclassitem_html_a6921d1c458f1e840933b765ca9c7e583"><div class="ttname"><a href="classitem.html#a6921d1c458f1e840933b765ca9c7e583">item::is_food_container</a></div><div class="ttdeci">bool is_food_container() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09512">item.cpp:9512</a></div></div>
<div class="ttc" id="aclassitem_html_a72d58d172f74830b7d965a0fdfaa2c17"><div class="ttname"><a href="classitem.html#a72d58d172f74830b7d965a0fdfaa2c17">item::is_money</a></div><div class="ttdeci">bool is_money() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08568">item.cpp:8568</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09930">item.cpp:9930</a></div></div>
<div class="ttc" id="aclassitem_html_a893525fea93fa0a45a51edeb64f1b973"><div class="ttname"><a href="classitem.html#a893525fea93fa0a45a51edeb64f1b973">item::display_name</a></div><div class="ttdeci">std::string display_name(unsigned int quantity=1) const</div><div class="ttdoc">Returns the item name and the charges or contained charges (if the item can have charges at all).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06855">item.cpp:6855</a></div></div>
<div class="ttc" id="aclassitem_html_a9b880f082ed473b329b45e78f21b7700"><div class="ttname"><a href="classitem.html#a9b880f082ed473b329b45e78f21b7700">item::get_total_weight_capacity</a></div><div class="ttdeci">units::mass get_total_weight_capacity(bool unrestricted_pockets_only=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11908">item.cpp:11908</a></div></div>
<div class="ttc" id="aclassitem_html_abb750db4f0d09dba25b5ed37c58caf75"><div class="ttname"><a href="classitem.html#abb750db4f0d09dba25b5ed37c58caf75">item::num_item_stacks</a></div><div class="ttdeci">size_t num_item_stacks() const</div><div class="ttdoc">returns the number of items stacks in contents each item that is not count_by_charges,...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l15165">item.cpp:15165</a></div></div>
<div class="ttc" id="aclassitem_html_ae1bbacaa88454c4476b531b217bfa3e9"><div class="ttname"><a href="classitem.html#ae1bbacaa88454c4476b531b217bfa3e9">item::display_money</a></div><div class="ttdeci">std::string display_money(unsigned int quantity, unsigned int total, const std::optional&lt; unsigned int &gt; &amp;selected=std::nullopt) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06834">item.cpp:6834</a></div></div>
<div class="ttc" id="aclassitem_html_ae9daf89e99f089da259528d1ed85e75d"><div class="ttname"><a href="classitem.html#ae9daf89e99f089da259528d1ed85e75d">item::get_total_capacity</a></div><div class="ttdeci">units::volume get_total_capacity(bool unrestricted_pockets_only=false) const</div><div class="ttdoc">It returns the maximum volume of any contents, including liquids, ammo, magazines,...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11903">item.cpp:11903</a></div></div>
<div class="ttc" id="aclassmap_html_ae47264a5a225fbac1e19fccc8f6dcc55"><div class="ttname"><a href="classmap.html#ae47264a5a225fbac1e19fccc8f6dcc55">map::max_volume</a></div><div class="ttdeci">units::volume max_volume(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05144">map.cpp:5144</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html_abfa4eb15309e56b94c5d51475d525268"><div class="ttname"><a href="classvehicle__stack.html#abfa4eb15309e56b94c5d51475d525268">vehicle_stack::max_volume</a></div><div class="ttdeci">units::volume max_volume() const override</div><div class="ttdoc">Maximum volume allowed here.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00202">vehicle.cpp:202</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a5d2c29ee440b5997773bf3bbb3674c5b"><div class="ttname"><a href="color_8cpp.html#a5d2c29ee440b5997773bf3bbb3674c5b">magenta_background</a></div><div class="ttdeci">nc_color magenta_background(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00576">color.cpp:576</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a99e42a5de98370aab8662d4423cf4a4d"><div class="ttname"><a href="color_8cpp.html#a99e42a5de98370aab8662d4423cf4a4d">hilite</a></div><div class="ttdeci">nc_color hilite(const nc_color &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00546">color.cpp:546</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="acolor_8h_html_aa123a57076e0e912b0547d64492e7b2b"><div class="ttname"><a href="color_8h.html#aa123a57076e0e912b0547d64492e7b2b">c_white_yellow</a></div><div class="ttdeci">#define c_white_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00121">color.h:121</a></div></div>
<div class="ttc" id="acolor_8h_html_af7bea175641eeb1fbec43dc22b5dd0ea"><div class="ttname"><a href="color_8h.html#af7bea175641eeb1fbec43dc22b5dd0ea">c_white_red</a></div><div class="ttdeci">#define c_white_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00068">color.h:68</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_a025a5c063205294df20818edc4cfe355"><div class="ttname"><a href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color</a></div><div class="ttdeci">static nc_color color(const T_t &amp;t)</div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a></div><div class="ttdeci">@ line</div></div>
<div class="ttc" id="amutation__ui_8cpp_html_a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79"><div class="ttname"><a href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">mutation_tab_mode::active</a></div><div class="ttdeci">@ active</div></div>
<div class="ttc" id="anamespacetname_html_ab15c62deaae4b9707cd49f4fd5fc2160"><div class="ttname"><a href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">tname::item_name</a></div><div class="ttdeci">constexpr segment_bitset item_name(item_name_bits)</div></div>
<div class="ttc" id="aoutput_8cpp_html_a297635a05a44e1f896fb829a0474f586"><div class="ttname"><a href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a></div><div class="ttdeci">std::string format_volume(const units::volume &amp;volume)</div><div class="ttdoc">Convert and format volume.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03231">output.cpp:3231</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab7abbbd98907f496533db9bc2a02cf4a"><div class="ttname"><a href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a></div><div class="ttdeci">void trim_and_print(const catacurses::window &amp;w, const point &amp;begin, const int width, const nc_color &amp;base_color, const std::string &amp;text, const report_color_error color_error)</div><div class="ttdoc">Prints a single line of text.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00268">output.cpp:268</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a5d1afc8428beadaac75fb68c5a2bfcd7"><div class="ttname"><a href="units__utility_8cpp.html#a5d1afc8428beadaac75fb68c5a2bfcd7">volume_units_abbr</a></div><div class="ttdeci">const char * volume_units_abbr()</div><div class="ttdoc">Create an abbreviated units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00096">units_utility.cpp:96</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a6701113802c6412b3c5d3fa59149ca6c"><div class="ttname"><a href="units__utility_8cpp.html#a6701113802c6412b3c5d3fa59149ca6c">convert_weight</a></div><div class="ttdeci">double convert_weight(const units::mass &amp;weight)</div><div class="ttdoc">Convert weight in grams to units defined by user (kg or lbs)</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00143">units_utility.cpp:143</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_adb77a71aaad9051e5936082915961b2f"><div class="ttname"><a href="units__utility_8cpp.html#adb77a71aaad9051e5936082915961b2f">weight_units</a></div><div class="ttdeci">const char * weight_units()</div><div class="ttdoc">Create a units label for a weight value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00091">units_utility.cpp:91</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="item_8cpp_source.html#l14951">item::all_items_top()</a>, <a class="el" href="item_8cpp_source.html#l10739">item::ammo_remaining()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00030">advanced_inv_listitem::area</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00047">advanced_inv_listitem::autopickup</a>, <a class="el" href="color_8h_source.html#l00022">c_cyan</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="color_8h_source.html#l00068">c_white_red</a>, <a class="el" href="color_8h_source.html#l00121">c_white_yellow</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00064">advanced_inv_listitem::cat</a>, <a class="el" href="editmap_8cpp.html#a025a5c063205294df20818edc4cfe355">color()</a>, <a class="el" href="item_8cpp_source.html#l06298">item::color_in_inventory()</a>, <a class="el" href="calendar_8h.html#ab6e1f01689c2dec473157375188392afa7cf74ca49c304df8150205fc915cd465">compact</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="units__utility_8cpp_source.html#l00143">convert_weight()</a>, <a class="el" href="item_8cpp_source.html#l06834">item::display_money()</a>, <a class="el" href="item_8cpp_source.html#l06855">item::display_name()</a>, <a class="el" href="output_8cpp_source.html#l03231">format_volume()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="item__location_8cpp_source.html#l01087">item_location::get_item()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8cpp_source.html#l11903">item::get_total_capacity()</a>, <a class="el" href="item_8cpp_source.html#l11922">item::get_total_contained_volume()</a>, <a class="el" href="item_8cpp_source.html#l11926">item::get_total_contained_weight()</a>, <a class="el" href="item_8cpp_source.html#l11908">item::get_total_weight_capacity()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00265">advanced_inv_area::get_vehicle_stack()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="item__location_8cpp_source.html#l00876">item_location::has_parent()</a>, <a class="el" href="color_8cpp_source.html#l00546">hilite()</a>, <a class="el" href="color_8h_source.html#l00058">i_brown</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="advanced__inv_8h_source.html#l00076">inCategoryMode</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00067">advanced_inventory_pane::index</a>, <a class="el" href="item_8cpp_source.html#l09930">item::is_craft()</a>, <a class="el" href="item_8cpp_source.html#l09512">item::is_food_container()</a>, <a class="el" href="item_8cpp_source.html#l08568">item::is_money()</a>, <a class="el" href="item_8cpp_source.html#l02116">item::is_owned_by()</a>, <a class="el" href="namespacetname.html#ab15c62deaae4b9707cd49f4fd5fc2160">tname::item_name()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00070">advanced_inventory_pane::items</a>, <a class="el" href="advanced__inv__pagination_8h_source.html#l00018">advanced_inventory_pagination::line</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="advanced__inv_8h_source.html#l00078">linesPerPage</a>, <a class="el" href="color_8cpp_source.html#l00576">magenta_background()</a>, <a class="el" href="vehicle_8cpp_source.html#l00202">vehicle_stack::max_volume()</a>, <a class="el" href="map_8cpp_source.html#l05144">map::max_volume()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="item__category_8cpp_source.html#l00087">item_category::name_header()</a>, <a class="el" href="advanced__inv__pagination_8cpp_source.html#l00017">advanced_inventory_pagination::new_category()</a>, <a class="el" href="item_8cpp_source.html#l15165">item::num_item_stacks()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00092">advanced_inventory_pane::other_cont</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="item__location_8cpp_source.html#l00860">item_location::parent_item()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00061">advanced_inv_area::pos</a>, <a class="el" href="advanced__inv__pagination_8cpp_source.html#l00010">advanced_inventory_pagination::reset_page()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00068">advanced_inventory_pane::sortby</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00029">SORTBY_CATEGORY</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00052">advanced_inv_listitem::stacks</a>, <a class="el" href="advanced__inv__pagination_8cpp_source.html#l00030">advanced_inventory_pagination::step()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="item_8cpp_source.html#l06290">item::symbol()</a>, <a class="el" href="output_8cpp_source.html#l00049">TERMX</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="units_8h_source.html#l00060">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00073">advanced_inv_area::volume</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00056">advanced_inv_listitem::volume</a>, <a class="el" href="character_8cpp_source.html#l08778">Character::volume_capacity()</a>, <a class="el" href="character_8cpp_source.html#l08814">Character::volume_carried()</a>, <a class="el" href="units__utility_8cpp_source.html#l00096">volume_units_abbr()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00074">advanced_inv_area::volume_veh</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00075">advanced_inv_area::weight</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00060">advanced_inv_listitem::weight</a>, <a class="el" href="character_8cpp_source.html#l03197">Character::weight_capacity()</a>, <a class="el" href="character_8cpp_source.html#l03088">Character::weight_carried()</a>, <a class="el" href="units__utility_8cpp_source.html#l00091">weight_units()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00076">advanced_inv_area::weight_veh</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00069">advanced_inventory_pane::window</a>, and <a class="el" href="output_8cpp_source.html#l03298">wprintz()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>.</p>

</div>
</div>
<a id="a8fd8496fa06d19335a67bc1de3c7864a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd8496fa06d19335a67bc1de3c7864a">&#9670;&nbsp;</a></span>query_charges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::query_charges </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>destarea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> &amp;&#160;</td>
          <td class="paramname"><em>sitem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup how many items/charges (if counted by charges) should be moved. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destarea</td><td>Where to move to. This must not be AIM_ALL. </td></tr>
    <tr><td class="paramname">sitem</td><td>The source item, it must contain a valid reference to an item! </td></tr>
    <tr><td class="paramname">action</td><td>The action we are querying </td></tr>
    <tr><td class="paramname">amount</td><td>The input value is ignored, contains the amount that should be moved. Only valid if this returns true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if nothing should/can be moved. True only if there can and should be moved. A return value of true indicates that amount now contains a valid item count to be moved. </dd></dl>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02135">2135</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;{</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="comment">// should be a specific location instead</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> );</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="comment">// valid item is obviously required</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( !sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.empty() );</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it = *sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front();</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> by_charges = it.<a class="code" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>();</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="comment">// default to move all, unless if being equipped</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> input_amount = by_charges ? it.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> : <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_SINGLE_ITEM&quot;</span> ? 1 : sitem.<a class="code" href="classadvanced__inv__listitem.html#ae7cfe9308eb5694aa0bb946b6ffe39be">stacks</a>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    <span class="comment">// there has to be something to begin with</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( input_amount &gt; 0 );</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    amount = input_amount;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="comment">// Includes moving from/to inventory and around on the map.</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) &amp;&amp; !it.<a class="code" href="classitem.html#a52f5044582c9c5dd6ccf882fad039d64">is_frozen_liquid</a>() ) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spilt liquids cannot be picked back up.  Try mopping them up instead.&quot;</span> ) );</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">if</span>( it.<a class="code" href="classitem.html#af486ddb23bd7e254cc07ef3ba1ba846d">made_of_from_type</a>( <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">phase_id::GAS</a> ) ) {</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Spilt gasses cannot be picked up.  They will disappear over time.&quot;</span> ) );</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160; </div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="comment">// Check volume, this should work the same for inventory, map and vehicles, but not for worn</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">if</span>( destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> &amp;&amp; destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a> ) {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::volume</a> free_volume = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].free_volume( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[destarea] );</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> room_for = it.<a class="code" href="classitem.html#a902e330a0505ae225e2ed05921bdf004">charges_per_volume</a>( free_volume );</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        <span class="keywordflow">if</span>( room_for &lt;= 0 ) {</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have no space for the %s.&quot;</span> ), it.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() );</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Destination area is full.  Remove some items first.&quot;</span> ) );</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        amount = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( room_for, amount );</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="comment">// Map and vehicles have a maximal item count, check that. Inventory does not have this.</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">if</span>( destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> &amp;&amp;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> &amp;&amp;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a> &amp;&amp;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;      ) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;p = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[destarea];</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> cntmax = p.<a class="code" href="classadvanced__inv__area.html#a3b425a128862020d71e463ecb363855f">max_size</a> - p.<a class="code" href="classadvanced__inv__area.html#a6f8ade53a47f930f0a129923b6972578">get_item_count</a>();</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="comment">// For items counted by charges, adding it adds 0 items if something there stacks with it.</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> adds0 = by_charges &amp;&amp; std::any_of( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].items.begin(), <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].items.end(),</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        [&amp;it]( <span class="keyword">const</span> <a class="code" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> &amp; li ) {</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            return li.items.front()-&gt;stacks_with( it );</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        } );</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">if</span>( cntmax &lt;= 0 &amp;&amp; !adds0 ) {</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Destination area has too many items.  Remove some first.&quot;</span> ) );</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        }</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="comment">// Items by charge count as a single item, regardless of the charges. As long as the</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="comment">// destination can hold another item, one can move all charges.</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        <span class="keywordflow">if</span>( !by_charges ) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            amount = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( cntmax, amount );</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        }</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    }</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="comment">// Inventory has a weight capacity, map and vehicle don&#39;t have that</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> || destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> || destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a> ) {</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::mass</a> unitweight = it.<a class="code" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() / ( by_charges ? it.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> : 1 );</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::mass</a> max_weight = player_character.<a class="code" href="classCharacter.html#a0bdec852c8280a1cb4bb5e45e14057b5">weight_capacity</a>() * 4 -</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                                       player_character.<a class="code" href="classCharacter.html#a5929e955c11ee6c749447472df7c774d">weight_carried</a>();</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        <span class="keywordflow">if</span>( unitweight &gt; 0_gram &amp;&amp; unitweight * amount &gt; max_weight ) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> weightmax = max_weight / unitweight;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;            <span class="keywordflow">if</span>( weightmax &lt;= 0 ) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;This is too heavy!&quot;</span> ) );</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;            amount = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( weightmax, amount );</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="comment">// handle how many of armor type we can equip (max of 2 per type)</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> &amp;<span class="keywordtype">id</span> = sitem.<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;typeId();</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <span class="comment">// how many slots are available for the item?</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> slots_available = <a class="code" href="game__constants_8h.html#a7ca773657c862460eb9f4fb2daf33335">MAX_WORN_PER_TYPE</a> - player_character.<a class="code" href="classCharacter.html#a86c0275b1070f239cbfcea6f9d94c7c5">amount_worn</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        <span class="comment">// base the amount to equip on amount of slots available</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        amount = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( slots_available, input_amount );</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="comment">// Now we have the final amount. Query if requested or limited room left.</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <span class="stringliteral">&quot;MOVE_VARIABLE_ITEM&quot;</span> || amount &lt; input_amount ) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> count = by_charges ? it.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> : sitem.<a class="code" href="classadvanced__inv__listitem.html#ae7cfe9308eb5694aa0bb946b6ffe39be">stacks</a>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *msg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        std::string popupmsg;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="keywordflow">if</span>( amount &gt;= input_amount ) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;            msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;How many do you want to move?  [Have %d] (0 to cancel)&quot;</span> );</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;            popupmsg = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, count );</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;            msg = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Destination can only hold %d!  Move how many?  [Have %d] (0 to cancel)&quot;</span> );</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            popupmsg = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( msg, amount, count );</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        }</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        <span class="comment">// At this point amount contains the maximal amount that the destination can hold.</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> possible_max = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( input_amount, amount );</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="keywordflow">if</span>( amount &lt;= 0 ) {</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The destination is already full.&quot;</span> ) );</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;            amount = <a class="code" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                     .<a class="code" href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">title</a>( popupmsg )</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                     .<a class="code" href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">width</a>( 20 )</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                     .<a class="code" href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">only_digits</a>( <span class="keyword">true</span> )</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                     .<a class="code" href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">query_int</a>();</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        }</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="keywordflow">if</span>( amount &lt;= 0 ) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        }</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <span class="keywordflow">if</span>( amount &gt; possible_max ) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;            amount = possible_max;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        }</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a86c0275b1070f239cbfcea6f9d94c7c5"><div class="ttname"><a href="classCharacter.html#a86c0275b1070f239cbfcea6f9d94c7c5">Character::amount_worn</a></div><div class="ttdeci">int amount_worn(const itype_id &amp;id) const</div><div class="ttdoc">Returns the amount of item ‘type’ that is currently worn.</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l00447">character_attire.cpp:447</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a3b425a128862020d71e463ecb363855f"><div class="ttname"><a href="classadvanced__inv__area.html#a3b425a128862020d71e463ecb363855f">advanced_inv_area::max_size</a></div><div class="ttdeci">int max_size</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00078">advanced_inv_area.h:78</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a6f8ade53a47f930f0a129923b6972578"><div class="ttname"><a href="classadvanced__inv__area.html#a6f8ade53a47f930f0a129923b6972578">advanced_inv_area::get_item_count</a></div><div class="ttdeci">int get_item_count() const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8cpp_source.html#l00032">advanced_inv_area.cpp:32</a></div></div>
<div class="ttc" id="aclassitem_html_a902e330a0505ae225e2ed05921bdf004"><div class="ttname"><a href="classitem.html#a902e330a0505ae225e2ed05921bdf004">item::charges_per_volume</a></div><div class="ttdeci">int charges_per_volume(const units::volume &amp;vol, bool suppress_warning=false) const</div><div class="ttdoc">Number of (charges of) this item that fit into the given volume.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01332">item.cpp:1332</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00048">string_input_popup.h:49</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aa96aa0184abb3c9740c2a48f098eeb8b"><div class="ttname"><a href="classstring__input__popup.html#aa96aa0184abb3c9740c2a48f098eeb8b">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00113">string_input_popup.h:113</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ab3273f9bfdeac38fff067187b1d3715c"><div class="ttname"><a href="classstring__input__popup.html#ab3273f9bfdeac38fff067187b1d3715c">string_input_popup::width</a></div><div class="ttdeci">string_input_popup &amp; width(int value)</div><div class="ttdoc">Width (in console cells) of the input field itself.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00151">string_input_popup.h:151</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_ad9511310a3e0d119d5587fbf0f877c07"><div class="ttname"><a href="classstring__input__popup.html#ad9511310a3e0d119d5587fbf0f877c07">string_input_popup::query_int</a></div><div class="ttdeci">int query_int(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00361">string_input_popup.cpp:361</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_af38cf4937c0dea802498161d1642fb08"><div class="ttname"><a href="classstring__input__popup.html#af38cf4937c0dea802498161d1642fb08">string_input_popup::only_digits</a></div><div class="ttdeci">string_input_popup &amp; only_digits(bool value)</div><div class="ttdoc">If true, any non-digit input cancels the input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00166">string_input_popup.h:166</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a7ca773657c862460eb9f4fb2daf33335"><div class="ttname"><a href="game__constants_8h.html#a7ca773657c862460eb9f4fb2daf33335">MAX_WORN_PER_TYPE</a></div><div class="ttdeci">constexpr int MAX_WORN_PER_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00035">game_constants.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="dialogue_8h_source.html#l00043">action</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00031">AIM_WIELD</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="character__attire_8cpp_source.html#l00447">Character::amount_worn()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="item_8h_source.html#l03133">item::charges</a>, <a class="el" href="item_8cpp_source.html#l01332">item::charges_per_volume()</a>, <a class="el" href="item_8cpp_source.html#l08618">item::count_by_charges()</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a505273a0a2bba0111a40f6cccbc55d69">GAS</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00032">advanced_inv_area::get_item_count()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8cpp_source.html#l00937">item::is_frozen_liquid()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l09268">item::made_of_from_type()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00078">advanced_inv_area::max_size</a>, <a class="el" href="game__constants_8h_source.html#l00035">MAX_WORN_PER_TYPE</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, <a class="el" href="string__input__popup_8h_source.html#l00166">string_input_popup::only_digits()</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00361">string_input_popup::query_int()</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00052">advanced_inv_listitem::stacks</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="string__input__popup_8h_source.html#l00113">string_input_popup::title()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="item_8cpp_source.html#l07081">item::weight()</a>, <a class="el" href="character_8cpp_source.html#l03197">Character::weight_capacity()</a>, <a class="el" href="character_8cpp_source.html#l03088">Character::weight_carried()</a>, and <a class="el" href="string__input__popup_8h_source.html#l00151">string_input_popup::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>.</p>

</div>
</div>
<a id="a814330bc95db8c5962477d574f454ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a814330bc95db8c5962477d574f454ad3">&#9670;&nbsp;</a></span>query_destination()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::query_destination </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;&#160;</td>
          <td class="paramname"><em>def</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether one can put items into the supplied location. </p>
<p>If the supplied location is AIM_ALL, query for the actual location (stores the result in def) and check that destination. </p><dl class="section return"><dt>Returns</dt><dd>false if one can not put items in the destination, true otherwise. The result true also indicates the def is not AIM_ALL (because the actual location has been queried). </dd></dl>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02083">2083</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;{</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">if</span>( def != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[def].canputitems( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container ) ) {</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        }</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t put items there.&quot;</span> ) );</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    }</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <a class="code" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    menu.<a class="code" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Select destination&quot;</span> );</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    <span class="comment">/* free space for the squares */</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    menu.<a class="code" href="classuilist.html#a9890cac1dc13adf140510719b160bde5">pad_left_setup</a> = 9;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <a class="code" href="classquery__destination__callback.html">query_destination_callback</a> cb( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    menu.<a class="code" href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">callback</a> = &amp;cb;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160; </div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        std::vector &lt;aim_location&gt; ordered_locs;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        static_assert( <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a> - <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a> == 8,</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                       <span class="stringliteral">&quot;Expected 9 contiguous directions in the aim_location enum&quot;</span> );</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a>; i &lt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a>; i++ ) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            ordered_locs.push_back( <a class="code" href="classadvanced__inventory.html#a7ec5a92b6c3f8f9373936eacd7d44d56">screen_relative_location</a>( <span class="keyword">static_cast &lt;</span><a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a><span class="keyword">&gt;</span>( i ) ) );</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        }</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> &amp;ordered_loc : ordered_locs ) {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;s = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[ordered_loc];</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = s.<a class="code" href="classadvanced__inv__area.html#a6f8ade53a47f930f0a129923b6972578">get_item_count</a>();</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            std::string <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">prefix</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%2d/%d&quot;</span>, <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>, <a class="code" href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a> );</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> &gt;= <a class="code" href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a> ) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">prefix</a> += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; (FULL)&quot;</span> );</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            menu.<a class="code" href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">addentry</a>( ordered_loc,</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                           s.<a class="code" href="classadvanced__inv__area.html#acebc413da609b2c35f73be387cbba1f1">canputitems</a>() &amp;&amp; s.<a class="code" href="classadvanced__inv__area.html#a93a2722f51ef6c6b31d8f44e9e3098d9">id</a> != <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].get_area(),</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                           <a class="code" href="classadvanced__inventory.html#a475c466bbf36be7522405e9cc44f82ac">get_location_key</a>( ordered_loc )[0],</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                           <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">prefix</a> + <span class="stringliteral">&quot; &quot;</span> + s.<a class="code" href="classadvanced__inv__area.html#a0acc1388708e1e24c60fc57d02d13ed1">name</a> + <span class="stringliteral">&quot; &quot;</span> + ( s.<a class="code" href="classadvanced__inv__area.html#a59eb14a91b0d9bee2dfb0ee52270cfe2">veh</a> != <span class="keyword">nullptr</span> ? s.<a class="code" href="classadvanced__inv__area.html#a59eb14a91b0d9bee2dfb0ee52270cfe2">veh</a>-&gt;<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> : <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    }</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="comment">// Selected keyed to uilist.entries, which starts at 0.</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    menu.<a class="code" href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">selected</a> = <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a5b8734a9d1c2a5e441d4b8a4b0e55c1e">last_popup_dest</a> - <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a>;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    menu.<a class="code" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordflow">if</span>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &gt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a> &amp;&amp; menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> &lt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a> ) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        <a class="code" href="cata__assert_8h.html#abb2ca9fce6a171932c05748ecc5df5bb">cata_assert</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>].canputitems() );</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        def = <span class="keyword">static_cast&lt;</span><a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a><span class="keyword">&gt;</span>( menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> );</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        <span class="comment">// we have to set the destination pane so that move actions will target it</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <span class="comment">// we can use restore_area later to undo this</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].set_area( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[def], <span class="keyword">true</span> );</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#a5b8734a9d1c2a5e441d4b8a4b0e55c1e">last_popup_dest</a> = menu.<a class="code" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;}</div>
<div class="ttc" id="aclassadvanced__inv__area_html_a0acc1388708e1e24c60fc57d02d13ed1"><div class="ttname"><a href="classadvanced__inv__area.html#a0acc1388708e1e24c60fc57d02d13ed1">advanced_inv_area::name</a></div><div class="ttdeci">const std::string name</div><div class="ttdoc">Long name, displayed, translated.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00056">advanced_inv_area.h:56</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a59eb14a91b0d9bee2dfb0ee52270cfe2"><div class="ttname"><a href="classadvanced__inv__area.html#a59eb14a91b0d9bee2dfb0ee52270cfe2">advanced_inv_area::veh</a></div><div class="ttdeci">vehicle * veh</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00066">advanced_inv_area.h:66</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_acebc413da609b2c35f73be387cbba1f1"><div class="ttname"><a href="classadvanced__inv__area.html#acebc413da609b2c35f73be387cbba1f1">advanced_inv_area::canputitems</a></div><div class="ttdeci">bool canputitems(const item_location &amp;container=item_location::nowhere) const</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8cpp_source.html#l00191">advanced_inv_area.cpp:191</a></div></div>
<div class="ttc" id="aclassquery__destination__callback_html"><div class="ttname"><a href="classquery__destination__callback.html">query_destination_callback</a></div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02043">advanced_inv.cpp:2044</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00231">ui.h:232</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00525">ui.h:525</a></div></div>
<div class="ttc" id="aclassuilist_html_a18fd9765355d9e418bc2c399048e0645"><div class="ttname"><a href="classuilist.html#a18fd9765355d9e418bc2c399048e0645">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01210">ui.cpp:1210</a></div></div>
<div class="ttc" id="aclassuilist_html_a9890cac1dc13adf140510719b160bde5"><div class="ttname"><a href="classuilist.html#a9890cac1dc13adf140510719b160bde5">uilist::pad_left_setup</a></div><div class="ttdeci">size_scalar pad_left_setup</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00443">ui.h:443</a></div></div>
<div class="ttc" id="aclassuilist_html_ab0890d56d6d29dd98a0b3f17bb3ebba3"><div class="ttname"><a href="classuilist.html#ab0890d56d6d29dd98a0b3f17bb3ebba3">uilist::selected</a></div><div class="ttdeci">int selected</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00526">ui.h:526</a></div></div>
<div class="ttc" id="aclassuilist_html_ad4f5806d1d8ab3de3af8e3285faf47d6"><div class="ttname"><a href="classuilist.html#ad4f5806d1d8ab3de3af8e3285faf47d6">uilist::callback</a></div><div class="ttdeci">uilist_callback * callback</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00434">ui.h:434</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00419">ui.h:419</a></div></div>
<div class="ttc" id="aclassvehicle_html_a441fa41f264fb7bc45df81d71244a0d1"><div class="ttname"><a href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">vehicle::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l02201">vehicle.h:2201</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">ot_match_type::prefix</a></div><div class="ttdeci">@ prefix</div></div>
<div class="ttc" id="agame__constants_8h_html_aee38c8a585c0020fc8ade031dab65393"><div class="ttname"><a href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a></div><div class="ttdeci">constexpr int MAX_ITEM_IN_SQUARE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00028">game_constants.h:28</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l01032">ui.cpp:1032</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
<div class="ttc" id="astructadvanced__inv__save__state_html_a5b8734a9d1c2a5e441d4b8a4b0e55c1e"><div class="ttname"><a href="structadvanced__inv__save__state.html#a5b8734a9d1c2a5e441d4b8a4b0e55c1e">advanced_inv_save_state::last_popup_dest</a></div><div class="ttdeci">int last_popup_dest</div><div class="ttdef"><b>Definition:</b> <a href="uistate_8h_source.html#l00058">uistate.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="ui_8cpp_source.html#l01210">uilist::addentry()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00023">AIM_NORTHEAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00015">AIM_SOUTHWEST</a>, <a class="el" href="ui_8h_source.html#l00434">uilist::callback</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00191">advanced_inv_area::canputitems()</a>, <a class="el" href="cata__assert_8h_source.html#l00036">cata_assert</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00032">advanced_inv_area::get_item_count()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00263">get_location_key()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00050">advanced_inv_area::id</a>, <a class="el" href="uistate_8h_source.html#l00058">advanced_inv_save_state::last_popup_dest</a>, <a class="el" href="game__constants_8h_source.html#l00028">MAX_ITEM_IN_SQUARE</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00056">advanced_inv_area::name</a>, <a class="el" href="vehicle_8h_source.html#l02201">vehicle::name</a>, <a class="el" href="ui_8h_source.html#l00443">uilist::pad_left_setup</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a851f5ac9941d720844d143ed9cfcf60a">prefix</a>, <a class="el" href="ui_8cpp_source.html#l01032">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00525">uilist::ret</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00254">screen_relative_location()</a>, <a class="el" href="ui_8h_source.html#l00526">uilist::selected</a>, <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="ui_8h_source.html#l00419">uilist::text</a>, and <a class="el" href="advanced__inv__area_8h_source.html#l00066">advanced_inv_area::veh</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>.</p>

</div>
</div>
<a id="aa6dab4ec53d54896b60c772483264bfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6dab4ec53d54896b60c772483264bfa">&#9670;&nbsp;</a></span>recalc_pane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::recalc_pane </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00712">712</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;pane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p];</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    pane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.clear();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;there = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[-p + 1];</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[there.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()];</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> &amp;&amp;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> &gt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a> &amp;&amp; pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> &lt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_rel_ms</a> offset = player_character.<a class="code" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">pos_bub</a>() - pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a34c1c7c6ce962dbe787ce5bc4fe36786">pos_bub</a>();</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="comment">// If container is no longer adjacent or on the player&#39;s z-level, nullify it.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( offset.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() ) &gt; 1 || <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( offset.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() ) &gt; 1 ||</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            player_character.<a class="code" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">pos_bub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() != pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>.<a class="code" href="classitem__location.html#a34c1c7c6ce962dbe787ce5bc4fe36786">pos_bub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() ) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> = <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> = <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> &lt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a> ) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            pane.<a class="code" href="classadvanced__inventory__pane.html#ac9162feaf1fd3dc5944511fe561bb342">container_base_loc</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a><span class="keyword">&gt;</span>( ( offset.<a class="code" href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">y</a>() + 1 ) * 3 - offset.<a class="code" href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">x</a>() + 2 );</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">// Add items from the source location or in case of all 9 surrounding squares,</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// add items from several locations.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;alls = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a>];</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        alls.<a class="code" href="classadvanced__inv__area.html#ac341f2e9a873aa952c543b71f721c6c3">volume</a> = 0_ml;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        alls.<a class="code" href="classadvanced__inv__area.html#a1a6c78f6a7331332db9a66d5831688f4">weight</a> = 0_gram;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">for</span>( <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;s : <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a> ) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="comment">// All the surrounding squares, nothing else</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">if</span>( s.id &lt; <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a> || s.id &gt; <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a> ) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="comment">// To allow the user to transfer all items from all surrounding squares to</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="comment">// a specific square, filter out items that are already on that square.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <span class="comment">// e.g. left pane AIM_ALL, right pane AIM_NORTH. The user holds the</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="comment">// enter key down in the left square and moves all items to the other side.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> same = <a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.is_same( s );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="comment">// Deal with squares with ground + vehicle storage</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <span class="comment">// Also handle the case when the other tile covers vehicle</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <span class="comment">// or the ground below the vehicle.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">if</span>( s.can_store_in_vehicle() &amp;&amp; !( same &amp;&amp; there.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ) ) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <span class="keywordtype">bool</span> do_vehicle = there.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() == s.id ? !there.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                pane.<a class="code" href="classadvanced__inventory__pane.html#a2ed688581588710dbf84d899969f3a53">add_items_from_area</a>( s, do_vehicle );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                alls.<a class="code" href="classadvanced__inv__area.html#ac341f2e9a873aa952c543b71f721c6c3">volume</a> += s.volume_veh;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                alls.<a class="code" href="classadvanced__inv__area.html#a1a6c78f6a7331332db9a66d5831688f4">weight</a> += s.weight_veh;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="comment">// Add map items</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">if</span>( !same || there.<a class="code" href="classadvanced__inventory__pane.html#ad9db3c7237891dd5185127702e4a3d96">in_vehicle</a>() ) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                pane.<a class="code" href="classadvanced__inventory__pane.html#a2ed688581588710dbf84d899969f3a53">add_items_from_area</a>( s );</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                alls.<a class="code" href="classadvanced__inv__area.html#ac341f2e9a873aa952c543b71f721c6c3">volume</a> += s.volume;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                alls.<a class="code" href="classadvanced__inv__area.html#a1a6c78f6a7331332db9a66d5831688f4">weight</a> += s.weight;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        pane.<a class="code" href="classadvanced__inventory__pane.html#a2ed688581588710dbf84d899969f3a53">add_items_from_area</a>( <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()] );</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// Sort all items</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    std::stable_sort( pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.begin(), pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.end(), <a class="code" href="structadvanced__inv__sorter.html">advanced_inv_sorter</a>( pane.<a class="code" href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">sortby</a> ) );</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="comment">// Attempt to move to the target item if there is one.</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#a1907f4d3bf3b12b1e909873b3186e2a7">target_item_after_recalc</a> ) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.size(); i++ ) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">if</span>( pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>[i].items.front() == pane.<a class="code" href="classadvanced__inventory__pane.html#a1907f4d3bf3b12b1e909873b3186e2a7">target_item_after_recalc</a> ) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                pane.<a class="code" href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">index</a> = i;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                pane.<a class="code" href="classadvanced__inventory__pane.html#a1907f4d3bf3b12b1e909873b3186e2a7">target_item_after_recalc</a> = <a class="code" href="classitem__location.html#ac32191753a11cc2f4aa2ad6d50e6405b">item_location::nowhere</a>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_af7172e571c5c69240d9f71a01fddf035"><div class="ttname"><a href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">Creature::pos_bub</a></div><div class="ttdeci">tripoint_bub_ms pos_bub() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00183">creature.cpp:183</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a2ed688581588710dbf84d899969f3a53"><div class="ttname"><a href="classadvanced__inventory__pane.html#a2ed688581588710dbf84d899969f3a53">advanced_inventory_pane::add_items_from_area</a></div><div class="ttdeci">void add_items_from_area(advanced_inv_area &amp;square, bool vehicle_override=false)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00194">advanced_inv_pane.cpp:194</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a0e6b02267065e16149a37d98991f653e"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a0e6b02267065e16149a37d98991f653e">coords::coord_point_mut::y</a></div><div class="ttdeci">constexpr auto y() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00164">coordinates.h:164</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_a0fa1f1039d6d6f5b5f744a5d3d039a02"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#a0fa1f1039d6d6f5b5f744a5d3d039a02">coords::coord_point_mut::x</a></div><div class="ttdeci">constexpr auto x() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00161">coordinates.h:161</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_aa94b8bd33e85ce94a3634e6e27ab0cdd"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">coords::coord_point_mut::z</a></div><div class="ttdeci">constexpr auto z() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00167">coordinates.h:167</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::relative, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclassitem__location_html_a34c1c7c6ce962dbe787ce5bc4fe36786"><div class="ttname"><a href="classitem__location.html#a34c1c7c6ce962dbe787ce5bc4fe36786">item_location::pos_bub</a></div><div class="ttdeci">tripoint_bub_ms pos_bub() const</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l01016">item_location.cpp:1016</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">oter_travel_cost_type::other</a></div><div class="ttdeci">@ other</div></div>
<div class="ttc" id="astructadvanced__inv__sorter_html"><div class="ttname"><a href="structadvanced__inv__sorter.html">advanced_inv_sorter</a></div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00555">advanced_inv.cpp:555</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00194">advanced_inventory_pane::add_items_from_area()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00023">AIM_NORTHEAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00015">AIM_SOUTHWEST</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00088">advanced_inventory_pane::container_base_loc</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00057">advanced_inventory_pane::in_vehicle()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00067">advanced_inventory_pane::index</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00070">advanced_inventory_pane::items</a>, <a class="el" href="item__location_8h_source.html#l00041">item_location::nowhere</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00029">NUM_AIM_LOCATIONS</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505da795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="creature_8cpp_source.html#l00183">Creature::pos_bub()</a>, <a class="el" href="item__location_8cpp_source.html#l01016">item_location::pos_bub()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00078">advanced_inventory_pane::recalc</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00068">advanced_inventory_pane::sortby</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00079">advanced_inventory_pane::target_item_after_recalc</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00073">advanced_inv_area::volume</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00075">advanced_inv_area::weight</a>, <a class="el" href="coordinates_8h_source.html#l00161">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::x()</a>, <a class="el" href="coordinates_8h_source.html#l00164">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::y()</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>.</p>

</div>
</div>
<a id="aca2a67fe1a2582c1ffc2be3d7d6c3851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca2a67fe1a2582c1ffc2be3d7d6c3851">&#9670;&nbsp;</a></span>redraw_pane()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::redraw_pane </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00789">789</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;{</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;ADVANCED_INVENTORY&quot;</span> );</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;pane = <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p];</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> || pane.<a class="code" href="classadvanced__inventory__pane.html#aa868b0cd3fc4867b75a0d8137124459d">recalc</a> ) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="classadvanced__inventory.html#aa6dab4ec53d54896b60c772483264bfa">recalc_pane</a>( p );</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    pane.<a class="code" href="classadvanced__inventory__pane.html#a29147058c52b5c30d6dadb883ae0e2de">fix_index</a>();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> = p == <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keyword">const</span> <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;<a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a> = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>()];</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="classcatacurses_1_1window.html">catacurses::window</a> w = pane.<a class="code" href="classadvanced__inventory__pane.html#a947be308f4ed2ea5d75e779df566f9ab">window</a>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( w );</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="classadvanced__inventory.html#a4e471fd524d89ca6372d59453608a624">print_items</a>( p, <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> );</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *itm = pane.<a class="code" href="classadvanced__inventory__pane.html#a176bc037c1775727cdb0ce5fe47d837b">get_cur_item_ptr</a>();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordtype">int</span> width = <a class="code" href="classadvanced__inventory.html#ae283d462ae0e75225f59b3d7be8bbb38">print_header</a>( pane, itm != <span class="keyword">nullptr</span> ? itm-&gt;<a class="code" href="classadvanced__inv__listitem.html#a2d4e8868df3bf42a4f2e2f6beb2fe45b">area</a> : pane.<a class="code" href="classadvanced__inventory__pane.html#aabf2671969752a97eb8a4470bd6d5625">get_area</a>() );</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// only cardinals</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// not where you stand, and pane is in vehicle</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="comment">// make sure the offsets are the same as the grab point</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordtype">bool</span> same_as_dragged = ( <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.id &gt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43add8d6ad7a34a5244de81d842914088b3">AIM_SOUTHWEST</a> &amp;&amp; <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.id &lt;= <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a0921ea462e44703ca0e4d10a6ff2360f">AIM_NORTHEAST</a> ) &amp;&amp;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                           <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.id != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a58f880c64617c458d462e0284051d251">AIM_CENTER</a> &amp;&amp; <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p].in_vehicle() &amp;&amp;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                           <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.off == <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a>].off;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keyword">const</span> <a class="code" href="classadvanced__inv__area.html">advanced_inv_area</a> &amp;sq = same_as_dragged ? <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[<a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a>] : <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordtype">bool</span> car = <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.can_store_in_vehicle() &amp;&amp; <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[p].in_vehicle() &amp;&amp; sq.<a class="code" href="classadvanced__inv__area.html#a93a2722f51ef6c6b31d8f44e9e3098d9">id</a> != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad5bc3a263fe75254bb8839d680b67ff4">AIM_DRAGGED</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    std::string <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code" href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a>( car ? sq.<a class="code" href="classadvanced__inv__area.html#a59eb14a91b0d9bee2dfb0ee52270cfe2">veh</a>-&gt;<a class="code" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> : sq.<a class="code" href="classadvanced__inv__area.html#a0acc1388708e1e24c60fc57d02d13ed1">name</a>, width );</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    std::string desc = pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a> ? pane.<a class="code" href="classadvanced__inventory__pane.html#a3a6e079f3e977f112007cc17bfa35609">container</a>-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>( 1, <span class="keyword">false</span> ) : sq.<a class="code" href="classadvanced__inv__area.html#a6e4259169ebf6eefc0d84c2be79525b6">desc</a>[car];</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">// starts at offset 2, plus space between the header and the text</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    width -= 2 + 1;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, 1 ), width, <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ? <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>  : <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, 2 ), width, <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ? <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, desc );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="output_8cpp.html#ab7abbbd98907f496533db9bc2a02cf4a">trim_and_print</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, 3 ), width, <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ? <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.flags );</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <a class="code" href="classadvanced__inventory__pagination.html">advanced_inventory_pagination</a> pagination( <a class="code" href="classadvanced__inventory.html#add4b6293c811e55f1c8e7eeddd52ca27">linesPerPage</a>, pane );</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordtype">int</span> cur_page = 0;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; static_cast&lt;int&gt;( pane.<a class="code" href="classadvanced__inventory__pane.html#a41476b314de69784bad29f4b1ab9f58f">items</a>.size() ); i++ ) {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            pagination.step( i );</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="keywordflow">if</span>( i == pane.<a class="code" href="classadvanced__inventory__pane.html#a6212a9703170092d77e8e6eeb51cabf8">index</a> ) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                cur_page = pagination.page;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> max_page = pagination.page;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, 4 ), <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[&lt;] page %1$d of %2$d [&gt;]&quot;</span> ), cur_page + 1,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                   max_page + 1 );</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <a class="code" href="namespacecatacurses.html#a07c5180048f87110c547f58341b04812">wattron</a>( w, <a class="code" href="color_8h.html#a95b67111e2e4be7fcac981d2b7b208f6">c_cyan</a> );</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// draw a darker border around the inactive pane</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( w, <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ? <a class="code" href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a> : <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a> );</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 3, 0 ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt; [%s] Sort: %s &gt;&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;SORT&quot;</span> ),</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;               <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( pane.<a class="code" href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">sortby</a> ) );</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a> = <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.max_size;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a> &gt; 0 ) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordtype">int</span> itemcount = <a class="code" href="mapgen_8cpp.html#a21b4b872795b4d56cd2cf0570f74860e">square</a>.get_item_count();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordtype">int</span> fmtw = 7 + ( itemcount &gt; 99 ? 3 : itemcount &gt; 9 ? 2 : 1 ) +</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                   ( <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a> &gt; 99 ? 3 : <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a> &gt; 9 ? 2 : 1 );</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> / 2 - fmtw, 0 ), <span class="stringliteral">&quot;&lt; %d/%d &gt;&quot;</span>, itemcount, <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a> );</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    std::string fprefix = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[%s] Filter&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;FILTER&quot;</span> ) );</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> ) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span>( !pane.<a class="code" href="classadvanced__inventory__pane.html#adf44cdbe904fdadbeee158e3f773ce4f">filter</a>.empty() ) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <span class="stringliteral">&quot;&lt; %s: %s &gt;&quot;</span>, fprefix, pane.<a class="code" href="classadvanced__inventory__pane.html#adf44cdbe904fdadbeee158e3f773ce4f">filter</a> );</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <span class="stringliteral">&quot;&lt; %s &gt;&quot;</span>, fprefix );</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a> ) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <a class="code" href="namespacecatacurses.html#a7b8bb496c6c93e07772d4e0c595784bf">wattroff</a>( w, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a> );</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#ae0562b28ecb072e6ec1b639cdbf96b0e">filter_edit</a> &amp;&amp; !pane.<a class="code" href="classadvanced__inventory__pane.html#adf44cdbe904fdadbeee158e3f773ce4f">filter</a>.empty() ) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        std::string fsuffix = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;[%s] Reset&quot;</span> ), ctxt.get_desc( <span class="stringliteral">&quot;RESET_FILTER&quot;</span> ) );</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 6 + <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( fprefix ), <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                   pane.<a class="code" href="classadvanced__inventory__pane.html#adf44cdbe904fdadbeee158e3f773ce4f">filter</a> );</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( fsuffix ) - 2, <a class="code" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) - 1 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                   fsuffix );</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="ttc" id="acatacharset_8cpp_html_ad959840e392a0d3b79d93cfe64119ca9"><div class="ttname"><a href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a></div><div class="ttdeci">std::string utf8_truncate(const std::string &amp;s, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00195">catacharset.cpp:195</a></div></div>
<div class="ttc" id="aclassadvanced__inv__area_html_a6e4259169ebf6eefc0d84c2be79525b6"><div class="ttname"><a href="classadvanced__inv__area.html#a6e4259169ebf6eefc0d84c2be79525b6">advanced_inv_area::desc</a></div><div class="ttdeci">std::array&lt; std::string, 2 &gt; desc</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__area_8h_source.html#l00069">advanced_inv_area.h:69</a></div></div>
<div class="ttc" id="aclassadvanced__inventory__pane_html_a29147058c52b5c30d6dadb883ae0e2de"><div class="ttname"><a href="classadvanced__inventory__pane.html#a29147058c52b5c30d6dadb883ae0e2de">advanced_inventory_pane::fix_index</a></div><div class="ttdeci">void fix_index()</div><div class="ttdoc">Makes sure the index is valid (if possible).</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv__pane_8cpp_source.html#l00293">advanced_inv_pane.cpp:293</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a4e471fd524d89ca6372d59453608a624"><div class="ttname"><a href="classadvanced__inventory.html#a4e471fd524d89ca6372d59453608a624">advanced_inventory::print_items</a></div><div class="ttdeci">void print_items(side p, bool active)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00288">advanced_inv.cpp:288</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_aa6dab4ec53d54896b60c772483264bfa"><div class="ttname"><a href="classadvanced__inventory.html#aa6dab4ec53d54896b60c772483264bfa">advanced_inventory::recalc_pane</a></div><div class="ttdeci">void recalc_pane(side p)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00712">advanced_inv.cpp:712</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae283d462ae0e75225f59b3d7be8bbb38"><div class="ttname"><a href="classadvanced__inventory.html#ae283d462ae0e75225f59b3d7be8bbb38">advanced_inventory::print_header</a></div><div class="ttdeci">int print_header(advanced_inventory_pane &amp;pane, aim_location sel)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00666">advanced_inv.cpp:666</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ae56282ee21526f30de9f3f0cd460a8bd"><div class="ttname"><a href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">advanced_inventory::get_sortname</a></div><div class="ttdeci">static std::string get_sortname(advanced_inv_sortby sortby)</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l00214">advanced_inv.cpp:214</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a07c5180048f87110c547f58341b04812"><div class="ttname"><a href="namespacecatacurses.html#a07c5180048f87110c547f58341b04812">catacurses::wattron</a></div><div class="ttdeci">void wattron(const window &amp;win, const nc_color &amp;attrs)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00147">ncurses_def.cpp:147</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a7b8bb496c6c93e07772d4e0c595784bf"><div class="ttname"><a href="namespacecatacurses.html#a7b8bb496c6c93e07772d4e0c595784bf">catacurses::wattroff</a></div><div class="ttdeci">void wattroff(const window &amp;win, nc_color attrs)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00139">ncurses_def.cpp:139</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_abde9c157650e464f0a27441d81c84644"><div class="ttname"><a href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">catacurses::mvwprintw</a></div><div class="ttdeci">void mvwprintw(const window &amp;win, const point &amp;p, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00163">ncurses_def.cpp:163</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_ace2ce3990cb812fb83adf6e4ea1f9e8e"><div class="ttname"><a href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">catacurses::werase</a></div><div class="ttdeci">void werase(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00083">ncurses_def.cpp:83</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l06412">overmap.cpp:6412</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afea9968fcee47ebca0e45d27099d1c22"><div class="ttname"><a href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a></div><div class="ttdeci">void draw_border(const catacurses::window &amp;w, nc_color border_color, const std::string &amp;title, nc_color title_color)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00688">output.cpp:688</a></div></div>
<div class="ttc" id="aoutput_8h_html_a966901ace2cf6cba3fc9cec310150860"><div class="ttname"><a href="output_8h.html#a966901ace2cf6cba3fc9cec310150860">BORDER_COLOR</a></div><div class="ttdeci">#define BORDER_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00098">output.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="mutation__ui_8cpp.html#a402f65070aa900e68cd18960d2685a76ac76a5e84e4bdee527e274ea30c680d79">active</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00019">AIM_CENTER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00024">AIM_DRAGGED</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00023">AIM_NORTHEAST</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00015">AIM_SOUTHWEST</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00030">advanced_inv_listitem::area</a>, <a class="el" href="output_8h_source.html#l00098">BORDER_COLOR</a>, <a class="el" href="color_8h_source.html#l00022">c_cyan</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00027">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00084">advanced_inventory_pane::container</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00069">advanced_inv_area::desc</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00074">advanced_inventory_pane::filter</a>, <a class="el" href="advanced__inv_8h_source.html#l00099">filter_edit</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00293">advanced_inventory_pane::fix_index()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00051">advanced_inventory_pane::get_area()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00429">advanced_inventory_pane::get_cur_item_ptr()</a>, <a class="el" href="input__context_8cpp_source.html#l00269">input_context::get_desc()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00214">get_sortname()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00099">catacurses::getmaxy()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00050">advanced_inv_area::id</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00067">advanced_inventory_pane::index</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00070">advanced_inventory_pane::items</a>, <a class="el" href="advanced__inv_8h_source.html#l00078">linesPerPage</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00163">catacurses::mvwprintw()</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00056">advanced_inv_area::name</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="vehicle_8h_source.html#l02201">vehicle::name</a>, <a class="el" href="advanced__inv__pagination_8h_source.html#l00019">advanced_inventory_pagination::page</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00666">print_header()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">print_items()</a>, <a class="el" href="advanced__inv_8h_source.html#l00085">recalc</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00078">advanced_inventory_pane::recalc</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00712">recalc_pane()</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00068">advanced_inventory_pane::sortby</a>, <a class="el" href="mapgen_8cpp_source.html#l07745">square()</a>, <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>, <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>, <a class="el" href="advanced__inv__pagination_8cpp_source.html#l00030">advanced_inventory_pagination::step()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="output_8cpp_source.html#l00268">trim_and_print()</a>, <a class="el" href="catacharset_8cpp_source.html#l00195">utf8_truncate()</a>, <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00066">advanced_inv_area::veh</a>, <a class="el" href="advanced__inv_8h_source.html#l00080">w_width</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00139">catacurses::wattroff()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00147">catacurses::wattron()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="advanced__inv__pane_8h_source.html#l00069">advanced_inventory_pane::window</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a48ffe088a119bd2f60cb715ad33ce532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ffe088a119bd2f60cb715ad33ce532">&#9670;&nbsp;</a></span>redraw_sidebar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::redraw_sidebar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01287">1287</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;{</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;ADVANCED_INVENTORY&quot;</span> );</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a> );</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a> );</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <a class="code" href="namespacecatacurses.html#ace2ce3990cb812fb83adf6e4ea1f9e8e">werase</a>( <a class="code" href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">mm_border</a> );</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a> );</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="namespaceMessages.html#a68f4ec7df01cb2016b7215ea5aad0b77">Messages::display_messages</a>( <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a>, 2, 1, <a class="code" href="classadvanced__inventory.html#ac327f193560528b62a700bd5bee19730">w_width</a> - 1, <a class="code" href="classadvanced__inventory.html#ac453879b421a4acd4de3a7d920becd7d">head_height</a> - 2 );</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="classadvanced__inventory.html#a62ae50672223477fd09a06f0a8a75aab">draw_minimap</a>();</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a>, 0, +3, <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                     <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt; [&lt;color_yellow&gt;%s&lt;/color&gt;] keybindings &gt;&quot;</span> ),</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                     ctxt.get_desc( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> ) ) );</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().has_watch() ) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keyword">const</span> std::string time = <a class="code" href="calendar_8cpp.html#a307340221160e8ffe2af4ddfe5e2a56e">to_string_time_of_day</a>( <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 2, 0 ), <a class="code" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>, time );</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classadvanced__inventory.html#ae7d0399fffd672f19a64b07a65301f19">head</a> );</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="classadvanced__inventory.html#ab2a5ea864736a63718496effc94c93fd">refresh_minimap</a>();</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a307340221160e8ffe2af4ddfe5e2a56e"><div class="ttname"><a href="calendar_8cpp.html#a307340221160e8ffe2af4ddfe5e2a56e">to_string_time_of_day</a></div><div class="ttdeci">std::string to_string_time_of_day(const time_point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00639">calendar.cpp:639</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_a62ae50672223477fd09a06f0a8a75aab"><div class="ttname"><a href="classadvanced__inventory.html#a62ae50672223477fd09a06f0a8a75aab">advanced_inventory::draw_minimap</a></div><div class="ttdeci">void draw_minimap()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02271">advanced_inv.cpp:2271</a></div></div>
<div class="ttc" id="aclassadvanced__inventory_html_ab2a5ea864736a63718496effc94c93fd"><div class="ttname"><a href="classadvanced__inventory.html#ab2a5ea864736a63718496effc94c93fd">advanced_inventory::refresh_minimap</a></div><div class="ttdeci">void refresh_minimap()</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02253">advanced_inv.cpp:2253</a></div></div>
<div class="ttc" id="anamespaceMessages_html_a68f4ec7df01cb2016b7215ea5aad0b77"><div class="ttname"><a href="namespaceMessages.html#a68f4ec7df01cb2016b7215ea5aad0b77">Messages::display_messages</a></div><div class="ttdeci">void display_messages()</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00914">messages.cpp:914</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa6093ccb0ebc7f7ee1f11edd5cc2711c"><div class="ttname"><a href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a></div><div class="ttdeci">int right_print(const catacurses::window &amp;w, const int line, const int right_indent, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00574">output.cpp:574</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00016">c_white</a>, <a class="el" href="messages_8cpp_source.html#l00914">Messages::display_messages()</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02271">draw_minimap()</a>, <a class="el" href="input__context_8cpp_source.html#l00269">input_context::get_desc()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="advanced__inv_8h_source.html#l00108">head</a>, <a class="el" href="advanced__inv_8h_source.html#l00058">head_height</a>, <a class="el" href="advanced__inv_8h_source.html#l00068">minimap</a>, <a class="el" href="advanced__inv_8h_source.html#l00069">mm_border</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>, <a class="el" href="input__context_8cpp_source.html#l00180">input_context::register_action()</a>, <a class="el" href="output_8cpp_source.html#l00574">right_print()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="calendar_8cpp_source.html#l00639">to_string_time_of_day()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="advanced__inv_8h_source.html#l00080">w_width</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00083">catacurses::werase()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="ab2a5ea864736a63718496effc94c93fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a5ea864736a63718496effc94c93fd">&#9670;&nbsp;</a></span>refresh_minimap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::refresh_minimap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02253">2253</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;{</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="comment">// don&#39;t update ui if processing demands</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#aa0ce472107cae6f207e959e91d5cd131">is_processing</a>() ) {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="comment">// redraw border around minimap</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <a class="code" href="output_8cpp.html#afea9968fcee47ebca0e45d27099d1c22">draw_border</a>( <a class="code" href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">mm_border</a> );</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="comment">// minor addition to border for AIM_ALL, sorta hacky</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a>].get_area() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> || <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].get_area() == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43af72258ca9ea3def37bacb71367fb8ed0">AIM_ALL</a> ) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="comment">// NOLINTNEXTLINE(cata-use-named-point-constants)</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( <a class="code" href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">mm_border</a>, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( 1, 0 ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="catacharset_8cpp.html#ad959840e392a0d3b79d93cfe64119ca9">utf8_truncate</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;All&quot;</span> ), <a class="code" href="classadvanced__inventory.html#a391685edb03bc7df4736fe2943369e62">minimap_width</a> ) );</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="comment">// refresh border, then minimap</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classadvanced__inventory.html#a923f90a37fed0a25fed12989a2b43c7e">mm_border</a> );</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="namespacecatacurses.html#aa9823d249c21fa50daf277957fabb175">wnoutrefresh</a>( <a class="code" href="classadvanced__inventory.html#ae24d0b01699da125b499bd789234ad2e">minimap</a> );</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00025">AIM_ALL</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="output_8cpp_source.html#l00688">draw_border()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02370">is_processing()</a>, <a class="el" href="advanced__inv_8h_source.html#l00068">minimap</a>, <a class="el" href="advanced__inv_8h_source.html#l00070">minimap_width</a>, <a class="el" href="advanced__inv_8h_source.html#l00069">mm_border</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>, <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>, <a class="el" href="catacharset_8cpp_source.html#l00195">utf8_truncate()</a>, and <a class="el" href="ncurses__def_8cpp_source.html#l00067">catacurses::wnoutrefresh()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>.</p>

</div>
</div>
<a id="a6ed56ac7f33ace4e7b9f5e56f754e353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ed56ac7f33ace4e7b9f5e56f754e353">&#9670;&nbsp;</a></span>register_ctxt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinput__context.html">input_context</a> advanced_inventory::register_ctxt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>registers all the ctxt for <a class="el" href="classadvanced__inventory.html#a3f1eaedb86e958387770e71ba02959f7">display()</a> </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01238">1238</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <a class="code" href="classinput__context.html">input_context</a> ctxt( <span class="stringliteral">&quot;ADVANCED_INVENTORY&quot;</span> );</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HELP_KEYBINDINGS&quot;</span> );</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;QUIT&quot;</span> );</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;UP&quot;</span> );</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;DOWN&quot;</span> );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;LEFT&quot;</span> );</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;RIGHT&quot;</span> );</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;PAGE_DOWN&quot;</span> );</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;PAGE_UP&quot;</span> );</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;HOME&quot;</span> );</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;END&quot;</span> );</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_TAB&quot;</span> );</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_VEH&quot;</span> );</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;FILTER&quot;</span> );</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;RESET_FILTER&quot;</span> );</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;EXAMINE&quot;</span> );</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;EXAMINE_CONTENTS&quot;</span> );</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SORT&quot;</span> );</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_AUTO_PICKUP&quot;</span> );</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;TOGGLE_FAVORITE&quot;</span> );</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;MOVE_SINGLE_ITEM&quot;</span> );</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;MOVE_VARIABLE_ITEM&quot;</span> );</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;MOVE_ITEM_STACK&quot;</span> );</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;MOVE_ALL_ITEMS&quot;</span> );</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;CATEGORY_SELECTION&quot;</span> );</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_NW&quot;</span> );</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_N&quot;</span> );</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_NE&quot;</span> );</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_W&quot;</span> );</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_CE&quot;</span> );</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_E&quot;</span> );</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_SW&quot;</span> );</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_S&quot;</span> );</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_SE&quot;</span> );</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_INVENTORY&quot;</span> );</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_WORN&quot;</span> );</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_AROUND&quot;</span> );</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_DRAGGED_CONTAINER&quot;</span> );</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_CONTAINER&quot;</span> );</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_PARENT&quot;</span> );</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;ITEMS_DEFAULT&quot;</span> );</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    ctxt.register_action( <span class="stringliteral">&quot;SAVE_DEFAULT&quot;</span> );</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">return</span> ctxt;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input__context_8cpp_source.html#l00180">input_context::register_action()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a7bda6ab396f9a1844a7825bbc36cad0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bda6ab396f9a1844a7825bbc36cad0a">&#9670;&nbsp;</a></span>save_settings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::save_settings </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>only_panes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00187">187</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span>( !only_panes ) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>-&gt;<a class="code" href="structadvanced__inv__save__state.html#ad6483fd2391737fc25b2d8bc3beb5174">active_left</a> = ( <a class="code" href="classadvanced__inventory.html#a7d7827f4e2a1be3dd9b6b2cc2579a405">src</a> == <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a> );</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b">NUM_PANES</a>; ++i ) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[i].save_settings();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="uistate_8h_source.html#l00057">advanced_inv_save_state::active_left</a>, <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="advanced__inv_8h_source.html#l00056">NUM_PANES</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, and <a class="el" href="advanced__inv_8h_source.html#l00090">src</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00175">~advanced_inventory()</a>.</p>

</div>
</div>
<a id="a7ec5a92b6c3f8f9373936eacd7d44d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec5a92b6c3f8f9373936eacd7d44d56">&#9670;&nbsp;</a></span>screen_relative_location()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a> advanced_inventory::screen_relative_location </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>area</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts from screen relative location to game-space relative location for control rotation in isometric mode. </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l00254">254</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_tileset_isometric() ) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[area].relative_location;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> area;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00382">g</a>, and <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l02056">query_destination_callback::draw_squares()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00243">get_square()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00666">print_header()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>.</p>

</div>
</div>
<a id="ae2448ee4634d1bb472405f0e99ed2243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2448ee4634d1bb472405f0e99ed2243">&#9670;&nbsp;</a></span>show_sort_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::show_sort_menu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> &amp;&#160;</td>
          <td class="paramname"><em>pane</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Show the sort-by menu and change the sorting of this pane accordingly. </p>
<dl class="section return"><dt>Returns</dt><dd>whether the sort order was actually changed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01211">1211</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;{</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="classuilist.html">uilist</a> <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.text = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Sort by…&quot;</span> );</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">SORTBY_NONE</a>,     <span class="keyword">true</span>, <span class="charliteral">&#39;u&#39;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Unsorted (recently added first)&quot;</span> ) );</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91afc2b69609d56228d7e73be025efd3234">SORTBY_NAME</a>,     <span class="keyword">true</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91afc2b69609d56228d7e73be025efd3234">SORTBY_NAME</a> ) );</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6">SORTBY_WEIGHT</a>,   <span class="keyword">true</span>, <span class="charliteral">&#39;w&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a661b2feec0bdf9e2ef6e7317fa77bbb6">SORTBY_WEIGHT</a> ) );</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">SORTBY_VOLUME</a>,   <span class="keyword">true</span>, <span class="charliteral">&#39;v&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a74fda6343b91a707749067d5d003be69">SORTBY_VOLUME</a> ) );</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a3dcb463fdec4de6a4d59d33a84ed8f61">SORTBY_DENSITY</a>,  <span class="keyword">true</span>, <span class="charliteral">&#39;d&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a3dcb463fdec4de6a4d59d33a84ed8f61">SORTBY_DENSITY</a> ) );</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a1b2de7910ffc4736260219d1ff51d4b4">SORTBY_CHARGES</a>,  <span class="keyword">true</span>, <span class="charliteral">&#39;x&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a1b2de7910ffc4736260219d1ff51d4b4">SORTBY_CHARGES</a> ) );</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9">SORTBY_CATEGORY</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;c&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91af64bb07a270c287f53aba668c37ee4d9">SORTBY_CATEGORY</a> ) );</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ab74a7001a876c5604c987bbe7d1ba907">SORTBY_DAMAGE</a>,   <span class="keyword">true</span>, <span class="charliteral">&#39;o&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ab74a7001a876c5604c987bbe7d1ba907">SORTBY_DAMAGE</a> ) );</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91aeb600d2e4896de8f1fde16a38479cc5d">SORTBY_AMMO</a>,     <span class="keyword">true</span>, <span class="charliteral">&#39;a&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91aeb600d2e4896de8f1fde16a38479cc5d">SORTBY_AMMO</a> ) );</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ae59d2d0ff2c17941ba5bbc1557927f73">SORTBY_SPOILAGE</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;s&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91ae59d2d0ff2c17941ba5bbc1557927f73">SORTBY_SPOILAGE</a> ) );</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.addentry( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a120d753902041d769c1d09d509d6f147">SORTBY_PRICE</a>,    <span class="keyword">true</span>, <span class="charliteral">&#39;b&#39;</span>, <a class="code" href="classadvanced__inventory.html#ae56282ee21526f30de9f3f0cd460a8bd">get_sortname</a>( <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a120d753902041d769c1d09d509d6f147">SORTBY_PRICE</a> ) );</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="comment">// Pre-select current sort.</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.selected = pane.<a class="code" href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">sortby</a> - <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">SORTBY_NONE</a>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="comment">// Calculate key and window variables, generate window,</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// and loop until we get a valid answer.</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.query();</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.ret &lt; <a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91a9695e46ed8d77a2f7497cdff530e989d">SORTBY_NONE</a> ) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    pane.<a class="code" href="classadvanced__inventory__pane.html#aa0f9fb2db958472a4cd7e17c41368323">sortby</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="advanced__inv__pane_8h.html#a3b88f49cc75a1a09452c1b2a4c10fa91">advanced_inv_sortby</a><span class="keyword">&gt;</span>( <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>.ret );</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;}</div>
<div class="ttc" id="anamespacecoords_html_a7457d0a4e8c8e6407a2c0ee89d275962"><div class="ttname"><a href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">coords::sm</a></div><div class="ttdeci">constexpr scale sm</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00039">coordinates.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00214">get_sortname()</a>, <a class="el" href="coordinates_8h_source.html#l00039">coords::sm</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00068">advanced_inventory_pane::sortby</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00031">SORTBY_AMMO</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00029">SORTBY_CATEGORY</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00028">SORTBY_CHARGES</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00030">SORTBY_DAMAGE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00027">SORTBY_DENSITY</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00024">SORTBY_NAME</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00023">SORTBY_NONE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00033">SORTBY_PRICE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00032">SORTBY_SPOILAGE</a>, <a class="el" href="advanced__inv__pane_8h_source.html#l00026">SORTBY_VOLUME</a>, and <a class="el" href="advanced__inv__pane_8h_source.html#l00025">SORTBY_WEIGHT</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="aebdf4e9393d79d4cf3f38de2d9eddf91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebdf4e9393d79d4cf3f38de2d9eddf91">&#9670;&nbsp;</a></span>start_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::start_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>destarea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43">aim_location</a>&#160;</td>
          <td class="paramname"><em>srcarea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classadvanced__inv__listitem.html">advanced_inv_listitem</a> *&#160;</td>
          <td class="paramname"><em>sitem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>amount_to_move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>from_vehicle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_vehicle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>a smaller chunk of <a class="el" href="classadvanced__inventory.html#a3f1eaedb86e958387770e71ba02959f7">display()</a> </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l01422">1422</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;{</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> by_charges = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;count_by_charges();</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <span class="keywordflow">if</span>( destarea != <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a518701de864bb38194c2fd61222f4b39">AIM_CONTAINER</a> ) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="comment">// Find target items and quantities thereof for the new activity</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        std::vector&lt;item_location&gt; target_items;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        std::vector&lt;int&gt; quantities;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">if</span>( by_charges ) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            target_items.emplace_back( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() );</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            quantities.push_back( amount_to_move );</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;            <span class="keywordflow">for</span>( std::vector&lt;item_location&gt;::iterator it = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.begin(); amount_to_move &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                 it != sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.end(); ++it ) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                target_items.emplace_back( *it );</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                quantities.push_back( 0 );</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                --amount_to_move;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <span class="keywordflow">if</span>( to_vehicle &amp;&amp; sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;is_bucket_nonempty() ) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                <span class="comment">// Copy the pointers so they won&#39;t break if the list gets reordered as buckets are partly emptied.</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                std::vector&lt;item_location&gt; target_buckets = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                <span class="keywordflow">if</span>( target_buckets.front()-&gt;contains_no_solids() ) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                    target_buckets.front()-&gt;handle_liquid_or_spill( player_character, &amp;*target_buckets.front() );</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                    <span class="keywordflow">if</span>( !target_buckets.front()-&gt;empty_container() ) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                    }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s would spill if stored there.  Store its contents separately first?&quot;</span> ),</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                   target_buckets.front()-&gt;tname() ) ) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                    }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *it : target_buckets.front()-&gt;<a class="code" href="classitem.html#afd9fcc8f19476c95071b72c300f47ad1">get_contents</a>().<a class="code" href="classitem__contents.html#a3d0ce1b26434123e939a54714180b09b">all_items_top</a>() ) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                        target_items.emplace_back( target_buckets.front(), it );</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                        quantities.emplace_back( it-&gt;count() );</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                    }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            }</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a9146d369c98900c77cd0fd8ef3bd278d">AIM_WORN</a> ) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;            <span class="keyword">const</span> <a class="code" href="classwear__activity__actor.html">wear_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( target_items, quantities );</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43ad41d69e71ff381cb424fabfbc9d9dfad">AIM_WIELD</a> ) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>(</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                <a class="code" href="classwield__activity__actor.html">wield_activity_actor</a>( target_items.front(), quantities.front() ) );</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( destarea == <a class="code" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a8e8a18de2fb380d4c2f12478af607dea">AIM_INVENTORY</a> ) {</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;            <span class="keyword">const</span> std::optional&lt;tripoint&gt; starting_pos = from_vehicle</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                    ? std::nullopt</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                    : std::optional&lt;tripoint&gt;( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            <span class="keyword">const</span> <a class="code" href="classpickup__activity__actor.html">pickup_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( target_items, quantities, starting_pos, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="comment">// Stash the destination</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;            <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> relative_destination = <a class="code" href="classadvanced__inventory.html#a44fa4f8d9e527cd26a0fba31ea47b9d6">squares</a>[destarea].off;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            <span class="keyword">const</span> <a class="code" href="classmove__items__activity__actor.html">move_items_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( target_items, quantities, to_vehicle, relative_destination );</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container.get_item() ) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Active container is null, failed to insert!&quot;</span> );</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">if</span>( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front() == <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container ||</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front().eventually_contains( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container ) ) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t put the %s inside itself.&quot;</span> ), sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;type_name() );</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container-&gt;will_spill_if_unsealed()</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            &amp;&amp; <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container.where() != <a class="code" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::type::map</a></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            &amp;&amp; !player_character.<a class="code" href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">is_wielding</a>( *<a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container ) ) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <a class="code" href="output_8h.html#a776e76ac0d873faf3607d5e839f08ee3">popup_getkey</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s would spill; it must be on the ground or wielded.&quot;</span> ),</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                          <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container-&gt;type_name() );</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="comment">// Create drop locations out of target items and quantities</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <a class="code" href="activity__item__handling_8cpp.html#a14dcded7a48aa4f96aeecf1e76f8f947">drop_locations</a> target_inserts;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">if</span>( by_charges ) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            target_inserts.emplace_back( std::make_pair( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front(), amount_to_move ) );</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <span class="keywordflow">for</span>( std::vector&lt;item_location&gt;::iterator it = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.begin(); amount_to_move &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                 it != sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.end(); ++it ) {</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                target_inserts.emplace_back( std::make_pair( *it, 0 ) );</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                --amount_to_move;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            }</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <span class="keywordflow">if</span>( sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>.front()-&gt;is_bucket_nonempty() ) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                <span class="comment">// Copy the pointers so they won&#39;t break if the list gets reordered as buckets are partly emptied.</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                std::vector&lt;item_location&gt; target_buckets = sitem-&gt;<a class="code" href="classadvanced__inv__listitem.html#a23b551706395612a062eadb9510b8667">items</a>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                <span class="keywordflow">if</span>( target_buckets.front()-&gt;contains_no_solids() ) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                    target_buckets.front()-&gt;handle_liquid_or_spill( player_character, &amp;*target_buckets.front() );</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                    <span class="keywordflow">if</span>( !target_buckets.front()-&gt;empty_container() ) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                    }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                    <span class="keywordflow">if</span>( !<a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s would spill if stored there.  Store its contents separately first?&quot;</span> ),</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                                   target_buckets.front()-&gt;tname() ) ) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                    }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                    <span class="comment">// Emplace contents in front of the container because insert_item_activity_actor processes from the front.</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *it : target_buckets.front()-&gt;<a class="code" href="classitem.html#afd9fcc8f19476c95071b72c300f47ad1">get_contents</a>().<a class="code" href="classitem__contents.html#a3d0ce1b26434123e939a54714180b09b">all_items_top</a>() ) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                        target_inserts.emplace_front( <a class="code" href="classitem__location.html">item_location</a>( target_buckets.front(), it ), it-&gt;<a class="code" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>() );</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                    }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <span class="keyword">const</span> <a class="code" href="classinsert__item__activity__actor.html">insert_item_activity_actor</a> <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#ae223fb96e573d2b8c453e65a0902d5ff">dest</a>].container, target_inserts );</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        player_character.<a class="code" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a81864eee5b75943bd4222b696117a52a"><div class="ttname"><a href="classCharacter.html#a81864eee5b75943bd4222b696117a52a">Character::is_wielding</a></div><div class="ttdeci">bool is_wielding(const item &amp;target) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03319">character.cpp:3319</a></div></div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::type::map</a></div><div class="ttdeci">@ map</div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="sounds_8cpp_source.html#l00079">act</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00026">AIM_CONTAINER</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00014">AIM_INVENTORY</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00031">AIM_WIELD</a>, <a class="el" href="advanced__inv__area_8h_source.html#l00028">AIM_WORN</a>, <a class="el" href="item__contents_8cpp_source.html#l01677">item_contents::all_items_top()</a>, <a class="el" href="character_8cpp_source.html#l08935">Character::assign_activity()</a>, <a class="el" href="item_8cpp_source.html#l08623">item::count()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="advanced__inv_8h_source.html#l00094">dest</a>, <a class="el" href="item_8h_source.html#l03165">item::get_contents()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="character_8cpp_source.html#l03319">Character::is_wielding()</a>, <a class="el" href="advanced__inv__listitem_8h_source.html#l00034">advanced_inv_listitem::items</a>, <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888da1d78dc8ed51214e518b5114fe24490ae">item_location::map</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="output_8h_source.html#l00482">popup_getkey()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="output_8cpp_source.html#l00811">query_yn()</a>, and <a class="el" href="advanced__inv_8h_source.html#l00106">squares</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>.</p>

</div>
</div>
<a id="aff053d1eda71abdca82ba282a2df48ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff053d1eda71abdca82ba282a2df48ef">&#9670;&nbsp;</a></span>swap_panes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::swap_panes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02339">2339</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;{</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <span class="comment">// Switch left and right pane.</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <a class="code" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>], <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>] );</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="comment">// Switch save states</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <a class="code" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].<a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a>, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].<a class="code" href="classadvanced__inventory.html#ac8c3da3386c3dd19455b9a9f2d5b0f8f">save_state</a> );</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="comment">// Switch currently selected item</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <a class="code" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].target_item_after_recalc, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].target_item_after_recalc );</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="comment">// Window pointer must be unchanged!</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <a class="code" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a1ebd89b3520121d94cb190c51a82cddd">left</a>].window, <a class="code" href="classadvanced__inventory.html#afee9c31085bc87acd086c5a8b0029505">panes</a>[<a class="code" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68adfd4f0edd90fca42bd829aa4aa5d2b33">right</a>].window );</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="comment">// Recalculation required for weight &amp; volume</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <a class="code" href="classadvanced__inventory.html#a2c4362a2d179f241a7d7097fd42d2d7f">recalc</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;}</div>
<div class="ttc" id="anamespacecata_html_a097b137e977a6b843c0dada2c8b19611"><div class="ttname"><a href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">cata::swap</a></div><div class="ttdeci">void swap(colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;a, colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;b) COLONY_NOEXCEPT_SWAP(element_allocator_type)</div><div class="ttdoc">Swaps colony A's contents with that of colony B.</div><div class="ttdef"><b>Definition:</b> <a href="colony_8h_source.html#l03505">colony.h:3505</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv_8h_source.html#l00054">left</a>, <a class="el" href="advanced__inv_8h_source.html#l00104">panes</a>, <a class="el" href="advanced__inv_8h_source.html#l00085">recalc</a>, <a class="el" href="advanced__inv_8h_source.html#l00055">right</a>, <a class="el" href="advanced__inv_8h_source.html#l00112">save_state</a>, and <a class="el" href="colony_8h_source.html#l03505">cata::swap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01309">change_square()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="af8a725bb72705a0b4aa651cabc05c5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a725bb72705a0b4aa651cabc05c5b3">&#9670;&nbsp;</a></span>temp_hide()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void advanced_inventory::temp_hide </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8cpp_source.html#l02363">2363</a> of file <a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;{</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <a class="code" href="namespaceui.html">ui</a>.reset();</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="classadvanced__inventory.html#a77a5e14e66a1c3f82b8eeb1f7047f0f5">do_return_entry</a>();</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <a class="code" href="advanced__inv_8cpp.html#a206bcd1fb39777da2a861a5e8b56cc21">cancel_aim_processing</a>();</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;}</div>
<div class="ttc" id="aadvanced__inv_8cpp_html_a206bcd1fb39777da2a861a5e8b56cc21"><div class="ttname"><a href="advanced__inv_8cpp.html#a206bcd1fb39777da2a861a5e8b56cc21">cancel_aim_processing</a></div><div class="ttdeci">void cancel_aim_processing()</div><div class="ttdoc">Cancels ongoing move all action.</div><div class="ttdef"><b>Definition:</b> <a href="advanced__inv_8cpp_source.html#l02375">advanced_inv.cpp:2375</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="advanced__inv_8cpp_source.html#l02375">cancel_aim_processing()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5e5849ac4c0fe48a85e74b628e2f6889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e5849ac4c0fe48a85e74b628e2f6889">&#9670;&nbsp;</a></span>always_recalc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::always_recalc = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00086">86</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a414757fb3e840dcbd7ff24513b813bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414757fb3e840dcbd7ff24513b813bd0">&#9670;&nbsp;</a></span>colstart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int advanced_inventory::colstart = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00083">83</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="ae223fb96e573d2b8c453e65a0902d5ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae223fb96e573d2b8c453e65a0902d5ff">&#9670;&nbsp;</a></span>dest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> advanced_inventory::dest</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Which panel is the destination (items want to go to there). </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00094">94</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02135">query_charges()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01422">start_activity()</a>.</p>

</div>
</div>
<a id="a4ad8bf9c59492370c2a1d671ed82e196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad8bf9c59492370c2a1d671ed82e196">&#9670;&nbsp;</a></span>exit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::exit = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00110">110</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00175">~advanced_inventory()</a>.</p>

</div>
</div>
<a id="ae0562b28ecb072e6ec1b639cdbf96b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0562b28ecb072e6ec1b639cdbf96b0e">&#9670;&nbsp;</a></span>filter_edit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::filter_edit = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if (and only if) the filter of the active panel is currently being edited. </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00099">99</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>.</p>

</div>
</div>
<a id="ae7d0399fffd672f19a64b07a65301f19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d0399fffd672f19a64b07a65301f19">&#9670;&nbsp;</a></span>head</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> advanced_inventory::head</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00108">108</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>.</p>

</div>
</div>
<a id="ac453879b421a4acd4de3a7d920becd7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac453879b421a4acd4de3a7d920becd7d">&#9670;&nbsp;</a></span>head_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int advanced_inventory::head_height = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00058">58</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>.</p>

</div>
</div>
<a id="a416b92343f3e1fab9643a4903304d0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a416b92343f3e1fab9643a4903304d0a8">&#9670;&nbsp;</a></span>headstart</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int advanced_inventory::headstart = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00082">82</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="aad27f5d82ee36c1b3f777e122f933c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad27f5d82ee36c1b3f777e122f933c26">&#9670;&nbsp;</a></span>inCategoryMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::inCategoryMode = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00076">76</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00288">print_items()</a>.</p>

</div>
</div>
<a id="add4b6293c811e55f1c8e7eeddd52ca27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4b6293c811e55f1c8e7eeddd52ca27">&#9670;&nbsp;</a></span>linesPerPage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int advanced_inventory::linesPerPage = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00078">78</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">print_items()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>.</p>

</div>
</div>
<a id="ae24d0b01699da125b499bd789234ad2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24d0b01699da125b499bd789234ad2e">&#9670;&nbsp;</a></span>minimap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> advanced_inventory::minimap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00068">68</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02271">draw_minimap()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>.</p>

</div>
</div>
<a id="ae386d305fc3d0774cb143513f9c2cdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae386d305fc3d0774cb143513f9c2cdff">&#9670;&nbsp;</a></span>minimap_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int advanced_inventory::minimap_height = 3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00071">71</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a391685edb03bc7df4736fe2943369e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391685edb03bc7df4736fe2943369e62">&#9670;&nbsp;</a></span>minimap_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int advanced_inventory::minimap_width = 3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00070">70</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>.</p>

</div>
</div>
<a id="a923f90a37fed0a25fed12989a2b43c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a923f90a37fed0a25fed12989a2b43c7e">&#9670;&nbsp;</a></span>mm_border</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> advanced_inventory::mm_border</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00069">69</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>.</p>

</div>
</div>
<a id="aee529e2e08c251b6d4e830ce9b8d6ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee529e2e08c251b6d4e830ce9b8d6ac3">&#9670;&nbsp;</a></span>move_all_items_and_waiting_to_quit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::move_all_items_and_waiting_to_quit = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00059">59</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a3a66ce311815a1d213fcc4e55dbd22e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a66ce311815a1d213fcc4e55dbd22e5">&#9670;&nbsp;</a></span>null_pane</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a> advanced_inventory::null_pane</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00105">105</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

</div>
</div>
<a id="afee9c31085bc87acd086c5a8b0029505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee9c31085bc87acd086c5a8b0029505">&#9670;&nbsp;</a></span>panes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="classadvanced__inventory__pane.html">advanced_inventory_pane</a>, <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68a3f6972b87e2c5d9738dbb8586c16447b">NUM_PANES</a>&gt; advanced_inventory::panes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Two panels (left and right) showing the items, use a value of <a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> as index. </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00104">104</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01309">change_square()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02271">draw_minimap()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02312">get_minimap_sym()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00197">load_settings()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">print_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02135">query_charges()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00712">recalc_pane()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00187">save_settings()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01422">start_activity()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02339">swap_panes()</a>.</p>

</div>
</div>
<a id="a2c4362a2d179f241a7d7097fd42d2d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4362a2d179f241a7d7097fd42d2d7f">&#9670;&nbsp;</a></span>recalc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool advanced_inventory::recalc = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00085">85</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01309">change_square()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l02339">swap_panes()</a>.</p>

</div>
</div>
<a id="ac8c3da3386c3dd19455b9a9f2d5b0f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c3da3386c3dd19455b9a9f2d5b0f8f">&#9670;&nbsp;</a></span>save_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structadvanced__inv__save__state.html">advanced_inv_save_state</a>* advanced_inventory::save_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00112">112</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02353">do_return_entry()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02370">is_processing()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00197">load_settings()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00187">save_settings()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02339">swap_panes()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00175">~advanced_inventory()</a>.</p>

</div>
</div>
<a id="a36cfe09099b043516ea4473afc772a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36cfe09099b043516ea4473afc772a2d">&#9670;&nbsp;</a></span>spopup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classstring__input__popup.html">string_input_popup</a>&gt; advanced_inventory::spopup</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00062">62</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="a44fa4f8d9e527cd26a0fba31ea47b9d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44fa4f8d9e527cd26a0fba31ea47b9d6">&#9670;&nbsp;</a></span>squares</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="classadvanced__inv__area.html">advanced_inv_area</a>, <a class="el" href="advanced__inv__area_8h.html#a84ddaba7483390ac3569553508f55d43a415f1e40aef670ae393e793f3e97d1c1">NUM_AIM_LOCATIONS</a>&gt; advanced_inventory::squares</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00106">106</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01542">action_move_item()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01309">change_square()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02271">draw_minimap()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00263">get_location_key()</a>, <a class="el" href="advanced__inv_8h_source.html#l00046">get_one_square()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00243">get_square()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00197">load_settings()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00666">print_header()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00288">print_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02135">query_charges()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00712">recalc_pane()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00254">screen_relative_location()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01422">start_activity()</a>.</p>

</div>
</div>
<a id="a7d7827f4e2a1be3dd9b6b2cc2579a405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7827f4e2a1be3dd9b6b2cc2579a405">&#9670;&nbsp;</a></span>src</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classadvanced__inventory.html#a36fc13ffc4d1e4c93416f0f1b5432b68">side</a> advanced_inventory::src</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Which panels is active (item moved from there). </p>

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00090">90</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00268">init()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00995">move_all_items()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02083">query_destination()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l02253">refresh_minimap()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l00187">save_settings()</a>.</p>

</div>
</div>
<a id="a7966a1dfa8a29d25dfb8b6a6e3d4cbf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7966a1dfa8a29d25dfb8b6a6e3d4cbf4">&#9670;&nbsp;</a></span>ui</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classui__adaptor.html">ui_adaptor</a>&gt; advanced_inventory::ui</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00061">61</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

</div>
</div>
<a id="a6020fed7f6c4704ac0151a828bbcf321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6020fed7f6c4704ac0151a828bbcf321">&#9670;&nbsp;</a></span>w_height</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int advanced_inventory::w_height = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00079">79</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>.</p>

</div>
</div>
<a id="ac327f193560528b62a700bd5bee19730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac327f193560528b62a700bd5bee19730">&#9670;&nbsp;</a></span>w_width</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int advanced_inventory::w_width = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="advanced__inv_8h_source.html#l00080">80</a> of file <a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="advanced__inv_8cpp_source.html#l01725">action_examine()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l01784">display()</a>, <a class="el" href="advanced__inv_8cpp_source.html#l00789">redraw_pane()</a>, and <a class="el" href="advanced__inv_8cpp_source.html#l01287">redraw_sidebar()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="advanced__inv_8h_source.html">advanced_inv.h</a></li>
<li>src/<a class="el" href="advanced__inv_8cpp_source.html">advanced_inv.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:35 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
