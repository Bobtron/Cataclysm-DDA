<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/magic_spell_effect.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">magic_spell_effect.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;array&gt;</code><br />
<code>#include &lt;climits&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;cstddef&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;iosfwd&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;queue&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="avatar_8h_source.html">avatar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bodypart_8h_source.html">bodypart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calendar_8h_source.html">calendar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character_8h_source.html">character.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character__martial__arts_8h_source.html">character_martial_arts.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="colony_8h_source.html">colony.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="color_8h_source.html">color.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="coordinates_8h_source.html">coordinates.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="creature_8h_source.html">creature.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="creature__tracker_8h_source.html">creature_tracker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="damage_8h_source.html">damage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="effect__on__condition_8h_source.html">effect_on_condition.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="enums_8h_source.html">enums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="explosion_8h_source.html">explosion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="field_8h_source.html">field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="field__type_8h_source.html">field_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fungal__effects_8h_source.html">fungal_effects.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game_8h_source.html">game.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kill__tracker_8h_source.html">kill_tracker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="line_8h_source.html">line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magic_8h_source.html">magic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magic__spell__effect__helpers_8h_source.html">magic_spell_effect_helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magic__teleporter__list_8h_source.html">magic_teleporter_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magic__ter__furn__transform_8h_source.html">magic_ter_furn_transform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="map_8h_source.html">map.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="map__iterator_8h_source.html">map_iterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messages_8h_source.html">messages.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mongroup_8h_source.html">mongroup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster_8h_source.html">monster.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monstergenerator_8h_source.html">monstergenerator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="morale_8h_source.html">morale.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="morale__types_8h_source.html">morale_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtype_8h_source.html">mtype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="npc_8h_source.html">npc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="overmapbuffer_8h_source.html">overmapbuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pimpl_8h_source.html">pimpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="point_8h_source.html">point.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="projectile_8h_source.html">projectile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ret__val_8h_source.html">ret_val.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rng_8h_source.html">rng.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__formatter_8h_source.html">string_formatter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="teleport_8h_source.html">teleport.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timed__event_8h_source.html">timed_event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translations_8h_source.html">translations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__id_8h_source.html">type_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units_8h_source.html">units.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vehicle_8h_source.html">vehicle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vpart__position_8h_source.html">vpart_position.h</a>&quot;</code><br />
</div>
<p><a href="magic__spell__effect_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspell__detail_1_1line__iterable.html">spell_detail::line_iterable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacespell__detail"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacespell__detail.html">spell_detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a194187db7c9484b97f840581f6bd8f42"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacespell__detail.html#a194187db7c9484b97f840581f6bd8f42">spell_detail::side_of</a> (const <a class="el" href="structpoint.html">point</a> &amp;<a class="el" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, const <a class="el" href="structpoint.html">point</a> &amp;<a class="el" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>, const <a class="el" href="structpoint.html">point</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="separator:a194187db7c9484b97f840581f6bd8f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b56857385f320b2c69e9265142e2b0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacespell__detail.html#ab0b56857385f320b2c69e9265142e2b0">spell_detail::between_or_on</a> (const <a class="el" href="structpoint.html">point</a> &amp;a0, const <a class="el" href="structpoint.html">point</a> &amp;a1, const <a class="el" href="structpoint.html">point</a> &amp;d, const <a class="el" href="structpoint.html">point</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>)</td></tr>
<tr class="separator:ab0b56857385f320b2c69e9265142e2b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb1409a50c4aa40345c01400ea86672"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacespell__detail.html#a1fb1409a50c4aa40345c01400ea86672">spell_detail::build_line</a> (<a class="el" href="structspell__detail_1_1line__iterable.html">spell_detail::line_iterable</a> line, const <a class="el" href="structtripoint.html">tripoint</a> &amp;source, const <a class="el" href="structpoint.html">point</a> &amp;delta, const <a class="el" href="structpoint.html">point</a> &amp;delta_perp, bool(*test)(const <a class="el" href="structtripoint.html">tripoint</a> &amp;), std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;result)</td></tr>
<tr class="separator:a1fb1409a50c4aa40345c01400ea86672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9aa04ae33d8e07428fe850a7746599"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a5a9aa04ae33d8e07428fe850a7746599">swap_pos</a> (<a class="el" href="classCreature.html">Creature</a> &amp;caster, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target)</td></tr>
<tr class="separator:a5a9aa04ae33d8e07428fe850a7746599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66bffc694d0a287b00d6d81002eabc0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ae66bffc694d0a287b00d6d81002eabc0">in_spell_aoe</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;start, const <a class="el" href="structtripoint.html">tripoint</a> &amp;end, const int &amp;radius, const bool ignore_walls)</td></tr>
<tr class="separator:ae66bffc694d0a287b00d6d81002eabc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568848a8819e5abb0268be00a4245259"><td class="memItemLeft" align="right" valign="top">static std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a568848a8819e5abb0268be00a4245259">spell_effect_cone_range_override</a> (const <a class="el" href="structspell__effect_1_1override__parameters.html">spell_effect::override_parameters</a> &amp;params, const <a class="el" href="structtripoint.html">tripoint</a> &amp;source, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target)</td></tr>
<tr class="separator:a568848a8819e5abb0268be00a4245259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcb89d7f79f81cf00c012ac763b7bce"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a3dcb89d7f79f81cf00c012ac763b7bce">test_always_true</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a3dcb89d7f79f81cf00c012ac763b7bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81284e42f6b6e966b2956ded51b0cf4c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a81284e42f6b6e966b2956ded51b0cf4c">test_passable</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;p)</td></tr>
<tr class="separator:a81284e42f6b6e966b2956ded51b0cf4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d07a327dd211652384ecbcb005833fc"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a6d07a327dd211652384ecbcb005833fc">calculate_spell_effect_area</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, const <a class="el" href="classCreature.html">Creature</a> &amp;caster)</td></tr>
<tr class="separator:a6d07a327dd211652384ecbcb005833fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa802b237c00c4d114b99ae10f474274d"><td class="memItemLeft" align="right" valign="top">static std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#aa802b237c00c4d114b99ae10f474274d">spell_effect_area</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, const <a class="el" href="classCreature.html">Creature</a> &amp;caster)</td></tr>
<tr class="separator:aa802b237c00c4d114b99ae10f474274d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af0ed74983fa019f49f7d27d6832e81"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a1af0ed74983fa019f49f7d27d6832e81">add_effect_to_target</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;target, const <a class="el" href="classspell.html">spell</a> &amp;sp, <a class="el" href="classCreature.html">Creature</a> &amp;caster)</td></tr>
<tr class="separator:a1af0ed74983fa019f49f7d27d6832e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b703a709db6626699528ea59de0d85"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ac7b703a709db6626699528ea59de0d85">damage_targets</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp, <a class="el" href="classCreature.html">Creature</a> &amp;caster, const std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;targets)</td></tr>
<tr class="separator:ac7b703a709db6626699528ea59de0d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75c1a4c914ee962825a2df4737be864"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ab75c1a4c914ee962825a2df4737be864">magical_polymorph</a> (<a class="el" href="classmonster.html">monster</a> &amp;victim, <a class="el" href="classCreature.html">Creature</a> &amp;caster, const <a class="el" href="classspell.html">spell</a> &amp;sp)</td></tr>
<tr class="separator:ab75c1a4c914ee962825a2df4737be864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af022019d3463ede3830d8c28140d4122"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#af022019d3463ede3830d8c28140d4122">move_items</a> (<a class="el" href="classmap.html">map</a> &amp;here, const <a class="el" href="structtripoint.html">tripoint</a> &amp;from, const <a class="el" href="structtripoint.html">tripoint</a> &amp;to)</td></tr>
<tr class="separator:af022019d3463ede3830d8c28140d4122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472d8ac69679288ea5fb2a0315dbe04a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a472d8ac69679288ea5fb2a0315dbe04a">move_field</a> (<a class="el" href="classmap.html">map</a> &amp;here, const <a class="el" href="structtripoint.html">tripoint</a> &amp;from, const <a class="el" href="structtripoint.html">tripoint</a> &amp;to)</td></tr>
<tr class="separator:a472d8ac69679288ea5fb2a0315dbe04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28c02a4b99d8b6eb87d900fbfaab890"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#af28c02a4b99d8b6eb87d900fbfaab890">spell_move</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp, const <a class="el" href="classCreature.html">Creature</a> &amp;caster, const <a class="el" href="structtripoint.html">tripoint</a> &amp;from, const <a class="el" href="structtripoint.html">tripoint</a> &amp;to)</td></tr>
<tr class="separator:af28c02a4b99d8b6eb87d900fbfaab890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6455f5a0b1e9126041e6319c78355897"><td class="memItemLeft" align="right" valign="top">static std::pair&lt; <a class="el" href="classfield.html">field</a>, <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a6455f5a0b1e9126041e6319c78355897">spell_remove_field</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp, const <a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> &amp;target_field_type_id, const <a class="el" href="structtripoint.html">tripoint</a> &amp;center, const <a class="el" href="classCreature.html">Creature</a> &amp;caster)</td></tr>
<tr class="separator:a6455f5a0b1e9126041e6319c78355897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4183d64b55c5aaa6b47e36bc6186c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ace4183d64b55c5aaa6b47e36bc6186c3">handle_remove_fd_reality_tear_field</a> (const std::pair&lt; <a class="el" href="classfield.html">field</a>, <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;fd_reality_tear_field, <a class="el" href="classCreature.html">Creature</a> &amp;caster)</td></tr>
<tr class="separator:ace4183d64b55c5aaa6b47e36bc6186c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fa0d01e00466b4b6ec71a3106a2361"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a44fa0d01e00466b4b6ec71a3106a2361">character_push_effects</a> (<a class="el" href="classCreature.html">Creature</a> *caster, <a class="el" href="classCharacter.html">Character</a> &amp;guy, <a class="el" href="structtripoint.html">tripoint</a> &amp;push_dest, const int push_distance, const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;push_vec)</td></tr>
<tr class="separator:a44fa0d01e00466b4b6ec71a3106a2361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4b5afcb1b5b2b04be6edf36ee2b2e4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a6a4b5afcb1b5b2b04be6edf36ee2b2e4">is_summon_friendly</a> (const <a class="el" href="classspell.html">spell</a> &amp;sp)</td></tr>
<tr class="separator:a6a4b5afcb1b5b2b04be6edf36ee2b2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0123797bddc17618b73788632af35dd0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a0123797bddc17618b73788632af35dd0">add_summoned_mon</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, const <a class="el" href="classtime__duration.html">time_duration</a> &amp;time, const <a class="el" href="classspell.html">spell</a> &amp;sp, <a class="el" href="classCreature.html">Creature</a> &amp;caster)</td></tr>
<tr class="separator:a0123797bddc17618b73788632af35dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0c073c8608c88bb092d72f27944a7df1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a> (&quot;teleglow&quot;)</td></tr>
<tr class="separator:a0c073c8608c88bb092d72f27944a7df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78c5b04d8077d7c35c14258ed3dbe55"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ac78c5b04d8077d7c35c14258ed3dbe55">json_flag_FIT</a> (&quot;FIT&quot;)</td></tr>
<tr class="separator:ac78c5b04d8077d7c35c14258ed3dbe55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab161c367d797bc9d5e28ce6b0871ece9"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ab161c367d797bc9d5e28ce6b0871ece9">json_flag_PRED1</a> (&quot;PRED1&quot;)</td></tr>
<tr class="separator:ab161c367d797bc9d5e28ce6b0871ece9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe50e2a044ddb139e163b6ee5307976"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a3fe50e2a044ddb139e163b6ee5307976">json_flag_PRED2</a> (&quot;PRED2&quot;)</td></tr>
<tr class="separator:a3fe50e2a044ddb139e163b6ee5307976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a069155201566d16196b847fb0cbf9330"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a069155201566d16196b847fb0cbf9330">json_flag_PRED3</a> (&quot;PRED3&quot;)</td></tr>
<tr class="separator:a069155201566d16196b847fb0cbf9330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aeb430b1b8655823e9d45ab7aecf11d"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a0aeb430b1b8655823e9d45ab7aecf11d">json_flag_PRED4</a> (&quot;PRED4&quot;)</td></tr>
<tr class="separator:a0aeb430b1b8655823e9d45ab7aecf11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38c932036191fc88554990d16a891a2"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a> (&quot;mon_blob&quot;)</td></tr>
<tr class="separator:aa38c932036191fc88554990d16a891a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039c3acd23099e1631feefe7748f49ac"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a039c3acd23099e1631feefe7748f49ac">mon_blob_brain</a> (&quot;mon_blob_brain&quot;)</td></tr>
<tr class="separator:a039c3acd23099e1631feefe7748f49ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a6c4625d63003c1d0964079059efa1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#ae9a6c4625d63003c1d0964079059efa1">mon_blob_large</a> (&quot;mon_blob_large&quot;)</td></tr>
<tr class="separator:ae9a6c4625d63003c1d0964079059efa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b8333a5c99eec3461bf502b864204b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a96b8333a5c99eec3461bf502b864204b">mon_blob_small</a> (&quot;mon_blob_small&quot;)</td></tr>
<tr class="separator:a96b8333a5c99eec3461bf502b864204b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6767b834de3ae00eeff3b3c4606c61"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#afb6767b834de3ae00eeff3b3c4606c61">mon_generator</a> (&quot;mon_generator&quot;)</td></tr>
<tr class="separator:afb6767b834de3ae00eeff3b3c4606c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db9d1cf419d74abb270272636751d03"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a9db9d1cf419d74abb270272636751d03">species_HALLUCINATION</a> (&quot;HALLUCINATION&quot;)</td></tr>
<tr class="separator:a9db9d1cf419d74abb270272636751d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae220532185d524cd6c7cb2e1f100b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a4bae220532185d524cd6c7cb2e1f100b">species_SLIME</a> (&quot;SLIME&quot;)</td></tr>
<tr class="separator:a4bae220532185d524cd6c7cb2e1f100b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d0578dfe3d1e27332b119e515f47fb"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a> (&quot;KILLER&quot;)</td></tr>
<tr class="separator:a79d0578dfe3d1e27332b119e515f47fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f40b992f1ab4a66785f12dbaae64ec"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a> (&quot;PACIFIST&quot;)</td></tr>
<tr class="separator:a53f40b992f1ab4a66785f12dbaae64ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbf692360c0fe96f9fccf41db5756be"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> (&quot;PSYCHOPATH&quot;)</td></tr>
<tr class="separator:a9bbf692360c0fe96f9fccf41db5756be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512959ad2b35ea057f2fed5445fc23c4"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="magic__spell__effect_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> (&quot;PYROMANIA&quot;)</td></tr>
<tr class="separator:a512959ad2b35ea057f2fed5445fc23c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1af0ed74983fa019f49f7d27d6832e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af0ed74983fa019f49f7d27d6832e81">&#9670;&nbsp;</a></span>add_effect_to_target()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void add_effect_to_target </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00485">485</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> dur_moves = sp.<a class="code" href="classspell.html#a3a67307def07ddc6d2e2c134d21c245f">duration</a>( caster );</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> dur_td = <a class="code" href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a>( dur_moves );</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *<span class="keyword">const</span> critter = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCreature.html">Creature</a>&gt;( target );</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classCharacter.html">Character</a> *<span class="keyword">const</span> guy = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCharacter.html">Character</a>&gt;( target );</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="namespacespell__effect.html">spell_effect</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() );</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordtype">bool</span> bodypart_effected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span>( guy ) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classint__id.html">bodypart_id</a> &amp;<a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a> : guy-&gt;get_all_body_parts() ) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#a6f76f8894099d3d7fd0f54f765a0991e">bp_is_affected</a>( <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>.<a class="code" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() ) ) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                guy-&gt;add_effect( <a class="code" href="namespacespell__effect.html">spell_effect</a>, dur_td, <a class="code" href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a>, sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">spell_flag::PERMANENT</a> ) );</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                bodypart_effected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">if</span>( !bodypart_effected ) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        critter-&gt;<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="namespacespell__effect.html">spell_effect</a>, dur_td );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00604">creature.h:604</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html"><div class="ttname"><a href="classcreature__tracker.html">creature_tracker</a></div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8h_source.html#l00024">creature_tracker.h:25</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_aba3c6663688bcd1806ea685d6961cb72"><div class="ttname"><a href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_tracker::creature_at</a></div><div class="ttdeci">T * creature_at(const tripoint &amp;p, bool allow_hallucination=false)</div><div class="ttdoc">Returns the Creature at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8cpp_source.html#l00303">creature_tracker.cpp:303</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; body_part_type &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassspell_html_a3a67307def07ddc6d2e2c134d21c245f"><div class="ttname"><a href="classspell.html#a3a67307def07ddc6d2e2c134d21c245f">spell::duration</a></div><div class="ttdeci">int duration(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00965">magic.cpp:965</a></div></div>
<div class="ttc" id="aclassspell_html_a6f76f8894099d3d7fd0f54f765a0991e"><div class="ttname"><a href="classspell.html#a6f76f8894099d3d7fd0f54f765a0991e">spell::bp_is_affected</a></div><div class="ttdeci">bool bp_is_affected(const bodypart_str_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01400">magic.cpp:1400</a></div></div>
<div class="ttc" id="aclassspell_html_aa609bae14a69c0987d562a2a9f8a1268"><div class="ttname"><a href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">spell::has_flag</a></div><div class="ttdeci">bool has_flag(const spell_flag &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01074">magic.cpp:1074</a></div></div>
<div class="ttc" id="aclassspell_html_ab6f8776ac707639708392c616d93fa58"><div class="ttname"><a href="classspell.html#ab6f8776ac707639708392c616d93fa58">spell::effect_data</a></div><div class="ttdeci">std::string effect_data() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01794">magic.cpp:1794</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; effect_type &gt;</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstime__duration_html_aacd074821aecb38a24d9ce6ca42a9127"><div class="ttname"><a href="classtime__duration.html#aacd074821aecb38a24d9ce6ca42a9127">time_duration::from_moves</a></div><div class="ttdeci">static constexpr time_duration from_moves(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00225">calendar.h:225</a></div></div>
<div class="ttc" id="acreature_8h_html_ac54f8023b2f6c4c85f60252cf47cc28d"><div class="ttname"><a href="creature_8h.html#ac54f8023b2f6c4c85f60252cf47cc28d">bp</a></div><div class="ttdeci">bodypart_id bp</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00238">creature.h:238</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html_a16f631f70e72b53e590770670fb301fb"><div class="ttname"><a href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a></div><div class="ttdeci">creature_tracker &amp; get_creature_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13827">game.cpp:13827</a></div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">spell_flag::PERMANENT</a></div><div class="ttdeci">@ PERMANENT</div></div>
<div class="ttc" id="anamespacespell__effect_html"><div class="ttname"><a href="namespacespell__effect.html">spell_effect</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00038">magic.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="creature_8h_source.html#l00238">bp</a>, <a class="el" href="magic_8cpp_source.html#l01400">spell::bp_is_affected()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="magic_8cpp_source.html#l00965">spell::duration()</a>, <a class="el" href="magic_8cpp_source.html#l01794">spell::effect_data()</a>, <a class="el" href="calendar_8h_source.html#l00225">time_duration::from_moves()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, and <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">PERMANENT</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00508">damage_targets()</a>.</p>

</div>
</div>
<a id="a0123797bddc17618b73788632af35dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0123797bddc17618b73788632af35dd0">&#9670;&nbsp;</a></span>add_summoned_mon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool add_summoned_mon </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__duration.html">time_duration</a> &amp;&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l01200">1200</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    std::string monster_id = sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>();</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="comment">// Spawn a monster from a group, or a specific monster ID</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">spell_flag::SPAWN_GROUP</a> ) ) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">mongroup_id</a> <a class="code" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() );</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        monster_id = <a class="code" href="classMonsterGroupManager.html#a9cccc521c1f910f907d23ffba50cd1dc">MonsterGroupManager::GetRandomMonsterFromGroup</a>( <a class="code" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a> ).<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">mtype_id</a> mon_id( monster_id );</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon_ptr = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( mon_id, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span>( !mon_ptr ) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a> = sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">spell_flag::PERMANENT</a> );</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="classmonster.html">monster</a> &amp;spawned_mon = *mon_ptr;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="magic__spell__effect_8cpp.html#a6a4b5afcb1b5b2b04be6edf36ee2b2e4">is_summon_friendly</a>( sp ) ) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        spawned_mon.<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = INT_MAX;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        spawned_mon.<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = 0;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a> ) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        spawned_mon.<a class="code" href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">set_summon_time</a>( time );</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    spawned_mon.<a class="code" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> = !sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba340031a71f628a23e6215861f612401b">spell_flag::SPAWN_WITH_DEATH_DROPS</a> );</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    spawned_mon.<a class="code" href="classmonster.html#a55f85ad0bf2f4d114107820910a42c0a">no_corpse_quiet</a> = sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba19813152707f85385e889ef54cdd266b">spell_flag::NO_CORPSE_QUIET</a> );</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    spawned_mon.<a class="code" href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214">set_summoner</a>( &amp;caster );</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a36478eccbdd3eab446c0534fbca13644"><div class="ttname"><a href="classCreature.html#a36478eccbdd3eab446c0534fbca13644">Creature::set_summon_time</a></div><div class="ttdeci">void set_summon_time(const time_duration &amp;length)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02045">creature.cpp:2045</a></div></div>
<div class="ttc" id="aclassCreature_html_ab4095a32d376ed62d2dec7dbff95f214"><div class="ttname"><a href="classCreature.html#ab4095a32d376ed62d2dec7dbff95f214">Creature::set_summoner</a></div><div class="ttdeci">void set_summoner(Creature *summoner)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02071">creature.cpp:2071</a></div></div>
<div class="ttc" id="aclassMonsterGroupManager_html_a9cccc521c1f910f907d23ffba50cd1dc"><div class="ttname"><a href="classMonsterGroupManager.html#a9cccc521c1f910f907d23ffba50cd1dc">MonsterGroupManager::GetRandomMonsterFromGroup</a></div><div class="ttdeci">static const mtype_id &amp; GetRandomMonsterFromGroup(const mongroup_id &amp;group)</div><div class="ttdoc">Gets a random monster, weighted by frequency.</div><div class="ttdef"><b>Definition:</b> <a href="mongroup_8cpp_source.html#l00619">mongroup.cpp:619</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_a2f9d03ffee51f0193855490a75511596"><div class="ttname"><a href="classmonster.html#a2f9d03ffee51f0193855490a75511596">monster::no_extra_death_drops</a></div><div class="ttdeci">bool no_extra_death_drops</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00552">monster.h:552</a></div></div>
<div class="ttc" id="aclassmonster_html_a4e17d0d504a12d9b2e4de3e7a7503fff"><div class="ttname"><a href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">monster::friendly</a></div><div class="ttdeci">int friendly</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00539">monster.h:539</a></div></div>
<div class="ttc" id="aclassmonster_html_a55f85ad0bf2f4d114107820910a42c0a"><div class="ttname"><a href="classmonster.html#a55f85ad0bf2f4d114107820910a42c0a">monster::no_corpse_quiet</a></div><div class="ttdeci">bool no_corpse_quiet</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00554">monster.h:554</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="acreature_8h_html_a725ad3ab8ebc8c0de4689369a15e1380"><div class="ttname"><a href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a></div><div class="ttdeci">bool permanent</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00239">creature.h:239</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">spell_flag::SPAWN_GROUP</a></div><div class="ttdeci">@ SPAWN_GROUP</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba19813152707f85385e889ef54cdd266b"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba19813152707f85385e889ef54cdd266b">spell_flag::NO_CORPSE_QUIET</a></div><div class="ttdeci">@ NO_CORPSE_QUIET</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba340031a71f628a23e6215861f612401b"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba340031a71f628a23e6215861f612401b">spell_flag::SPAWN_WITH_DEATH_DROPS</a></div><div class="ttdeci">@ SPAWN_WITH_DEATH_DROPS</div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a6a4b5afcb1b5b2b04be6edf36ee2b2e4"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a6a4b5afcb1b5b2b04be6edf36ee2b2e4">is_summon_friendly</a></div><div class="ttdeci">static bool is_summon_friendly(const spell &amp;sp)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l01190">magic_spell_effect.cpp:1190</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02recipe__groups_8cpp_03_html_ad3ae3cc26f6d2a1604cf7ec01d4a3dfe"><div class="ttname"><a href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">anonymous_namespace{recipe_groups.cpp}::group_id</a></div><div class="ttdeci">string_id&lt; recipe_group_data &gt; group_id</div><div class="ttdef"><b>Definition:</b> <a href="recipe__groups_8cpp_source.html#l00022">recipe_groups.cpp:22</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01794">spell::effect_data()</a>, <a class="el" href="monster_8h_source.html#l00539">monster::friendly</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="mongroup_8cpp_source.html#l00619">MonsterGroupManager::GetRandomMonsterFromGroup()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01190">is_summon_friendly()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba19813152707f85385e889ef54cdd266b">NO_CORPSE_QUIET</a>, <a class="el" href="monster_8h_source.html#l00554">monster::no_corpse_quiet</a>, <a class="el" href="monster_8h_source.html#l00552">monster::no_extra_death_drops</a>, <a class="el" href="creature_8h_source.html#l00239">permanent</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54bcf9b291726b4cf8343f61681a5cfd">PERMANENT</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="creature_8cpp_source.html#l02045">Creature::set_summon_time()</a>, <a class="el" href="creature_8cpp_source.html#l02071">Creature::set_summoner()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba0169f99da4a426e9b5b04c43733d8ec8">SPAWN_GROUP</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba340031a71f628a23e6215861f612401b">SPAWN_WITH_DEATH_DROPS</a>, and <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01233">spell_effect::spawn_summoned_monster()</a>.</p>

</div>
</div>
<a id="a6d07a327dd211652384ecbcb005833fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d07a327dd211652384ecbcb005833fc">&#9670;&nbsp;</a></span>calculate_spell_effect_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; calculate_spell_effect_area </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00426">426</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// the actual target that the spell will hit.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> epicenter( target );</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// stop short if we hit a wall, if the spell has a projectile</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#ab26955ff4600c3a2855e6fe02dc0d216">shape</a>() == <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca9e1b93b20faf4a4798c106c0db299473">spell_shape::blast</a> &amp;&amp; !sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54cdca63f8089e9058dff2c73ef37831">spell_flag::NO_PROJECTILE</a> ) ) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        std::vector&lt;tripoint&gt; <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a> = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( caster.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), target );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">for</span>( std::vector&lt;tripoint&gt;::iterator iter = <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.begin(); iter != <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.end(); iter++ ) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a>( *iter ) ) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="keywordflow">if</span>( iter != <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a>.begin() ) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    epicenter = *( iter - 1 );</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    epicenter = *iter;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    std::set&lt;tripoint&gt; targets = { epicenter }; <span class="comment">// initialize with epicenter</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( caster ) &lt; 1 &amp;&amp; sp.<a class="code" href="classspell.html#ab26955ff4600c3a2855e6fe02dc0d216">shape</a>() != <a class="code" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a> ) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">return</span> targets;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    targets = sp.<a class="code" href="classspell.html#a10720b544d7c92b9606008819cc2896e">effect_area</a>( caster.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), target, caster );</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span>( std::set&lt;tripoint&gt;::iterator it = targets.begin(); it != targets.end(); ) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">if</span>( !sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( caster, *it ) ) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            it = targets.erase( it );</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            ++it;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> targets;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassspell_html_a10720b544d7c92b9606008819cc2896e"><div class="ttname"><a href="classspell.html#a10720b544d7c92b9606008819cc2896e">spell::effect_area</a></div><div class="ttdeci">std::set&lt; tripoint &gt; effect_area(const spell_effect::override_parameters &amp;params, const tripoint &amp;source, const tripoint &amp;target) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00873">magic.cpp:873</a></div></div>
<div class="ttc" id="aclassspell_html_a63f22c8f5a1730ab6651342e9becbfdc"><div class="ttname"><a href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">spell::aoe</a></div><div class="ttdeci">int aoe(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00854">magic.cpp:854</a></div></div>
<div class="ttc" id="aclassspell_html_ab26955ff4600c3a2855e6fe02dc0d216"><div class="ttname"><a href="classspell.html#ab26955ff4600c3a2855e6fe02dc0d216">spell::shape</a></div><div class="ttdeci">spell_shape shape() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01312">magic.cpp:1312</a></div></div>
<div class="ttc" id="aclassspell_html_adc1aee8fd855fce28ebb1dcc39e37a12"><div class="ttname"><a href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">spell::is_valid_target</a></div><div class="ttdeci">bool is_valid_target(const Creature &amp;caster, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01474">magic.cpp:1474</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a31847b31c6ef002e9d16afd7fd0005e3"><div class="ttname"><a href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &amp;&amp;RhsInBounds &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00798">coordinates.h:798</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">spell_shape::line</a></div><div class="ttdeci">@ line</div></div>
<div class="ttc" id="amagic_8h_html_a0d790bdb16f7b815ef552e2220820e9ca9e1b93b20faf4a4798c106c0db299473"><div class="ttname"><a href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca9e1b93b20faf4a4798c106c0db299473">spell_shape::blast</a></div><div class="ttdeci">@ blast</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba54cdca63f8089e9058dff2c73ef37831"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54cdca63f8089e9058dff2c73ef37831">spell_flag::NO_PROJECTILE</a></div><div class="ttdeci">@ NO_PROJECTILE</div></div>
<div class="ttc" id="anamespacetarget__handler_html_aea843144f5e69546ddea88eeda177640"><div class="ttname"><a href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">target_handler::trajectory</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; trajectory</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00029">ranged.h:29</a></div></div>
<div class="ttc" id="aomdata_8h_html_a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65"><div class="ttname"><a href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">oter_travel_cost_type::impassable</a></div><div class="ttdeci">@ impassable</div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l00854">spell::aoe()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca9e1b93b20faf4a4798c106c0db299473">blast</a>, <a class="el" href="magic_8cpp_source.html#l00873">spell::effect_area()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a>, <a class="el" href="magic_8cpp_source.html#l01474">spell::is_valid_target()</a>, <a class="el" href="magic_8h.html#a0d790bdb16f7b815ef552e2220820e9ca6438c669e0d0de98e6929c2cc0fac474">line</a>, <a class="el" href="coordinates_8h_source.html#l00798">line_to()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba54cdca63f8089e9058dff2c73ef37831">NO_PROJECTILE</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, and <a class="el" href="magic_8cpp_source.html#l01312">spell::shape()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc__attack_8cpp_source.html#l00173">npc_attack_spell::evaluate_tripoint()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00148">spell_effect::short_range_teleport()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l00465">spell_effect_area()</a>.</p>

</div>
</div>
<a id="a44fa0d01e00466b4b6ec71a3106a2361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44fa0d01e00466b4b6ec71a3106a2361">&#9670;&nbsp;</a></span>character_push_effects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void character_push_effects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>caster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>push_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>push_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>push_vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00961">961</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;{</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">int</span> dist_left = <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( push_distance );</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> old_pushed_point = guy.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;pushed_point : push_vec ) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a>( pushed_point ) ) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            guy.<a class="code" href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">hurtall</a>( dist_left * 4, caster );</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            push_dest = old_pushed_point;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().creature_at( pushed_point ) ) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            push_dest = old_pushed_point;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            dist_left--;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            old_pushed_point = pushed_point;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    guy.<a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( push_dest );</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_ad30aa5db93626016bfc8ac32f848f82d"><div class="ttname"><a href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">Character::hurtall</a></div><div class="ttdeci">void hurtall(int dam, Creature *source, bool disturb=true)</div><div class="ttdoc">Hurts all body parts for dam, no armor reduction.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08435">character.cpp:8435</a></div></div>
<div class="ttc" id="aclassCreature_html_ac16dcdb688f6f47c594c98c83528a670"><div class="ttname"><a href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">Creature::setpos</a></div><div class="ttdeci">void setpos(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00188">creature.cpp:188</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a24f6ac6e06720c7cdf972a6083847132"><div class="ttname"><a href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">abs</a></div><div class="ttdeci">double abs(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00030">math_parser_func.h:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="character_8cpp_source.html#l08435">Character::hurtall()</a>, <a class="el" href="omdata_8h.html#a34fa26d94d253aff79aacd4ffbc1505daf5e7a346d6681f66585d00619d9e1d65">impassable</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, and <a class="el" href="creature_8cpp_source.html#l00188">Creature::setpos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00982">spell_effect::directed_push()</a>.</p>

</div>
</div>
<a id="ac7b703a709db6626699528ea59de0d85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b703a709db6626699528ea59de0d85">&#9670;&nbsp;</a></span>damage_targets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void damage_targets </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>targets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00508">508</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="classcreature__tracker.html">creature_tracker</a> &amp;creatures = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;target : targets ) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">if</span>( !sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( caster, target ) ) {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        sp.<a class="code" href="classspell.html#a09d10eac783473b568da11d51abd38a6">make_sound</a>( target, caster );</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        sp.<a class="code" href="classspell.html#a2e1753d54122c01ea14e9abbb2bd886f">create_field</a>( target, caster );</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba2286362f6c079bf6e2dfdf7e62068021">spell_flag::IGNITE_FLAMMABLE</a> ) &amp;&amp; here.<a class="code" href="classmap.html#a87b7a3bab2c88e7779008341bf75502f">is_flammable</a>( target ) ) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( target, <a class="code" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, 1, 10_minutes );</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="magic__spell__effect_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> ) &amp;&amp;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                !player_character.<a class="code" href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">has_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a> ) ) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                player_character.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You feel a surge of euphoria as flames burst out!&quot;</span> ) );</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, 15, 15, 8_hours, 6_hours );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                player_character.<a class="code" href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">rem_morale</a>( <a class="code" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a> );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="classCreature.html">Creature</a> *<span class="keyword">const</span> cr = creatures.<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCreature.html">Creature</a>&gt;( target );</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">if</span>( !cr ) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> atk = sp.<a class="code" href="classspell.html#a19e44ba50463fee4395980d76c6e6bb6">get_projectile_attack</a>( target, *cr, caster );</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> spell_accuracy = sp.<a class="code" href="classspell.html#a35a5f0a79a86833afef958fe1627d198">accuracy</a>( caster );</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span>( !sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>().empty() ) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="magic__spell__effect_8cpp.html#a1af0ed74983fa019f49f7d27d6832e81">add_effect_to_target</a>( target, sp, caster );</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( caster ) &gt; 0 ) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="comment">// calculate damage mitigation from various sources</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="comment">// 5% per point (linear) ranging from 0-33%, capped at block score</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordtype">double</span> damage_mitigation_multiplier = 1.0;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">if</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> spell_block = cr-&gt;<a class="code" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">get_block_bonus</a>() - spell_accuracy &gt; 0 ) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> roll = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 20 ) );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                damage_mitigation_multiplier -= ( 1 - 0.05 * <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( roll, spell_block ) ) / 3.0;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span>( cr-&gt;<a class="code" href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">dodge_check</a>( spell_accuracy ) ) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> spell_dodge = cr-&gt;<a class="code" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">get_dodge</a>() - spell_accuracy;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> roll = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 20 ) );</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                damage_mitigation_multiplier -= ( 1 - 0.05 * <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( roll, spell_dodge ) ) / 3.0;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">if</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> spell_resist = cr-&gt;<a class="code" href="classCreature.html#a2db9c4d31aa12577ae0f560314cde84e">get_spell_resist</a>() - spell_accuracy &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                         !sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197bac069ee334aa83ece77ad0af5bd596ec2">spell_flag::NON_MAGICAL</a> ) ) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> roll = <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">std::round</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 1, 20 ) );</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                damage_mitigation_multiplier -= ( 1 - 0.05 * <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( roll, spell_resist ) ) / 3.0;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;val : atk.<a class="code" href="structdealt__projectile__attack.html#a93f05a2866e4dbc8c4d432a67daf8ab6">proj</a>.<a class="code" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>.<a class="code" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba83ce92712f6d8aea3340cd5dcc2158f4">spell_flag::PERCENTAGE_DAMAGE</a> ) ) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    <span class="comment">// TODO: Change once spells don&#39;t always target get_max_hitsize_bodypart(). Should target each bodypart with it&#39;s respecive %</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    val.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> = cr-&gt;<a class="code" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">get_hp</a>( cr-&gt;<a class="code" href="classCreature.html#a02bfe7dfc1d4636ba78e427102c24810">get_max_hitsize_bodypart</a>() ) * sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( caster ) / 100.0;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                val.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> *= damage_mitigation_multiplier;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            cr-&gt;<a class="code" href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">deal_projectile_attack</a>( &amp;caster, atk, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">damage</a>( caster ) &lt; 0 ) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            sp.<a class="code" href="classspell.html#af12e38d6e97fefcf10174cd91df53bd4">heal</a>( target, caster );</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( cr-&gt;<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s wounds are closing up!&quot;</span> ),</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                                    cr-&gt;<a class="code" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="comment">// TODO: randomize hit location</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        cr-&gt;<a class="code" href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">add_damage_over_time</a>( sp.<a class="code" href="classspell.html#a134d0709b0c5bc67e43a56ff6165854a">damage_over_time</a>( { body_part_torso }, caster ) );</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2725bcbfa9e92e0590930e6a8e35764c"><div class="ttname"><a href="classCharacter.html#a2725bcbfa9e92e0590930e6a8e35764c">Character::rem_morale</a></div><div class="ttdeci">void rem_morale(const morale_type &amp;type, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00154">character_morale.cpp:154</a></div></div>
<div class="ttc" id="aclassCharacter_html_a74cf2e51a768e3d2e2114aeaddb5fda4"><div class="ttname"><a href="classCharacter.html#a74cf2e51a768e3d2e2114aeaddb5fda4">Character::has_morale</a></div><div class="ttdeci">int has_morale(const morale_type &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00149">character_morale.cpp:149</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00142">character_morale.cpp:142</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCreature_html_a02bfe7dfc1d4636ba78e427102c24810"><div class="ttname"><a href="classCreature.html#a02bfe7dfc1d4636ba78e427102c24810">Creature::get_max_hitsize_bodypart</a></div><div class="ttdeci">bodypart_id get_max_hitsize_bodypart() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03008">creature.cpp:3008</a></div></div>
<div class="ttc" id="aclassCreature_html_a16fbfd5268fd73935e5211bc1fa08617"><div class="ttname"><a href="classCreature.html#a16fbfd5268fd73935e5211bc1fa08617">Creature::deal_projectile_attack</a></div><div class="ttdeci">virtual void deal_projectile_attack(Creature *source, dealt_projectile_attack &amp;attack, bool print_messages=true, const weakpoint_attack &amp;wp_attack=weakpoint_attack())</div><div class="ttdoc">Attempts to harm a creature with a projectile.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01121">creature.cpp:1121</a></div></div>
<div class="ttc" id="aclassCreature_html_a25d21c9537d90ecb5648dd27721e7d2d"><div class="ttname"><a href="classCreature.html#a25d21c9537d90ecb5648dd27721e7d2d">Creature::dodge_check</a></div><div class="ttdeci">bool dodge_check(float hit_roll, bool force_try=false, float training_level=0.0f)</div><div class="ttdoc">If training_level is anything but 0, the check will only train target's skill to that level.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01447">creature.cpp:1447</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a282e131a72c19f24c7f0a56323b47ecb"><div class="ttname"><a href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">Creature::get_block_bonus</a></div><div class="ttdeci">virtual int get_block_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02794">creature.cpp:2794</a></div></div>
<div class="ttc" id="aclassCreature_html_a2db9c4d31aa12577ae0f560314cde84e"><div class="ttname"><a href="classCreature.html#a2db9c4d31aa12577ae0f560314cde84e">Creature::get_spell_resist</a></div><div class="ttdeci">virtual int get_spell_resist() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02132">creature.cpp:2132</a></div></div>
<div class="ttc" id="aclassCreature_html_a85f7bb2576d6f38d117b3714c1e94dee"><div class="ttname"><a href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">Creature::add_damage_over_time</a></div><div class="ttdeci">void add_damage_over_time(const damage_over_time_data &amp;DoT)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03042">creature.cpp:3042</a></div></div>
<div class="ttc" id="aclassCreature_html_a94737d93f30cee269b2df71478ee29fd"><div class="ttname"><a href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">Creature::get_hp</a></div><div class="ttdeci">virtual int get_hp(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02748">creature.cpp:2748</a></div></div>
<div class="ttc" id="aclassCreature_html_aaa501dbe3d1e90d47da43fb9ea57b3be"><div class="ttname"><a href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a></div><div class="ttdeci">virtual float get_dodge() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02148">creature.cpp:2148</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a32a9de57ddea3145ca42e6acfde7f3d6"><div class="ttname"><a href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">map::add_field</a></div><div class="ttdeci">bool add_field(const tripoint &amp;p, const field_type_id &amp;type_id, int intensity=INT_MAX, const time_duration &amp;age=0_turns, bool hit_player=true)</div><div class="ttdoc">Add field entry at point, or set intensity if present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06563">map.cpp:6563</a></div></div>
<div class="ttc" id="aclassmap_html_a87b7a3bab2c88e7779008341bf75502f"><div class="ttname"><a href="classmap.html#a87b7a3bab2c88e7779008341bf75502f">map::is_flammable</a></div><div class="ttdeci">bool is_flammable(const tripoint &amp;p)</div><div class="ttdoc">Returns true if there is a flammable item or field or the furn/terrain is flammable at p.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03480">map.cpp:3480</a></div></div>
<div class="ttc" id="aclassspell_html_a09d10eac783473b568da11d51abd38a6"><div class="ttname"><a href="classspell.html#a09d10eac783473b568da11d51abd38a6">spell::make_sound</a></div><div class="ttdeci">void make_sound(const tripoint &amp;target, Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01440">magic.cpp:1440</a></div></div>
<div class="ttc" id="aclassspell_html_a134d0709b0c5bc67e43a56ff6165854a"><div class="ttname"><a href="classspell.html#a134d0709b0c5bc67e43a56ff6165854a">spell::damage_over_time</a></div><div class="ttdeci">damage_over_time_data damage_over_time(const std::vector&lt; bodypart_str_id &gt; &amp;bps, const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00762">magic.cpp:762</a></div></div>
<div class="ttc" id="aclassspell_html_a19e44ba50463fee4395980d76c6e6bb6"><div class="ttname"><a href="classspell.html#a19e44ba50463fee4395980d76c6e6bb6">spell::get_projectile_attack</a></div><div class="ttdeci">dealt_projectile_attack get_projectile_attack(const tripoint &amp;target, Creature &amp;hit_critter, Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01777">magic.cpp:1777</a></div></div>
<div class="ttc" id="aclassspell_html_a2e1753d54122c01ea14e9abbb2bd886f"><div class="ttname"><a href="classspell.html#a2e1753d54122c01ea14e9abbb2bd886f">spell::create_field</a></div><div class="ttdeci">void create_field(const tripoint &amp;at, Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01405">magic.cpp:1405</a></div></div>
<div class="ttc" id="aclassspell_html_a35a5f0a79a86833afef958fe1627d198"><div class="ttname"><a href="classspell.html#a35a5f0a79a86833afef958fe1627d198">spell::accuracy</a></div><div class="ttdeci">int accuracy(Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00731">magic.cpp:731</a></div></div>
<div class="ttc" id="aclassspell_html_ad572a7c2376afa1bd84ca8ab9603ed2a"><div class="ttname"><a href="classspell.html#ad572a7c2376afa1bd84ca8ab9603ed2a">spell::damage</a></div><div class="ttdeci">int damage(const Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00705">magic.cpp:705</a></div></div>
<div class="ttc" id="aclassspell_html_af12e38d6e97fefcf10174cd91df53bd4"><div class="ttname"><a href="classspell.html#af12e38d6e97fefcf10174cd91df53bd4">spell::heal</a></div><div class="ttdeci">int heal(const tripoint &amp;target, Creature &amp;caster) const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01804">magic.cpp:1804</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00347">enums.h:347</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a0090428c1f6724209c133c6b04b037cd"><div class="ttname"><a href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a></div><div class="ttdeci">const field_type_str_id fd_fire(&quot;fd_fire&quot;)</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba2286362f6c079bf6e2dfdf7e62068021"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba2286362f6c079bf6e2dfdf7e62068021">spell_flag::IGNITE_FLAMMABLE</a></div><div class="ttdeci">@ IGNITE_FLAMMABLE</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba83ce92712f6d8aea3340cd5dcc2158f4"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba83ce92712f6d8aea3340cd5dcc2158f4">spell_flag::PERCENTAGE_DAMAGE</a></div><div class="ttdeci">@ PERCENTAGE_DAMAGE</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197bac069ee334aa83ece77ad0af5bd596ec2"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197bac069ee334aa83ece77ad0af5bd596ec2">spell_flag::NON_MAGICAL</a></div><div class="ttdeci">@ NON_MAGICAL</div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a1af0ed74983fa019f49f7d27d6832e81"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a1af0ed74983fa019f49f7d27d6832e81">add_effect_to_target</a></div><div class="ttdeci">static void add_effect_to_target(const tripoint &amp;target, const spell &amp;sp, Creature &amp;caster)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00485">magic_spell_effect.cpp:485</a></div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a512959ad2b35ea057f2fed5445fc23c4"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a></div><div class="ttdeci">static const trait_id trait_PYROMANIA(&quot;PYROMANIA&quot;)</div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a3ea1aed1d11cd410cce07fb5be7aa34f"><div class="ttname"><a href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a></div><div class="ttdeci">void add_msg_if_player_sees(const tripoint &amp;target, std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l01007">messages.cpp:1007</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a7a7fa39cff1d7efe58e013c63b7f0ee6"><div class="ttname"><a href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a></div><div class="ttdeci">const morale_type MORALE_PYROMANIA_STARTFIRE(&quot;morale_pyromania_startfire&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ae932ffaaef9c3a4092fc8727141405bf"><div class="ttname"><a href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a></div><div class="ttdeci">const morale_type MORALE_PYROMANIA_NOFIRE(&quot;morale_pyromania_nofire&quot;)</div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00133">damage.h:133</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00110">damage.h:110</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00112">damage.h:112</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html"><div class="ttname"><a href="structdealt__projectile__attack.html">dealt_projectile_attack</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00069">projectile.h:69</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html_a93f05a2866e4dbc8c4d432a67daf8ab6"><div class="ttname"><a href="structdealt__projectile__attack.html#a93f05a2866e4dbc8c4d432a67daf8ab6">dealt_projectile_attack::proj</a></div><div class="ttdeci">projectile proj</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00070">projectile.h:70</a></div></div>
<div class="ttc" id="astructprojectile_html_a82d8f657f8cfc4e180c15bfab8ca8a6e"><div class="ttname"><a href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">projectile::impact</a></div><div class="ttdeci">damage_instance impact</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00018">projectile.h:18</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="magic_8cpp_source.html#l00731">spell::accuracy()</a>, <a class="el" href="creature_8cpp_source.html#l03042">Creature::add_damage_over_time()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00485">add_effect_to_target()</a>, <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="character__morale_8cpp_source.html#l00142">Character::add_morale()</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="damage_8h_source.html#l00112">damage_unit::amount</a>, <a class="el" href="magic_8cpp_source.html#l01405">spell::create_field()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="magic_8cpp_source.html#l00705">spell::damage()</a>, <a class="el" href="magic_8cpp_source.html#l00762">spell::damage_over_time()</a>, <a class="el" href="damage_8h_source.html#l00133">damage_instance::damage_units</a>, <a class="el" href="creature_8cpp_source.html#l01121">Creature::deal_projectile_attack()</a>, <a class="el" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name()</a>, <a class="el" href="creature_8cpp_source.html#l01447">Creature::dodge_check()</a>, <a class="el" href="magic_8cpp_source.html#l01794">spell::effect_data()</a>, <a class="el" href="field__type_8cpp.html#a0090428c1f6724209c133c6b04b037cd">fd_fire</a>, <a class="el" href="creature_8cpp_source.html#l02794">Creature::get_block_bonus()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="creature_8cpp_source.html#l02148">Creature::get_dodge()</a>, <a class="el" href="creature_8cpp_source.html#l02748">Creature::get_hp()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="creature_8cpp_source.html#l03008">Creature::get_max_hitsize_bodypart()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="magic_8cpp_source.html#l01777">spell::get_projectile_attack()</a>, <a class="el" href="creature_8cpp_source.html#l02132">Creature::get_spell_resist()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="character__morale_8cpp_source.html#l00149">Character::has_morale()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="magic_8cpp_source.html#l01804">spell::heal()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba2286362f6c079bf6e2dfdf7e62068021">IGNITE_FLAMMABLE</a>, <a class="el" href="projectile_8h_source.html#l00018">projectile::impact</a>, <a class="el" href="map_8cpp_source.html#l03480">map::is_flammable()</a>, <a class="el" href="magic_8cpp_source.html#l01474">spell::is_valid_target()</a>, <a class="el" href="enums_8h_source.html#l00347">m_good</a>, <a class="el" href="magic_8cpp_source.html#l01440">spell::make_sound()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="morale__types_8cpp.html#ae932ffaaef9c3a4092fc8727141405bf">MORALE_PYROMANIA_NOFIRE</a>, <a class="el" href="morale__types_8cpp.html#a7a7fa39cff1d7efe58e013c63b7f0ee6">MORALE_PYROMANIA_STARTFIRE</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197bac069ee334aa83ece77ad0af5bd596ec2">NON_MAGICAL</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba83ce92712f6d8aea3340cd5dcc2158f4">PERCENTAGE_DAMAGE</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="projectile_8h_source.html#l00070">dealt_projectile_attack::proj</a>, <a class="el" href="character__morale_8cpp_source.html#l00154">Character::rem_morale()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="math__parser__func_8h_source.html#l00110">round()</a>, and <a class="el" href="magic__spell__effect_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l01664">spell_effect::dash()</a>.</p>

</div>
</div>
<a id="ace4183d64b55c5aaa6b47e36bc6186c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4183d64b55c5aaa6b47e36bc6186c3">&#9670;&nbsp;</a></span>handle_remove_fd_reality_tear_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_remove_fd_reality_tear_field </td>
          <td>(</td>
          <td class="paramtype">const std::pair&lt; <a class="el" href="classfield.html">field</a>, <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fd_reality_tear_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00855">855</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;{</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const field_type_id, field_entry&gt; &amp;fd : std::get&lt;0&gt;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;         ( fd_reality_tear_field ) ) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;<a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a> = fd.second.get_field_intensity();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keyword">const</span> <a class="code" href="classtranslation.html">translation</a> &amp;intensity_name = fd.second.get_intensity_level().name;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;field_position = std::get&lt;1&gt;( fd_reality_tear_field );</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> sees_field = caster.<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( field_position );</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a> ) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                <span class="keywordflow">if</span>( sees_field ) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    caster.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s fades.  You feel strange.&quot;</span> ), intensity_name );</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                    caster.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You suddenly feel strange.&quot;</span> ) );</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                caster.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="magic__spell__effect_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, 1_hours );</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                <span class="keywordflow">if</span>( sees_field ) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                    caster.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s dissipates.  You feel strange.&quot;</span> ), intensity_name );</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    caster.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You suddenly feel strange.&quot;</span> ) );</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                caster.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="magic__spell__effect_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, 5_hours );</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                std::string message_prefix = <span class="stringliteral">&quot;A nearby&quot;</span>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <span class="keywordflow">if</span>( caster.<a class="code" href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">sees</a>( field_position ) ) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                    message_prefix = <span class="stringliteral">&quot;The&quot;</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                caster.<a class="code" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                          <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s %s pulls you in as it closes and ejects you violently!&quot;</span> ),</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                                          message_prefix, intensity_name );</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                caster.<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>()-&gt;<a class="code" href="classCharacter.html#ad30aa5db93626016bfc8ac32f848f82d">hurtall</a>( 10, <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                caster.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="magic__spell__effect_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, 630_minutes );</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                <a class="code" href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a>( caster );</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a55d12f92d62a7c89c44b466d7e7cb00d"><div class="ttname"><a href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">Creature::as_character</a></div><div class="ttdeci">virtual Character * as_character()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00274">creature.h:274</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f818f1aa899ba2e2765f327a020a878"><div class="ttname"><a href="classCreature.html#a5f818f1aa899ba2e2765f327a020a878">Creature::sees</a></div><div class="ttdeci">bool sees(const Creature &amp;critter) const override</div><div class="ttdoc">The functions check whether this creature can see the target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00358">creature.cpp:358</a></div></div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00976">creature.h:976</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00017">translation.h:18</a></div></div>
<div class="ttc" id="acreature_8h_html_a299ec0c42ccc5a2d79d1739428ac3210"><div class="ttname"><a href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a></div><div class="ttdeci">int intensity</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00240">creature.h:240</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00354">enums.h:354</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00348">enums.h:348</a></div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a0c073c8608c88bb092d72f27944a7df1"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a></div><div class="ttdeci">static const efftype_id effect_teleglow(&quot;teleglow&quot;)</div></div>
<div class="ttc" id="anamespaceteleport_html_a24cbf298b41e9fc23770c73d32e33a47"><div class="ttname"><a href="namespaceteleport.html#a24cbf298b41e9fc23770c73d32e33a47">teleport::teleport</a></div><div class="ttdeci">bool teleport(Creature &amp;critter, int min_distance=2, int max_distance=12, bool safe=false, bool add_teleglow=true)</div><div class="ttdoc">Teleports a creature to a tile within min_distance and max_distance tiles.</div><div class="ttdef"><b>Definition:</b> <a href="teleport_8cpp_source.html#l00034">teleport.cpp:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="creature_8h_source.html#l00976">Creature::add_msg_if_player()</a>, <a class="el" href="creature_8h_source.html#l00274">Creature::as_character()</a>, <a class="el" href="magic__spell__effect_8cpp.html#a0c073c8608c88bb092d72f27944a7df1">effect_teleglow</a>, <a class="el" href="character_8cpp_source.html#l08435">Character::hurtall()</a>, <a class="el" href="creature_8h_source.html#l00240">intensity</a>, <a class="el" href="enums_8h_source.html#l00348">m_bad</a>, <a class="el" href="enums_8h_source.html#l00354">m_neutral</a>, <a class="el" href="creature_8cpp_source.html#l00358">Creature::sees()</a>, and <a class="el" href="teleport_8cpp_source.html#l00034">teleport::teleport()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00905">spell_effect::remove_field()</a>.</p>

</div>
</div>
<a id="ae66bffc694d0a287b00d6d81002eabc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66bffc694d0a287b00d6d81002eabc0">&#9670;&nbsp;</a></span>in_spell_aoe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool in_spell_aoe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>ignore_walls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00206">206</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( start, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> ) &gt; radius ) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span>( ignore_walls ) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">const</span> std::vector&lt;tripoint&gt; <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a> = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( start, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a> );</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;pt : <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a> ) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( pt ) ) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_a802cc11379d4be61f4e2b13a50f6390e"><div class="ttname"><a href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">map::impassable</a></div><div class="ttdeci">bool impassable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02462">map.cpp:2462</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00095">keycode::end</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02462">map::impassable()</a>, <a class="el" href="coordinates_8h_source.html#l00798">line_to()</a>, and <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00225">spell_effect::spell_effect_blast()</a>.</p>

</div>
</div>
<a id="a6a4b5afcb1b5b2b04be6edf36ee2b2e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4b5afcb1b5b2b04be6edf36ee2b2e4">&#9670;&nbsp;</a></span>is_summon_friendly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_summon_friendly </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l01190">1190</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;{</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee">hostile</a> = sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197bab981b82e2e1e66ac734a980c4b8bf3bd">spell_flag::HOSTILE_SUMMON</a> );</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> = !<a class="code" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee">hostile</a>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba58cc7b1820751d4103b0014007be83f3">spell_flag::HOSTILE_50</a> ) ) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <a class="code" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> = <a class="code" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a> &amp;&amp; <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, 1000 ) &lt; 500;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a38be931b73e384a6a576c499c50c0aee">hostile</a></div><div class="ttdeci">@ hostile</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00041">dialogue.h:41</a></div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba58cc7b1820751d4103b0014007be83f3"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba58cc7b1820751d4103b0014007be83f3">spell_flag::HOSTILE_50</a></div><div class="ttdeci">@ HOSTILE_50</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197bab981b82e2e1e66ac734a980c4b8bf3bd"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197bab981b82e2e1e66ac734a980c4b8bf3bd">spell_flag::HOSTILE_SUMMON</a></div><div class="ttdeci">@ HOSTILE_SUMMON</div></div>
<div class="ttc" id="anpc_8h_html_ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9"><div class="ttname"><a href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">attitude_group::friendly</a></div><div class="ttdeci">@ friendly</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npc_8h.html#ad531ad716806dd8e29f2f013075df09dabe68582f77aecadc0389a785aefd64e9">friendly</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="dialogue_8h_source.html#l00041">hostile</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba58cc7b1820751d4103b0014007be83f3">HOSTILE_50</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197bab981b82e2e1e66ac734a980c4b8bf3bd">HOSTILE_SUMMON</a>, and <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01200">add_summoned_mon()</a>.</p>

</div>
</div>
<a id="ab75c1a4c914ee962825a2df4737be864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75c1a4c914ee962825a2df4737be864">&#9670;&nbsp;</a></span>magical_polymorph()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void magical_polymorph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmonster.html">monster</a> &amp;&#160;</td>
          <td class="paramname"><em>victim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">590</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classstring__id.html">mtype_id</a> new_id = <a class="code" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() );</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675">spell_flag::POLYMORPH_GROUP</a> ) ) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keyword">const</span> <a class="code" href="classstring__id.html">mongroup_id</a> <a class="code" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>( sp.<a class="code" href="classspell.html#ab6f8776ac707639708392c616d93fa58">effect_data</a>() );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        new_id = <a class="code" href="classMonsterGroupManager.html#a9cccc521c1f910f907d23ffba50cd1dc">MonsterGroupManager::GetRandomMonsterFromGroup</a>( <a class="code" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a> );</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// if effect_str is empty, we become a random monster of close difficulty</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span>( new_id.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordtype">int</span> victim_diff = victim.<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">difficulty</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keyword">const</span> std::vector&lt;mtype&gt; &amp;mtypes = <a class="code" href="classMonsterGenerator.html#ab3ccba99cd10e85f8739e6af58956c0b">MonsterGenerator::generator</a>().<a class="code" href="classMonsterGenerator.html#ae07924726819a0714ef8cf3d55a42078">get_all_mtypes</a>();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> difficulty_variance = 1; difficulty_variance &lt; 2048; difficulty_variance *= 2 ) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a> = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 0, mtypes.size() );</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iter = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a> + 1;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <span class="keywordflow">while</span>( iter != <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a> &amp;&amp; new_id.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="keywordflow">if</span>( iter &gt;= mtypes.size() ) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    iter = 0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keywordflow">if</span>( ( mtypes[iter].<span class="keywordtype">id</span> != victim.<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> ) &amp;&amp; ( <a class="code" href="math__parser__func_8h.html#a24f6ac6e06720c7cdf972a6083847132">std::abs</a>( mtypes[iter].difficulty - victim_diff )</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                        &lt;= difficulty_variance ) ) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    <span class="keywordflow">if</span>( !mtypes[iter].in_species( <a class="code" href="magic__spell__effect_8cpp.html#a9db9d1cf419d74abb270272636751d03">species_HALLUCINATION</a> ) &amp;&amp;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        mtypes[iter].<span class="keywordtype">id</span> != <a class="code" href="magic__spell__effect_8cpp.html#afb6767b834de3ae00eeff3b3c4606c61">mon_generator</a> ) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        new_id = mtypes[iter].<a class="code" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                iter++;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span>( !new_id.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;magical_polymorph called with an invalid monster id&quot;</span> );</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( victim, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The %s transforms into a %s.&quot;</span> ),</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                            victim.<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>(), new_id-&gt;<a class="code" href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">nname</a>() );</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    victim.<a class="code" href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">poly</a>( new_id );</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197bae674ff44932849359ce070ea3ee6ca84">spell_flag::FRIENDLY_POLY</a> ) ) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">if</span>( caster.<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>() ) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            victim.<a class="code" href="classmonster.html#a4e17d0d504a12d9b2e4de3e7a7503fff">friendly</a> = -1;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            victim.<a class="code" href="classmonster.html#aea6c3c57440f7456b8376d9750af4e4a">make_ally</a>( *caster.<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>() );</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a90636bbf110025587c181fad389d616c"><div class="ttname"><a href="classCreature.html#a90636bbf110025587c181fad389d616c">Creature::as_monster</a></div><div class="ttdeci">virtual monster * as_monster()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00292">creature.h:292</a></div></div>
<div class="ttc" id="aclassMonsterGenerator_html_ab3ccba99cd10e85f8739e6af58956c0b"><div class="ttname"><a href="classMonsterGenerator.html#ab3ccba99cd10e85f8739e6af58956c0b">MonsterGenerator::generator</a></div><div class="ttdeci">static MonsterGenerator &amp; generator()</div><div class="ttdef"><b>Definition:</b> <a href="monstergenerator_8h_source.html#l00055">monstergenerator.h:55</a></div></div>
<div class="ttc" id="aclassMonsterGenerator_html_ae07924726819a0714ef8cf3d55a42078"><div class="ttname"><a href="classMonsterGenerator.html#ae07924726819a0714ef8cf3d55a42078">MonsterGenerator::get_all_mtypes</a></div><div class="ttdeci">const std::vector&lt; mtype &gt; &amp; get_all_mtypes() const</div><div class="ttdef"><b>Definition:</b> <a href="monstergenerator_8cpp_source.html#l01358">monstergenerator.cpp:1358</a></div></div>
<div class="ttc" id="aclassmonster_html_a39d78be1e47deaf970439c3b9504e5d9"><div class="ttname"><a href="classmonster.html#a39d78be1e47deaf970439c3b9504e5d9">monster::poly</a></div><div class="ttdeci">void poly(const mtype_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00375">monster.cpp:375</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00550">monster.h:550</a></div></div>
<div class="ttc" id="aclassmonster_html_aea6c3c57440f7456b8376d9750af4e4a"><div class="ttname"><a href="classmonster.html#aea6c3c57440f7456b8376d9750af4e4a">monster::make_ally</a></div><div class="ttdeci">void make_ally(const monster &amp;z)</div><div class="ttdoc">Makes this monster an ally of the given monster.</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l03449">monster.cpp:3449</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00303">string_id.h:303</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675">spell_flag::POLYMORPH_GROUP</a></div><div class="ttdeci">@ POLYMORPH_GROUP</div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197bae674ff44932849359ce070ea3ee6ca84"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197bae674ff44932849359ce070ea3ee6ca84">spell_flag::FRIENDLY_POLY</a></div><div class="ttdeci">@ FRIENDLY_POLY</div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a9db9d1cf419d74abb270272636751d03"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a9db9d1cf419d74abb270272636751d03">species_HALLUCINATION</a></div><div class="ttdeci">static const species_id species_HALLUCINATION(&quot;HALLUCINATION&quot;)</div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_afb6767b834de3ae00eeff3b3c4606c61"><div class="ttname"><a href="magic__spell__effect_8cpp.html#afb6767b834de3ae00eeff3b3c4606c61">mon_generator</a></div><div class="ttdeci">static const mtype_id mon_generator(&quot;mon_generator&quot;)</div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="astructmtype_html_a60dea81cdc4c627313e540831d311b5a"><div class="ttname"><a href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">mtype::id</a></div><div class="ttdeci">mtype_id id</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00301">mtype.h:301</a></div></div>
<div class="ttc" id="astructmtype_html_a7f92cbd89d3870833c9d5300acb325a1"><div class="ttname"><a href="structmtype.html#a7f92cbd89d3870833c9d5300acb325a1">mtype::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00409">mtype.h:409</a></div></div>
<div class="ttc" id="astructmtype_html_a9a8f4ead67d1836e3f4db624533af5aa"><div class="ttname"><a href="structmtype.html#a9a8f4ead67d1836e3f4db624533af5aa">mtype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00330">mtype.cpp:330</a></div></div>
<div class="ttc" id="atype__id_8h_html_a039e4134b8c5eb549ca440b962667a2f"><div class="ttname"><a href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a></div><div class="ttdeci">string_id&lt; mtype &gt; mtype_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00170">type_id.h:170</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="math__parser__func_8h_source.html#l00030">abs()</a>, <a class="el" href="messages_8cpp_source.html#l01007">add_msg_if_player_sees()</a>, <a class="el" href="creature_8h_source.html#l00274">Creature::as_character()</a>, <a class="el" href="creature_8h_source.html#l00292">Creature::as_monster()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="mtype_8h_source.html#l00409">mtype::difficulty</a>, <a class="el" href="magic_8cpp_source.html#l01794">spell::effect_data()</a>, <a class="el" href="monster_8h_source.html#l00539">monster::friendly</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197bae674ff44932849359ce070ea3ee6ca84">FRIENDLY_POLY</a>, <a class="el" href="monstergenerator_8h_source.html#l00055">MonsterGenerator::generator()</a>, <a class="el" href="monstergenerator_8cpp_source.html#l01358">MonsterGenerator::get_all_mtypes()</a>, <a class="el" href="mongroup_8cpp_source.html#l00619">MonsterGroupManager::GetRandomMonsterFromGroup()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="mtype_8h_source.html#l00301">mtype::id</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="achievement_8cpp_source.html#l00078">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="monster_8cpp_source.html#l03449">monster::make_ally()</a>, <a class="el" href="magic__spell__effect_8cpp.html#afb6767b834de3ae00eeff3b3c4606c61">mon_generator</a>, <a class="el" href="mtype_8cpp_source.html#l00330">mtype::nname()</a>, <a class="el" href="monster_8cpp_source.html#l00375">monster::poly()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197ba315fc579dd9a280bceb7e5845c5cc675">POLYMORPH_GROUP</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="magic__spell__effect_8cpp.html#a9db9d1cf419d74abb270272636751d03">species_HALLUCINATION</a>, and <a class="el" href="monster_8h_source.html#l00550">monster::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00641">spell_effect::targeted_polymorph()</a>.</p>

</div>
</div>
<a id="a472d8ac69679288ea5fb2a0315dbe04a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472d8ac69679288ea5fb2a0315dbe04a">&#9670;&nbsp;</a></span>move_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void move_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>here</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00756">756</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;{</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="classfield.html">field</a> &amp;src_field = here.<a class="code" href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">field_at</a>( from );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    std::map&lt;field_type_id, int&gt; moving_fields;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const field_type_id, field_entry&gt; &amp;fd : src_field ) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span>( fd.first.is_valid() &amp;&amp; !fd.first.id().is_null() ) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a> = fd.second.get_field_intensity();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            moving_fields.emplace( fd.first, <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a> );</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const field_type_id, int&gt; &amp;fd : moving_fields ) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        here.<a class="code" href="classmap.html#a02ff5fbdbdb3df97210f4874c41fd75a">remove_field</a>( from, fd.first );</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        here.<a class="code" href="classmap.html#a3d22e002568dbeee5e7366191a337f87">set_field_intensity</a>( to, fd.first, fd.second );</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00106">field.h:107</a></div></div>
<div class="ttc" id="aclassmap_html_a02ff5fbdbdb3df97210f4874c41fd75a"><div class="ttname"><a href="classmap.html#a02ff5fbdbdb3df97210f4874c41fd75a">map::remove_field</a></div><div class="ttdeci">void remove_field(const tripoint &amp;p, const field_type_id &amp;field_to_remove)</div><div class="ttdoc">Remove field entry at xy, ignored if the field entry is not present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06630">map.cpp:6630</a></div></div>
<div class="ttc" id="aclassmap_html_a395a729a4b954692cf08d13e1d32f73e"><div class="ttname"><a href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">map::field_at</a></div><div class="ttdeci">const field &amp; field_at(const tripoint &amp;p) const</div><div class="ttdoc">Get the fields that are here.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06379">map.cpp:6379</a></div></div>
<div class="ttc" id="aclassmap_html_a3d22e002568dbeee5e7366191a337f87"><div class="ttname"><a href="classmap.html#a3d22e002568dbeee5e7366191a337f87">map::set_field_intensity</a></div><div class="ttdeci">int set_field_intensity(const tripoint &amp;p, const field_type_id &amp;type, int new_intensity, bool isoffset=false)</div><div class="ttdoc">Set intensity of field entry at point, creating if not present, removing if intensity becomes 0.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06447">map.cpp:6447</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l06379">map::field_at()</a>, <a class="el" href="creature_8h_source.html#l00240">intensity</a>, <a class="el" href="map_8cpp_source.html#l06630">map::remove_field()</a>, and <a class="el" href="map_8cpp_source.html#l06447">map::set_field_intensity()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00982">spell_effect::directed_push()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l00773">spell_move()</a>.</p>

</div>
</div>
<a id="af022019d3463ede3830d8c28140d4122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af022019d3463ede3830d8c28140d4122">&#9670;&nbsp;</a></span>move_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void move_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>here</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00748">748</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it : here.<a class="code" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( from ) ) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        here.<a class="code" href="classmap.html#af79fb1f952314ecb64890590c91cf5a8">add_item</a>( to, it );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    here.<a class="code" href="classmap.html#a9b1c092685c43287d5db23156f3f337e">i_clear</a>( from );</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04978">map.cpp:4978</a></div></div>
<div class="ttc" id="aclassmap_html_a9b1c092685c43287d5db23156f3f337e"><div class="ttname"><a href="classmap.html#a9b1c092685c43287d5db23156f3f337e">map::i_clear</a></div><div class="ttdeci">void i_clear(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05030">map.cpp:5030</a></div></div>
<div class="ttc" id="aclassmap_html_af79fb1f952314ecb64890590c91cf5a8"><div class="ttname"><a href="classmap.html#af79fb1f952314ecb64890590c91cf5a8">map::add_item</a></div><div class="ttdeci">item &amp; add_item(const tripoint &amp;p, item new_item, int copies)</div><div class="ttdoc">Place an item on the map, despite the parameter name, this is not necessarily a new item.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05329">map.cpp:5329</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l05329">map::add_item()</a>, <a class="el" href="map_8cpp_source.html#l04978">map::i_at()</a>, and <a class="el" href="map_8cpp_source.html#l05030">map::i_clear()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00982">spell_effect::directed_push()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l00773">spell_move()</a>.</p>

</div>
</div>
<a id="aa802b237c00c4d114b99ae10f474274d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa802b237c00c4d114b99ae10f474274d">&#9670;&nbsp;</a></span>spell_effect_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::set&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; spell_effect_area </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00465">465</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">// calculate spell&#39;s effect area</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    std::set&lt;tripoint&gt; targets = <a class="code" href="magic__spell__effect_8cpp.html#a6d07a327dd211652384ecbcb005833fc">calculate_spell_effect_area</a>( sp, target, caster );</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span>( !sp.<a class="code" href="classspell.html#aa609bae14a69c0987d562a2a9f8a1268">has_flag</a>( <a class="code" href="magic_8h.html#a8c5adb88f821564363888cbe773f197baf74dd9cac3d1ddf2d67b8946417328ca">spell_flag::NO_EXPLOSION_SFX</a> ) ) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="comment">// Draw the explosion</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        std::map&lt;tripoint, nc_color&gt; explosion_colors;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;pt : targets ) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            explosion_colors[pt] = sp.<a class="code" href="classspell.html#a1ed087b326bb00071482cadeff078b15">damage_type_color</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        std::string exp_name = <span class="stringliteral">&quot;explosion_&quot;</span> + sp.<a class="code" href="classspell.html#a7d44bdaf4c9faff438e6b30973d68615">id</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="namespaceexplosion__handler.html#ab3dd96996f54d94d9e231cec45a65210">explosion_handler::draw_custom_explosion</a>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>(), explosion_colors,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                exp_name );</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> targets;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
<div class="ttc" id="aclassspell_html_a1ed087b326bb00071482cadeff078b15"><div class="ttname"><a href="classspell.html#a1ed087b326bb00071482cadeff078b15">spell::damage_type_color</a></div><div class="ttdeci">nc_color damage_type_color() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01548">magic.cpp:1548</a></div></div>
<div class="ttc" id="aclassspell_html_a7d44bdaf4c9faff438e6b30973d68615"><div class="ttname"><a href="classspell.html#a7d44bdaf4c9faff438e6b30973d68615">spell::id</a></div><div class="ttdeci">spell_id id() const</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l00662">magic.cpp:662</a></div></div>
<div class="ttc" id="amagic_8h_html_a8c5adb88f821564363888cbe773f197baf74dd9cac3d1ddf2d67b8946417328ca"><div class="ttname"><a href="magic_8h.html#a8c5adb88f821564363888cbe773f197baf74dd9cac3d1ddf2d67b8946417328ca">spell_flag::NO_EXPLOSION_SFX</a></div><div class="ttdeci">@ NO_EXPLOSION_SFX</div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a6d07a327dd211652384ecbcb005833fc"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a6d07a327dd211652384ecbcb005833fc">calculate_spell_effect_area</a></div><div class="ttdeci">std::set&lt; tripoint &gt; calculate_spell_effect_area(const spell &amp;sp, const tripoint &amp;target, const Creature &amp;caster)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00426">magic_spell_effect.cpp:426</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_ab3dd96996f54d94d9e231cec45a65210"><div class="ttname"><a href="namespaceexplosion__handler.html#ab3dd96996f54d94d9e231cec45a65210">explosion_handler::draw_custom_explosion</a></div><div class="ttdeci">void draw_custom_explosion(const tripoint &amp;p, const std::map&lt; tripoint, nc_color &gt; &amp;area, const std::optional&lt; std::string &gt; &amp;tile_id=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l00309">animation.cpp:309</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic__spell__effect_8cpp_source.html#l00426">calculate_spell_effect_area()</a>, <a class="el" href="magic_8cpp_source.html#l01548">spell::damage_type_color()</a>, <a class="el" href="animation_8cpp_source.html#l00309">explosion_handler::draw_custom_explosion()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="magic_8cpp_source.html#l01074">spell::has_flag()</a>, <a class="el" href="magic_8cpp_source.html#l00662">spell::id()</a>, <a class="el" href="magic_8h.html#a8c5adb88f821564363888cbe773f197baf74dd9cac3d1ddf2d67b8946417328ca">NO_EXPLOSION_SFX</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, and <a class="el" href="string__id_8h_source.html#l00260">string_id&lt; T &gt;::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01714">spell_effect::banishment()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01651">spell_effect::bash()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01412">spell_effect::charm_monster()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00982">spell_effect::directed_push()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01787">spell_effect::effect_on_condition()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01604">spell_effect::emit()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01612">spell_effect::fungalize()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01357">spell_effect::mod_moves()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01385">spell_effect::morale()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01621">spell_effect::mutate()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01593">spell_effect::remove_effect()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01433">spell_effect::revive()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01455">spell_effect::revive_dormant()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01233">spell_effect::spawn_summoned_monster()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01307">spell_effect::transform_blast()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01293">spell_effect::translocate()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01485">spell_effect::upgrade()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l01324">spell_effect::vomit()</a>.</p>

</div>
</div>
<a id="a568848a8819e5abb0268be00a4245259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a568848a8819e5abb0268be00a4245259">&#9670;&nbsp;</a></span>spell_effect_cone_range_override()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::set&lt;<a class="el" href="structtripoint.html">tripoint</a>&gt; spell_effect_cone_range_override </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structspell__effect_1_1override__parameters.html">spell_effect::override_parameters</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00239">239</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    std::set&lt;tripoint&gt; targets;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> initial_angle = <a class="code" href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a>( source, target );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> half_width = <a class="code" href="namespaceunits.html#a2fa3e5208be6bf02ff8d1a8c4eca1de9">units::from_degrees</a>( params.<a class="code" href="structspell__effect_1_1override__parameters.html#acdd82cf7a573dcb57eedbcc051c5388b">aoe_radius</a> / 2.0 );</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> start_angle = initial_angle - half_width;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::angle</a> end_angle = initial_angle + half_width;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    std::set&lt;tripoint&gt; end_points;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classunits_1_1quantity.html">units::angle</a> <a class="code" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> = start_angle; <a class="code" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> &lt;= end_angle; <a class="code" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> += 1_degrees ) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> range = 1; range &lt;= params.<a class="code" href="structspell__effect_1_1override__parameters.html#a18bd0ca7c5f4db8d8930927bfa3ac134">range</a>; range++ ) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <a class="code" href="structtripoint.html">tripoint</a> potential;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="line_8cpp.html#a9cbf6626ab40d551e7092ba115965380">calc_ray_end</a>( <a class="code" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a>, range, source, potential );</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span>( params.<a class="code" href="structspell__effect_1_1override__parameters.html#aa4e5eebe1e930e6e5a9e589a6c48752b">ignore_walls</a> ) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                targets.emplace( potential );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                end_points.emplace( potential );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span>( !params.<a class="code" href="structspell__effect_1_1override__parameters.html#aa4e5eebe1e930e6e5a9e589a6c48752b">ignore_walls</a> ) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;ep : end_points ) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            std::vector&lt;tripoint&gt; <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a> = <a class="code" href="coordinates_8h.html#a31847b31c6ef002e9d16afd7fd0005e3">line_to</a>( source, ep );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;tp : <a class="code" href="namespacetarget__handler.html#aea843144f5e69546ddea88eeda177640">trajectory</a> ) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( tp ) ) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    targets.emplace( tp );</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// we don&#39;t want to hit ourselves in the blast!</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    targets.erase( source );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> targets;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="aclassmap_html_af563dc2397e71a053569cb45c6bb7e77"><div class="ttname"><a href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">map::passable</a></div><div class="ttdeci">bool passable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02472">map.cpp:2472</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aline_8cpp_html_a22f984836636053038f43340f9c50149"><div class="ttname"><a href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a></div><div class="ttdeci">units::angle coord_to_angle(const tripoint &amp;a, const tripoint &amp;b)</div><div class="ttdoc">Calculates the horizontal angle between the lines from (0,0,0) to a and the line from (0,...</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00940">line.cpp:940</a></div></div>
<div class="ttc" id="aline_8cpp_html_a9cbf6626ab40d551e7092ba115965380"><div class="ttname"><a href="line_8cpp.html#a9cbf6626ab40d551e7092ba115965380">calc_ray_end</a></div><div class="ttdeci">void calc_ray_end(units::angle angle, const int range, const tripoint &amp;p, tripoint &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00910">line.cpp:910</a></div></div>
<div class="ttc" id="anamespaceunits_html_a2c7fe916bf04655f9fb4f2abdc5d28ed"><div class="ttname"><a href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a></div><div class="ttdeci">quantity&lt; double, angle_in_radians_tag &gt; angle</div><div class="ttdef"><b>Definition:</b> <a href="units__fwd_8h_source.html#l00075">units_fwd.h:75</a></div></div>
<div class="ttc" id="anamespaceunits_html_a2fa3e5208be6bf02ff8d1a8c4eca1de9"><div class="ttname"><a href="namespaceunits.html#a2fa3e5208be6bf02ff8d1a8c4eca1de9">units::from_degrees</a></div><div class="ttdeci">constexpr quantity&lt; double, angle_in_radians_tag &gt; from_degrees(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00752">units.h:752</a></div></div>
<div class="ttc" id="astructspell__effect_1_1override__parameters_html_a18bd0ca7c5f4db8d8930927bfa3ac134"><div class="ttname"><a href="structspell__effect_1_1override__parameters.html#a18bd0ca7c5f4db8d8930927bfa3ac134">spell_effect::override_parameters::range</a></div><div class="ttdeci">int range</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00740">magic.h:740</a></div></div>
<div class="ttc" id="astructspell__effect_1_1override__parameters_html_aa4e5eebe1e930e6e5a9e589a6c48752b"><div class="ttname"><a href="structspell__effect_1_1override__parameters.html#aa4e5eebe1e930e6e5a9e589a6c48752b">spell_effect::override_parameters::ignore_walls</a></div><div class="ttdeci">bool ignore_walls</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00741">magic.h:741</a></div></div>
<div class="ttc" id="astructspell__effect_1_1override__parameters_html_acdd82cf7a573dcb57eedbcc051c5388b"><div class="ttname"><a href="structspell__effect_1_1override__parameters.html#acdd82cf7a573dcb57eedbcc051c5388b">spell_effect::override_parameters::aoe_radius</a></div><div class="ttdeci">int aoe_radius</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00739">magic.h:739</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8h_source.html#l00739">spell_effect::override_parameters::aoe_radius</a>, <a class="el" href="line_8cpp_source.html#l00910">calc_ray_end()</a>, <a class="el" href="line_8cpp_source.html#l00940">coord_to_angle()</a>, <a class="el" href="units_8h_source.html#l00752">units::from_degrees()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="magic_8h_source.html#l00741">spell_effect::override_parameters::ignore_walls</a>, <a class="el" href="coordinates_8h_source.html#l00798">line_to()</a>, <a class="el" href="map_8cpp_source.html#l02472">map::passable()</a>, and <a class="el" href="magic_8h_source.html#l00740">spell_effect::override_parameters::range</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01664">spell_effect::dash()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l00278">spell_effect::spell_effect_cone()</a>.</p>

</div>
</div>
<a id="af28c02a4b99d8b6eb87d900fbfaab890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af28c02a4b99d8b6eb87d900fbfaab890">&#9670;&nbsp;</a></span>spell_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void spell_move </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00773">773</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;{</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span>( from == to ) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// Moving creatures</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_target_self = sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a590f53e8699817c6fa498cc11a4cbe63">spell_target::self</a> );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_target_ally = sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a2ad733df56aaafa5650bafc9c98c6ffb">spell_target::ally</a> );</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_target_hostile = sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a8e20e5f0a627b4dd4dedc41a597ab672">spell_target::hostile</a> );</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_target_creature = can_target_self || can_target_ally || can_target_hostile;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span>( can_target_creature ) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classCreature.html">Creature</a> *victim = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().creature_at&lt;Creature&gt;( from ) ) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a> cr_att = victim-&gt;attitude_to( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>() );</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="keywordtype">bool</span> valid = cr_att != <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::Attitude::FRIENDLY</a> &amp;&amp; can_target_hostile;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">if</span>( victim == &amp;caster ) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                valid = can_target_self;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                valid |= cr_att == <a class="code" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::Attitude::FRIENDLY</a> &amp;&amp; can_target_ally;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                valid |= victim == &amp;caster &amp;&amp; can_target_self;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span>( valid ) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                victim-&gt;<a class="code" href="classCreature.html#af79c1e1ef891477157860a3e31db8492">knock_back_to</a>( to );</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// Moving items</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a> ) ) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="magic__spell__effect_8cpp.html#af022019d3463ede3830d8c28140d4122">move_items</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>(), from, to );</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// Moving fields.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span>( sp.<a class="code" href="classspell.html#adc1aee8fd855fce28ebb1dcc39e37a12">is_valid_target</a>( <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a06e3d36fa30cea095545139854ad1fb9">spell_target::field</a> ) ) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="magic__spell__effect_8cpp.html#a472d8ac69679288ea5fb2a0315dbe04a">move_field</a>( <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>(), from, to );</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a></div><div class="ttdeci">Attitude</div><div class="ttdoc">Simplified attitude towards any creature: hostile - hate, want to kill, etc.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00352">creature.h:352</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::Attitude::FRIENDLY</a></div><div class="ttdeci">@ FRIENDLY</div></div>
<div class="ttc" id="aclassCreature_html_af79c1e1ef891477157860a3e31db8492"><div class="ttname"><a href="classCreature.html#af79c1e1ef891477157860a3e31db8492">Creature::knock_back_to</a></div><div class="ttdeci">virtual void knock_back_to(const tripoint &amp;to)=0</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a06e3d36fa30cea095545139854ad1fb9"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a06e3d36fa30cea095545139854ad1fb9">spell_target::field</a></div><div class="ttdeci">@ field</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a2ad733df56aaafa5650bafc9c98c6ffb"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a2ad733df56aaafa5650bafc9c98c6ffb">spell_target::ally</a></div><div class="ttdeci">@ ally</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a590f53e8699817c6fa498cc11a4cbe63"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a590f53e8699817c6fa498cc11a4cbe63">spell_target::self</a></div><div class="ttdeci">@ self</div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a8e20e5f0a627b4dd4dedc41a597ab672"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a8e20e5f0a627b4dd4dedc41a597ab672">spell_target::hostile</a></div><div class="ttdeci">@ hostile</div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_a472d8ac69679288ea5fb2a0315dbe04a"><div class="ttname"><a href="magic__spell__effect_8cpp.html#a472d8ac69679288ea5fb2a0315dbe04a">move_field</a></div><div class="ttdeci">static void move_field(map &amp;here, const tripoint &amp;from, const tripoint &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00756">magic_spell_effect.cpp:756</a></div></div>
<div class="ttc" id="amagic__spell__effect_8cpp_html_af022019d3463ede3830d8c28140d4122"><div class="ttname"><a href="magic__spell__effect_8cpp.html#af022019d3463ede3830d8c28140d4122">move_items</a></div><div class="ttdeci">static void move_items(map &amp;here, const tripoint &amp;from, const tripoint &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00748">magic_spell_effect.cpp:748</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a2ad733df56aaafa5650bafc9c98c6ffb">ally</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a06e3d36fa30cea095545139854ad1fb9">field</a>, <a class="el" href="classCreature.html#a8a475630b3289c468bd06cf114008217af6a34a956d1ce0a552bf4731b9f9d9c0">Creature::FRIENDLY</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a8e20e5f0a627b4dd4dedc41a597ab672">hostile</a>, <a class="el" href="magic_8cpp_source.html#l01474">spell::is_valid_target()</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, <a class="el" href="classCreature.html#af79c1e1ef891477157860a3e31db8492">Creature::knock_back_to()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00756">move_field()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00748">move_items()</a>, and <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a590f53e8699817c6fa498cc11a4cbe63">self</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00925">spell_effect::area_pull()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l00943">spell_effect::area_push()</a>.</p>

</div>
</div>
<a id="a6455f5a0b1e9126041e6319c78355897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6455f5a0b1e9126041e6319c78355897">&#9670;&nbsp;</a></span>spell_remove_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::pair&lt;<a class="el" href="classfield.html">field</a>, <a class="el" href="structtripoint.html">tripoint</a>&gt; spell_remove_field </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classspell.html">spell</a> &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a> &amp;&#160;</td>
          <td class="paramname"><em>target_field_type_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00813">813</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;{</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="classmap.html">::map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="structarea__expander.html">area_expander</a> expander;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    expander.<a class="code" href="structarea__expander.html#a69c3b01340ea8173a14a085898a5a908">max_range</a> = sp.<a class="code" href="classspell.html#a63f22c8f5a1730ab6651342e9becbfdc">aoe</a>( caster );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    expander.<a class="code" href="structarea__expander.html#aee90d5f5ca17aeaf5d2b336af6ac59b8">run</a>( <a class="code" href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a> );</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    expander.<a class="code" href="structarea__expander.html#ad6fc72137c746bc09bc9dc9e3f987bca">sort_ascending</a>();</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="classfield.html">field</a> field_removed = <a class="code" href="classfield.html">field</a>();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> field_position = <a class="code" href="structtripoint.html">tripoint</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordtype">bool</span> did_field_removal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structarea__expander_1_1node.html">area_expander::node</a> &amp;node : expander.<a class="code" href="structarea__expander.html#a53e244dac5576526d7abfa14b4eca1aa">area</a> ) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">if</span>( node.<a class="code" href="structarea__expander_1_1node.html#a06b3937ce71973ae7c55797c34364ebf">from</a> == node.<a class="code" href="structarea__expander_1_1node.html#a3c4b3ecd5820d8708bb500f2de036f24">position</a> ) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="classfield.html">field</a> &amp;target_field = here.<a class="code" href="classmap.html#a395a729a4b954692cf08d13e1d32f73e">field_at</a>( node.<a class="code" href="structarea__expander_1_1node.html#a3c4b3ecd5820d8708bb500f2de036f24">position</a> );</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const field_type_id, field_entry&gt; &amp;fd : target_field ) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            <span class="keywordflow">if</span>( fd.first.is_valid() &amp;&amp; !fd.first.id().is_null() &amp;&amp;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                fd.second.get_field_type() == target_field_type_id ) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                field_removed = target_field;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                field_position = node.<a class="code" href="structarea__expander_1_1node.html#a3c4b3ecd5820d8708bb500f2de036f24">position</a>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                here.<a class="code" href="classmap.html#a02ff5fbdbdb3df97210f4874c41fd75a">remove_field</a>( node.<a class="code" href="structarea__expander_1_1node.html#a3c4b3ecd5820d8708bb500f2de036f24">position</a>, target_field_type_id );</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                did_field_removal = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">if</span>( did_field_removal ) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="comment">// only remove one field in case of multiple</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;field, tripoint&gt; {field_removed, field_position};</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div>
<div class="ttc" id="aenums_8h_html_a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b"><div class="ttname"><a href="enums_8h.html#a00763863874f01b868849b27ceee73c9ac6c4bfa285e112c6854a2d820f854e3b">center</a></div><div class="ttdeci">@ center</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00410">enums.h:410</a></div></div>
<div class="ttc" id="astructarea__expander_1_1node_html"><div class="ttname"><a href="structarea__expander_1_1node.html">area_expander::node</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00873">magic.h:873</a></div></div>
<div class="ttc" id="astructarea__expander_1_1node_html_a06b3937ce71973ae7c55797c34364ebf"><div class="ttname"><a href="structarea__expander_1_1node.html#a06b3937ce71973ae7c55797c34364ebf">area_expander::node::from</a></div><div class="ttdeci">tripoint from</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00877">magic.h:877</a></div></div>
<div class="ttc" id="astructarea__expander_1_1node_html_a3c4b3ecd5820d8708bb500f2de036f24"><div class="ttname"><a href="structarea__expander_1_1node.html#a3c4b3ecd5820d8708bb500f2de036f24">area_expander::node::position</a></div><div class="ttdeci">tripoint position</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00875">magic.h:875</a></div></div>
<div class="ttc" id="astructarea__expander_html"><div class="ttname"><a href="structarea__expander.html">area_expander</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00871">magic.h:871</a></div></div>
<div class="ttc" id="astructarea__expander_html_a53e244dac5576526d7abfa14b4eca1aa"><div class="ttname"><a href="structarea__expander.html#a53e244dac5576526d7abfa14b4eca1aa">area_expander::area</a></div><div class="ttdeci">std::vector&lt; node &gt; area</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00886">magic.h:886</a></div></div>
<div class="ttc" id="astructarea__expander_html_a69c3b01340ea8173a14a085898a5a908"><div class="ttname"><a href="structarea__expander.html#a69c3b01340ea8173a14a085898a5a908">area_expander::max_range</a></div><div class="ttdeci">int max_range</div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00882">magic.h:882</a></div></div>
<div class="ttc" id="astructarea__expander_html_ad6fc72137c746bc09bc9dc9e3f987bca"><div class="ttname"><a href="structarea__expander.html#ad6fc72137c746bc09bc9dc9e3f987bca">area_expander::sort_ascending</a></div><div class="ttdeci">void sort_ascending()</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00728">magic_spell_effect.cpp:728</a></div></div>
<div class="ttc" id="astructarea__expander_html_aee90d5f5ca17aeaf5d2b336af6ac59b8"><div class="ttname"><a href="structarea__expander.html#aee90d5f5ca17aeaf5d2b336af6ac59b8">area_expander::run</a></div><div class="ttdeci">int run(const tripoint &amp;center)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00685">magic_spell_effect.cpp:685</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l00854">spell::aoe()</a>, <a class="el" href="magic_8h_source.html#l00886">area_expander::area</a>, <a class="el" href="enums_8h_source.html#l00410">center</a>, <a class="el" href="map_8cpp_source.html#l06379">map::field_at()</a>, <a class="el" href="magic_8h_source.html#l00877">area_expander::node::from</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="magic_8h_source.html#l00882">area_expander::max_range</a>, <a class="el" href="magic_8h_source.html#l00875">area_expander::node::position</a>, <a class="el" href="map_8cpp_source.html#l06630">map::remove_field()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l00685">area_expander::run()</a>, and <a class="el" href="magic__spell__effect_8cpp_source.html#l00728">area_expander::sort_ascending()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00905">spell_effect::remove_field()</a>.</p>

</div>
</div>
<a id="a5a9aa04ae33d8e07428fe850a7746599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a9aa04ae33d8e07428fe850a7746599">&#9670;&nbsp;</a></span>swap_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void swap_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>caster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00172">172</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *<span class="keyword">const</span> critter = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>&lt;<a class="code" href="classCreature.html">Creature</a>&gt;( target );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    critter-&gt;<a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( caster.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    caster.<a class="code" href="classCreature.html#ac16dcdb688f6f47c594c98c83528a670">setpos</a>( target );</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">//update map in case a monster swapped positions with the player</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;you = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#aa28280d14d55eb7b912b9d2e14acd025">vertical_shift</a>( you.<a class="code" href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">posz</a>() );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;update_map( you );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a88c28bc08aa3e0d6fa1b187cee97d1c4"><div class="ttname"><a href="classCreature.html#a88c28bc08aa3e0d6fa1b187cee97d1c4">Creature::posz</a></div><div class="ttdeci">int posz() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00317">creature.h:317</a></div></div>
<div class="ttc" id="aclassmap_html_aa28280d14d55eb7b912b9d2e14acd025"><div class="ttname"><a href="classmap.html#aa28280d14d55eb7b912b9d2e14acd025">map::vertical_shift</a></div><div class="ttdeci">void vertical_shift(int newz)</div><div class="ttdoc">Moves the map vertically to (not by!) newz.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08117">map.cpp:8117</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00317">Creature::posz()</a>, <a class="el" href="creature_8cpp_source.html#l00188">Creature::setpos()</a>, and <a class="el" href="map_8cpp_source.html#l08117">map::vertical_shift()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00581">spell_effect::attack()</a>, <a class="el" href="monexamine_8cpp_source.html#l00928">monexamine::mfriend_menu()</a>, <a class="el" href="game_8cpp_source.html#l05941">game::npc_menu()</a>, and <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>.</p>

</div>
</div>
<a id="a3dcb89d7f79f81cf00c012ac763b7bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dcb89d7f79f81cf00c012ac763b7bce">&#9670;&nbsp;</a></span>test_always_true()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool test_always_true </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00286">286</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00295">spell_effect::spell_effect_line()</a>.</p>

</div>
</div>
<a id="a81284e42f6b6e966b2956ded51b0cf4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81284e42f6b6e966b2956ded51b0cf4c">&#9670;&nbsp;</a></span>test_passable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool test_passable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="magic__spell__effect_8cpp_source.html#l00290">290</a> of file <a class="el" href="magic__spell__effect_8cpp_source.html">magic_spell_effect.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( p );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, and <a class="el" href="map_8cpp_source.html#l02472">map::passable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00295">spell_effect::spell_effect_line()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0c073c8608c88bb092d72f27944a7df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c073c8608c88bb092d72f27944a7df1">&#9670;&nbsp;</a></span>effect_teleglow</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_teleglow(&quot;teleglow&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;teleglow&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00855">handle_remove_fd_reality_tear_field()</a>.</p>

</div>
</div>
<a id="ac78c5b04d8077d7c35c14258ed3dbe55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78c5b04d8077d7c35c14258ed3dbe55">&#9670;&nbsp;</a></span>json_flag_FIT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> json_flag_FIT(&quot;FIT&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;FIT&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01078">spell_effect::spawn_ethereal_item()</a>.</p>

</div>
</div>
<a id="ab161c367d797bc9d5e28ce6b0871ece9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab161c367d797bc9d5e28ce6b0871ece9">&#9670;&nbsp;</a></span>json_flag_PRED1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a> json_flag_PRED1(&quot;PRED1&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PRED1&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="a3fe50e2a044ddb139e163b6ee5307976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe50e2a044ddb139e163b6ee5307976">&#9670;&nbsp;</a></span>json_flag_PRED2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a> json_flag_PRED2(&quot;PRED2&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PRED2&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="a069155201566d16196b847fb0cbf9330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a069155201566d16196b847fb0cbf9330">&#9670;&nbsp;</a></span>json_flag_PRED3</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a> json_flag_PRED3(&quot;PRED3&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PRED3&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="a0aeb430b1b8655823e9d45ab7aecf11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aeb430b1b8655823e9d45ab7aecf11d">&#9670;&nbsp;</a></span>json_flag_PRED4</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#afd88da6401595fae37dec376750634c4">json_character_flag</a> json_flag_PRED4(&quot;PRED4&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PRED4&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="aa38c932036191fc88554990d16a891a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa38c932036191fc88554990d16a891a2">&#9670;&nbsp;</a></span>mon_blob</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> mon_blob(&quot;mon_blob&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;mon_blob&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01809">spell_effect::slime_split_on_death()</a>.</p>

</div>
</div>
<a id="a039c3acd23099e1631feefe7748f49ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039c3acd23099e1631feefe7748f49ac">&#9670;&nbsp;</a></span>mon_blob_brain</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> mon_blob_brain(&quot;mon_blob_brain&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;mon_blob_brain&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01809">spell_effect::slime_split_on_death()</a>.</p>

</div>
</div>
<a id="ae9a6c4625d63003c1d0964079059efa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a6c4625d63003c1d0964079059efa1">&#9670;&nbsp;</a></span>mon_blob_large</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> mon_blob_large(&quot;mon_blob_large&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;mon_blob_large&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01809">spell_effect::slime_split_on_death()</a>.</p>

</div>
</div>
<a id="a96b8333a5c99eec3461bf502b864204b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b8333a5c99eec3461bf502b864204b">&#9670;&nbsp;</a></span>mon_blob_small</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> mon_blob_small(&quot;mon_blob_small&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;mon_blob_small&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01809">spell_effect::slime_split_on_death()</a>.</p>

</div>
</div>
<a id="afb6767b834de3ae00eeff3b3c4606c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6767b834de3ae00eeff3b3c4606c61">&#9670;&nbsp;</a></span>mon_generator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a039e4134b8c5eb549ca440b962667a2f">mtype_id</a> mon_generator(&quot;mon_generator&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;mon_generator&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>.</p>

</div>
</div>
<a id="a9db9d1cf419d74abb270272636751d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db9d1cf419d74abb270272636751d03">&#9670;&nbsp;</a></span>species_HALLUCINATION</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a> species_HALLUCINATION(&quot;HALLUCINATION&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;HALLUCINATION&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00590">magical_polymorph()</a>.</p>

</div>
</div>
<a id="a4bae220532185d524cd6c7cb2e1f100b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bae220532185d524cd6c7cb2e1f100b">&#9670;&nbsp;</a></span>species_SLIME</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#aabb3ae1a3aec00a1aa497b29c81ed527">species_id</a> species_SLIME(&quot;SLIME&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;SLIME&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01809">spell_effect::slime_split_on_death()</a>.</p>

</div>
</div>
<a id="a79d0578dfe3d1e27332b119e515f47fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d0578dfe3d1e27332b119e515f47fb">&#9670;&nbsp;</a></span>trait_KILLER</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_KILLER(&quot;KILLER&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;KILLER&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="a53f40b992f1ab4a66785f12dbaae64ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f40b992f1ab4a66785f12dbaae64ec">&#9670;&nbsp;</a></span>trait_PACIFIST</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_PACIFIST(&quot;PACIFIST&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PACIFIST&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="a9bbf692360c0fe96f9fccf41db5756be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bbf692360c0fe96f9fccf41db5756be">&#9670;&nbsp;</a></span>trait_PSYCHOPATH</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_PSYCHOPATH(&quot;PSYCHOPATH&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PSYCHOPATH&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l01498">spell_effect::guilt()</a>.</p>

</div>
</div>
<a id="a512959ad2b35ea057f2fed5445fc23c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a512959ad2b35ea057f2fed5445fc23c4">&#9670;&nbsp;</a></span>trait_PYROMANIA</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_PYROMANIA(&quot;PYROMANIA&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PYROMANIA&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="magic__spell__effect_8cpp_source.html#l00508">damage_targets()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:33 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
