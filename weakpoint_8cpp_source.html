<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/weakpoint.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">weakpoint.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="weakpoint_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="weakpoint_8h.html">weakpoint.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assign_8h.html">assign.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="creature_8h.html">creature.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="damage_8h.html">damage.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="effect__source_8h.html">effect_source.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="generic__factory_8h.html">generic_factory.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="make__static_8h.html">make_static.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="monster_8h.html">monster.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mtype_8h.html">mtype.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#a02b0c7c568a67f89acbb44010643d826">   25</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">limb_score_id</a> <a class="code" href="weakpoint_8cpp.html#a02b0c7c568a67f89acbb44010643d826">limb_score_reaction</a>( <span class="stringliteral">&quot;reaction&quot;</span> );</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">   26</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">limb_score_id</a> <a class="code" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a>( <span class="stringliteral">&quot;vision&quot;</span> );</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">   28</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> <a class="code" href="weakpoint_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>( <span class="stringliteral">&quot;gun&quot;</span> );</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#a917f093dcdc3861c86a6adf734a52641">   29</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> <a class="code" href="weakpoint_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a>( <span class="stringliteral">&quot;melee&quot;</span> );</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">   30</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> <a class="code" href="weakpoint_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>( <span class="stringliteral">&quot;throw&quot;</span> );</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#ad22b82ceedf236ed05df55e661444c76">   31</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> <a class="code" href="weakpoint_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a>( <span class="stringliteral">&quot;unarmed&quot;</span> );</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">class </span><a class="code" href="classJsonArray.html">JsonArray</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">class </span><a class="code" href="classJsonObject.html">JsonObject</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html">   36</a></span>&#160;<span class="keyword">namespace</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">   39</a></span>&#160;<a class="code" href="classgeneric__factory.html">generic_factory&lt;weakpoints&gt;</a> <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>( <span class="stringliteral">&quot;weakpoint sets&quot;</span> );</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">const</span> <a class="code" href="structweakpoints.html">weakpoints</a> &amp;<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id&lt;weakpoints&gt;::obj</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.obj( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/** @relates string_id */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id&lt;weakpoints&gt;::is_valid</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.is_valid( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structweakpoints.html#ae76832f4340ea4148eb51d8c561bb9ce">   57</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#ae76832f4340ea4148eb51d8c561bb9ce">weakpoints::load_weakpoint_sets</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.load( jo, <a class="code" href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">src</a> );</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structweakpoints.html#a29332f7eb9249d3ed7e9ac4227d95b65">   62</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a29332f7eb9249d3ed7e9ac4227d95b65">weakpoints::reset</a>()</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.reset();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structweakpoints.html#ad625dc04e5c3cebdaf1f75209ff47b0c">   67</a></span>&#160;<span class="keyword">const</span> std::vector&lt;weakpoints&gt; &amp;<a class="code" href="structweakpoints.html#ad625dc04e5c3cebdaf1f75209ff47b0c">weakpoints::get_all</a>()</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.get_all();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classmonster.html#a34c23a00051674235ed13bb0b5e4778c">   72</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classmonster.html#a34c23a00051674235ed13bb0b5e4778c">monster::weakpoint_skill</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">melee_skill</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classCharacter.html#a462873313d3ec1ea9704ddaecc417a3d">   77</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCharacter.html#a462873313d3ec1ea9704ddaecc417a3d">Character::generic_weakpoint_skill</a>( <a class="code" href="classstring__id.html">skill_id</a> skill_1, <a class="code" href="classstring__id.html">skill_id</a> skill_2,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="classstring__id.html">limb_score_id</a> limb_score_1, <a class="code" href="classstring__id.html">limb_score_id</a> limb_score_2 )<span class="keyword"> const</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">float</span> skill = ( <a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( skill_1 ) + <a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( skill_2 ) ) / 2.0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">float</span> stat = ( <a class="code" href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">get_dex</a>() - 8 ) / 8.0 + ( <a class="code" href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">get_per</a>() - 8 ) / 8.0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespacemath__opers.html#a1656310f8cda3861f3d3b54ef657c691">mul</a> = ( <a class="code" href="classCharacter.html#adac3431fb1398a94b0efa74945af8484">get_limb_score</a>( limb_score_1 ) + <a class="code" href="classCharacter.html#adac3431fb1398a94b0efa74945af8484">get_limb_score</a>( limb_score_2 ) ) / 2.0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span> ( skill + stat ) * <a class="code" href="namespacemath__opers.html#a1656310f8cda3861f3d3b54ef657c691">mul</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classCharacter.html#abdb9ea1ca921f04ee1b323fd904c1d7b">   86</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCharacter.html#abdb9ea1ca921f04ee1b323fd904c1d7b">Character::melee_weakpoint_skill</a>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;weapon )<span class="keyword"> const</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCharacter.html#a462873313d3ec1ea9704ddaecc417a3d">generic_weakpoint_skill</a>( <a class="code" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ? <a class="code" href="weakpoint_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a> : <a class="code" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code" href="classitem.html#a634166a0674bcf69eb3874c7e7789344">melee_skill</a>(),</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                    <a class="code" href="weakpoint_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a>, <a class="code" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a>, <a class="code" href="weakpoint_8cpp.html#a02b0c7c568a67f89acbb44010643d826">limb_score_reaction</a> );</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classCharacter.html#a8e4f5be09f595e4a1e5853286b962e74">   92</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCharacter.html#a8e4f5be09f595e4a1e5853286b962e74">Character::ranged_weakpoint_skill</a>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;weapon )<span class="keyword"> const</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCharacter.html#a462873313d3ec1ea9704ddaecc417a3d">generic_weakpoint_skill</a>( <a class="code" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>(), <a class="code" href="weakpoint_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a>, <a class="code" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                    <a class="code" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a> );</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classCharacter.html#a26c23bd97003c022673eb6c5cf1076d3">   98</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classCharacter.html#a26c23bd97003c022673eb6c5cf1076d3">Character::throw_weakpoint_skill</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCharacter.html#a462873313d3ec1ea9704ddaecc417a3d">generic_weakpoint_skill</a>( <a class="code" href="weakpoint_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>, <a class="code" href="weakpoint_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>, <a class="code" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a>, <a class="code" href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a> );</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structweakpoint__family.html#a59f95952a7f91e5693994036ab69163e">  103</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="structweakpoint__family.html#a59f95952a7f91e5693994036ab69163e">weakpoint_family::modifier</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;attacker )<span class="keyword"> const</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> attacker.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="classproficiency.html">proficiency</a> )</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;           ? <a class="code" href="structweakpoint__family.html#a092fad7e6bc9f4eaa09a40658f55f3ef">bonus</a>.value_or( <a class="code" href="classproficiency.html">proficiency</a>.obj().<a class="code" href="classproficiency.html#aec88d8a3b00b25d4460f70f44a7092bb">default_weakpoint_bonus</a>() )</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;           : <a class="code" href="structweakpoint__family.html#a848223e87b9ae5e8e2699a1e39f396d2">penalty</a>.value_or( <a class="code" href="classproficiency.html">proficiency</a>.obj().<a class="code" href="classproficiency.html#a4ec86c39cae5ad606f050505ef8aa991">default_weakpoint_penalty</a>() );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structweakpoint__family.html#ae8c071f95d72315c9f7dcee2c698ff3c">  110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__family.html#ae8c071f95d72315c9f7dcee2c698ff3c">weakpoint_family::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> &amp;jsin )</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span>( jsin.<a class="code" href="classJsonValue.html#ab4604bb5c981402bd376a8302b4546fa">test_string</a>() ) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordtype">id</span> = jsin.<a class="code" href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">get_string</a>();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="classproficiency.html">proficiency</a> = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6dfa2d63e7afc669426c9544b629e688">proficiency_id</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="classJsonObject.html">JsonObject</a> jo = jsin.<a class="code" href="classJsonValue.html#aa90309342403c2e86b358ce996e34a1f">get_object</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;proficiency&quot;</span>, <a class="code" href="classproficiency.html">proficiency</a> );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;bonus&quot;</span>, <a class="code" href="structweakpoint__family.html#a092fad7e6bc9f4eaa09a40658f55f3ef">bonus</a> );</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;penalty&quot;</span>, <a class="code" href="structweakpoint__family.html#a848223e87b9ae5e8e2699a1e39f396d2">penalty</a> );</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">if</span>( !jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordtype">id</span> = <span class="keyword">static_cast&lt;</span>std::string<span class="keyword">&gt;</span>( <a class="code" href="structweakpoint__family.html#ae38a86c57b11af0a2ead7593903ff060">proficiency</a> );</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">  127</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">weakpoint_families::practice</a>( <a class="code" href="classCharacter.html">Character</a> &amp;learner, <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;amount )<span class="keyword"> const</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">bool</span> learned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint__family.html">weakpoint_family</a> &amp;family : <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a> ) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordtype">float</span> before = learner.<a class="code" href="classCharacter.html#aeff797c56135f80077eac9d0746e4d48">get_proficiency_practice</a>( family.proficiency );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        learner.<a class="code" href="classCharacter.html#aa376cb5765a50c43ee63c4a3b151832e">practice_proficiency</a>( family.proficiency, amount );</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordtype">float</span> after = learner.<a class="code" href="classCharacter.html#aeff797c56135f80077eac9d0746e4d48">get_proficiency_practice</a>( family.proficiency );</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span>( before &lt; after ) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            learned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> learned;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#ad035a97bb4e111ad235f63a7c58f0959">  141</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structweakpoint__families.html#ad035a97bb4e111ad235f63a7c58f0959">weakpoint_families::practice_hit</a>( <a class="code" href="classCharacter.html">Character</a> &amp;learner )<span class="keyword"> const</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">practice</a>( learner, <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( 2 ) );</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#a826000adab09213b00d7c5e235b33539">  146</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structweakpoint__families.html#a826000adab09213b00d7c5e235b33539">weakpoint_families::practice_kill</a>( <a class="code" href="classCharacter.html">Character</a> &amp;learner )<span class="keyword"> const</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">practice</a>( learner, <a class="code" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 1 ) );</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#afb4e3e6302b3239b839705c497a313c5">  151</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structweakpoint__families.html#afb4e3e6302b3239b839705c497a313c5">weakpoint_families::practice_dissect</a>( <a class="code" href="classCharacter.html">Character</a> &amp;learner )<span class="keyword"> const</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// Proficiency experience is capped at 1000 seconds (~16 minutes), so we split it into two</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// instances. This should be refactored when butchering becomes an `activity_actor`.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">bool</span> p1 = <a class="code" href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">practice</a>( learner, <a class="code" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 15 ) );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">bool</span> p2 = <a class="code" href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">practice</a>( learner, <a class="code" href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a>( 15 ) );</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">bool</span> learned = p1 || p2;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span>( learned ) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        learner.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>(</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You carefully record the creature&#39;s vulnerabilities.&quot;</span> ) );</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> learned;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#abdaaef0bc1f07484516971ef3ef28368">  165</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="structweakpoint__families.html#abdaaef0bc1f07484516971ef3ef28368">weakpoint_families::modifier</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;attacker )<span class="keyword"> const</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">float</span> total = 0.0f;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint__family.html">weakpoint_family</a> &amp;family : <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a> ) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        total += family.modifier( attacker );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> total;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#a22bd9d86b223ac3af4b2404db314fdd6">  174</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__families.html#a22bd9d86b223ac3af4b2404db314fdd6">weakpoint_families::clear</a>()</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.clear();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#a81d21759d62a6e4bef0e4b46061b4b8b">  179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__families.html#a81d21759d62a6e4bef0e4b46061b4b8b">weakpoint_families::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonArray.html">JsonArray</a> &amp;ja )</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> jsin : ja ) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="structweakpoint__family.html">weakpoint_family</a> tmp;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        tmp.<a class="code" href="structweakpoint__family.html#ae8c071f95d72315c9f7dcee2c698ff3c">load</a>( jsin );</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keyword">auto</span> it = std::find_if( <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.begin(), <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.end(),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="structweakpoint__family.html">weakpoint_family</a> &amp; wf ) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            return wf.id == tmp.id;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        } );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span>( it != <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.end() ) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.erase( it );</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.push_back( std::move( tmp ) );</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structweakpoint__families.html#a27fcdec3cf3f0da1439d2980e77e1569">  197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__families.html#a27fcdec3cf3f0da1439d2980e77e1569">weakpoint_families::remove</a>( <span class="keyword">const</span> <a class="code" href="classJsonArray.html">JsonArray</a> &amp;ja )</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonValue.html">JsonValue</a> jsin : ja ) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="structweakpoint__family.html">weakpoint_family</a> tmp;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        tmp.<a class="code" href="structweakpoint__family.html#ae8c071f95d72315c9f7dcee2c698ff3c">load</a>( jsin );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keyword">auto</span> it = std::find_if( <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.begin(), <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.end(),</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="structweakpoint__family.html">weakpoint_family</a> &amp; wf ) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            return wf.id == tmp.id;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        } );</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span>( it != <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.end() ) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">families</a>.erase( it );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structweakpoint__difficulty.html#afd36a46d7e60204917c9f59f46d8365f">  213</a></span>&#160;<a class="code" href="structweakpoint__difficulty.html#afd36a46d7e60204917c9f59f46d8365f">weakpoint_difficulty::weakpoint_difficulty</a>( <span class="keywordtype">float</span> default_value )</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>.fill( default_value );</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structweakpoint__difficulty.html#af9f4ed689ba6a44f6ee1e68b00912c84">  218</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="structweakpoint__difficulty.html#af9f4ed689ba6a44f6ee1e68b00912c84">weakpoint_difficulty::of</a>( <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.type )];</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="structweakpoint__difficulty.html#a70935a59893d66a9bdd7f739e8dbafa9">  223</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__difficulty.html#a70935a59893d66a9bdd7f739e8dbafa9">weakpoint_difficulty::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">using</span> attack_type = <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7">weakpoint_attack::attack_type</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">float</span> default_value = <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( attack_type::NONE )];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a> = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;all&quot;</span>, default_value );</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// Determine default values</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">bash</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">float</span> cut;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordtype">float</span> stab;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">float</span> ranged = <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// Support either &quot;melee&quot; shorthand or &quot;broad&quot;/&quot;point&quot; shorthand.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a27d2a26ef82330d0e2aeb895f115e058">has_float</a>( <span class="stringliteral">&quot;melee&quot;</span> ) ) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="namespacemelee.html">melee</a> = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;melee&quot;</span>, <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a> );</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">bash</a> = <a class="code" href="namespacemelee.html">melee</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        cut = <a class="code" href="namespacemelee.html">melee</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        stab = <a class="code" href="namespacemelee.html">melee</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordtype">float</span> broad = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;broad&quot;</span>, <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a> );</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">float</span> <a class="code" href="structpoint.html">point</a> = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;point&quot;</span>, <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a> );</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">bash</a> = broad;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        cut = broad;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        stab = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        ranged = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// Load the values</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( attack_type::NONE )] = <a class="code" href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">all</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( attack_type::MELEE_BASH )] = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;bash&quot;</span>, <a class="code" href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">bash</a> );</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( attack_type::MELEE_CUT )] = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;cut&quot;</span>, cut );</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( attack_type::MELEE_STAB )] = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;stab&quot;</span>, stab );</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">difficulty</a>[<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( attack_type::PROJECTILE )] = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;ranged&quot;</span>, ranged );</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="structweakpoint__effect.html#aba24e2f01d89629b39855e65912a9f26">  255</a></span>&#160;<a class="code" href="structweakpoint__effect.html#aba24e2f01d89629b39855e65912a9f26">weakpoint_effect::weakpoint_effect</a>()  :</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    chance( 100.0f ),</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a>( false ),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    duration( 1, 1 ),</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a>( 0, 0 ),</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    damage_required( 0.0f, 100.0f ) {}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="structweakpoint__effect.html#a2d0a16c0ae19496cd566e21c3db086c5">  262</a></span>&#160;std::string <a class="code" href="structweakpoint__effect.html#a2d0a16c0ae19496cd566e21c3db086c5">weakpoint_effect::get_message</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structweakpoint__effect.html#a175686df4dcadf24bd628a2b6c295cd7">message</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structweakpoint__effect.html#a8643225447c3f3e3608f89b8ec44f45b">  267</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__effect.html#a8643225447c3f3e3608f89b8ec44f45b">weakpoint_effect::apply_to</a>( <a class="code" href="classCreature.html">Creature</a> &amp;target, <span class="keywordtype">int</span> total_damage,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// Check if damage is within required bounds</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">float</span> percent_hp = 100.0f * <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( total_damage ) / target.<a class="code" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">get_hp_max</a>();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    percent_hp = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( 100.0f, percent_hp );</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span>( percent_hp &lt; <a class="code" href="structweakpoint__effect.html#abcb8d031d867ac3f8fc661579a2ce5e7">damage_required</a>.first || <a class="code" href="structweakpoint__effect.html#abcb8d031d867ac3f8fc661579a2ce5e7">damage_required</a>.second &lt; percent_hp ) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Roll for chance.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span>( !( <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.0f, 100.f ) &lt; <a class="code" href="structweakpoint__effect.html#a748d46577632ca968894d4c7f48188a0">chance</a> ) ) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    target.<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code" href="classeffect__source.html">effect_source</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source ), <a class="code" href="classeffect.html">effect</a>,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                       <a class="code" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( <a class="code" href="structweakpoint__effect.html#a65949608af053b0525378d23d8eecb49">duration</a>.first, <a class="code" href="structweakpoint__effect.html#a65949608af053b0525378d23d8eecb49">duration</a>.second ) ),</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                       <a class="code" href="structweakpoint__effect.html#a70d22539ee69ac896a9c569313a8e7b0">permanent</a>, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( <a class="code" href="structweakpoint__effect.html#a2820316cd6a78413c11e6d7cea213995">intensity</a>.first, <a class="code" href="structweakpoint__effect.html#a2820316cd6a78413c11e6d7cea213995">intensity</a>.second ) );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="structweakpoint__effect.html#a2d0a16c0ae19496cd566e21c3db086c5">get_message</a>().empty() &amp;&amp; <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source-&gt;is_avatar() ) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a>( target, <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code" href="structweakpoint__effect.html#a2d0a16c0ae19496cd566e21c3db086c5">get_message</a>(), target.<a class="code" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="structweakpoint__effect.html#a4d53cc558452f3a5b3cf125c4892ac91">  289</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__effect.html#a4d53cc558452f3a5b3cf125c4892ac91">weakpoint_effect::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;effect&quot;</span>, <a class="code" href="classeffect.html">effect</a> );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a27d2a26ef82330d0e2aeb895f115e058">has_float</a>( <span class="stringliteral">&quot;chance&quot;</span> ) ) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;chance&quot;</span>, <a class="code" href="structweakpoint__effect.html#a748d46577632ca968894d4c7f48188a0">chance</a>, <span class="keyword">false</span>, 0.0f, 100.0f );</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a5f667e8992f908b82149bb7a2d9ec0de">has_bool</a>( <span class="stringliteral">&quot;permanent&quot;</span> ) ) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;permanent&quot;</span>, <a class="code" href="structweakpoint__effect.html#a70d22539ee69ac896a9c569313a8e7b0">permanent</a> );</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;message&quot;</span> ) ) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;message&quot;</span>, <a class="code" href="structweakpoint__effect.html#a175686df4dcadf24bd628a2b6c295cd7">message</a> );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="comment">// Support shorthand for a single value.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">has_int</a>( <span class="stringliteral">&quot;duration&quot;</span> ) ) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordtype">int</span> i = jo.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;duration&quot;</span>, 0 );</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="structweakpoint__effect.html#a65949608af053b0525378d23d8eecb49">duration</a> = {i, i};</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;duration&quot;</span> ) ) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;duration&quot;</span>, <a class="code" href="structweakpoint__effect.html#a65949608af053b0525378d23d8eecb49">duration</a> );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">has_int</a>( <span class="stringliteral">&quot;intensity&quot;</span> ) ) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordtype">int</span> i = jo.<a class="code" href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">get_int</a>( <span class="stringliteral">&quot;intensity&quot;</span>, 0 );</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="structweakpoint__effect.html#a2820316cd6a78413c11e6d7cea213995">intensity</a> = {i, i};</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;intensity&quot;</span> ) ) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;intensity&quot;</span>, <a class="code" href="structweakpoint__effect.html#a2820316cd6a78413c11e6d7cea213995">intensity</a> );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a27d2a26ef82330d0e2aeb895f115e058">has_float</a>( <span class="stringliteral">&quot;damage_required&quot;</span> ) ) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordtype">float</span> f = jo.<a class="code" href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">get_float</a>( <span class="stringliteral">&quot;damage_required&quot;</span>, 0.0f );</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="structweakpoint__effect.html#abcb8d031d867ac3f8fc661579a2ce5e7">damage_required</a> = {f, f};</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;damage_required&quot;</span> ) ) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;damage_required&quot;</span>, <a class="code" href="structweakpoint__effect.html#abcb8d031d867ac3f8fc661579a2ce5e7">damage_required</a> );</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="structweakpoint__attack.html#ae664f5f986988664c1d003823baac178">  324</a></span>&#160;<a class="code" href="structweakpoint__attack.html#ae664f5f986988664c1d003823baac178">weakpoint_attack::weakpoint_attack</a>()  :</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    source( nullptr ),</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    target( nullptr ),</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    weapon( &amp;<a class="code" href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a>() ),</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>( <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7">attack_type</a>::<a class="code" href="activity__actor_8cpp.html#ab57c00e881ee98ece5a5984e40ea3511ab50339a10e1de285ac99d4c3990b8693">NONE</a> ),</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    is_thrown( false ),</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    is_crit( false ),</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    wp_skill( 0.0f ) {}</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7">weakpoint_attack::attack_type</a></div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structweakpoint__attack.html#a0391e9e0c5d21059e9b96a1873f80f3b">  334</a></span>&#160;<a class="code" href="structweakpoint__attack.html#a0391e9e0c5d21059e9b96a1873f80f3b">weakpoint_attack::type_of_melee_attack</a>( <span class="keyword">const</span> <a class="code" href="structdamage__instance.html">damage_instance</a> &amp;damage )</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classstring__id.html">damage_type_id</a> primary = <a class="code" href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">damage_type_id::NULL_ID</a>();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">int</span> primary_amount = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;du : damage.<a class="code" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span>( du.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> &gt; primary_amount ) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            primary = du.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            primary_amount = du.<a class="code" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">// FIXME: Hardcoded damage types</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span>( primary == <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>( <span class="stringliteral">&quot;bash&quot;</span> ) ) ) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ae9e9092f7e78a69348e8da001d6dd237">attack_type::MELEE_BASH</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( primary == <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>( <span class="stringliteral">&quot;cut&quot;</span> ) ) ) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a3a756c32093588c58e4bf0bed1fe0867">attack_type::MELEE_CUT</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( primary == <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>( <span class="stringliteral">&quot;stab&quot;</span> ) ) ) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ac73898ef18473f659b76d0f0ee0cf622">attack_type::MELEE_STAB</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ab50339a10e1de285ac99d4c3990b8693">attack_type::NONE</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="structweakpoint__attack.html#a78f688fd78edda2cd70eafb7763d8a2d">  355</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint__attack.html#a78f688fd78edda2cd70eafb7763d8a2d">weakpoint_attack::compute_wp_skill</a>()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// Check if there&#39;s no source.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="structweakpoint__attack.html#a85754f75a50124902f33c1a18caee4bd">source</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="structweakpoint__attack.html#a3bcc95cddf3cc9e81c2f3c82cc63046c">wp_skill</a> = 0.0f;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// Compute the base attacker skill.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordtype">float</span> attacker_skill = 0.0f;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *mon_att = <a class="code" href="structweakpoint__attack.html#a85754f75a50124902f33c1a18caee4bd">source</a>-&gt;<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> *chr_att = <a class="code" href="structweakpoint__attack.html#a85754f75a50124902f33c1a18caee4bd">source</a>-&gt;<a class="code" href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">as_character</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span>( mon_att != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        attacker_skill = mon_att-&gt;<a class="code" href="classmonster.html#a34c23a00051674235ed13bb0b5e4778c">weakpoint_skill</a>();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( chr_att != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">switch</span>( <a class="code" href="structweakpoint__attack.html#ad525af63dcff515fffe3c6a4a54b8378">type</a> ) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ae9e9092f7e78a69348e8da001d6dd237">attack_type::MELEE_BASH</a>:</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a3a756c32093588c58e4bf0bed1fe0867">attack_type::MELEE_CUT</a>:</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ac73898ef18473f659b76d0f0ee0cf622">attack_type::MELEE_STAB</a>:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                attacker_skill = chr_att-&gt;<a class="code" href="classCharacter.html#abdb9ea1ca921f04ee1b323fd904c1d7b">melee_weakpoint_skill</a>( *<a class="code" href="structweakpoint__attack.html#aed78ef37bb4ef0b99cc10318b569c016">weapon</a> );</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a46dccab75ce652352e52086601fdc294">attack_type::PROJECTILE</a>:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                attacker_skill = <a class="code" href="structweakpoint__attack.html#a0dd6f503710c5851bab2e59107d40ab3">is_thrown</a></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                 ? chr_att-&gt;<a class="code" href="classCharacter.html#a26c23bd97003c022673eb6c5cf1076d3">throw_weakpoint_skill</a>()</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                 : chr_att-&gt;<a class="code" href="classCharacter.html#a8e4f5be09f595e4a1e5853286b962e74">ranged_weakpoint_skill</a>( *<a class="code" href="structweakpoint__attack.html#aed78ef37bb4ef0b99cc10318b569c016">weapon</a> );</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                attacker_skill = 0.0f;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// Compute the proficiency skill.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">float</span> proficiency_skill = 0.0f;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keyword">const</span> <a class="code" href="classmonster.html">monster</a> *mon_tar = <a class="code" href="structweakpoint__attack.html#adc814f7f7abf2ebb62c6f1725cce9d38">target</a>-&gt;<a class="code" href="classCreature.html#a90636bbf110025587c181fad389d616c">as_monster</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span>( chr_att != <span class="keyword">nullptr</span> &amp;&amp; mon_tar != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        proficiency_skill = mon_tar-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#a235df1c169577eb7cf43baedc92654ce">families</a>.<a class="code" href="structweakpoint__families.html#abdaaef0bc1f07484516971ef3ef28368">modifier</a>( *chr_att );</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// Combine attacker skill and proficiency boni.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="structweakpoint__attack.html#a3bcc95cddf3cc9e81c2f3c82cc63046c">wp_skill</a> = attacker_skill + proficiency_skill;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="structweakpoint.html#a40513526b0ebeca2dbb4229c39dd9a5c">  395</a></span>&#160;<a class="code" href="structweakpoint.html#a40513526b0ebeca2dbb4229c39dd9a5c">weakpoint::weakpoint</a>() : coverage_mult( 1.0f ), difficulty( -100.0f )</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">  400</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">weakpoint::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="structweakpoint.html#a99c125ae5c257e02f6ed53824d0f1ca4">name</a> );</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;coverage&quot;</span>, <a class="code" href="structweakpoint.html#ac155d349cebfcbcaf15b488b99a2da1a">coverage</a>, <span class="keyword">false</span>, 0.0f, 100.0f );</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;armor_mult&quot;</span> ) ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">armor_mult</a> = <a class="code" href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a>( jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;armor_mult&quot;</span> ) );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;armor_penalty&quot;</span> ) ) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">armor_penalty</a> = <a class="code" href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a>( jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;armor_penalty&quot;</span> ) );</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;damage_mult&quot;</span> ) ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="structweakpoint.html#ab7269ab10a5d00f672e4822a4286839e">damage_mult</a> = <a class="code" href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a>( jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;damage_mult&quot;</span> ) );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;crit_mult&quot;</span> ) ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="structweakpoint.html#a42972459071c74e89dd8a629d7b31b56">crit_mult</a> = <a class="code" href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a>( jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;crit_mult&quot;</span> ) );</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">// Default to damage multiplier, if crit multipler is not specified.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="structweakpoint.html#a42972459071c74e89dd8a629d7b31b56">crit_mult</a> = <a class="code" href="structweakpoint.html#ab7269ab10a5d00f672e4822a4286839e">damage_mult</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;required_effects&quot;</span> ) ) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;required_effects&quot;</span>, <a class="code" href="structweakpoint.html#a642912993693bed310f6d612d45fe062">required_effects</a> );</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;effects&quot;</span> ) ) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> effect_jo : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;effects&quot;</span> ) ) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="structweakpoint__effect.html">weakpoint_effect</a> <a class="code" href="classeffect.html">effect</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <a class="code" href="classeffect.html">effect</a>.load( effect_jo );</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="structweakpoint.html#a0fcb7e288736cb6ca592c8f326b85c22">effects</a>.push_back( std::move( <a class="code" href="classeffect.html">effect</a> ) );</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;coverage_mult&quot;</span> ) ) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <a class="code" href="structweakpoint.html#a3896f70583d35345f8be4a40d81621bf">coverage_mult</a>.<a class="code" href="structweakpoint__difficulty.html#a70935a59893d66a9bdd7f739e8dbafa9">load</a>( jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;coverage_mult&quot;</span> ) );</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">has_object</a>( <span class="stringliteral">&quot;difficulty&quot;</span> ) ) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="structweakpoint.html#af24454ae32b7152d16ea0702c4d0999c">difficulty</a>.<a class="code" href="structweakpoint__difficulty.html#a70935a59893d66a9bdd7f739e8dbafa9">load</a>( jo.<a class="code" href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">get_object</a>( <span class="stringliteral">&quot;difficulty&quot;</span> ) );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// Set the ID to the name, if not provided.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span>( !jo.<a class="code" href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">has_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a>( jo, <span class="stringliteral">&quot;name&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="structweakpoint.html#aa3eb71e1987af2ff2f861e45fad7f138">  443</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint.html#aa3eb71e1987af2ff2f861e45fad7f138">weakpoint::check</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const damage_type_id, float&gt; &amp;dt : <a class="code" href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">armor_mult</a> ) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">if</span>( !dt.first.is_valid() ) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid armor_mult type \&quot;%s\&quot; for weakpoint %s&quot;</span>, dt.first.c_str(), <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const damage_type_id, float&gt; &amp;dt : <a class="code" href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">armor_penalty</a> ) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span>( !dt.first.is_valid() ) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid armor_penalty type \&quot;%s\&quot; for weakpoint %s&quot;</span>, dt.first.c_str(), <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const damage_type_id, float&gt; &amp;dt : <a class="code" href="structweakpoint.html#ab7269ab10a5d00f672e4822a4286839e">damage_mult</a> ) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span>( !dt.first.is_valid() ) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid damage_mult type \&quot;%s\&quot; for weakpoint %s&quot;</span>, dt.first.c_str(), <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const damage_type_id, float&gt; &amp;dt : <a class="code" href="structweakpoint.html#a42972459071c74e89dd8a629d7b31b56">crit_mult</a> ) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span>( !dt.first.is_valid() ) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid crit_mult type \&quot;%s\&quot; for weakpoint %s&quot;</span>, dt.first.c_str(), <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="structweakpoint.html#a166af54eaddb3df736a703780f4905df">  467</a></span>&#160;std::string <a class="code" href="structweakpoint.html#a166af54eaddb3df736a703780f4905df">weakpoint::get_name</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structweakpoint.html#a99c125ae5c257e02f6ed53824d0f1ca4">name</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">  472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">weakpoint::apply_to</a>( <a class="code" href="structresistances.html">resistances</a> &amp;<a class="code" href="structresistances.html">resistances</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structdamage__type.html">damage_type</a> &amp;dt : <a class="code" href="structdamage__type.html#a8057111c96d1ac54f8ed72b6ae911775">damage_type::get_all</a>() ) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="structresistances.html">resistances</a>.<a class="code" href="structresistances.html#a2360b00d9d46ab595d0ca46429c056e6">resist_vals</a>.count( dt.id ) &lt;= 0 ) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="structresistances.html">resistances</a>.<a class="code" href="structresistances.html#a2360b00d9d46ab595d0ca46429c056e6">resist_vals</a>[dt.id] = 0.0f;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">armor_mult</a>.count( dt.id ) &gt; 0 ) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="structresistances.html">resistances</a>.<a class="code" href="structresistances.html#a2360b00d9d46ab595d0ca46429c056e6">resist_vals</a>[dt.id] *= <a class="code" href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">armor_mult</a>.at( dt.id );</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">armor_penalty</a>.count( dt.id ) &gt; 0 ) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <a class="code" href="structresistances.html">resistances</a>.<a class="code" href="structresistances.html#a2360b00d9d46ab595d0ca46429c056e6">resist_vals</a>[dt.id] -= <a class="code" href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">armor_penalty</a>.at( dt.id );</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;}</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="structweakpoint.html#a727f4541dd066688d83a7959e4378cdf">  487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">weakpoint::apply_to</a>( <a class="code" href="structdamage__instance.html">damage_instance</a> &amp;damage, <span class="keywordtype">bool</span> is_crit )<span class="keyword"> const</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structdamage__unit.html">damage_unit</a> &amp;elem : damage.<a class="code" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span>( is_crit ) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="structweakpoint.html#a42972459071c74e89dd8a629d7b31b56">crit_mult</a>.count( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) &gt; 0 ) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                elem.<a class="code" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> *= <a class="code" href="structweakpoint.html#a42972459071c74e89dd8a629d7b31b56">crit_mult</a>.at( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> );</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="structweakpoint.html#ab7269ab10a5d00f672e4822a4286839e">damage_mult</a>.count( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> ) &gt; 0 ) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            elem.<a class="code" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a> *= <a class="code" href="structweakpoint.html#ab7269ab10a5d00f672e4822a4286839e">damage_mult</a>.at( elem.<a class="code" href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">type</a> );</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="structweakpoint.html#aee166c8fbb6fce26c20ad947379cd744">  500</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoint.html#aee166c8fbb6fce26c20ad947379cd744">weakpoint::apply_effects</a>( <a class="code" href="classCreature.html">Creature</a> &amp;target, <span class="keywordtype">int</span> total_damage,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint__effect.html">weakpoint_effect</a> &amp;<a class="code" href="classeffect.html">effect</a> : <a class="code" href="structweakpoint.html#a0fcb7e288736cb6ca592c8f326b85c22">effects</a> ) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="classeffect.html">effect</a>.apply_to( target, total_damage, <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="structweakpoint.html#adea060feb8a1755f953a598ceef387d3">  508</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="structweakpoint.html#adea060feb8a1755f953a598ceef387d3">weakpoint::hit_chance</a>( <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// Check for required effects</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classeffect.html">effect</a> : <a class="code" href="structweakpoint.html#a642912993693bed310f6d612d45fe062">required_effects</a> ) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.target-&gt;has_effect( <a class="code" href="classeffect.html">effect</a> ) ) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">return</span> 0.0f;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// Retrieve multipliers.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordtype">float</span> constant_mult = <a class="code" href="structweakpoint.html#a3896f70583d35345f8be4a40d81621bf">coverage_mult</a>.<a class="code" href="structweakpoint__difficulty.html#af9f4ed689ba6a44f6ee1e68b00912c84">of</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// Probability of a sample from a normal distribution centered on `skill` with `SD = 2`</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// exceeding the difficulty.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">float</span> diff = <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.wp_skill - <a class="code" href="structweakpoint.html#af24454ae32b7152d16ea0702c4d0999c">difficulty</a>.<a class="code" href="structweakpoint__difficulty.html#af9f4ed689ba6a44f6ee1e68b00912c84">of</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">float</span> difficulty_mult = 0.5f * ( 1.0f + erf( diff / ( 2.0f * <a class="code" href="math__parser__func_8h.html#aeb3bbc4ec861ea58cbfca028920e4cc6">sqrt</a>( 2.0f ) ) ) );</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// Compute the total value</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> constant_mult * difficulty_mult * <a class="code" href="structweakpoint.html#ac155d349cebfcbcaf15b488b99a2da1a">coverage</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">// Reweighs the probability distribution of hitting a weakpoint.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">// The value returned is the probability of sampling at least one value less than `base`</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">// from `rolls` uniform distributions over [0, 1].</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">// For hard to hit weak points, this multiplies their hit chance by `rolls`. A 1% base</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">// combined with 5 rolls has a 4.9% weight. However, even at high `rolls`, the attacker</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">// still has a chance of hitting armor. A 75% chance of not hitting a weak point becomes</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">// a 23.7% chance with 5 rolls.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="weakpoint_8cpp.html#ae2378618c4e066896d2873cdaf641c5c">  535</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="weakpoint_8cpp.html#ae2378618c4e066896d2873cdaf641c5c">reweigh</a>( <span class="keywordtype">float</span> base, <span class="keywordtype">float</span> rolls )</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> 1.0f - pow( 1.0f - base, rolls );</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="structweakpoints.html#a1610db674cc403a7a2f57fdae3b59942">  540</a></span>&#160;<span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> *<a class="code" href="structweakpoints.html#a1610db674cc403a7a2f57fdae3b59942">weakpoints::select_weakpoint</a>( <span class="keyword">const</span> <a class="code" href="structweakpoint__attack.html">weakpoint_attack</a> &amp;<a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                   <span class="stringliteral">&quot;Weakpoint Selection: Source: %s, Weapon %s, Skill %.3f&quot;</span>,</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                   <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source == <span class="keyword">nullptr</span> ? <span class="stringliteral">&quot;nullptr&quot;</span> : <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.source-&gt;get_name(),</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                   <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.weapon == <span class="keyword">nullptr</span> ? <span class="stringliteral">&quot;nullptr&quot;</span> : <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.weapon-&gt;type_name(),</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                   <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.wp_skill );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">float</span> rolls = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 1.0f, 1.0f + <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a>.wp_skill / 2.5f );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">// The base probability of hitting a more preferable weak point.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">float</span> base = 0.0f;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// The reweighed probability of hitting a more preferable weak point.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">float</span> reweighed = 0.0f;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordtype">float</span> idx = <a class="code" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.0f, 100.0f );</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;<a class="code" href="structweakpoint.html">weakpoint</a> : <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">float</span> new_base = base + <a class="code" href="structweakpoint.html">weakpoint</a>.<a class="code" href="structweakpoint.html#adea060feb8a1755f953a598ceef387d3">hit_chance</a>( <a class="code" href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">attack</a> );</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordtype">float</span> new_reweighed = 100.0f * <a class="code" href="weakpoint_8cpp.html#ae2378618c4e066896d2873cdaf641c5c">reweigh</a>( new_base / 100.0f, rolls );</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordtype">float</span> hit_chance = new_reweighed - reweighed;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a>,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                       <span class="stringliteral">&quot;Weakpoint Selection: weakpoint %s, hit_chance %.4f&quot;</span>,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                       <a class="code" href="structweakpoint.html">weakpoint</a>.<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>, hit_chance );</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span>( idx &lt; hit_chance ) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">return</span> &amp;<a class="code" href="structweakpoint.html">weakpoint</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        base = new_base;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        reweighed = new_reweighed;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        idx -= hit_chance;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="structweakpoints.html#a92f0544a76b952006cd5c9e44e252b93">  570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a92f0544a76b952006cd5c9e44e252b93">weakpoints::clear</a>()</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.clear();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">  575</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">weakpoints::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonArray.html">JsonArray</a> &amp;ja )</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> jo : ja ) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="structweakpoint.html">weakpoint</a> tmp;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        tmp.<a class="code" href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">load</a>( jo );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span>( tmp.<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>.empty() ) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a> = tmp;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="comment">// Ensure that every weakpoint has a unique ID</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keyword">auto</span> it = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(), <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(),</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; wp ) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            return wp.id == tmp.id;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        } );</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span>( it != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.erase( it );</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.push_back( std::move( tmp ) );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// Prioritizes weakpoints based on their coverage.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    std::sort( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(), <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(),</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    []( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; <a class="code" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; <a class="code" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        return a.coverage &lt; b.coverage;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    } );</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="structweakpoints.html#a0bc5d3fc21547e408d23b41437cdd0ad">  604</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a0bc5d3fc21547e408d23b41437cdd0ad">weakpoints::check</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;w : <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        w.check();</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="structweakpoints.html#ac2abc0a123f7515a59ee1a06585d9640">  611</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#ac2abc0a123f7515a59ee1a06585d9640">weakpoints::finalize</a>()</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structweakpoint.html">weakpoint</a> &amp;w : <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.armor_mult, <span class="keyword">false</span>, 1.0f );</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.armor_penalty, <span class="keyword">false</span>, 0.0f );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.damage_mult, <span class="keyword">false</span>, 1.0f );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a>( w.crit_mult, <span class="keyword">false</span>, 1.0f );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="structweakpoints.html#a5ff669978d52ce5c31645743118360d5">  621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a5ff669978d52ce5c31645743118360d5">weakpoints::remove</a>( <span class="keyword">const</span> <a class="code" href="classJsonArray.html">JsonArray</a> &amp;ja )</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> jo : ja ) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="structweakpoint.html">weakpoint</a> tmp;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        tmp.<a class="code" href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">load</a>( jo );</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span>( tmp.<a class="code" href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">id</a>.empty() ) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <a class="code" href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">default_weakpoint</a> = <a class="code" href="structweakpoint.html">weakpoint</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keyword">auto</span> it = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(), <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(),</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        [&amp;]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; wp ) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            return wp.id == tmp.id;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        } );</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span>( it != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.erase( it );</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="structweakpoints.html#a7f249b70774782ffae61d41da341a29c">  642</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">weakpoints::load</a>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string_view )</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">load</a>( jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;weakpoints&quot;</span> ) );</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="structweakpoints.html#a6737da7d1b2406699bd1b252f8820919">  647</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a6737da7d1b2406699bd1b252f8820919">weakpoints::finalize_all</a>()</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">weakpoints_factory</a>.finalize();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">  652</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">weakpoints::add_from_set</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">weakpoints_id</a> &amp;set_id, <span class="keywordtype">bool</span> replace_id )</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">if</span>( !set_id.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid weakpoint_set id \&quot;%s\&quot;&quot;</span>, set_id.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">add_from_set</a>( set_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>(), replace_id );</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="structweakpoints.html#ae35b15c8a82a8654ad8a3c7872b44c0e">  661</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">weakpoints::add_from_set</a>( <span class="keyword">const</span> <a class="code" href="structweakpoints.html">weakpoints</a> &amp;set, <span class="keywordtype">bool</span> replace_id )</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;wp : set.<a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keyword">auto</span> iter = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(),</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(), [&amp;wp]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; w ) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            return w.id == wp.id &amp;&amp; !w.id.empty();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        } );</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">if</span>( replace_id &amp;&amp; iter != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>[iter - <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin()] = wp;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.emplace_back( wp );</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">  676</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">weakpoints::del_from_set</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">weakpoints_id</a> &amp;set_id )</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span>( !set_id.<a class="code" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;invalid weakpoint_set id \&quot;%s\&quot;&quot;</span>, set_id.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() );</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">del_from_set</a>( set_id.<a class="code" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>() );</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="structweakpoints.html#aa8773a411f177d4e128dcd12f156dd8f">  685</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">weakpoints::del_from_set</a>( <span class="keyword">const</span> <a class="code" href="structweakpoints.html">weakpoints</a> &amp;set )</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;{</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp;wp : set.<a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a> ) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keyword">auto</span> iter = std::find_if( <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.begin(),</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end(), [&amp;wp]( <span class="keyword">const</span> <a class="code" href="structweakpoint.html">weakpoint</a> &amp; w ) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            return w.id == wp.id &amp;&amp; !w.id.empty();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        } );</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span>( iter != <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.end() ) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <a class="code" href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoint_list</a>.erase( iter );</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="ttc" id="aactivity__actor_8cpp_html_ab57c00e881ee98ece5a5984e40ea3511ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="activity__actor_8cpp.html#ab57c00e881ee98ece5a5984e40ea3511ab50339a10e1de285ac99d4c3990b8693">hack_type::NONE</a></div><div class="ttdeci">@ NONE</div></div>
<div class="ttc" id="aassign_8cpp_html_a5581e512c94617323eeed670afe0e49a"><div class="ttname"><a href="assign_8cpp.html#a5581e512c94617323eeed670afe0e49a">assign</a></div><div class="ttdeci">bool assign(const JsonObject &amp;jo, const std::string_view name, bool &amp;val, bool strict)</div><div class="ttdef"><b>Definition:</b> <a href="assign_8cpp_source.html#l00023">assign.cpp:23</a></div></div>
<div class="ttc" id="aassign_8h_html"><div class="ttname"><a href="assign_8h.html">assign.h</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a6dfa2d63e7afc669426c9544b629e688"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6dfa2d63e7afc669426c9544b629e688">cata_variant_type::proficiency_id</a></div><div class="ttdeci">@ proficiency_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a26c23bd97003c022673eb6c5cf1076d3"><div class="ttname"><a href="classCharacter.html#a26c23bd97003c022673eb6c5cf1076d3">Character::throw_weakpoint_skill</a></div><div class="ttdeci">float throw_weakpoint_skill() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00098">weakpoint.cpp:98</a></div></div>
<div class="ttc" id="aclassCharacter_html_a34a927d0f161ac92ab0d462397828bd5"><div class="ttname"><a href="classCharacter.html#a34a927d0f161ac92ab0d462397828bd5">Character::get_dex</a></div><div class="ttdeci">int get_dex() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04131">character.cpp:4131</a></div></div>
<div class="ttc" id="aclassCharacter_html_a462873313d3ec1ea9704ddaecc417a3d"><div class="ttname"><a href="classCharacter.html#a462873313d3ec1ea9704ddaecc417a3d">Character::generic_weakpoint_skill</a></div><div class="ttdeci">float generic_weakpoint_skill(skill_id skill_1, skill_id skill_2, limb_score_id limb_score_1, limb_score_id limb_score_2) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00077">weakpoint.cpp:77</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72472dd1bc3a1fba8b053682ae5a2244"><div class="ttname"><a href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">Character::has_proficiency</a></div><div class="ttdeci">bool has_proficiency(const proficiency_id &amp;prof) const</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00019">character_proficiency.cpp:19</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e4f5be09f595e4a1e5853286b962e74"><div class="ttname"><a href="classCharacter.html#a8e4f5be09f595e4a1e5853286b962e74">Character::ranged_weakpoint_skill</a></div><div class="ttdeci">float ranged_weakpoint_skill(const item &amp;weapon) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00092">weakpoint.cpp:92</a></div></div>
<div class="ttc" id="aclassCharacter_html_a93a3570e884214ba5c0eb3cdf1af75cc"><div class="ttname"><a href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">Character::get_skill_level</a></div><div class="ttdeci">float get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03428">character.cpp:3428</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa376cb5765a50c43ee63c4a3b151832e"><div class="ttname"><a href="classCharacter.html#aa376cb5765a50c43ee63c4a3b151832e">Character::practice_proficiency</a></div><div class="ttdeci">bool practice_proficiency(const proficiency_id &amp;prof, const time_duration &amp;amount, const std::optional&lt; time_duration &gt; &amp;max=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00071">character_proficiency.cpp:71</a></div></div>
<div class="ttc" id="aclassCharacter_html_abb0a1847902e6db0bd3c923ee8187702"><div class="ttname"><a href="classCharacter.html#abb0a1847902e6db0bd3c923ee8187702">Character::get_per</a></div><div class="ttdeci">int get_per() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04135">character.cpp:4135</a></div></div>
<div class="ttc" id="aclassCharacter_html_abdb9ea1ca921f04ee1b323fd904c1d7b"><div class="ttname"><a href="classCharacter.html#abdb9ea1ca921f04ee1b323fd904c1d7b">Character::melee_weakpoint_skill</a></div><div class="ttdeci">float melee_weakpoint_skill(const item &amp;weapon) const</div><div class="ttdoc">The character's skill in hitting a weakpoint.</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00086">weakpoint.cpp:86</a></div></div>
<div class="ttc" id="aclassCharacter_html_adac3431fb1398a94b0efa74945af8484"><div class="ttname"><a href="classCharacter.html#adac3431fb1398a94b0efa74945af8484">Character::get_limb_score</a></div><div class="ttdeci">float get_limb_score(const limb_score_id &amp;score, const body_part_type::type &amp;bp=body_part_type::type::num_types, int override_encumb=-1, int override_wounds=-1) const</div><div class="ttdef"><b>Definition:</b> <a href="character__modifier_8cpp_source.html#l00226">character_modifier.cpp:226</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02715">character.h:2715</a></div></div>
<div class="ttc" id="aclassCharacter_html_aeff797c56135f80077eac9d0746e4d48"><div class="ttname"><a href="classCharacter.html#aeff797c56135f80077eac9d0746e4d48">Character::get_proficiency_practice</a></div><div class="ttdeci">float get_proficiency_practice(const proficiency_id &amp;prof) const</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00024">character_proficiency.cpp:24</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a55d12f92d62a7c89c44b466d7e7cb00d"><div class="ttname"><a href="classCreature.html#a55d12f92d62a7c89c44b466d7e7cb00d">Creature::as_character</a></div><div class="ttdeci">virtual Character * as_character()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00274">creature.h:274</a></div></div>
<div class="ttc" id="aclassCreature_html_a5881c150a3ed435f757e0b34b0d1009e"><div class="ttname"><a href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">Creature::get_name</a></div><div class="ttdeci">virtual std::string get_name() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00604">creature.h:604</a></div></div>
<div class="ttc" id="aclassCreature_html_a6e1819fd37a50af66566c6d1b896572a"><div class="ttname"><a href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">Creature::get_hp_max</a></div><div class="ttdeci">virtual int get_hp_max(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02765">creature.cpp:2765</a></div></div>
<div class="ttc" id="aclassCreature_html_a90636bbf110025587c181fad389d616c"><div class="ttname"><a href="classCreature.html#a90636bbf110025587c181fad389d616c">Creature::as_monster</a></div><div class="ttdeci">virtual monster * as_monster()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00292">creature.h:292</a></div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00346">flexbuffer_json.h:347</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a271bf0c222d2a7c97329df4362ae6a54"><div class="ttname"><a href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">JsonObject::has_int</a></div><div class="ttdeci">bool has_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00956">flexbuffer_json-inl.h:956</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a27d2a26ef82330d0e2aeb895f115e058"><div class="ttname"><a href="classJsonObject.html#a27d2a26ef82330d0e2aeb895f115e058">JsonObject::has_float</a></div><div class="ttdeci">bool has_float(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00961">flexbuffer_json-inl.h:961</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a3b9722313d9692826235c87e73e94f04"><div class="ttname"><a href="classJsonObject.html#a3b9722313d9692826235c87e73e94f04">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00864">flexbuffer_json-inl.h:864</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a532ea812759469d654c7fde4738d11d5"><div class="ttname"><a href="classJsonObject.html#a532ea812759469d654c7fde4738d11d5">JsonObject::get_int</a></div><div class="ttdeci">int get_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00840">flexbuffer_json-inl.h:840</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a5f667e8992f908b82149bb7a2d9ec0de"><div class="ttname"><a href="classJsonObject.html#a5f667e8992f908b82149bb7a2d9ec0de">JsonObject::has_bool</a></div><div class="ttdeci">bool has_bool(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00978">flexbuffer_json-inl.h:978</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a62e862f0390ad12302c9677069fb9d23"><div class="ttname"><a href="classJsonObject.html#a62e862f0390ad12302c9677069fb9d23">JsonObject::has_object</a></div><div class="ttdeci">bool has_object(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00990">flexbuffer_json-inl.h:990</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a7d82ab1c2da0cb67c6315b86104c3c84"><div class="ttname"><a href="classJsonObject.html#a7d82ab1c2da0cb67c6315b86104c3c84">JsonObject::get_float</a></div><div class="ttdeci">double get_float(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00845">flexbuffer_json-inl.h:845</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ac8dd6467300eb62e7ce842c3d99c083e"><div class="ttname"><a href="classJsonObject.html#ac8dd6467300eb62e7ce842c3d99c083e">JsonObject::has_string</a></div><div class="ttdeci">bool has_string(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00972">flexbuffer_json-inl.h:972</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00166">flexbuffer_json.h:167</a></div></div>
<div class="ttc" id="aclassJsonValue_html_a0af34c133b1b07979137f415b1508c69"><div class="ttname"><a href="classJsonValue.html#a0af34c133b1b07979137f415b1508c69">JsonValue::get_string</a></div><div class="ttdeci">std::string get_string() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00234">flexbuffer_json-inl.h:234</a></div></div>
<div class="ttc" id="aclassJsonValue_html_aa90309342403c2e86b358ce996e34a1f"><div class="ttname"><a href="classJsonValue.html#aa90309342403c2e86b358ce996e34a1f">JsonValue::get_object</a></div><div class="ttdeci">JsonObject get_object() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00268">flexbuffer_json-inl.h:268</a></div></div>
<div class="ttc" id="aclassJsonValue_html_ab4604bb5c981402bd376a8302b4546fa"><div class="ttname"><a href="classJsonValue.html#ab4604bb5c981402bd376a8302b4546fa">JsonValue::test_string</a></div><div class="ttdeci">bool test_string() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00201">flexbuffer_json-inl.h:201</a></div></div>
<div class="ttc" id="aclasseffect__source_html"><div class="ttname"><a href="classeffect__source.html">effect_source</a></div><div class="ttdef"><b>Definition:</b> <a href="effect__source_8h_source.html#l00020">effect_source.h:21</a></div></div>
<div class="ttc" id="aclasseffect_html"><div class="ttname"><a href="classeffect.html">effect</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00260">effect.h:261</a></div></div>
<div class="ttc" id="aclassgeneric__factory_html"><div class="ttname"><a href="classgeneric__factory.html">generic_factory</a></div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00119">generic_factory.h:120</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a3d8542661f2e2a82e8cb3792584912f3"><div class="ttname"><a href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">item::gun_skill</a></div><div class="ttdeci">skill_id gun_skill() const</div><div class="ttdoc">The skill used to operate the gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10391">item.cpp:10391</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00931">item.cpp:931</a></div></div>
<div class="ttc" id="aclassitem_html_a634166a0674bcf69eb3874c7e7789344"><div class="ttname"><a href="classitem.html#a634166a0674bcf69eb3874c7e7789344">item::melee_skill</a></div><div class="ttdeci">skill_id melee_skill() const</div><div class="ttdoc">The most relevant skill used with this melee weapon.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10418">item.cpp:10418</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_a34c23a00051674235ed13bb0b5e4778c"><div class="ttname"><a href="classmonster.html#a34c23a00051674235ed13bb0b5e4778c">monster::weakpoint_skill</a></div><div class="ttdeci">float weakpoint_skill() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00072">weakpoint.cpp:72</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00550">monster.h:550</a></div></div>
<div class="ttc" id="aclassproficiency_html"><div class="ttname"><a href="classproficiency.html">proficiency</a></div><div class="ttdef"><b>Definition:</b> <a href="proficiency_8h_source.html#l00063">proficiency.h:64</a></div></div>
<div class="ttc" id="aclassproficiency_html_a4ec86c39cae5ad606f050505ef8aa991"><div class="ttname"><a href="classproficiency.html#a4ec86c39cae5ad606f050505ef8aa991">proficiency::default_weakpoint_penalty</a></div><div class="ttdeci">float default_weakpoint_penalty() const</div><div class="ttdef"><b>Definition:</b> <a href="proficiency_8cpp_source.html#l00195">proficiency.cpp:195</a></div></div>
<div class="ttc" id="aclassproficiency_html_aec88d8a3b00b25d4460f70f44a7092bb"><div class="ttname"><a href="classproficiency.html#aec88d8a3b00b25d4460f70f44a7092bb">proficiency::default_weakpoint_bonus</a></div><div class="ttdeci">float default_weakpoint_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="proficiency_8cpp_source.html#l00190">proficiency.cpp:190</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; limb_score &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a1b2100ed077789ba45aaf5081791b36c"><div class="ttname"><a href="classstring__id.html#a1b2100ed077789ba45aaf5081791b36c">string_id&lt; damage_type &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; damage_type &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00071">achievement.cpp:71</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00078">achievement.cpp:78</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00221">calendar.h:221</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a20688ca0a8848ec0d73636ede90d27ad"><div class="ttname"><a href="classtime__duration.html#a20688ca0a8848ec0d73636ede90d27ad">time_duration::from_minutes</a></div><div class="ttdeci">static constexpr time_duration from_minutes(const T m)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00233">calendar.h:233</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a24e810d76ce97cfab15fbe68a32a00ca"><div class="ttname"><a href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a></div><div class="ttdeci">static constexpr time_duration from_seconds(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00229">calendar.h:229</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="acreature_8h_html"><div class="ttname"><a href="creature_8h.html">creature.h</a></div></div>
<div class="ttc" id="acreature_8h_html_a299ec0c42ccc5a2d79d1739428ac3210"><div class="ttname"><a href="creature_8h.html#a299ec0c42ccc5a2d79d1739428ac3210">intensity</a></div><div class="ttdeci">int intensity</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00240">creature.h:240</a></div></div>
<div class="ttc" id="acreature_8h_html_a725ad3ab8ebc8c0de4689369a15e1380"><div class="ttname"><a href="creature_8h.html#a725ad3ab8ebc8c0de4689369a15e1380">permanent</a></div><div class="ttdeci">bool permanent</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00239">creature.h:239</a></div></div>
<div class="ttc" id="adamage_8cpp_html_a73cbc152b1401bb2312ca654430fe17b"><div class="ttname"><a href="damage_8cpp.html#a73cbc152b1401bb2312ca654430fe17b">load_damage_map</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; load_damage_map(const JsonObject &amp;jo, const std::set&lt; std::string &gt; &amp;ignored_keys)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00768">damage.cpp:768</a></div></div>
<div class="ttc" id="adamage_8cpp_html_af8824edc46ec813a219b406a87271f69"><div class="ttname"><a href="damage_8cpp.html#af8824edc46ec813a219b406a87271f69">finalize_damage_map</a></div><div class="ttdeci">void finalize_damage_map(std::unordered_map&lt; damage_type_id, float &gt; &amp;damage_map, bool force_derive, float default_value)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00781">damage.cpp:781</a></div></div>
<div class="ttc" id="adamage_8h_html"><div class="ttname"><a href="damage_8h.html">damage.h</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aeffect__source_8h_html"><div class="ttname"><a href="effect__source_8h.html">effect_source.h</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00347">enums.h:347</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html"><div class="ttname"><a href="generic__factory_8h.html">generic_factory.h</a></div><div class="ttdoc">Helper for loading from JSON.</div></div>
<div class="ttc" id="aitem_8cpp_html_a69e37326c7c5f142d13f8ac8e070b728"><div class="ttname"><a href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00248">item.cpp:248</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">static constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01566">magic.cpp:1566</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">static constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01567">magic.cpp:1567</a></div></div>
<div class="ttc" id="amake__static_8h_html"><div class="ttname"><a href="make__static_8h.html">make_static.h</a></div></div>
<div class="ttc" id="amake__static_8h_html_ad8ea997925f9b41fffbf138f4c05e09f"><div class="ttname"><a href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a></div><div class="ttdeci">#define STATIC(expr)</div><div class="ttdoc">The purpose of this macro is to provide a concise syntax for creation of inline literals (std::string...</div><div class="ttdef"><b>Definition:</b> <a href="make__static_8h_source.html#l00031">make_static.h:31</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_aeb3bbc4ec861ea58cbfca028920e4cc6"><div class="ttname"><a href="math__parser__func_8h.html#aeb3bbc4ec861ea58cbfca028920e4cc6">sqrt</a></div><div class="ttdeci">double sqrt(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00061">math_parser_func.h:61</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a3ea1aed1d11cd410cce07fb5be7aa34f"><div class="ttname"><a href="messages_8cpp.html#a3ea1aed1d11cd410cce07fb5be7aa34f">add_msg_if_player_sees</a></div><div class="ttdeci">void add_msg_if_player_sees(const tripoint &amp;target, std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l01007">messages.cpp:1007</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="amonster_8h_html"><div class="ttname"><a href="monster_8h.html">monster.h</a></div></div>
<div class="ttc" id="amtype_8h_html"><div class="ttname"><a href="mtype_8h.html">mtype.h</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02weakpoint_8cpp_03_html_ad3e0afcacd561618f989e5cb1bf23447"><div class="ttname"><a href="namespaceanonymous__namespace_02weakpoint_8cpp_03.html#ad3e0afcacd561618f989e5cb1bf23447">anonymous_namespace{weakpoint.cpp}::weakpoints_factory</a></div><div class="ttdeci">generic_factory&lt; weakpoints &gt; weakpoints_factory(&quot;weakpoint sets&quot;)</div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2af89f1588bb30d81d64b742d34658db06">debugmode::DF_MONSTER</a></div><div class="ttdeci">@ DF_MONSTER</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00265">debug.h:265</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a1656310f8cda3861f3d3b54ef657c691"><div class="ttname"><a href="namespacemath__opers.html#a1656310f8cda3861f3d3b54ef657c691">math_opers::mul</a></div><div class="ttdeci">constexpr double mul(double l, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00218">math_parser_impl.h:218</a></div></div>
<div class="ttc" id="anamespacemelee_html"><div class="ttname"><a href="namespacemelee.html">melee</a></div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02994">melee.cpp:2995</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a27cad92b0d05637eb934f1a7f3424e41"><div class="ttname"><a href="namespaceom__direction.html#a27cad92b0d05637eb934f1a7f3424e41">om_direction::all</a></div><div class="ttdeci">const std::array&lt; type, 4 &gt; all</div><div class="ttdoc">For the purposes of iteration.</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00065">omdata.h:65</a></div></div>
<div class="ttc" id="anamespacespell__effect_html_a5190e06459a4d2190d8d029a4fba6d09"><div class="ttname"><a href="namespacespell__effect.html#a5190e06459a4d2190d8d029a4fba6d09">spell_effect::bash</a></div><div class="ttdeci">void bash(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l01651">magic_spell_effect.cpp:1651</a></div></div>
<div class="ttc" id="anamespacespell__effect_html_acfe36e6436b9cc2e3060fc5541bded22"><div class="ttname"><a href="namespacespell__effect.html#acfe36e6436b9cc2e3060fc5541bded22">spell_effect::attack</a></div><div class="ttdeci">void attack(const spell &amp;sp, Creature &amp;caster, const tripoint &amp;epicenter)</div><div class="ttdef"><b>Definition:</b> <a href="magic__spell__effect_8cpp_source.html#l00581">magic_spell_effect.cpp:581</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00027">rng.cpp:27</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00132">damage.h:132</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00133">damage.h:133</a></div></div>
<div class="ttc" id="astructdamage__type_html"><div class="ttname"><a href="structdamage__type.html">damage_type</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00028">damage.h:28</a></div></div>
<div class="ttc" id="astructdamage__type_html_a8057111c96d1ac54f8ed72b6ae911775"><div class="ttname"><a href="structdamage__type.html#a8057111c96d1ac54f8ed72b6ae911775">damage_type::get_all</a></div><div class="ttdeci">static const std::vector&lt; damage_type &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00078">damage.cpp:78</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00110">damage.h:110</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00112">damage.h:112</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a80a647d679545a588270b289a6a13dd3"><div class="ttname"><a href="structdamage__unit.html#a80a647d679545a588270b289a6a13dd3">damage_unit::type</a></div><div class="ttdeci">damage_type_id type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00111">damage.h:111</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a8c5cf76dd074bd5dac9b76aaece0ecf4"><div class="ttname"><a href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_unit::damage_multiplier</a></div><div class="ttdeci">float damage_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00115">damage.h:115</a></div></div>
<div class="ttc" id="astructmtype_html_a235df1c169577eb7cf43baedc92654ce"><div class="ttname"><a href="structmtype.html#a235df1c169577eb7cf43baedc92654ce">mtype::families</a></div><div class="ttdeci">weakpoint_families families</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00338">mtype.h:338</a></div></div>
<div class="ttc" id="astructmtype_html_a575a59af47aec8bf8bfb9021eb4dddf5"><div class="ttname"><a href="structmtype.html#a575a59af47aec8bf8bfb9021eb4dddf5">mtype::melee_skill</a></div><div class="ttdeci">int melee_skill</div><div class="ttdoc">moves per regular attack</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00429">mtype.h:429</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructresistances_html"><div class="ttname"><a href="structresistances.html">resistances</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00204">damage.h:204</a></div></div>
<div class="ttc" id="astructresistances_html_a2360b00d9d46ab595d0ca46429c056e6"><div class="ttname"><a href="structresistances.html#a2360b00d9d46ab595d0ca46429c056e6">resistances::resist_vals</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; resist_vals</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00205">damage.h:205</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html"><div class="ttname"><a href="structweakpoint__attack.html">weakpoint_attack</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00024">weakpoint.h:24</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a0391e9e0c5d21059e9b96a1873f80f3b"><div class="ttname"><a href="structweakpoint__attack.html#a0391e9e0c5d21059e9b96a1873f80f3b">weakpoint_attack::type_of_melee_attack</a></div><div class="ttdeci">static attack_type type_of_melee_attack(const damage_instance &amp;damage)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00334">weakpoint.cpp:334</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a0dd6f503710c5851bab2e59107d40ab3"><div class="ttname"><a href="structweakpoint__attack.html#a0dd6f503710c5851bab2e59107d40ab3">weakpoint_attack::is_thrown</a></div><div class="ttdeci">bool is_thrown</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00044">weakpoint.h:44</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a3bcc95cddf3cc9e81c2f3c82cc63046c"><div class="ttname"><a href="structweakpoint__attack.html#a3bcc95cddf3cc9e81c2f3c82cc63046c">weakpoint_attack::wp_skill</a></div><div class="ttdeci">float wp_skill</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00048">weakpoint.h:48</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a78f688fd78edda2cd70eafb7763d8a2d"><div class="ttname"><a href="structweakpoint__attack.html#a78f688fd78edda2cd70eafb7763d8a2d">weakpoint_attack::compute_wp_skill</a></div><div class="ttdeci">void compute_wp_skill()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00355">weakpoint.cpp:355</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_a85754f75a50124902f33c1a18caee4bd"><div class="ttname"><a href="structweakpoint__attack.html#a85754f75a50124902f33c1a18caee4bd">weakpoint_attack::source</a></div><div class="ttdeci">const Creature * source</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00036">weakpoint.h:36</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_ad525af63dcff515fffe3c6a4a54b8378"><div class="ttname"><a href="structweakpoint__attack.html#ad525af63dcff515fffe3c6a4a54b8378">weakpoint_attack::type</a></div><div class="ttdeci">attack_type type</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00042">weakpoint.h:42</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_adc814f7f7abf2ebb62c6f1725cce9d38"><div class="ttname"><a href="structweakpoint__attack.html#adc814f7f7abf2ebb62c6f1725cce9d38">weakpoint_attack::target</a></div><div class="ttdeci">const Creature * target</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00038">weakpoint.h:38</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_ae664f5f986988664c1d003823baac178"><div class="ttname"><a href="structweakpoint__attack.html#ae664f5f986988664c1d003823baac178">weakpoint_attack::weakpoint_attack</a></div><div class="ttdeci">weakpoint_attack()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00324">weakpoint.cpp:324</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_aed78ef37bb4ef0b99cc10318b569c016"><div class="ttname"><a href="structweakpoint__attack.html#aed78ef37bb4ef0b99cc10318b569c016">weakpoint_attack::weapon</a></div><div class="ttdeci">const item * weapon</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00040">weakpoint.h:40</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7">weakpoint_attack::attack_type</a></div><div class="ttdeci">attack_type</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00025">weakpoint.h:25</a></div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7a3a756c32093588c58e4bf0bed1fe0867"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a3a756c32093588c58e4bf0bed1fe0867">weakpoint_attack::attack_type::MELEE_CUT</a></div><div class="ttdeci">@ MELEE_CUT</div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7a46dccab75ce652352e52086601fdc294"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7a46dccab75ce652352e52086601fdc294">weakpoint_attack::attack_type::PROJECTILE</a></div><div class="ttdeci">@ PROJECTILE</div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ab50339a10e1de285ac99d4c3990b8693">weakpoint_attack::attack_type::NONE</a></div><div class="ttdeci">@ NONE</div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7ac73898ef18473f659b76d0f0ee0cf622"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ac73898ef18473f659b76d0f0ee0cf622">weakpoint_attack::attack_type::MELEE_STAB</a></div><div class="ttdeci">@ MELEE_STAB</div></div>
<div class="ttc" id="astructweakpoint__attack_html_af7769df3afa75bd4447aa60150f2c0f7ae9e9092f7e78a69348e8da001d6dd237"><div class="ttname"><a href="structweakpoint__attack.html#af7769df3afa75bd4447aa60150f2c0f7ae9e9092f7e78a69348e8da001d6dd237">weakpoint_attack::attack_type::MELEE_BASH</a></div><div class="ttdeci">@ MELEE_BASH</div></div>
<div class="ttc" id="astructweakpoint__difficulty_html_a6b6f786d6df1a2f079b69cbe4b053f2b"><div class="ttname"><a href="structweakpoint__difficulty.html#a6b6f786d6df1a2f079b69cbe4b053f2b">weakpoint_difficulty::difficulty</a></div><div class="ttdeci">std::array&lt; float, static_cast&lt; int &gt; weakpoint_attack::attack_type::NUM)&gt; difficulty</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00083">weakpoint.h:83</a></div></div>
<div class="ttc" id="astructweakpoint__difficulty_html_a70935a59893d66a9bdd7f739e8dbafa9"><div class="ttname"><a href="structweakpoint__difficulty.html#a70935a59893d66a9bdd7f739e8dbafa9">weakpoint_difficulty::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00223">weakpoint.cpp:223</a></div></div>
<div class="ttc" id="astructweakpoint__difficulty_html_af9f4ed689ba6a44f6ee1e68b00912c84"><div class="ttname"><a href="structweakpoint__difficulty.html#af9f4ed689ba6a44f6ee1e68b00912c84">weakpoint_difficulty::of</a></div><div class="ttdeci">float of(const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00218">weakpoint.cpp:218</a></div></div>
<div class="ttc" id="astructweakpoint__difficulty_html_afd36a46d7e60204917c9f59f46d8365f"><div class="ttname"><a href="structweakpoint__difficulty.html#afd36a46d7e60204917c9f59f46d8365f">weakpoint_difficulty::weakpoint_difficulty</a></div><div class="ttdeci">weakpoint_difficulty(float default_value)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00213">weakpoint.cpp:213</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html"><div class="ttname"><a href="structweakpoint__effect.html">weakpoint_effect</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00058">weakpoint.h:58</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a175686df4dcadf24bd628a2b6c295cd7"><div class="ttname"><a href="structweakpoint__effect.html#a175686df4dcadf24bd628a2b6c295cd7">weakpoint_effect::message</a></div><div class="ttdeci">translation message</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00072">weakpoint.h:72</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a2820316cd6a78413c11e6d7cea213995"><div class="ttname"><a href="structweakpoint__effect.html#a2820316cd6a78413c11e6d7cea213995">weakpoint_effect::intensity</a></div><div class="ttdeci">std::pair&lt; int, int &gt; intensity</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00068">weakpoint.h:68</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a2d0a16c0ae19496cd566e21c3db086c5"><div class="ttname"><a href="structweakpoint__effect.html#a2d0a16c0ae19496cd566e21c3db086c5">weakpoint_effect::get_message</a></div><div class="ttdeci">std::string get_message() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00262">weakpoint.cpp:262</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a4d53cc558452f3a5b3cf125c4892ac91"><div class="ttname"><a href="structweakpoint__effect.html#a4d53cc558452f3a5b3cf125c4892ac91">weakpoint_effect::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00289">weakpoint.cpp:289</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a65949608af053b0525378d23d8eecb49"><div class="ttname"><a href="structweakpoint__effect.html#a65949608af053b0525378d23d8eecb49">weakpoint_effect::duration</a></div><div class="ttdeci">std::pair&lt; int, int &gt; duration</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00066">weakpoint.h:66</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a70d22539ee69ac896a9c569313a8e7b0"><div class="ttname"><a href="structweakpoint__effect.html#a70d22539ee69ac896a9c569313a8e7b0">weakpoint_effect::permanent</a></div><div class="ttdeci">bool permanent</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00064">weakpoint.h:64</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a748d46577632ca968894d4c7f48188a0"><div class="ttname"><a href="structweakpoint__effect.html#a748d46577632ca968894d4c7f48188a0">weakpoint_effect::chance</a></div><div class="ttdeci">float chance</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00062">weakpoint.h:62</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_a8643225447c3f3e3608f89b8ec44f45b"><div class="ttname"><a href="structweakpoint__effect.html#a8643225447c3f3e3608f89b8ec44f45b">weakpoint_effect::apply_to</a></div><div class="ttdeci">void apply_to(Creature &amp;target, int total_damage, const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00267">weakpoint.cpp:267</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_aba24e2f01d89629b39855e65912a9f26"><div class="ttname"><a href="structweakpoint__effect.html#aba24e2f01d89629b39855e65912a9f26">weakpoint_effect::weakpoint_effect</a></div><div class="ttdeci">weakpoint_effect()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00255">weakpoint.cpp:255</a></div></div>
<div class="ttc" id="astructweakpoint__effect_html_abcb8d031d867ac3f8fc661579a2ce5e7"><div class="ttname"><a href="structweakpoint__effect.html#abcb8d031d867ac3f8fc661579a2ce5e7">weakpoint_effect::damage_required</a></div><div class="ttdeci">std::pair&lt; float, float &gt; damage_required</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00070">weakpoint.h:70</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_a22bd9d86b223ac3af4b2404db314fdd6"><div class="ttname"><a href="structweakpoint__families.html#a22bd9d86b223ac3af4b2404db314fdd6">weakpoint_families::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00174">weakpoint.cpp:174</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_a27fcdec3cf3f0da1439d2980e77e1569"><div class="ttname"><a href="structweakpoint__families.html#a27fcdec3cf3f0da1439d2980e77e1569">weakpoint_families::remove</a></div><div class="ttdeci">void remove(const JsonArray &amp;ja)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00197">weakpoint.cpp:197</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_a81d21759d62a6e4bef0e4b46061b4b8b"><div class="ttname"><a href="structweakpoint__families.html#a81d21759d62a6e4bef0e4b46061b4b8b">weakpoint_families::load</a></div><div class="ttdeci">void load(const JsonArray &amp;ja)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00179">weakpoint.cpp:179</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_a826000adab09213b00d7c5e235b33539"><div class="ttname"><a href="structweakpoint__families.html#a826000adab09213b00d7c5e235b33539">weakpoint_families::practice_kill</a></div><div class="ttdeci">bool practice_kill(Character &amp;learner) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00146">weakpoint.cpp:146</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_aa5042c7b4b87120f4738dce418de0716"><div class="ttname"><a href="structweakpoint__families.html#aa5042c7b4b87120f4738dce418de0716">weakpoint_families::practice</a></div><div class="ttdeci">bool practice(Character &amp;learner, const time_duration &amp;amount) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00127">weakpoint.cpp:127</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_aac90f0d2afdeb2b502f307c0d338f476"><div class="ttname"><a href="structweakpoint__families.html#aac90f0d2afdeb2b502f307c0d338f476">weakpoint_families::families</a></div><div class="ttdeci">std::vector&lt; weakpoint_family &gt; families</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00106">weakpoint.h:106</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_abdaaef0bc1f07484516971ef3ef28368"><div class="ttname"><a href="structweakpoint__families.html#abdaaef0bc1f07484516971ef3ef28368">weakpoint_families::modifier</a></div><div class="ttdeci">float modifier(const Character &amp;attacker) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00165">weakpoint.cpp:165</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_ad035a97bb4e111ad235f63a7c58f0959"><div class="ttname"><a href="structweakpoint__families.html#ad035a97bb4e111ad235f63a7c58f0959">weakpoint_families::practice_hit</a></div><div class="ttdeci">bool practice_hit(Character &amp;learner) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00141">weakpoint.cpp:141</a></div></div>
<div class="ttc" id="astructweakpoint__families_html_afb4e3e6302b3239b839705c497a313c5"><div class="ttname"><a href="structweakpoint__families.html#afb4e3e6302b3239b839705c497a313c5">weakpoint_families::practice_dissect</a></div><div class="ttdeci">bool practice_dissect(Character &amp;learner) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00151">weakpoint.cpp:151</a></div></div>
<div class="ttc" id="astructweakpoint__family_html"><div class="ttname"><a href="structweakpoint__family.html">weakpoint_family</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00090">weakpoint.h:90</a></div></div>
<div class="ttc" id="astructweakpoint__family_html_a092fad7e6bc9f4eaa09a40658f55f3ef"><div class="ttname"><a href="structweakpoint__family.html#a092fad7e6bc9f4eaa09a40658f55f3ef">weakpoint_family::bonus</a></div><div class="ttdeci">std::optional&lt; float &gt; bonus</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00096">weakpoint.h:96</a></div></div>
<div class="ttc" id="astructweakpoint__family_html_a59f95952a7f91e5693994036ab69163e"><div class="ttname"><a href="structweakpoint__family.html#a59f95952a7f91e5693994036ab69163e">weakpoint_family::modifier</a></div><div class="ttdeci">float modifier(const Character &amp;attacker) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00103">weakpoint.cpp:103</a></div></div>
<div class="ttc" id="astructweakpoint__family_html_a848223e87b9ae5e8e2699a1e39f396d2"><div class="ttname"><a href="structweakpoint__family.html#a848223e87b9ae5e8e2699a1e39f396d2">weakpoint_family::penalty</a></div><div class="ttdeci">std::optional&lt; float &gt; penalty</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00098">weakpoint.h:98</a></div></div>
<div class="ttc" id="astructweakpoint__family_html_ae38a86c57b11af0a2ead7593903ff060"><div class="ttname"><a href="structweakpoint__family.html#ae38a86c57b11af0a2ead7593903ff060">weakpoint_family::proficiency</a></div><div class="ttdeci">proficiency_id proficiency</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00094">weakpoint.h:94</a></div></div>
<div class="ttc" id="astructweakpoint__family_html_ae8c071f95d72315c9f7dcee2c698ff3c"><div class="ttname"><a href="structweakpoint__family.html#ae8c071f95d72315c9f7dcee2c698ff3c">weakpoint_family::load</a></div><div class="ttdeci">void load(const JsonValue &amp;jsin)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00110">weakpoint.cpp:110</a></div></div>
<div class="ttc" id="astructweakpoint_html"><div class="ttname"><a href="structweakpoint.html">weakpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00120">weakpoint.h:120</a></div></div>
<div class="ttc" id="astructweakpoint_html_a0fcb7e288736cb6ca592c8f326b85c22"><div class="ttname"><a href="structweakpoint.html#a0fcb7e288736cb6ca592c8f326b85c22">weakpoint::effects</a></div><div class="ttdeci">std::vector&lt; weakpoint_effect &gt; effects</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00138">weakpoint.h:138</a></div></div>
<div class="ttc" id="astructweakpoint_html_a166af54eaddb3df736a703780f4905df"><div class="ttname"><a href="structweakpoint.html#a166af54eaddb3df736a703780f4905df">weakpoint::get_name</a></div><div class="ttdeci">std::string get_name() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00467">weakpoint.cpp:467</a></div></div>
<div class="ttc" id="astructweakpoint_html_a3896f70583d35345f8be4a40d81621bf"><div class="ttname"><a href="structweakpoint.html#a3896f70583d35345f8be4a40d81621bf">weakpoint::coverage_mult</a></div><div class="ttdeci">weakpoint_difficulty coverage_mult</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00140">weakpoint.h:140</a></div></div>
<div class="ttc" id="astructweakpoint_html_a3f3f19cc0579c52ca608829b5b80ebd8"><div class="ttname"><a href="structweakpoint.html#a3f3f19cc0579c52ca608829b5b80ebd8">weakpoint::apply_to</a></div><div class="ttdeci">void apply_to(resistances &amp;resistances) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00472">weakpoint.cpp:472</a></div></div>
<div class="ttc" id="astructweakpoint_html_a40513526b0ebeca2dbb4229c39dd9a5c"><div class="ttname"><a href="structweakpoint.html#a40513526b0ebeca2dbb4229c39dd9a5c">weakpoint::weakpoint</a></div><div class="ttdeci">weakpoint()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00395">weakpoint.cpp:395</a></div></div>
<div class="ttc" id="astructweakpoint_html_a42972459071c74e89dd8a629d7b31b56"><div class="ttname"><a href="structweakpoint.html#a42972459071c74e89dd8a629d7b31b56">weakpoint::crit_mult</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; crit_mult</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00134">weakpoint.h:134</a></div></div>
<div class="ttc" id="astructweakpoint_html_a5c5a61a04d1b4f0e87d648aa26b0372a"><div class="ttname"><a href="structweakpoint.html#a5c5a61a04d1b4f0e87d648aa26b0372a">weakpoint::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00400">weakpoint.cpp:400</a></div></div>
<div class="ttc" id="astructweakpoint_html_a5efcc17d004857155b080be780fe70be"><div class="ttname"><a href="structweakpoint.html#a5efcc17d004857155b080be780fe70be">weakpoint::armor_mult</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; armor_mult</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00128">weakpoint.h:128</a></div></div>
<div class="ttc" id="astructweakpoint_html_a642912993693bed310f6d612d45fe062"><div class="ttname"><a href="structweakpoint.html#a642912993693bed310f6d612d45fe062">weakpoint::required_effects</a></div><div class="ttdeci">std::vector&lt; efftype_id &gt; required_effects</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00136">weakpoint.h:136</a></div></div>
<div class="ttc" id="astructweakpoint_html_a69d6ba455a2a68526931c61fc7c990e7"><div class="ttname"><a href="structweakpoint.html#a69d6ba455a2a68526931c61fc7c990e7">weakpoint::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00122">weakpoint.h:122</a></div></div>
<div class="ttc" id="astructweakpoint_html_a99c125ae5c257e02f6ed53824d0f1ca4"><div class="ttname"><a href="structweakpoint.html#a99c125ae5c257e02f6ed53824d0f1ca4">weakpoint::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00124">weakpoint.h:124</a></div></div>
<div class="ttc" id="astructweakpoint_html_aa3eb71e1987af2ff2f861e45fad7f138"><div class="ttname"><a href="structweakpoint.html#aa3eb71e1987af2ff2f861e45fad7f138">weakpoint::check</a></div><div class="ttdeci">void check() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00443">weakpoint.cpp:443</a></div></div>
<div class="ttc" id="astructweakpoint_html_ab7269ab10a5d00f672e4822a4286839e"><div class="ttname"><a href="structweakpoint.html#ab7269ab10a5d00f672e4822a4286839e">weakpoint::damage_mult</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; damage_mult</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00132">weakpoint.h:132</a></div></div>
<div class="ttc" id="astructweakpoint_html_ac12b66901ca68c4c83e62f04dca66d1b"><div class="ttname"><a href="structweakpoint.html#ac12b66901ca68c4c83e62f04dca66d1b">weakpoint::armor_penalty</a></div><div class="ttdeci">std::unordered_map&lt; damage_type_id, float &gt; armor_penalty</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00130">weakpoint.h:130</a></div></div>
<div class="ttc" id="astructweakpoint_html_ac155d349cebfcbcaf15b488b99a2da1a"><div class="ttname"><a href="structweakpoint.html#ac155d349cebfcbcaf15b488b99a2da1a">weakpoint::coverage</a></div><div class="ttdeci">float coverage</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00126">weakpoint.h:126</a></div></div>
<div class="ttc" id="astructweakpoint_html_adea060feb8a1755f953a598ceef387d3"><div class="ttname"><a href="structweakpoint.html#adea060feb8a1755f953a598ceef387d3">weakpoint::hit_chance</a></div><div class="ttdeci">float hit_chance(const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00508">weakpoint.cpp:508</a></div></div>
<div class="ttc" id="astructweakpoint_html_aee166c8fbb6fce26c20ad947379cd744"><div class="ttname"><a href="structweakpoint.html#aee166c8fbb6fce26c20ad947379cd744">weakpoint::apply_effects</a></div><div class="ttdeci">void apply_effects(Creature &amp;target, int total_damage, const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00500">weakpoint.cpp:500</a></div></div>
<div class="ttc" id="astructweakpoint_html_af24454ae32b7152d16ea0702c4d0999c"><div class="ttname"><a href="structweakpoint.html#af24454ae32b7152d16ea0702c4d0999c">weakpoint::difficulty</a></div><div class="ttdeci">weakpoint_difficulty difficulty</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00142">weakpoint.h:142</a></div></div>
<div class="ttc" id="astructweakpoints_html"><div class="ttname"><a href="structweakpoints.html">weakpoints</a></div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00158">weakpoint.h:158</a></div></div>
<div class="ttc" id="astructweakpoints_html_a0bc5d3fc21547e408d23b41437cdd0ad"><div class="ttname"><a href="structweakpoints.html#a0bc5d3fc21547e408d23b41437cdd0ad">weakpoints::check</a></div><div class="ttdeci">void check() const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00604">weakpoint.cpp:604</a></div></div>
<div class="ttc" id="astructweakpoints_html_a1610db674cc403a7a2f57fdae3b59942"><div class="ttname"><a href="structweakpoints.html#a1610db674cc403a7a2f57fdae3b59942">weakpoints::select_weakpoint</a></div><div class="ttdeci">const weakpoint * select_weakpoint(const weakpoint_attack &amp;attack) const</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00540">weakpoint.cpp:540</a></div></div>
<div class="ttc" id="astructweakpoints_html_a29332f7eb9249d3ed7e9ac4227d95b65"><div class="ttname"><a href="structweakpoints.html#a29332f7eb9249d3ed7e9ac4227d95b65">weakpoints::reset</a></div><div class="ttdeci">static void reset()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00062">weakpoint.cpp:62</a></div></div>
<div class="ttc" id="astructweakpoints_html_a3493baca7aa2a42642c0e104cc75f7d7"><div class="ttname"><a href="structweakpoints.html#a3493baca7aa2a42642c0e104cc75f7d7">weakpoints::weakpoint_list</a></div><div class="ttdeci">std::vector&lt; weakpoint &gt; weakpoint_list</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00163">weakpoint.h:163</a></div></div>
<div class="ttc" id="astructweakpoints_html_a5192d1872db4f443476e27ad816beec8"><div class="ttname"><a href="structweakpoints.html#a5192d1872db4f443476e27ad816beec8">weakpoints::load</a></div><div class="ttdeci">void load(const JsonArray &amp;ja)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00575">weakpoint.cpp:575</a></div></div>
<div class="ttc" id="astructweakpoints_html_a5dfdb6adaf4ae425028d52ab82af089d"><div class="ttname"><a href="structweakpoints.html#a5dfdb6adaf4ae425028d52ab82af089d">weakpoints::add_from_set</a></div><div class="ttdeci">void add_from_set(const weakpoints_id &amp;set_id, bool replace_id)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00652">weakpoint.cpp:652</a></div></div>
<div class="ttc" id="astructweakpoints_html_a5ff669978d52ce5c31645743118360d5"><div class="ttname"><a href="structweakpoints.html#a5ff669978d52ce5c31645743118360d5">weakpoints::remove</a></div><div class="ttdeci">void remove(const JsonArray &amp;ja)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00621">weakpoint.cpp:621</a></div></div>
<div class="ttc" id="astructweakpoints_html_a6737da7d1b2406699bd1b252f8820919"><div class="ttname"><a href="structweakpoints.html#a6737da7d1b2406699bd1b252f8820919">weakpoints::finalize_all</a></div><div class="ttdeci">static void finalize_all()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00647">weakpoint.cpp:647</a></div></div>
<div class="ttc" id="astructweakpoints_html_a8262dcdbefb65305bf0d18b2ae7cbacf"><div class="ttname"><a href="structweakpoints.html#a8262dcdbefb65305bf0d18b2ae7cbacf">weakpoints::default_weakpoint</a></div><div class="ttdeci">weakpoint default_weakpoint</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00165">weakpoint.h:165</a></div></div>
<div class="ttc" id="astructweakpoints_html_a92f0544a76b952006cd5c9e44e252b93"><div class="ttname"><a href="structweakpoints.html#a92f0544a76b952006cd5c9e44e252b93">weakpoints::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00570">weakpoint.cpp:570</a></div></div>
<div class="ttc" id="astructweakpoints_html_aa16d0ec2c1afd08ded6e3952c5dd7e61"><div class="ttname"><a href="structweakpoints.html#aa16d0ec2c1afd08ded6e3952c5dd7e61">weakpoints::del_from_set</a></div><div class="ttdeci">void del_from_set(const weakpoints_id &amp;set_id)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00676">weakpoint.cpp:676</a></div></div>
<div class="ttc" id="astructweakpoints_html_ac2abc0a123f7515a59ee1a06585d9640"><div class="ttname"><a href="structweakpoints.html#ac2abc0a123f7515a59ee1a06585d9640">weakpoints::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00611">weakpoint.cpp:611</a></div></div>
<div class="ttc" id="astructweakpoints_html_ad42e0999d725ff7294d1b1865d6840a9"><div class="ttname"><a href="structweakpoints.html#ad42e0999d725ff7294d1b1865d6840a9">weakpoints::src</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; weakpoints_id, mod_id &gt; &gt; src</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8h_source.html#l00161">weakpoint.h:161</a></div></div>
<div class="ttc" id="astructweakpoints_html_ad625dc04e5c3cebdaf1f75209ff47b0c"><div class="ttname"><a href="structweakpoints.html#ad625dc04e5c3cebdaf1f75209ff47b0c">weakpoints::get_all</a></div><div class="ttdeci">static const std::vector&lt; weakpoints &gt; &amp; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00067">weakpoint.cpp:67</a></div></div>
<div class="ttc" id="astructweakpoints_html_ae76832f4340ea4148eb51d8c561bb9ce"><div class="ttname"><a href="structweakpoints.html#ae76832f4340ea4148eb51d8c561bb9ce">weakpoints::load_weakpoint_sets</a></div><div class="ttdeci">static void load_weakpoint_sets(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00057">weakpoint.cpp:57</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="atype__id_8h_html_a119965745ae171b731d18a45ec6ee424"><div class="ttname"><a href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a></div><div class="ttdeci">string_id&lt; damage_type &gt; damage_type_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00071">type_id.h:71</a></div></div>
<div class="ttc" id="aweakpoint_8cpp_html_a02b0c7c568a67f89acbb44010643d826"><div class="ttname"><a href="weakpoint_8cpp.html#a02b0c7c568a67f89acbb44010643d826">limb_score_reaction</a></div><div class="ttdeci">static const limb_score_id limb_score_reaction(&quot;reaction&quot;)</div></div>
<div class="ttc" id="aweakpoint_8cpp_html_a3eadead4a9aa7fee079c0b1acce7965e"><div class="ttname"><a href="weakpoint_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a></div><div class="ttdeci">static const skill_id skill_gun(&quot;gun&quot;)</div></div>
<div class="ttc" id="aweakpoint_8cpp_html_a607efc72a744bbd51a603f058fb1c1ef"><div class="ttname"><a href="weakpoint_8cpp.html#a607efc72a744bbd51a603f058fb1c1ef">limb_score_vision</a></div><div class="ttdeci">static const limb_score_id limb_score_vision(&quot;vision&quot;)</div></div>
<div class="ttc" id="aweakpoint_8cpp_html_a917f093dcdc3861c86a6adf734a52641"><div class="ttname"><a href="weakpoint_8cpp.html#a917f093dcdc3861c86a6adf734a52641">skill_melee</a></div><div class="ttdeci">static const skill_id skill_melee(&quot;melee&quot;)</div></div>
<div class="ttc" id="aweakpoint_8cpp_html_aca8ae2b9cbc86602a56a3885b72a4ed1"><div class="ttname"><a href="weakpoint_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a></div><div class="ttdeci">static const skill_id skill_throw(&quot;throw&quot;)</div></div>
<div class="ttc" id="aweakpoint_8cpp_html_ad22b82ceedf236ed05df55e661444c76"><div class="ttname"><a href="weakpoint_8cpp.html#ad22b82ceedf236ed05df55e661444c76">skill_unarmed</a></div><div class="ttdeci">static const skill_id skill_unarmed(&quot;unarmed&quot;)</div></div>
<div class="ttc" id="aweakpoint_8cpp_html_ae2378618c4e066896d2873cdaf641c5c"><div class="ttname"><a href="weakpoint_8cpp.html#ae2378618c4e066896d2873cdaf641c5c">reweigh</a></div><div class="ttdeci">static float reweigh(float base, float rolls)</div><div class="ttdef"><b>Definition:</b> <a href="weakpoint_8cpp_source.html#l00535">weakpoint.cpp:535</a></div></div>
<div class="ttc" id="aweakpoint_8h_html"><div class="ttname"><a href="weakpoint_8h.html">weakpoint.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:32 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
