<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: timed_event_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classtimed__event__manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">timed_event_manager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="timed__event_8h_source.html">timed_event.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1c1a0176abe4ee754ac79e08aebe6c84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">add</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const <a class="el" href="classtime__point.html">time_point</a> &amp;when, int <a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>=-1, int <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>=-1, const std::string &amp;key=&quot;&quot;)</td></tr>
<tr class="memdesc:a1c1a0176abe4ee754ac79e08aebe6c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an entry to the event queue.  <a href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">More...</a><br /></td></tr>
<tr class="separator:a1c1a0176abe4ee754ac79e08aebe6c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7224a3c49dcf5d0056d364031d2083a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a7224a3c49dcf5d0056d364031d2083a8">add</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const <a class="el" href="classtime__point.html">time_point</a> &amp;when, int <a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;where, int <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>=-1, const std::string &amp;key=&quot;&quot;)</td></tr>
<tr class="memdesc:a7224a3c49dcf5d0056d364031d2083a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an entry to the event queue.  <a href="classtimed__event__manager.html#a7224a3c49dcf5d0056d364031d2083a8">More...</a><br /></td></tr>
<tr class="separator:a7224a3c49dcf5d0056d364031d2083a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b97cf9b9b91b877d333b58c27ba2ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a93b97cf9b9b91b877d333b58c27ba2ba">add</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const <a class="el" href="classtime__point.html">time_point</a> &amp;when, int <a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;where, int <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, const std::string &amp;<a class="el" href="classstring__id.html">string_id</a>, const std::string &amp;key=&quot;&quot;)</td></tr>
<tr class="separator:a93b97cf9b9b91b877d333b58c27ba2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03188b4e14fc3f0bc925f382b4f4f2b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a03188b4e14fc3f0bc925f382b4f4f2b3">add</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const <a class="el" href="classtime__point.html">time_point</a> &amp;when, int <a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>, const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;where, int <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, const std::string &amp;<a class="el" href="classstring__id.html">string_id</a>, <a class="el" href="classsubmap.html">submap</a> sr, const std::string &amp;key=&quot;&quot;)</td></tr>
<tr class="separator:a03188b4e14fc3f0bc925f382b4f4f2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c96d030d64667a4cddb289ce4c90e03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a7c96d030d64667a4cddb289ce4c90e03">queued</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>) const</td></tr>
<tr class="separator:a7c96d030d64667a4cddb289ce4c90e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab6bc92343a20db84eac695f15c02ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtimed__event.html">timed_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a8ab6bc92343a20db84eac695f15c02ce">get</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>)</td></tr>
<tr class="separator:a8ab6bc92343a20db84eac695f15c02ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb77a26c484694bf057f2c3dd36daa3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtimed__event.html">timed_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#aeb77a26c484694bf057f2c3dd36daa3c">get</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, const std::string &amp;key)</td></tr>
<tr class="separator:aeb77a26c484694bf057f2c3dd36daa3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ef0c926a4f29495c5d99a8e672b396"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structtimed__event.html">timed_event</a> &gt; const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#af2ef0c926a4f29495c5d99a8e672b396">get_all</a> () const</td></tr>
<tr class="separator:af2ef0c926a4f29495c5d99a8e672b396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5691e8291009eb8582f47ab2ce0aa25a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a5691e8291009eb8582f47ab2ce0aa25a">set_all</a> (const std::string &amp;key, <a class="el" href="classtime__duration.html">time_duration</a> time_in_future)</td></tr>
<tr class="separator:a5691e8291009eb8582f47ab2ce0aa25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517599dc61bd1a24b9ea234077d10484"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a517599dc61bd1a24b9ea234077d10484">process</a> ()</td></tr>
<tr class="memdesc:a517599dc61bd1a24b9ea234077d10484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process all queued events, potentially altering the game state and modifying the event queue.  <a href="classtimed__event__manager.html#a517599dc61bd1a24b9ea234077d10484">More...</a><br /></td></tr>
<tr class="separator:a517599dc61bd1a24b9ea234077d10484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7d59436dd7d8a48761113487721aca94"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a7d59436dd7d8a48761113487721aca94">serialize_all</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;jsout)</td></tr>
<tr class="separator:a7d59436dd7d8a48761113487721aca94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfddaef9911969e9ba1c5f9c92140996"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#abfddaef9911969e9ba1c5f9c92140996">unserialize_all</a> (const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;ja)</td></tr>
<tr class="separator:abfddaef9911969e9ba1c5f9c92140996"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4bd0945ba69258d80d5d4438fad8aa79"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structtimed__event.html">timed_event</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a></td></tr>
<tr class="separator:a4bd0945ba69258d80d5d4438fad8aa79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00065">65</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a93b97cf9b9b91b877d333b58c27ba2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93b97cf9b9b91b877d333b58c27ba2ba">&#9670;&nbsp;</a></span>add() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>faction_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>where</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>string_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00402">402</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>.emplace_back( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, when, <a class="code" href="classstring__id.html">faction_id</a>, where, <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, <a class="code" href="classstring__id.html">string_id</a>, key );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; faction &gt;</a></div></div>
<div class="ttc" id="aclasstimed__event__manager_html_a4bd0945ba69258d80d5d4438fad8aa79"><div class="ttname"><a href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">timed_event_manager::events</a></div><div class="ttdeci">std::list&lt; timed_event &gt; events</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00068">timed_event.h:68</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="aproficiency_8h_html_a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c"><div class="ttname"><a href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">proficiency_bonus_type::strength</a></div><div class="ttdeci">@ strength</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="a03188b4e14fc3f0bc925f382b4f4f2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03188b4e14fc3f0bc925f382b4f4f2b3">&#9670;&nbsp;</a></span>add() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>faction_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>where</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>string_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a>&#160;</td>
          <td class="paramname"><em>sr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00411">411</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>.emplace_back( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, when, <a class="code" href="classstring__id.html">faction_id</a>, where, <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, <a class="code" href="classstring__id.html">string_id</a>, std::move( sr ), key );</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="a7224a3c49dcf5d0056d364031d2083a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7224a3c49dcf5d0056d364031d2083a8">&#9670;&nbsp;</a></span>add() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>faction_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> &amp;&#160;</td>
          <td class="paramname"><em>where</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strength</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an entry to the event queue. </p>
<p>Parameters are basically passed through to <a class="el" href="structtimed__event.html#a5298d1cb0fd7aef34f07f3bda0bd29cc">timed_event::timed_event</a>. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00394">394</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>.emplace_back( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, when, <a class="code" href="classstring__id.html">faction_id</a>, where, <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, key );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="a1c1a0176abe4ee754ac79e08aebe6c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c1a0176abe4ee754ac79e08aebe6c84">&#9670;&nbsp;</a></span>add() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>faction_id</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strength</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an entry to the event queue. </p>
<p>Parameters are basically passed through to <a class="el" href="structtimed__event.html#a5298d1cb0fd7aef34f07f3bda0bd29cc">timed_event::timed_event</a>. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00388">388</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">add</a>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, when, <a class="code" href="classstring__id.html">faction_id</a>, <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().get_location(), <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, <span class="stringliteral">&quot;&quot;</span>, key );</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclasstimed__event__manager_html_a1c1a0176abe4ee754ac79e08aebe6c84"><div class="ttname"><a href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">timed_event_manager::add</a></div><div class="ttdeci">void add(timed_event_type type, const time_point &amp;when, int faction_id=-1, int strength=-1, const std::string &amp;key=&quot;&quot;)</div><div class="ttdoc">Add an entry to the event queue.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8cpp_source.html#l00388">timed_event.cpp:388</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00895">computer_session::action_amigara_log()</a>, <a class="el" href="computer__session_8cpp_source.html#l00953">computer_session::action_amigara_start()</a>, <a class="el" href="timed__event_8cpp_source.html#l00102">timed_event::actualize()</a>, <a class="el" href="monattack_8cpp_source.html#l05545">mattack::dsa_drone_scan()</a>, <a class="el" href="npctalk_8cpp_source.html#l05749">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_custom_light_level()</a>, <a class="el" href="npctalk_8cpp_source.html#l03839">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_mapgen_update()</a>, <a class="el" href="npctalk_8cpp_source.html#l03821">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_place_override()</a>, <a class="el" href="npctalk_8cpp_source.html#l03904">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_revert_location()</a>, <a class="el" href="npctalk_8cpp_source.html#l03759">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_transform_radius()</a>, <a class="el" href="computer__session_8cpp_source.html#l01698">computer_session::failure_amigara()</a>, <a class="el" href="iexamine_8cpp_source.html#l02093">iexamine::fswitch()</a>, <a class="el" href="iexamine_8cpp_source.html#l02038">iexamine::pedestal_temple()</a>, <a class="el" href="iexamine_8cpp_source.html#l02001">iexamine::pedestal_wyrm()</a>, <a class="el" href="monattack_8cpp_source.html#l03033">mattack::photograph()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01333">trapfunc::temple_flood()</a>, <a class="el" href="magic__spell__effect_8cpp_source.html#l01165">spell_effect::timed_event()</a>, and <a class="el" href="savegame_8cpp_source.html#l01504">unserialize_all()</a>.</p>

</div>
</div>
<a id="a8ab6bc92343a20db84eac695f15c02ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab6bc92343a20db84eac695f15c02ce">&#9670;&nbsp;</a></span>get() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtimed__event.html">timed_event</a> * timed_event_manager::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>One of the queued events of the given type, or <code>nullptr</code> if no event of that type is queued. </dd></dl>

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00425">425</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structtimed__event.html">timed_event</a> &amp;e : <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a> ) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">if</span>( e.type == <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">return</span> &amp;e;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div>
<div class="ttc" id="astructtimed__event_html"><div class="ttname"><a href="structtimed__event.html">timed_event</a></div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00034">timed_event.h:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l04396">game::natural_light_level()</a>, and <a class="el" href="timed__event_8cpp_source.html#l00420">queued()</a>.</p>

</div>
</div>
<a id="aeb77a26c484694bf057f2c3dd36daa3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb77a26c484694bf057f2c3dd36daa3c">&#9670;&nbsp;</a></span>get() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtimed__event.html">timed_event</a> * timed_event_manager::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00435">435</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structtimed__event.html">timed_event</a> &amp;e : <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a> ) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">if</span>( e.type == <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> &amp;&amp; e.key == key ) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">return</span> &amp;e;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

</div>
</div>
<a id="af2ef0c926a4f29495c5d99a8e672b396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ef0c926a4f29495c5d99a8e672b396">&#9670;&nbsp;</a></span>get_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="structtimed__event.html">timed_event</a> &gt; const  &amp; timed_event_manager::get_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00445">445</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>.</p>

</div>
</div>
<a id="a517599dc61bd1a24b9ea234077d10484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a517599dc61bd1a24b9ea234077d10484">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process all queued events, potentially altering the game state and modifying the event queue. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00375">375</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>.begin(); it != <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>.end(); ) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        it-&gt;per_turn();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">if</span>( it-&gt;when &lt;= <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            it-&gt;actualize();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            it = <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a>.erase( it );</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            it++;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

</div>
</div>
<a id="a7c96d030d64667a4cddb289ce4c90e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c96d030d64667a4cddb289ce4c90e03">&#9670;&nbsp;</a></span>queued()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool timed_event_manager::queued </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether at least one element of the given type is queued. </dd></dl>

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00420">420</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="classtimed__event__manager.html">timed_event_manager</a> &amp;<span class="keyword">&gt;</span>( *this ).<a class="code" href="classtimed__event__manager.html#a8ab6bc92343a20db84eac695f15c02ce">get</a>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> ) != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="ttc" id="aclasstimed__event__manager_html"><div class="ttname"><a href="classtimed__event__manager.html">timed_event_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00065">timed_event.h:66</a></div></div>
<div class="ttc" id="aclasstimed__event__manager_html_a8ab6bc92343a20db84eac695f15c02ce"><div class="ttname"><a href="classtimed__event__manager.html#a8ab6bc92343a20db84eac695f15c02ce">timed_event_manager::get</a></div><div class="ttdeci">timed_event * get(timed_event_type type)</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8cpp_source.html#l00425">timed_event.cpp:425</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8cpp_source.html#l00425">get()</a>, and <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l04396">game::natural_light_level()</a>.</p>

</div>
</div>
<a id="a7d59436dd7d8a48761113487721aca94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d59436dd7d8a48761113487721aca94">&#9670;&nbsp;</a></span>serialize_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::serialize_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>jsout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame_8cpp_source.html#l01609">1609</a> of file <a class="el" href="savegame_8cpp_source.html">savegame.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtimed__event.html">timed_event</a> &amp;elem : <a class="code" href="game_8cpp.html#a843dd63af25a83f66fdc5ea2bea33f01">get_timed_events</a>().<a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a> ) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        jsout.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;faction&quot;</span>, elem.faction_id );</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;map_point&quot;</span>, elem.map_point );</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;map_square&quot;</span>, elem.map_square );</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;strength&quot;</span>, elem.strength );</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;string_id&quot;</span>, elem.string_id );</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;type&quot;</span>, elem.type );</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;when&quot;</span>, elem.when );</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;key&quot;</span>, elem.key );</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keywordflow">if</span>( elem.revert.is_uniform() ) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;revert&quot;</span>, elem.revert.get_ter( <a class="code" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a> ) );</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;revert&quot;</span> );</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y = 0; y &lt; <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a>; y++ ) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x = 0; x &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a>; x++ ) {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                    <a class="code" href="structpoint.html">point</a> pt( x, y );</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;point&quot;</span>, pt );</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;furn&quot;</span>, elem.revert.get_furn( pt ) );</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;ter&quot;</span>, elem.revert.get_ter( pt ) );</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;trap&quot;</span>, elem.revert.get_trap( pt ) );</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;items&quot;</span>, elem.revert.get_items( pt ) );</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                    jsout.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        jsout.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    jsout.<a class="code" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02346">json.cpp:2346</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02335">json.cpp:2335</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02316">json.cpp:2316</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02327">json.cpp:2327</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="agame_8cpp_html_a843dd63af25a83f66fdc5ea2bea33f01"><div class="ttname"><a href="game_8cpp.html#a843dd63af25a83f66fdc5ea2bea33f01">get_timed_events</a></div><div class="ttdeci">timed_event_manager &amp; get_timed_events()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13861">game.cpp:13861</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00042">game_constants.h:42</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00043">game_constants.h:43</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00251">point.h:251</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02346">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l02327">JsonOut::end_object()</a>, <a class="el" href="timed__event_8h_source.html#l00068">events</a>, <a class="el" href="game_8cpp_source.html#l13861">get_timed_events()</a>, <a class="el" href="json_8cpp_source.html#l02422">JsonOut::member()</a>, <a class="el" href="point_8h_source.html#l00251">point_zero</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="json_8cpp_source.html#l02335">JsonOut::start_array()</a>, and <a class="el" href="json_8cpp_source.html#l02316">JsonOut::start_object()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame_8cpp_source.html#l01555">game::serialize_master()</a>.</p>

</div>
</div>
<a id="a5691e8291009eb8582f47ab2ce0aa25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5691e8291009eb8582f47ab2ce0aa25a">&#9670;&nbsp;</a></span>set_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::set_all </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td>
          <td class="paramname"><em>time_in_future</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00450">450</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="structtimed__event.html">timed_event</a> &amp;e : <a class="code" href="classtimed__event__manager.html#a4bd0945ba69258d80d5d4438fad8aa79">events</a> ) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">if</span>( e.key == key ) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            e.when = <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + time_in_future;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00068">events</a>, and <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l03894">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_alter_timed_events()</a>.</p>

</div>
</div>
<a id="abfddaef9911969e9ba1c5f9c92140996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfddaef9911969e9ba1c5f9c92140996">&#9670;&nbsp;</a></span>unserialize_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event_manager::unserialize_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;&#160;</td>
          <td class="paramname"><em>ja</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame_8cpp_source.html#l01504">1504</a> of file <a class="el" href="savegame_8cpp_source.html">savegame.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;{</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> jo : ja ) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="classtime__point.html">time_point</a> when;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a53ae846eb476201fe542a1575b244239">faction_id</a>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_ms</a> <a class="code" href="namespacecoords.html#aefed5186be640da17dc0e723c536715aa843cec38e45d56c135015ed011a9791b">map_square</a>;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> map_point;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        std::string <a class="code" href="classstring__id.html">string_id</a>;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        std::string key;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <a class="code" href="classsubmap.html">submap</a> revert;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        jo.read( <span class="stringliteral">&quot;faction&quot;</span>, <a class="code" href="classstring__id.html">faction_id</a> );</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        jo.read( <span class="stringliteral">&quot;map_point&quot;</span>, map_point );</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        jo.read( <span class="stringliteral">&quot;map_square&quot;</span>, map_square, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        jo.read( <span class="stringliteral">&quot;strength&quot;</span>, <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a> );</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        jo.read( <span class="stringliteral">&quot;string_id&quot;</span>, <a class="code" href="classstring__id.html">string_id</a> );</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        jo.read( <span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> );</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        jo.read( <span class="stringliteral">&quot;when&quot;</span>, when );</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        jo.read( <span class="stringliteral">&quot;key&quot;</span>, key );</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="structpoint.html">point</a> pt;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="keywordflow">if</span>( jo.has_string( <span class="stringliteral">&quot;revert&quot;</span> ) ) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            revert.<a class="code" href="classsubmap.html#afdeb0ec7d69d9a390b2f994550a1d0ee">set_all_ter</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>( jo.get_string( <span class="stringliteral">&quot;revert&quot;</span> ) ), <span class="keyword">true</span> );</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordflow">for</span>( <a class="code" href="classJsonObject.html">JsonObject</a> jp : jo.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;revert&quot;</span> ) ) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                <span class="keywordflow">if</span>( jp.has_member( <span class="stringliteral">&quot;point&quot;</span> ) ) {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    jp.get_member( <span class="stringliteral">&quot;point&quot;</span> ).read( pt, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                revert.<a class="code" href="classsubmap.html#a2f91089185f95840e72575bad626c442">set_furn</a>( pt, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">furn_id</a>( jp.get_string( <span class="stringliteral">&quot;furn&quot;</span> ) ) );</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                revert.<a class="code" href="classsubmap.html#ad25c124e2017746b9d0329efd7e86e4e">set_ter</a>( pt, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>( jp.get_string( <span class="stringliteral">&quot;ter&quot;</span> ) ) );</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                revert.<a class="code" href="classsubmap.html#a2ba9b57ae741f456d6d2a93aa8c5c7b5">set_trap</a>( pt, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ae8e678349f93f19da25028da1f3e8a17">trap_id</a>( jp.get_string( <span class="stringliteral">&quot;trap&quot;</span> ) ) );</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                <span class="keywordflow">if</span>( jp.has_member( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                    <a class="code" href="classcata_1_1colony.html">cata::colony&lt;item&gt;</a> itm;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                    jp.get_member( <span class="stringliteral">&quot;items&quot;</span> ).read( itm, <span class="keyword">false</span> );</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                    revert.<a class="code" href="classsubmap.html#ae5d76f1627b141af2b3829980b66c450">get_items</a>( pt ) = std::move( itm );</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                <span class="comment">// We didn&#39;t always save the point, this is the original logic, it doesn&#39;t work right but for older saves at least they won&#39;t crash</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                <span class="keywordflow">if</span>( !jp.has_member( <span class="stringliteral">&quot;point&quot;</span> ) ) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                    <span class="keywordflow">if</span>( pt.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a>++ &lt; <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> ) {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                        pt.<a class="code" href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">x</a> = 0;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                        pt.<a class="code" href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">y</a>++;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                    }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <a class="code" href="game_8cpp.html#a843dd63af25a83f66fdc5ea2bea33f01">get_timed_events</a>().<a class="code" href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">add</a>( <span class="keyword">static_cast&lt;</span><a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a><span class="keyword">&gt;</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> ), when, <a class="code" href="classstring__id.html">faction_id</a>, map_square,</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                                <a class="code" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                <a class="code" href="classstring__id.html">string_id</a>, std::move( revert ), key );</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a53ae846eb476201fe542a1575b244239"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a53ae846eb476201fe542a1575b244239">cata_variant_type::faction_id</a></div><div class="ttdeci">@ faction_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">cata_variant_type::ter_id</a></div><div class="ttdeci">@ ter_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ae8e678349f93f19da25028da1f3e8a17"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ae8e678349f93f19da25028da1f3e8a17">cata_variant_type::trap_id</a></div><div class="ttdeci">@ trap_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">cata_variant_type::furn_id</a></div><div class="ttdeci">@ furn_id</div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclasscata_1_1colony_html"><div class="ttname"><a href="classcata_1_1colony.html">cata::colony&lt; item &gt;</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt;</a></div></div>
<div class="ttc" id="aclasssubmap_html"><div class="ttname"><a href="classsubmap.html">submap</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00069">submap.h:70</a></div></div>
<div class="ttc" id="aclasssubmap_html_a2ba9b57ae741f456d6d2a93aa8c5c7b5"><div class="ttname"><a href="classsubmap.html#a2ba9b57ae741f456d6d2a93aa8c5c7b5">submap::set_trap</a></div><div class="ttdeci">void set_trap(const point &amp;p, trap_id trap)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00100">submap.h:100</a></div></div>
<div class="ttc" id="aclasssubmap_html_a2f91089185f95840e72575bad626c442"><div class="ttname"><a href="classsubmap.html#a2f91089185f95840e72575bad626c442">submap::set_furn</a></div><div class="ttdeci">void set_furn(const point &amp;p, furn_id furn)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00117">submap.h:117</a></div></div>
<div class="ttc" id="aclasssubmap_html_ad25c124e2017746b9d0329efd7e86e4e"><div class="ttname"><a href="classsubmap.html#ad25c124e2017746b9d0329efd7e86e4e">submap::set_ter</a></div><div class="ttdeci">void set_ter(const point &amp;p, ter_id terr)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00145">submap.h:145</a></div></div>
<div class="ttc" id="aclasssubmap_html_ae5d76f1627b141af2b3829980b66c450"><div class="ttname"><a href="classsubmap.html#ae5d76f1627b141af2b3829980b66c450">submap::get_items</a></div><div class="ttdeci">cata::colony&lt; item &gt; &amp; get_items(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00195">submap.h:195</a></div></div>
<div class="ttc" id="aclasssubmap_html_afdeb0ec7d69d9a390b2f994550a1d0ee"><div class="ttname"><a href="classsubmap.html#afdeb0ec7d69d9a390b2f994550a1d0ee">submap::set_all_ter</a></div><div class="ttdeci">void set_all_ter(const ter_id &amp;terr, bool uniform_ok=false)</div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00150">submap.h:150</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00459">calendar.h:460</a></div></div>
<div class="ttc" id="anamespacecoords_html_aefed5186be640da17dc0e723c536715aa843cec38e45d56c135015ed011a9791b"><div class="ttname"><a href="namespacecoords.html#aefed5186be640da17dc0e723c536715aa843cec38e45d56c135015ed011a9791b">coords::scale::map_square</a></div><div class="ttdeci">@ map_square</div></div>
<div class="ttc" id="astructpoint_html_a9a82ca9504acabb1e30569f89c805471"><div class="ttname"><a href="structpoint.html#a9a82ca9504acabb1e30569f89c805471">point::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00024">point.h:24</a></div></div>
<div class="ttc" id="astructpoint_html_ad679b07fb69d55f5ad454d0f1f2891d5"><div class="ttname"><a href="structpoint.html#ad679b07fb69d55f5ad454d0f1f2891d5">point::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00023">point.h:23</a></div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a></div><div class="ttdeci">timed_event_type</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00011">timed_event.h:11</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8cpp_source.html#l00388">add()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a53ae846eb476201fe542a1575b244239">faction_id</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aedc784ee4f8f5738f6c32507c3874cdf">furn_id</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, <a class="el" href="submap_8h_source.html#l00195">submap::get_items()</a>, <a class="el" href="game_8cpp_source.html#l13861">get_timed_events()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="submap_8h_source.html#l00150">submap::set_all_ter()</a>, <a class="el" href="submap_8h_source.html#l00117">submap::set_furn()</a>, <a class="el" href="submap_8h_source.html#l00145">submap::set_ter()</a>, <a class="el" href="submap_8h_source.html#l00100">submap::set_trap()</a>, <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ace91d270e314ee1f266a1f4e30ea129b">ter_id</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ae8e678349f93f19da25028da1f3e8a17">trap_id</a>, <a class="el" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>, <a class="el" href="point_8h_source.html#l00023">point::x</a>, and <a class="el" href="point_8h_source.html#l00024">point::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame_8cpp_source.html#l01420">game::unserialize_master()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4bd0945ba69258d80d5d4438fad8aa79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bd0945ba69258d80d5d4438fad8aa79">&#9670;&nbsp;</a></span>events</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="structtimed__event.html">timed_event</a>&gt; timed_event_manager::events</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00068">68</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00394">add()</a>, <a class="el" href="timed__event_8cpp_source.html#l00425">get()</a>, <a class="el" href="timed__event_8cpp_source.html#l00445">get_all()</a>, <a class="el" href="timed__event_8cpp_source.html#l00375">process()</a>, <a class="el" href="savegame_8cpp_source.html#l01609">serialize_all()</a>, and <a class="el" href="timed__event_8cpp_source.html#l00450">set_all()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="timed__event_8h_source.html">timed_event.h</a></li>
<li>src/<a class="el" href="savegame_8cpp_source.html">savegame.cpp</a></li>
<li>src/<a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:44 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
