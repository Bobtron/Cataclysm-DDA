<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/talker_npc.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">talker_npc.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="talker__npc_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="auto__pickup_8h.html">auto_pickup.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="character__id_8h.html">character_id.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="coordinates_8h.html">coordinates.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dialogue__chatbin_8h.html">dialogue_chatbin.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="game__inventory_8h.html">game_inventory.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item__location_8h.html">item_location.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="itype_8h.html">itype.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="magic_8h.html">magic.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="make__static_8h.html">make_static.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="martialarts_8h.html">martialarts.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mission_8h.html">mission.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mission__companion_8h.html">mission_companion.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutation_8h.html">mutation.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npc_8h.html">npc.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npctalk_8h.html">npctalk.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="npctrade_8h.html">npctrade.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="output_8h.html">output.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="overmapbuffer_8h.html">overmapbuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pimpl_8h.html">pimpl.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="player__activity_8h.html">player_activity.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="proficiency_8h.html">proficiency.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ret__val_8h.html">ret_val.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="skill_8h.html">skill.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker_8h.html">talker.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="talker__npc_8h.html">talker_npc.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="units__utility_8h.html">units_utility.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">   46</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="talker__npc_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a>( <span class="stringliteral">&quot;lying_down&quot;</span> );</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">   47</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="talker__npc_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a>( <span class="stringliteral">&quot;narcosis&quot;</span> );</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">   48</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="talker__npc_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a>( <span class="stringliteral">&quot;npc_suspend&quot;</span> );</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">   49</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">efftype_id</a> <a class="code" href="talker__npc_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a>( <span class="stringliteral">&quot;sleep&quot;</span> );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">   51</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">faction_id</a> <a class="code" href="talker__npc_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">faction_no_faction</a>( <span class="stringliteral">&quot;no_faction&quot;</span> );</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a23ab798a014e7d7135089fa750c2b563">   53</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="talker__npc_8cpp.html#a23ab798a014e7d7135089fa750c2b563">itype_foodperson_mask</a>( <span class="stringliteral">&quot;foodperson_mask&quot;</span> );</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a9260a87c7c9a0df88820afa3a689dc68">   54</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">itype_id</a> <a class="code" href="talker__npc_8cpp.html#a9260a87c7c9a0df88820afa3a689dc68">itype_foodperson_mask_on</a>( <span class="stringliteral">&quot;foodperson_mask_on&quot;</span> );</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">   56</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="talker__npc_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a>( <span class="stringliteral">&quot;DEBUG_MIND_CONTROL&quot;</span> );</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a9a647a2dbecb7b90acbdbe6fba9a0256">   57</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="talker__npc_8cpp.html#a9a647a2dbecb7b90acbdbe6fba9a0256">trait_PROF_CHURL</a>( <span class="stringliteral">&quot;PROF_CHURL&quot;</span> );</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a1eb0d980d9e60655982ce0b931f4fb57">   58</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="talker__npc_8cpp.html#a1eb0d980d9e60655982ce0b931f4fb57">trait_PROF_FOODP</a>( <span class="stringliteral">&quot;PROF_FOODP&quot;</span> );</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a92fc92f8871feb56f05a24b582966275">   59</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> <a class="code" href="talker__npc_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a>( <span class="stringliteral">&quot;SAPROVORE&quot;</span> );</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a67422ee4ba392aba81d1af50b1873928">   61</a></span>&#160;<a class="code" href="classtalker__npc.html#a67422ee4ba392aba81d1af50b1873928">talker_npc::talker_npc</a>( <a class="code" href="classnpc.html">npc</a> *new_me )</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a> = new_me;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="classtalker__character.html#a6c634ab41501b0d30fd8db25f25caada">me_chr</a> = new_me;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classtalker__character__const.html#a5244cc83fa8ef23fb0a48136b0f115cd">me_chr_const</a> = new_me;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ae24331bea04f31cd72c6c02190920ced">   68</a></span>&#160;std::string <a class="code" href="classtalker__npc.html#ae24331bea04f31cd72c6c02190920ced">talker_npc::distance_to_goal</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// TODO: this ignores the z-component</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordtype">int</span> dist = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCreature.html#a14ecbd8f044628463354090421a805b4">global_omt_location</a>(), <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a35fa560c9b36ecb6b7ba4d569d156604">goal</a> );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    std::string response;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    dist *= 100;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span>( dist &gt;= 1300 ) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordtype">int</span> miles = dist / 25; <span class="comment">// *100, e.g. quarter mile is &quot;25&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        miles -= miles % 25; <span class="comment">// Round to nearest quarter-mile</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordtype">int</span> fullmiles = ( miles - miles % 100 ) / 100; <span class="comment">// Left of the decimal point</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">if</span>( fullmiles &lt; 0 ) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            fullmiles = 0;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        response = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%d.%d miles.&quot;</span> ), fullmiles, miles );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        response = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a>( <span class="stringliteral">&quot;%d foot.&quot;</span>, <span class="stringliteral">&quot;%d feet.&quot;</span>, dist ), dist );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> response;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="classtalker__npc.html#acb8fec859198ae9c32c6d607894d69e6">   88</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#acb8fec859198ae9c32c6d607894d69e6">talker_npc::will_talk_to_u</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;you, <span class="keywordtype">bool</span> <a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> )</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#acf6fb4a50bf6680ba3992da6fad9abc7">is_dead_state</a>() ) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a53c9eb784312e0594c5a9922668d630e">set_attitude</a>( <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b">NPCATT_NULL</a> );</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classtalker__character__const.html#afcf4a7d6cf5ec9196e95af2b472e9868">getID</a>() == you.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() ) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">get_faction</a>() ) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">get_faction</a>()-&gt;<a class="code" href="classfaction__template.html#a5e2a500660f3adf90c6940ecbe78ccee">known_by_u</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#af5b31a1ba231397d5e8ca740a0ca33ab">set_known_to_u</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// This is necessary so that we don&#39;t bug the player over and over</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a17c28567db494ce9c60ef2929dd4e268">get_attitude</a>() == <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a436461a7ac1efa5ec5f2d53ab20d2b67">NPCATT_TALK</a> ) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a53c9eb784312e0594c5a9922668d630e">set_attitude</a>( <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b">NPCATT_NULL</a> );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> &amp;&amp; ( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a17c28567db494ce9c60ef2929dd4e268">get_attitude</a>() == <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a133e55cc6929aff6e04ecd1f8720d279">NPCATT_FLEE</a> ||</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                           <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt; get_attitude() == <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a174d99e8adde79268310f021427992a6">NPCATT_FLEE_TEMP</a> ) ) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s is fleeing from you!&quot;</span> ), <a class="code" href="classtalker__character__const.html#a0adf877855ccbdde9b59792860a93720">disp_name</a>() );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code" href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a> &amp;&amp; <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a17c28567db494ce9c60ef2929dd4e268">get_attitude</a>() == <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a">NPCATT_KILL</a> ) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s is hostile!&quot;</span> ), <a class="code" href="classtalker__character__const.html#a0adf877855ccbdde9b59792860a93720">disp_name</a>() );</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a7a00465106ae214bf708ba824e7f375f">  114</a></span>&#160;std::vector&lt;std::string&gt; <a class="code" href="classtalker__npc.html#a7a00465106ae214bf708ba824e7f375f">talker_npc::get_topics</a>( <span class="keywordtype">bool</span> radio_contact )</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    std::vector&lt;std::string&gt; add_topics;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// For each active mission we have, let the mission know we talked to this NPC.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classmission.html">mission</a> *&amp;<a class="code" href="classmission.html">mission</a> : player_character.<a class="code" href="classavatar.html#ab9d7689c7af3f73b1adc4c434b426d29">get_active_missions</a>() ) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="classmission.html">mission</a>-&gt;<a class="code" href="classmission.html#ac547e1c26045944e8af80728decd855c">on_talk_with_npc</a>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    add_topics.push_back( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a7d598b7ce85e9269bc5d9c2a897bebd0">first_topic</a> );</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span>( radio_contact ) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        add_topics.emplace_back( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a97f91e0b573e167ab109d83026abefd1">talk_radio</a> );</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#af49ad67a09ed12e7e48bb7dfcc55389c">is_leader</a>() ) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        add_topics.emplace_back( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a7165f0c88fe1b01959376e5f38bc1959">talk_leader</a> );</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">is_player_ally</a>() &amp;&amp; ( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a32ceae6e42afded1f9fef157bfec8715">is_walking_with</a>() || <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a967b81e1395da11d6ba4d64ee8651ecc">has_activity</a>() ) ) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        add_topics.emplace_back( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a12b9b85e11e09982accbffa998bd82ae">talk_friend</a> );</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a17c28567db494ce9c60ef2929dd4e268">get_attitude</a>() == <a class="code" href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53">NPCATT_RECOVER_GOODS</a> ) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        add_topics.emplace_back( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#ae127f0b50934163847e317eed22b1954">talk_stole_item</a> );</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">int</span> most_difficult_mission = 0;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classmission.html">mission</a> *&amp;<a class="code" href="classmission.html">mission</a> : <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a188b7d9299e8e12e134bef43c841ef9a">missions</a> ) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__type.html">mission_type</a> &amp;<a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <a class="code" href="classmission.html">mission</a>-&gt;<a class="code" href="classmission.html#af99364a9afac4abce5af8a056835f95d">get_type</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.urgent &amp;&amp; <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.difficulty &gt; most_difficult_mission ) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_MISSION_DESCRIBE_URGENT&quot;</span> );</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a> = <a class="code" href="classmission.html">mission</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            most_difficult_mission = <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.difficulty;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    most_difficult_mission = 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">bool</span> chosen_urgent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classmission.html">mission</a> *&amp;<a class="code" href="classmission.html">mission</a> : <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#af0da224eb6a3c51fae658ca0cf031f4a">missions_assigned</a> ) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classmission.html">mission</a>-&gt;<a class="code" href="classmission.html#a20a88bd9b3f7692c977bc5f2b07329ea">get_assigned_player_id</a>() != player_character.<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="comment">// Not assigned to the player that is currently talking to the npc</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmission__type.html">mission_type</a> &amp;<a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> = <a class="code" href="classmission.html">mission</a>-&gt;<a class="code" href="classmission.html#af99364a9afac4abce5af8a056835f95d">get_type</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span>( ( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.urgent &amp;&amp; !chosen_urgent ) || ( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.difficulty &gt; most_difficult_mission &amp;&amp;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                ( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.urgent || !chosen_urgent ) ) ) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            chosen_urgent = <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.urgent;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_MISSION_INQUIRE&quot;</span> );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a> = <a class="code" href="classmission.html">mission</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            most_difficult_mission = <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a>.difficulty;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Needs</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="talker__npc_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a> ) ) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        add_topics.emplace_back( <span class="stringliteral">&quot;TALK_REBOOT&quot;</span> );</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="talker__npc_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) || <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="talker__npc_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a> ) ) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="talker__npc_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> ) ) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_SEDATED&quot;</span> );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            add_topics.emplace_back( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#ad7ee8d89bf9c765a786aaf4571d3b6a3">talk_wake_up</a> );</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span>( add_topics.back() == <span class="stringliteral">&quot;TALK_NONE&quot;</span> ) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        add_topics.back() = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#aa57aad368fe40e376c9fcb2018f0193a">pick_talk_topic</a>( player_character );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -to_moves&lt;int&gt;( 1_seconds ) );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a>() ) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span>( add_topics.back() == <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a1ccc2a92528f83ccb0dcd1fb8a33bd32">talk_mug</a> ||</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            add_topics.back() == <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a1014a4e4832b6778bae55faf35c362c7">talk_stranger_aggressive</a> ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">make_angry</a>();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_DEAF_ANGRY&quot;</span> );</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_DEAF&quot;</span> );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#a16d4147edf13602b5330f7f04d478793">is_mute</a>() ) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">if</span>( add_topics.back() == <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a1ccc2a92528f83ccb0dcd1fb8a33bd32">talk_mug</a> ||</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            add_topics.back() == <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a1014a4e4832b6778bae55faf35c362c7">talk_stranger_aggressive</a> ) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">make_angry</a>();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_MUTE_ANGRY&quot;</span> );</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_MUTE&quot;</span> );</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span>( player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="talker__npc_8cpp.html#a9a647a2dbecb7b90acbdbe6fba9a0256">trait_PROF_CHURL</a> ) ) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span>( add_topics.back() == <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a1ccc2a92528f83ccb0dcd1fb8a33bd32">talk_mug</a> ||</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            add_topics.back() == <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a1014a4e4832b6778bae55faf35c362c7">talk_stranger_aggressive</a> ) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">make_angry</a>();</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_CHURL_ANGRY&quot;</span> );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a> &gt;= 0 ) &amp;&amp; ( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">anger</a> &lt;= 0 ) &amp;&amp;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                   ( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a994c83d61054215e81a6e87478d81203">int_cur</a> &gt;= 9 ) ) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_CHURL_TRADE&quot;</span> );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            add_topics.emplace_back( <span class="stringliteral">&quot;TALK_CHURL&quot;</span> );</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="talker__npc_8cpp.html#a1eb0d980d9e60655982ce0b931f4fb57">trait_PROF_FOODP</a> ) &amp;&amp;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        !( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">is_wearing</a>( <a class="code" href="talker__npc_8cpp.html#a9260a87c7c9a0df88820afa3a689dc68">itype_foodperson_mask_on</a> ) ||</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;           <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">is_wearing</a>( <a class="code" href="talker__npc_8cpp.html#a23ab798a014e7d7135089fa750c2b563">itype_foodperson_mask</a> ) ) ) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        add_topics.emplace_back( <span class="stringliteral">&quot;TALK_NPC_NOFACE&quot;</span> );</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a770a2307ec384a2986e7ca9769cdd2e3">decide_needs</a>();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> add_topics;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classtalker__npc.html#abf3f2d714997ed01a5ec49906b5c2282">  217</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#abf3f2d714997ed01a5ec49906b5c2282">talker_npc::check_missions</a>()</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#acfad9920d84894ebdcea8ad8340023c0">check_missions</a>();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a0077fc660ad19dc0c2f7da205d115b54">  222</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a0077fc660ad19dc0c2f7da205d115b54">talker_npc::update_missions</a>( <span class="keyword">const</span> std::vector&lt;mission *&gt; &amp;missions_assigned )</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="comment">// if possible, select a mission to talk about</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span>( !<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a188b7d9299e8e12e134bef43c841ef9a">missions</a>.empty() ) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a> = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a188b7d9299e8e12e134bef43c841ef9a">missions</a>.front();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !missions_assigned.empty() ) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a> = missions_assigned.front();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a329501d6df6666243c2c4f93e66eae6f">  234</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a329501d6df6666243c2c4f93e66eae6f">talker_npc::check_hostile_response</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> anger )<span class="keyword"> const</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">anger</a> + anger &gt; <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a33904ddd2c512647b74402954c8ec916">hostile_anger_level</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">// Every OWED_VAL that the NPC owes you counts as +1 towards convincing</span></div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a65ac483e5d469cc9ae94f86af99cf919">  240</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="talker__npc_8cpp.html#a65ac483e5d469cc9ae94f86af99cf919">OWED_VAL</a> = 1000;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classtalker__npc.html#abbdf103664b0d934af499079914b86f6">  241</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#abbdf103664b0d934af499079914b86f6">talker_npc::parse_mod</a>( <span class="keyword">const</span> std::string &amp;attribute, <span class="keyword">const</span> <span class="keywordtype">int</span> factor )<span class="keyword"> const</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">int</span> modifier = 0;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;ANGER&quot;</span> ) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">anger</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;FEAR&quot;</span> ) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;TRUST&quot;</span> ) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;VALUE&quot;</span> ) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">value</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;POS_FEAR&quot;</span> ) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        modifier = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0, <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a> );</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;AGGRESSION&quot;</span> ) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">// NOLINTNEXTLINE(bugprone-signed-char-misuse,cert-str34-c)</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code" href="structnpc__personality.html#aecf2fbbc5fcbda416d381dc0bde6e18c">aggression</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;ALTRUISM&quot;</span> ) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">// NOLINTNEXTLINE(bugprone-signed-char-misuse,cert-str34-c)</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code" href="structnpc__personality.html#ab2ba07ed51a2feea6d8b4f674972d445">altruism</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;BRAVERY&quot;</span> ) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">// NOLINTNEXTLINE(bugprone-signed-char-misuse,cert-str34-c)</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code" href="structnpc__personality.html#a50b8489153689a4a10c714f321a6d887">bravery</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;COLLECTOR&quot;</span> ) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">// NOLINTNEXTLINE(bugprone-signed-char-misuse,cert-str34-c)</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code" href="structnpc__personality.html#ad2ed57eaba1c878112ed7575bc6ebfbb">collector</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;MISSIONS&quot;</span> ) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9b77cfe67ea0ea2151d191f494c8a094">assigned_missions_value</a>() / <a class="code" href="talker__npc_8cpp.html#a65ac483e5d469cc9ae94f86af99cf919">OWED_VAL</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;NPC_INTIMIDATE&quot;</span> ) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        modifier = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a150ab03ef8a507dcc231d646b1b9e7c5">intimidation</a>();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    modifier *= factor;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">return</span> modifier;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classtalker__npc.html#acfff3d9d9d92641cc11a297753365b7e">  275</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#acfff3d9d9d92641cc11a297753365b7e">talker_npc::trial_chance_mod</a>( <span class="keyword">const</span> std::string &amp;trial_type )<span class="keyword"> const</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">int</span> chance = 0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span>( trial_type == <span class="stringliteral">&quot;lie&quot;</span> ) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        chance += - <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#af788d696c6c76817c784db46350b2d44">lie_skill</a>() + <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a> * 3;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( trial_type == <span class="stringliteral">&quot;persuade&quot;</span> ) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        chance += - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a541159ddc3ed5dcf27e0477a02d94ffd">persuade_skill</a>() * 0.5 ) +</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                  <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a> * 2 + <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">value</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( trial_type == <span class="stringliteral">&quot;intimidate&quot;</span> ) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        chance += - <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a150ab03ef8a507dcc231d646b1b9e7c5">intimidation</a>() + <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a> * 2 -</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                  <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code" href="structnpc__personality.html#a50b8489153689a4a10c714f321a6d887">bravery</a> * 2;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> chance;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a49cfadded72b68de0be2ab862e81fe0b">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a49cfadded72b68de0be2ab862e81fe0b">talker_npc::store_chosen_training</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> &amp;c_skill, <span class="keyword">const</span> <a class="code" href="classstring__id.html">matype_id</a> &amp;c_style,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classstring__id.html">spell_id</a> &amp;c_spell, <span class="keyword">const</span> <a class="code" href="classstring__id.html">proficiency_id</a> &amp;c_proficiency )</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a06b105f7f11cdae5e5696e7caa74abb7">store_chosen_training</a>( c_skill, c_style, c_spell, c_proficiency );</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a2fcaf967e141c65e062a9f2352ee968e">  296</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#a2fcaf967e141c65e062a9f2352ee968e">talker_npc::debt</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a544114b24a1332d5fc31b1ec814684bd">owed</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="classtalker__npc.html#af3ed41bb732f2cd21120fdc59b2650e0">  301</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#af3ed41bb732f2cd21120fdc59b2650e0">talker_npc::add_debt</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> cost )</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a544114b24a1332d5fc31b1ec814684bd">owed</a> += cost;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ac7010b972511fc17052d51c692ed3128">  306</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#ac7010b972511fc17052d51c692ed3128">talker_npc::sold</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a523b58b23a338f96dff966ca09350fc8">sold</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ac5ccc39de904a1ec6c2a397346bf0343">  311</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#ac5ccc39de904a1ec6c2a397346bf0343">talker_npc::add_sold</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> value )</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a523b58b23a338f96dff966ca09350fc8">sold</a> += <a class="code" href="classtalker__npc.html#ac5db40ee2e1272310ec9a07070b29dce">value</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a1977bf1be6e765ef020ea5e1c73a7c30">  316</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#a1977bf1be6e765ef020ea5e1c73a7c30">talker_npc::cash_to_favor</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> value )<span class="keyword"> const</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacenpc__trading.html#a501e43e4b4136a85e2773fbc89f19e69">npc_trading::cash_to_favor</a>( *<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>, <a class="code" href="classtalker__npc.html#ac5db40ee2e1272310ec9a07070b29dce">value</a> );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ac5db40ee2e1272310ec9a07070b29dce">  321</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#ac5db40ee2e1272310ec9a07070b29dce">talker_npc::value</a>( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a29fad2798be32c49e72523a6cab2b7f9">value</a>( it );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">  326</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a> {</div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">  327</a></span>&#160;    <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a> = 0,</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">  328</a></span>&#160;    <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a>, <span class="comment">// Consumption didn&#39;t fail, but don&#39;t delete the item</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a>   <span class="comment">// Consumption succeeded, delete the item</span></div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">  330</a></span>&#160;};</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// Returns true if we destroyed the item through consumption</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">// does not try to consume contents</span></div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="talker__npc_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">  334</a></span>&#160;<span class="keyword">static</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a> <a class="code" href="talker__npc_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">try_consume</a>( <a class="code" href="classnpc.html">npc</a> &amp;p, <a class="code" href="classitem.html">item</a> &amp;it, std::string &amp;reason )</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// TODO: Unify this with &#39;player::consume_item()&#39;</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="classitem.html">item</a> &amp;to_eat = it;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span>( to_eat.<a class="code" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Null item to try_consume.&quot;</span> );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;comest = to_eat.<a class="code" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span>( !comest ) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment">// Don&#39;t inform the player that we don&#39;t want to eat the lighter</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span>( !p.<a class="code" href="classnpc.html#a58610dafa225d6bcd61ea0c5f56e65a4">will_accept_from_player</a>( it ) ) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#ae438d25c27683a078dd2bb11c4759b9d">snip_consume_cant_accept</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// TODO: Make it not a copy+paste from player::consume_item</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">int</span> amount_used = 1;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span>( to_eat.<a class="code" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">if</span>( !p.<a class="code" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( to_eat ) ) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#af5b3cc078497f4efa248d2cef2a9e30f">snip_consume_cant_consume</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordflow">if</span>( to_eat.<a class="code" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() &amp;&amp; !p.<a class="code" href="classCharacter.html#a01a7950e28e24252e372d7e74078e12f">as_character</a>()-&gt;<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="talker__npc_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) ) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="comment">//TODO: once npc needs are operational again check npc hunger state and allow eating if desperate</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#ace509c407cac0496e2a891b93144df06">snip_consume_rotten</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> &amp;consume_time = p.<a class="code" href="classCharacter.html#a15e1412dda3489886688216c4ef7da34">get_consume_time</a>( to_eat );</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            p.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -to_moves&lt;int&gt;( consume_time ) );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            p.<a class="code" href="classCharacter.html#aeafb75e7e7e7a3716aef9dfdd778a20d">consume</a>( to_eat );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a4c79bb88bb7fdf610ebb51d345398485">snip_consume_eat</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( to_eat.<a class="code" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() ) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span>( !comest-&gt;tool.is_null() ) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordtype">bool</span> has = p.<a class="code" href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">has_amount</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( comest-&gt;tool ) ) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                has = p.<a class="code" href="classCharacter.html#aa33f9870c95a95d8a46423c9d6477d99">has_charges</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span>( !has ) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                std::string talktag = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a6ad6d37e3db3bb81793c4b8e918d4a04">snip_consume_need_item</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <a class="code" href="npc_8h.html#aee50a2d29c2194e6df726113b025e55b">parse_tags</a>( talktag, <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>(), p );</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                reason = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( talktag ), <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( comest-&gt;tool ) );</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            p.<a class="code" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#ac933c283c362a78f4b2c91f4e0553669">snip_consume_med</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span>( to_eat.<a class="code" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            amount_used = to_eat.<a class="code" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code" href="structitype.html#a76600c0d6a88c8d983838f0df2276212">invoke</a>( &amp;p, to_eat, p.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ).value_or( 0 );</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span>( amount_used &lt;= 0 ) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a1ab2ee1700db58fef15fb627fd520747">snip_consume_nocharge</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            reason = p.<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#af41eeae49662762a06e0d9bc3a2c0854">snip_consume_use_med</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        p.<a class="code" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a>( to_eat );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        to_eat.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= amount_used;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        p.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -to_moves&lt;int&gt;( 1_seconds ) * 2.5 );</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unknown comestible type of item: %s\n&quot;</span>, to_eat.<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() );</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span>( to_eat.<a class="code" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// If not consuming contents and charge &lt;= 0, we just ate the last charge from the stack</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a543acc0dabc4d4fcc65114ca5754c1c6">  411</a></span>&#160;std::string <a class="code" href="classtalker__npc.html#a543acc0dabc4d4fcc65114ca5754c1c6">talker_npc::give_item_to</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> to_use )</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a41b0a58a7ddf03b23766abcb760bcff0">is_hallucination</a>() ) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a4d2ca0f31b6c9a948a41589b4776949f">snip_give_to_hallucination</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classitem__location.html">item_location</a> loc = <a class="code" href="namespacegame__menus_1_1inv.html#a3438177d11d4b59f12bb273d10d42f98">game_menus::inv::titled_menu</a>( player_character, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Offer what?&quot;</span> ),</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You have no items to offer.&quot;</span> ) );</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a3b35548df34d1eeb50cf971720ad0ebb">snip_give_cancel</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="classitem.html">item</a> &amp;given = *loc;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span>( ( loc == player_character.<a class="code" href="classCharacter.html#aa9a4335ab1fd0d975199750b1ebf5bef">get_wielded_item</a>() &amp;&amp;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          given.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;NO_UNWIELD&quot;</span> ) ) ) ) ||</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        ( player_character.<a class="code" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( given ) &amp;&amp;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          ( given.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;NO_TAKEOFF&quot;</span> ) ) ) ||</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            given.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">flag_id</a>( <span class="stringliteral">&quot;INTEGRATED&quot;</span> ) ) ) ) ) ) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">// Integrated item or shackles</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;How?&quot;</span> );</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span>( given.<a class="code" href="classitem.html#ad340c283789ac6bd8578a16e8343d893">is_dangerous</a>() &amp;&amp; !player_character.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="talker__npc_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a> ) ) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#aaab43c9219ec954a1b0fc0ac24b76242">snip_give_dangerous</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordtype">bool</span> taken = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    std::string reason = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a430b4464d32621e991d108977222f7a7">snip_give_nope</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem__location.html">item_location</a> weapon = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#aa9a4335ab1fd0d975199750b1ebf5bef">get_wielded_item</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordtype">int</span> our_ammo = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a16ef0e03576f6d8e192374e4fdee6895">ammo_count_for</a>( weapon );</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordtype">int</span> new_ammo = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a16ef0e03576f6d8e192374e4fdee6895">ammo_count_for</a>( loc );</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> new_weapon_value = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a6e191f46038ed0321be507015b5abc58">weapon_value</a>( given, new_ammo );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp;weap = weapon ? *weapon : <a class="code" href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> cur_weapon_value = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a6e191f46038ed0321be507015b5abc58">weapon_value</a>( weap, our_ammo );</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a4a0a2c15f95df6acf6e55d53a83fb929">debugmode::DF_TALKER</a>, <span class="stringliteral">&quot;NPC evaluates own %s (%d ammo): %0.1f&quot;</span>,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                   weap.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), our_ammo, cur_weapon_value );</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a4a0a2c15f95df6acf6e55d53a83fb929">debugmode::DF_TALKER</a>, <span class="stringliteral">&quot;NPC evaluates your %s (%d ammo): %0.1f&quot;</span>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                   given.<a class="code" href="classitem.html#a4a9972e826d25be6736b749ab94b230f">typeId</a>().<a class="code" href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">str</a>(), new_ammo, new_weapon_value );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span>( to_use ) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="comment">// Eating first, to avoid evaluating bread as a weapon</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keyword">const</span> <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a> consume_res = <a class="code" href="talker__npc_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">try_consume</a>( *<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>, given, reason );</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">if</span>( consume_res != <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a> ) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -to_moves&lt;int&gt;( 1_seconds ) );</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">if</span>( consume_res == <a class="code" href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a> ) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                player_character.<a class="code" href="classCharacter.html#a379081ad133b17e4ab3d230270b2414d">i_rem</a>( &amp;given );</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( given.<a class="code" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                given.<a class="code" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }<span class="comment">// wield it if its a weapon</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( new_weapon_value &gt; cur_weapon_value ) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a251cafb769b1d8ec4585deb3b50aaafd">wield</a>( given );</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            reason = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a31cd4d11c2d8c1b8ce64d4e07279f268">snip_give_wield</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            taken = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }<span class="comment">// HACK: is_gun here is a hack to prevent NPCs wearing guns if they don&#39;t want to use them</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !given.<a class="code" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; given.<a class="code" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="comment">//if it is impossible to wear return why</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <a class="code" href="classret__val_3_01void_01_4.html">ret_val&lt;void&gt;</a> can_wear = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#ab8bb62a82f437cb52719b9862a967311">can_wear</a>( given, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="keywordflow">if</span>( !can_wear.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                reason = can_wear.<a class="code" href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">str</a>();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="comment">//if we can wear it with equip changes prompt first</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                can_wear = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#ab8bb62a82f437cb52719b9862a967311">can_wear</a>( given );</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="keywordflow">if</span>( ( can_wear.<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ||</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                      <a class="code" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( can_wear.<a class="code" href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">str</a>() + <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; Should I take something off?&quot;</span> ) ) )</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    &amp;&amp; <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a631f833b1311bf7d5001929f4e71048f">wear_if_wanted</a>( given, reason ) ) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    taken = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                    reason = can_wear.<a class="code" href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">str</a>();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            reason += <span class="stringliteral">&quot; &quot;</span> + <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#ac841196d4296c243384846520b2ead3e">snip_give_weapon_weak</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() +</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                           <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(new weapon value: %.1f vs %.1f).&quot;</span> ), new_weapon_value, cur_weapon_value );</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    } <span class="keywordflow">else</span> {<span class="comment">//allow_use is false so try to carry instead</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a873b6e039822dc744b6c9741385b926d">can_pickVolume</a>( given ) &amp;&amp; <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a6dc61c40fa13a6124b53785c9db13e70">can_pickWeight</a>( given ) ) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            reason = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a1b86cbebbe6c899a27b779f15bfe8f67">snip_give_carry</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="comment">// set the item given to be favorited so it&#39;s not dropped automatically</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            given.<a class="code" href="classitem.html#a9a1f33d04abe5ec73a31213be8d0c44e">set_favorite</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            taken = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#af04d061e415da9cb6f1fc234b04f3dfb">i_add</a>( given );</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a873b6e039822dc744b6c9741385b926d">can_pickVolume</a>( given ) ) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::volume</a> free_space = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>() -</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                                 <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                reason += <span class="stringliteral">&quot; &quot;</span> + std::string( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a790434e8e96c3400e2c628a5881e30a6">snip_give_carry_cant</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() ) + <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">if</span>( free_space &gt; 0_ml ) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    std::string talktag = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a673654643ca93371a68897725aff9c7b">snip_give_carry_cant_few_space</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                    <a class="code" href="npc_8h.html#aee50a2d29c2194e6df726113b025e55b">parse_tags</a>( talktag, <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>(), *<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a> );</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                    reason += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( talktag ), <a class="code" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( free_space ), <a class="code" href="units__utility_8cpp.html#a0a9530aa2dc0dc113a70189ee01fcb78">volume_units_long</a>() );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                    reason += <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#a1294b7927e8ae3ece27008681c71365e">snip_give_carry_cant_no_space</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span>( !<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a6dc61c40fa13a6124b53785c9db13e70">can_pickWeight</a>( given ) ) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                reason += std::string( <span class="stringliteral">&quot; &quot;</span> ) + <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">chat_snippets</a>().<a class="code" href="structdialogue__chatbin__snippets.html#ac5323e0b62dd62ffac594ca9e595ab2f">snip_give_carry_too_heavy</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span>( taken ) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        player_character.<a class="code" href="classCharacter.html#a379081ad133b17e4ab3d230270b2414d">i_rem</a>( &amp;given );</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        player_character.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -to_moves&lt;int&gt;( 1_seconds ) );</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ca344b214e47beec525f78ebc83dc64">has_new_items</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> reason;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a8a5723ab0dc464eac0b30554df356495">  520</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a8a5723ab0dc464eac0b30554df356495">talker_npc::buy_from</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> amount )</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;{</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacenpc__trading.html#a9a7dbd65b9ae311c79c92b57c1b134b4">npc_trading::pay_npc</a>( *<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>, amount );</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a77565fe7d20e5389c70d3d99516b0cd5">  525</a></span>&#160;std::vector&lt;mission *&gt; <a class="code" href="classtalker__npc.html#a77565fe7d20e5389c70d3d99516b0cd5">talker_npc::available_missions</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a188b7d9299e8e12e134bef43c841ef9a">missions</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a16a94924e2169e4b8aed982d6375aac7">  530</a></span>&#160;std::vector&lt;mission *&gt; <a class="code" href="classtalker__npc.html#a16a94924e2169e4b8aed982d6375aac7">talker_npc::assigned_missions</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#af0da224eb6a3c51fae658ca0cf031f4a">missions_assigned</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ae21666e0a8b75086f0cd8a46c48f4a47">  535</a></span>&#160;<a class="code" href="classmission.html">mission</a> *<a class="code" href="classtalker__npc.html#ae21666e0a8b75086f0cd8a46c48f4a47">talker_npc::selected_mission</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a468bb5cddaa6858a86cd9db079e0c430">  540</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a468bb5cddaa6858a86cd9db079e0c430">talker_npc::select_mission</a>( <a class="code" href="classmission.html">mission</a> *selected )</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">mission_selected</a> = selected;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a7e0be0e3a6e0e6236aa5d2bb0ca82916">  545</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a7e0be0e3a6e0e6236aa5d2bb0ca82916">talker_npc::add_mission</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">mission_type_id</a> &amp;<a class="code" href="structmission__id.html">mission_id</a> )</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="classmission.html">mission</a> *miss = <a class="code" href="classmission.html#a3dee3f6847b1ff33ca459f42a3aa37ec">mission::reserve_new</a>( <a class="code" href="structmission__id.html">mission_id</a>, <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    miss-&gt;<a class="code" href="classmission.html#a73db28cfc6ce144c509690a4eb639802">assign</a>( <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>() );</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#af0da224eb6a3c51fae658ca0cf031f4a">missions_assigned</a>.push_back( miss );</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a2af92cc128a6b1d140175da132cf6b67">  552</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a2af92cc128a6b1d140175da132cf6b67">talker_npc::set_companion_mission</a>( <span class="keyword">const</span> std::string &amp;role_id )</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a08666006c28154f23831c198eb750281">companion_mission_role_id</a> = role_id;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="namespacetalk__function.html#aaf6c69bd9ecf7e46042fd7f0c2acf919">talk_function::companion_mission</a>( *<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a> );</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a9a99435d0a079ac239e8ca13f548b1f2">  558</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a9a99435d0a079ac239e8ca13f548b1f2">talker_npc::set_fac</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">faction_id</a> &amp;new_fac_name )</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae4ee8462177eb0d0d5b4447b74d436d8">set_fac</a>( new_fac_name );</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ab4280c13d4b513ac8649d21a700c1585">  563</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#ab4280c13d4b513ac8649d21a700c1585">talker_npc::add_faction_rep</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> rep_change )</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">get_faction</a>()-&gt; <span class="keywordtype">id</span> != <a class="code" href="talker__npc_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">faction_no_faction</a> ) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">get_faction</a>()-&gt;<a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> += rep_change;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">get_faction</a>()-&gt;<a class="code" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a> += rep_change;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">get_faction</a>()-&gt;<a class="code" href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">trusts_u</a> += rep_change;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;}</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="classtalker__npc.html#afdb287bfe4ede86b6d61ac6c88f2a6d9">  572</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#afdb287bfe4ede86b6d61ac6c88f2a6d9">talker_npc::is_following</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#afb23922118c6110a011990778c940ba9">is_following</a>();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="classtalker__npc.html#acb7e8fd9bba460420ce935a125ecaf03">  577</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#acb7e8fd9bba460420ce935a125ecaf03">talker_npc::is_friendly</a>( <span class="keyword">const</span> <a class="code" href="classCharacter.html">Character</a> &amp;guy )<span class="keyword"> const</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8726121e70cd1ce0d351a926de30fcc1">is_friendly</a>( guy );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a7093bddbe66ca223ad481be791ea30ad">  582</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a7093bddbe66ca223ad481be791ea30ad">talker_npc::is_enemy</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a7ee1c9e434339418cb9b5907d8695806">is_enemy</a>();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="classtalker__npc.html#af88b569dc95f475057d324994cb3164a">  587</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#af88b569dc95f475057d324994cb3164a">talker_npc::is_player_ally</a>()<span class="keyword">  const</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">is_player_ally</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a08341e8a9d25a532459a33b7b3c92da9">  592</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a08341e8a9d25a532459a33b7b3c92da9">talker_npc::turned_hostile</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a768707654ad24de4e74d1324335872e8">turned_hostile</a>();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a56c2e3aed048a4f820fe526eb7d8fb68">  597</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a56c2e3aed048a4f820fe526eb7d8fb68">talker_npc::make_angry</a>()</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">make_angry</a>();</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;}</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a97d263d7b3e47f3c59c6c617d6bc97cb">  602</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a97d263d7b3e47f3c59c6c617d6bc97cb">talker_npc::has_ai_rule</a>( <span class="keyword">const</span> std::string &amp;type,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                              <span class="keyword">const</span> std::string &amp;rule )<span class="keyword"> const</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;aim_rule&quot;</span> ) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#ae96069e86d39e19cbbac565be3419ea5">aim_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#ae96069e86d39e19cbbac565be3419ea5">aim_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a092cd660168a4b1b14529db075e29ea0">aim</a> == rule_val-&gt;second;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;engagement_rule&quot;</span> ) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#a223b9944e91a22dd388d4fdcdf5be0b6">combat_engagement_strs</a>.find( rule );</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#a223b9944e91a22dd388d4fdcdf5be0b6">combat_engagement_strs</a>.end() ) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a9eb4400a0210e0a41692a3c6635855f1">engagement</a> == rule_val-&gt;second;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;cbm_reserve_rule&quot;</span> ) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#a9c8560e2c2b6525f4fcef177d828ecf2">cbm_reserve_strs</a>.find( rule );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#a9c8560e2c2b6525f4fcef177d828ecf2">cbm_reserve_strs</a>.end() ) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#af7f57605c02d48aba09224adee9d260f">cbm_reserve</a> == rule_val-&gt;second;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;cbm_recharge_rule&quot;</span> ) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#ae92dafc799ce898955aa8993b77e51b1">cbm_recharge_strs</a>.find( rule );</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#ae92dafc799ce898955aa8993b77e51b1">cbm_recharge_strs</a>.end() ) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a88a0a6bc06d6962a9c35277e6c5e0b76">cbm_recharge</a> == rule_val-&gt;second;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;ally_rule&quot;</span> ) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a899f396466e396d549b1f7e54c1b1355">has_flag</a>( rule_val-&gt;second.rule );</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;ally_override&quot;</span> ) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( rule_val-&gt;second.rule );</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;pickup_rule&quot;</span> ) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordflow">if</span>( rule == <span class="stringliteral">&quot;any&quot;</span> ) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a2642ddf5b6fbea12831b4d89e4eb7eac">pickup_whitelist</a>-&gt;empty();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a8511c0ea1dd8db7ca5409c11236daeec">  644</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a8511c0ea1dd8db7ca5409c11236daeec">talker_npc::toggle_ai_rule</a>( <span class="keyword">const</span> std::string &amp;, <span class="keyword">const</span> std::string &amp;rule )</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;{</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keyword">auto</span> toggle = <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span>( toggle == <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#afe9d1e91d4b55d09c98b60a279d24b7d">toggle_flag</a>( toggle-&gt;second.rule );</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a804d15a6005963a24df4434c8aa1b94e">invalidate_range_cache</a>();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a803f433a7a6b27fc761a5780db7d6b52">wield_better_weapon</a>();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a2308fedf7409f2ebdf70d1f14d4a387e">  655</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a2308fedf7409f2ebdf70d1f14d4a387e">talker_npc::set_ai_rule</a>( <span class="keyword">const</span> std::string &amp;type, <span class="keyword">const</span> std::string &amp;rule )</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;aim_rule&quot;</span> ) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#ae96069e86d39e19cbbac565be3419ea5">aim_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#ae96069e86d39e19cbbac565be3419ea5">aim_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a092cd660168a4b1b14529db075e29ea0">aim</a> = rule_val-&gt;second;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a804d15a6005963a24df4434c8aa1b94e">invalidate_range_cache</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;engagement_rule&quot;</span> ) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#a223b9944e91a22dd388d4fdcdf5be0b6">combat_engagement_strs</a>.find( rule );</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#a223b9944e91a22dd388d4fdcdf5be0b6">combat_engagement_strs</a>.end() ) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a9eb4400a0210e0a41692a3c6635855f1">engagement</a> = rule_val-&gt;second;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a804d15a6005963a24df4434c8aa1b94e">invalidate_range_cache</a>();</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a803f433a7a6b27fc761a5780db7d6b52">wield_better_weapon</a>();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;cbm_reserve_rule&quot;</span> ) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#a9c8560e2c2b6525f4fcef177d828ecf2">cbm_reserve_strs</a>.find( rule );</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#a9c8560e2c2b6525f4fcef177d828ecf2">cbm_reserve_strs</a>.end() ) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#af7f57605c02d48aba09224adee9d260f">cbm_reserve</a> = rule_val-&gt;second;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;cbm_recharge_rule&quot;</span> ) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keyword">auto</span> rule_val = <a class="code" href="npc_8h.html#ae92dafc799ce898955aa8993b77e51b1">cbm_recharge_strs</a>.find( rule );</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">if</span>( rule_val != <a class="code" href="npc_8h.html#ae92dafc799ce898955aa8993b77e51b1">cbm_recharge_strs</a>.end() ) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a88a0a6bc06d6962a9c35277e6c5e0b76">cbm_recharge</a> = rule_val-&gt;second;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">type</a> == <span class="stringliteral">&quot;ally_rule&quot;</span> ) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keyword">auto</span> toggle = <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">if</span>( toggle == <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#a5381c80158d2d77e237d13834fedd138">set_flag</a>( toggle-&gt;second.rule );</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a804d15a6005963a24df4434c8aa1b94e">invalidate_range_cache</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a803f433a7a6b27fc761a5780db7d6b52">wield_better_weapon</a>();</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="classtalker__npc.html#aa9dbecf7113808e3e0e3c94ff1f7adef">  691</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#aa9dbecf7113808e3e0e3c94ff1f7adef">talker_npc::clear_ai_rule</a>( <span class="keyword">const</span> std::string &amp;, <span class="keyword">const</span> std::string &amp;rule )</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;{</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keyword">auto</span> toggle = <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.find( rule );</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">if</span>( toggle == <a class="code" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a>.end() ) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code" href="structnpc__follower__rules.html#aec3d578e145e0c7c6aaf2712ff638f1a">clear_flag</a>( toggle-&gt;second.rule );</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a804d15a6005963a24df4434c8aa1b94e">invalidate_range_cache</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a803f433a7a6b27fc761a5780db7d6b52">wield_better_weapon</a>();</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="classtalker__npc.html#afb09f316c2da181304f5fa4a3c8749f4">  702</a></span>&#160;std::string <a class="code" href="classtalker__npc.html#afb09f316c2da181304f5fa4a3c8749f4">talker_npc::get_job_description</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#acf63fe5d903a2ce69e37334d5bc76824">describe_mission</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a5051b06fca0fdb87bdb280242ac20589">  707</a></span>&#160;std::string <a class="code" href="classtalker__npc.html#a5051b06fca0fdb87bdb280242ac20589">talker_npc::view_personality_traits</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// Special starting char so it doesn&#39;t appear as though the NPC is talking to us</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    std::string assessment = <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    assessment += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&lt;npc_name&gt; seems to be:&quot;</span> );</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">bool</span> found_personality_trait = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;trait_data_pairs : <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">my_mutations</a> ) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keyword">const</span> <a class="code" href="structmutation__branch.html">mutation_branch</a> &amp;mdata = trait_data_pairs.first.obj();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span>( mdata.<a class="code" href="structmutation__branch.html#ade035af941f439306a240242cb6f6f30">personality_score</a> ) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            found_personality_trait = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            assessment += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            assessment += <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a248ff3360a76d3c24283a711a33b915c">mutation_name</a>( mdata.<a class="code" href="structmutation__branch.html#a084971c2017686695d2bbfd3096b3cc4">id</a> );</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            assessment += <span class="stringliteral">&quot; - &quot;</span>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            assessment += <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a1701c810c8916a69adad06a3c12168c6">mutation_desc</a>( mdata.<a class="code" href="structmutation__branch.html#a084971c2017686695d2bbfd3096b3cc4">id</a> );</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="comment">// Example output:</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="comment">// John Doe seems to be:</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="comment">// Coward - John Doe flinches at the thought of fighting, whether it be other people or the undead.</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="comment">// Nice - John Doe has a higher than average altruism.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="comment">// TRAIT NAME - TRAIT DESCRIPTION</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// Fallback</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span>( !found_personality_trait ) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        assessment += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nNormal person - &lt;npc_name&gt; seems to be pretty normal.&quot;</span> );</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">return</span> assessment;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a59d111987650f07bca3ad2e973c73946">  735</a></span>&#160;std::string <a class="code" href="classtalker__npc.html#a59d111987650f07bca3ad2e973c73946">talker_npc::evaluation_by</a>( <span class="keyword">const</span> <a class="code" href="classtalker.html">talker</a> &amp;alpha )<span class="keyword"> const</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span>( !alpha.<a class="code" href="classtalker.html#a44300f48323d773c0db6cf745bdf159d">can_see</a>() ) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&amp;You&#39;re blind and can&#39;t make anything out.&quot;</span> );</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">    ///\EFFECT_PER affects whether player can size up NPCs</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">    ///\EFFECT_INT slightly affects whether player can size up NPCs</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"></span>    <span class="keywordtype">int</span> ability = alpha.<a class="code" href="classtalker.html#a37452eb8a3dd6afb1931ec6636545441">per_cur</a>() * 3 + alpha.<a class="code" href="classtalker.html#addda9334d2b9b94f260259c2ea8ae457">int_cur</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span>( ability &lt;= 10 ) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;&amp;You can&#39;t make anything out.&quot;</span> );</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classtalker__npc.html#af88b569dc95f475057d324994cb3164a">is_player_ally</a>() || ability &gt; 100 ) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        ability = 100;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    std::string info = <span class="stringliteral">&quot;&amp;&quot;</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordtype">int</span> str_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 100 / ability );</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordtype">int</span> str_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">str_max</a> / str_range ) * str_range;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    info += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Str %d - %d&quot;</span> ), str_min, str_min + str_range );</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span>( ability &gt;= 40 ) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordtype">int</span> dex_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 160 / ability );</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordtype">int</span> dex_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#ae4ce8cb45c93fcafc3f4ba489e63a4c2">dex_max</a> / dex_range ) * dex_range;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        info += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  Dex %d - %d&quot;</span> ), dex_min, dex_min + dex_range );</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span>( ability &gt;= 50 ) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordtype">int</span> int_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 200 / ability );</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordtype">int</span> int_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a9c3a6b61668d4d7d771441e50095c544">int_max</a> / int_range ) * int_range;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        info += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  Int %d - %d&quot;</span> ), int_min, int_min + int_range );</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span>( ability &gt;= 60 ) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <span class="keywordtype">int</span> per_range = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 240 / ability );</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordtype">int</span> per_min = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a4b20f9ae261b906ead741771a8a48311">per_max</a> / per_range ) * per_range;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        info += <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;  Per %d - %d&quot;</span> ), per_min, per_min + per_range );</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="structneeds__rates.html">needs_rates</a> rates = <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#ab1c5a29039893bd41d82908a9eb5655a">calc_needs_rates</a>();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span>( ability &gt;= 100 - ( <a class="code" href="classtalker__character__const.html#abc72c82e160eb769aec7537c65ab4abf">get_sleepiness</a>() / 10 ) ) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        std::string how_tired;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classtalker__character__const.html#abc72c82e160eb769aec7537c65ab4abf">get_sleepiness</a>() &gt; <a class="code" href="character_8h.html#a28256deb3e43854efdc7035ae555212bac30a2ebffd3127f9dc4bb1cff2e29cea">sleepiness_levels::EXHAUSTED</a> ) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            how_tired = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Exhausted&quot;</span> );</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classtalker__character__const.html#abc72c82e160eb769aec7537c65ab4abf">get_sleepiness</a>() &gt; <a class="code" href="character_8h.html#a28256deb3e43854efdc7035ae555212ba9ff6c94d7bbe4244ae18258b07f5ff32">sleepiness_levels::DEAD_TIRED</a> ) {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            how_tired = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Dead tired&quot;</span> );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classtalker__character__const.html#abc72c82e160eb769aec7537c65ab4abf">get_sleepiness</a>() &gt; <a class="code" href="character_8h.html#a28256deb3e43854efdc7035ae555212ba18eb54216d0a6c8fcfcc347228e1d8d3">sleepiness_levels::TIRED</a> ) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            how_tired = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Tired&quot;</span> );</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            how_tired = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Not tired&quot;</span> );</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordflow">if</span>( ability &gt;= 100 ) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <a class="code" href="classtime__duration.html">time_duration</a> sleep_at = 5_minutes * ( <a class="code" href="character_8h.html#a28256deb3e43854efdc7035ae555212ba18eb54216d0a6c8fcfcc347228e1d8d3">sleepiness_levels::TIRED</a> -</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                                                       <a class="code" href="classtalker__character__const.html#abc72c82e160eb769aec7537c65ab4abf">get_sleepiness</a>() ) / rates.<a class="code" href="structneeds__rates.html#aac55b0db1b45cb7ae78101dcc0202bd2">sleepiness</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                how_tired += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;.  Will need sleep in &quot;</span> ) + <a class="code" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( sleep_at );</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        info += <span class="stringliteral">&quot;\n&quot;</span> + how_tired;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span>( ability &gt;= 100 ) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classtalker__character__const.html#a5f1d5481dd18b59e4e92e5a10146e382">get_thirst</a>() &lt; 100 ) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> thirst_at = 5_minutes * ( 100 - <a class="code" href="classtalker__character__const.html#a5f1d5481dd18b59e4e92e5a10146e382">get_thirst</a>() ) / rates.<a class="code" href="structneeds__rates.html#ad1c618eb1d5d9b3b98155bcbe952a098">thirst</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">if</span>( thirst_at &gt; 1_hours ) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                info += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nWill need water in &quot;</span> ) + <a class="code" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( thirst_at );</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            info += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nThirsty&quot;</span> );</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classtalker__character__const.html#af293eb92a8cbea6d982e1d2ecca84643">get_hunger</a>() &lt; 100 ) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <a class="code" href="classtime__duration.html">time_duration</a> hunger_at = 5_minutes * ( 100 - <a class="code" href="classtalker__character__const.html#af293eb92a8cbea6d982e1d2ecca84643">get_hunger</a>() ) / rates.<a class="code" href="structneeds__rates.html#a537fb128d773bdfedddacda084367e3a">hunger</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keywordflow">if</span>( hunger_at &gt; 1_hours ) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                info += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nWill need food in &quot;</span> ) + <a class="code" href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a>( hunger_at );</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            info += <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;\nHungry&quot;</span> );</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a34c63789c3fc5fe34de451e01acfe727">  816</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a34c63789c3fc5fe34de451e01acfe727">talker_npc::has_activity</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code" href="classplayer__activity.html#aac0ed0719997b097dd5d891c77e2b333">is_null</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a6eddd3a10de601560abc1b0f5ef96884">  821</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a6eddd3a10de601560abc1b0f5ef96884">talker_npc::is_myclass</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">npc_class_id</a> &amp;class_to_check )<span class="keyword"> const</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">myclass</a> == class_to_check;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a2e6361c891056040735ae9c68d3540b1">  826</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a2e6361c891056040735ae9c68d3540b1">talker_npc::set_class</a>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">npc_class_id</a> &amp;new_class )</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;{</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">myclass</a> = new_class;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a1c33140fb60b4c7fbdeff8a5e649216a">  831</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a1c33140fb60b4c7fbdeff8a5e649216a">talker_npc::say</a>( <span class="keyword">const</span> std::string &amp;<a class="code" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a> )</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a077962bdd033d5a96974c8ddf3e26a59">say</a>( <a class="code" href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a> );</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a7b5c7633192163a0adb2582fdd6f76b1">  836</a></span>&#160;std::string <a class="code" href="classtalker__npc.html#a7b5c7633192163a0adb2582fdd6f76b1">talker_npc::opinion_text</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a78543b29cdeed5945f372d5f6bd1dc76">opinion_text</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;}</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a960cce61d57dd6988a4a8e0376ab2732">  841</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a960cce61d57dd6988a4a8e0376ab2732">talker_npc::add_opinion</a>( <span class="keyword">const</span> <a class="code" href="structnpc__opinion.html">npc_opinion</a> &amp;op )</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;{</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a> += op;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a1d810083cd96f502208fff308b35268d">  846</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a1d810083cd96f502208fff308b35268d">talker_npc::enslave_mind</a>()</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">bool</span> not_following = <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_follower_list().count( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() ) == 0;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a08666006c28154f23831c198eb750281">companion_mission_role_id</a>.clear();</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="namespacetalk__function.html#a74c5383a186724aecc40087163edea45">talk_function::follow</a>( *<a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a> );</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">return</span> not_following;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a931da484c1888d80a59facf6a51d68da">  854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a931da484c1888d80a59facf6a51d68da">talker_npc::set_first_topic</a>( <span class="keyword">const</span> std::string &amp;chat_topic )</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">chatbin</a>.<a class="code" href="structdialogue__chatbin.html#a7d598b7ce85e9269bc5d9c2a897bebd0">first_topic</a> = chat_topic;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a152fe2aff7dac2ab9e0f82ba2c9db91e">  859</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classtalker__npc.html#a152fe2aff7dac2ab9e0f82ba2c9db91e">talker_npc::is_safe</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#aa8fd6069a77516d0fec45248f9069345">is_safe</a>();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a7c63fbd1a1ef24ec77bac40f3c575ff3">  864</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a7c63fbd1a1ef24ec77bac40f3c575ff3">talker_npc::die</a>()</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;{</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#afe871b5bf2a092bf7600c686cc5a0eca">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keyword">const</span> <a class="code" href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast&lt;npc&gt;</a> guy = <a class="code" href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a>.<a class="code" href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">find_npc</a>( <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>() );</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">if</span>( guy &amp;&amp; !guy-&gt;is_dead() ) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        guy-&gt;marked_for_death = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;}</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a4cea4a8ccd14fed63624dbefb9f1e2c9">  873</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a4cea4a8ccd14fed63624dbefb9f1e2c9">talker_npc::set_npc_trust</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> trust )</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;{</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a> = trust;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a51721eb765f240d1ed33006f8e2df5d3">  878</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#a51721eb765f240d1ed33006f8e2df5d3">talker_npc::get_npc_trust</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a3a0ba4a74fa63d28e56044ab813efcdc">  883</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a3a0ba4a74fa63d28e56044ab813efcdc">talker_npc::set_npc_fear</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> fear )</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;{</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a> = fear;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="classtalker__npc.html#ac17626468e8e8cb43b05e7b00824c49f">  888</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#ac17626468e8e8cb43b05e7b00824c49f">talker_npc::get_npc_fear</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a18b93b88a653661329b5581496b681d9">  893</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a18b93b88a653661329b5581496b681d9">talker_npc::set_npc_value</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> value )</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">value</a> = <a class="code" href="classtalker__npc.html#ac5db40ee2e1272310ec9a07070b29dce">value</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a257a1981aab5b96dbe6797cb0d22abb7">  898</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#a257a1981aab5b96dbe6797cb0d22abb7">talker_npc::get_npc_value</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">value</a>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a8b03cb81cd4989d5ee0b731ce5b89931">  903</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classtalker__npc.html#a8b03cb81cd4989d5ee0b731ce5b89931">talker_npc::set_npc_anger</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> anger )</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">anger</a> = anger;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="classtalker__npc.html#a2df8073dedd12680c2ba21d4df725749">  908</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classtalker__npc.html#a2df8073dedd12680c2ba21d4df725749">talker_npc::get_npc_anger</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">me_npc</a>-&gt;<a class="code" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code" href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">anger</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div>
<div class="ttc" id="aauto__pickup_8h_html"><div class="ttname"><a href="auto__pickup_8h.html">auto_pickup.h</a></div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a3cbd6a4aa555daec83ee03cc90dd7715"><div class="ttname"><a href="calendar_8cpp.html#a3cbd6a4aa555daec83ee03cc90dd7715">to_string_approx</a></div><div class="ttdeci">std::string to_string_approx(const time_duration &amp;dur, const bool verbose)</div><div class="ttdoc">Returns approximate duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00587">calendar.cpp:587</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a6b31b6fdce9698e37e4ada0095b6e637">cata_variant_type::flag_id</a></div><div class="ttdeci">@ flag_id</div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_a28256deb3e43854efdc7035ae555212ba18eb54216d0a6c8fcfcc347228e1d8d3"><div class="ttname"><a href="character_8h.html#a28256deb3e43854efdc7035ae555212ba18eb54216d0a6c8fcfcc347228e1d8d3">sleepiness_levels::TIRED</a></div><div class="ttdeci">@ TIRED</div></div>
<div class="ttc" id="acharacter_8h_html_a28256deb3e43854efdc7035ae555212ba9ff6c94d7bbe4244ae18258b07f5ff32"><div class="ttname"><a href="character_8h.html#a28256deb3e43854efdc7035ae555212ba9ff6c94d7bbe4244ae18258b07f5ff32">sleepiness_levels::DEAD_TIRED</a></div><div class="ttdeci">@ DEAD_TIRED</div></div>
<div class="ttc" id="acharacter_8h_html_a28256deb3e43854efdc7035ae555212bac30a2ebffd3127f9dc4bb1cff2e29cea"><div class="ttname"><a href="character_8h.html#a28256deb3e43854efdc7035ae555212bac30a2ebffd3127f9dc4bb1cff2e29cea">sleepiness_levels::EXHAUSTED</a></div><div class="ttdeci">@ EXHAUSTED</div></div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="acharacter__id_8h_html"><div class="ttname"><a href="character__id_8h.html">character_id.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclassCharacter_html_a01a7950e28e24252e372d7e74078e12f"><div class="ttname"><a href="classCharacter.html#a01a7950e28e24252e372d7e74078e12f">Character::as_character</a></div><div class="ttdeci">Character * as_character() override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00532">character.h:532</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0bbd9aa7982f98e08f67db130e4eb9f8"><div class="ttname"><a href="classCharacter.html#a0bbd9aa7982f98e08f67db130e4eb9f8">Character::str_max</a></div><div class="ttdeci">int str_max</div><div class="ttdoc">Character stats.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00572">character.h:572</a></div></div>
<div class="ttc" id="aclassCharacter_html_a150ab03ef8a507dcc231d646b1b9e7c5"><div class="ttname"><a href="classCharacter.html#a150ab03ef8a507dcc231d646b1b9e7c5">Character::intimidation</a></div><div class="ttdeci">int intimidation() const</div><div class="ttdoc">Returns a value used when attempting to intimidate NPC's.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11539">character.cpp:11539</a></div></div>
<div class="ttc" id="aclassCharacter_html_a15e1412dda3489886688216c4ef7da34"><div class="ttname"><a href="classCharacter.html#a15e1412dda3489886688216c4ef7da34">Character::get_consume_time</a></div><div class="ttdeci">time_duration get_consume_time(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01709">consumption.cpp:1709</a></div></div>
<div class="ttc" id="aclassCharacter_html_a16d4147edf13602b5330f7f04d478793"><div class="ttname"><a href="classCharacter.html#a16d4147edf13602b5330f7f04d478793">Character::is_mute</a></div><div class="ttdeci">bool is_mute() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04622">character.cpp:4622</a></div></div>
<div class="ttc" id="aclassCharacter_html_a16ef0e03576f6d8e192374e4fdee6895"><div class="ttname"><a href="classCharacter.html#a16ef0e03576f6d8e192374e4fdee6895">Character::ammo_count_for</a></div><div class="ttdeci">int ammo_count_for(const item_location &amp;gun) const</div><div class="ttdoc">Counts ammo and UPS charges (lower of) for a given gun on the character.</div><div class="ttdef"><b>Definition:</b> <a href="character__ammo_8cpp_source.html#l00026">character_ammo.cpp:26</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1701c810c8916a69adad06a3c12168c6"><div class="ttname"><a href="classCharacter.html#a1701c810c8916a69adad06a3c12168c6">Character::mutation_desc</a></div><div class="ttdeci">std::string mutation_desc(const trait_id &amp;mut) const</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l02344">mutation.cpp:2344</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02709">character.h:2709</a></div></div>
<div class="ttc" id="aclassCharacter_html_a248ff3360a76d3c24283a711a33b915c"><div class="ttname"><a href="classCharacter.html#a248ff3360a76d3c24283a711a33b915c">Character::mutation_name</a></div><div class="ttdeci">std::string mutation_name(const trait_id &amp;mut) const</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l02334">mutation.cpp:2334</a></div></div>
<div class="ttc" id="aclassCharacter_html_a379081ad133b17e4ab3d230270b2414d"><div class="ttname"><a href="classCharacter.html#a379081ad133b17e4ab3d230270b2414d">Character::i_rem</a></div><div class="ttdeci">item i_rem(const item *it)</div><div class="ttdoc">Remove a specific item from player possession.</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00433">character_inventory.cpp:433</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdoc">Use charges in character inventory.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09769">character.cpp:9769</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4b20f9ae261b906ead741771a8a48311"><div class="ttname"><a href="classCharacter.html#a4b20f9ae261b906ead741771a8a48311">Character::per_max</a></div><div class="ttdeci">int per_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00575">character.h:575</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4d8d747c469431f530acb05c5f7a7f45"><div class="ttname"><a href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">Character::is_worn</a></div><div class="ttdeci">bool is_worn(const item &amp;thing) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01911">character.h:1911</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4f0f412e4bec8d107de42bd34f1fa441"><div class="ttname"><a href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">Character::volume_capacity</a></div><div class="ttdeci">units::volume volume_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08778">character.cpp:8778</a></div></div>
<div class="ttc" id="aclassCharacter_html_a541159ddc3ed5dcf27e0477a02d94ffd"><div class="ttname"><a href="classCharacter.html#a541159ddc3ed5dcf27e0477a02d94ffd">Character::persuade_skill</a></div><div class="ttdeci">int persuade_skill() const</div><div class="ttdoc">Returns a value used when attempting to convince NPC's of something true.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11519">character.cpp:11519</a></div></div>
<div class="ttc" id="aclassCharacter_html_a54f90ca736510c41a6539c8d8ad833b6"><div class="ttname"><a href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">Character::consume_effects</a></div><div class="ttdeci">bool consume_effects(item &amp;food)</div><div class="ttdoc">Handles the effects of consuming an item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01534">consumption.cpp:1534</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6028587ccee9855c6ba900042188eec3"><div class="ttname"><a href="classCharacter.html#a6028587ccee9855c6ba900042188eec3">Character::is_wearing</a></div><div class="ttdeci">bool is_wearing(const itype_id &amp;it) const</div><div class="ttdoc">Returns true if the player is wearing the item.</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l00538">character_attire.cpp:538</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6dc61c40fa13a6124b53785c9db13e70"><div class="ttname"><a href="classCharacter.html#a6dc61c40fa13a6124b53785c9db13e70">Character::can_pickWeight</a></div><div class="ttdeci">bool can_pickWeight(const item &amp;it, bool safe=true) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03251">character.cpp:3251</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6e191f46038ed0321be507015b5abc58"><div class="ttname"><a href="classCharacter.html#a6e191f46038ed0321be507015b5abc58">Character::weapon_value</a></div><div class="ttdeci">double weapon_value(const item &amp;weap, int ammo=10) const</div><div class="ttdoc">NPC-related item rating functions.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02781">melee.cpp:2781</a></div></div>
<div class="ttc" id="aclassCharacter_html_a873b6e039822dc744b6c9741385b926d"><div class="ttname"><a href="classCharacter.html#a873b6e039822dc744b6c9741385b926d">Character::can_pickVolume</a></div><div class="ttdeci">bool can_pickVolume(const item &amp;it, bool safe=false, const item *avoid=nullptr, bool ignore_pkt_settings=true) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03222">character.cpp:3222</a></div></div>
<div class="ttc" id="aclassCharacter_html_a881167b8345723b21ff8c7e54781dcd5"><div class="ttname"><a href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">Character::can_consume_as_is</a></div><div class="ttdeci">bool can_consume_as_is(const item &amp;it) const</div><div class="ttdoc">Check whether the character can consume this very item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01679">consumption.cpp:1679</a></div></div>
<div class="ttc" id="aclassCharacter_html_a994c83d61054215e81a6e87478d81203"><div class="ttname"><a href="classCharacter.html#a994c83d61054215e81a6e87478d81203">Character::int_cur</a></div><div class="ttdeci">int int_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00579">character.h:579</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9c3a6b61668d4d7d771441e50095c544"><div class="ttname"><a href="classCharacter.html#a9c3a6b61668d4d7d771441e50095c544">Character::int_max</a></div><div class="ttdeci">int int_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00574">character.h:574</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa33f9870c95a95d8a46423c9d6477d99"><div class="ttname"><a href="classCharacter.html#aa33f9870c95a95d8a46423c9d6477d99">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09586">character.cpp:9586</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa9a4335ab1fd0d975199750b1ebf5bef"><div class="ttname"><a href="classCharacter.html#aa9a4335ab1fd0d975199750b1ebf5bef">Character::get_wielded_item</a></div><div class="ttdeci">item_location get_wielded_item() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00674">character.cpp:674</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab1c5a29039893bd41d82908a9eb5655a"><div class="ttname"><a href="classCharacter.html#ab1c5a29039893bd41d82908a9eb5655a">Character::calc_needs_rates</a></div><div class="ttdeci">needs_rates calc_needs_rates() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l05122">character.cpp:5122</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3a5a1cd76002a3e9903b7e09b77bb3f"><div class="ttname"><a href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">Character::volume_carried</a></div><div class="ttdeci">units::volume volume_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08814">character.cpp:8814</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab8bb62a82f437cb52719b9862a967311"><div class="ttname"><a href="classCharacter.html#ab8bb62a82f437cb52719b9862a967311">Character::can_wear</a></div><div class="ttdeci">ret_val&lt; void &gt; can_wear(const item &amp;it, bool with_equip_change=false) const</div><div class="ttdoc">Check character capable of wearing an item.</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l00109">character_attire.cpp:109</a></div></div>
<div class="ttc" id="aclassCharacter_html_acd32701e69ce9ed1571f541ff5b6dcd7"><div class="ttname"><a href="classCharacter.html#acd32701e69ce9ed1571f541ff5b6dcd7">Character::my_mutations</a></div><div class="ttdeci">std::unordered_map&lt; trait_id, trait_data &gt; my_mutations</div><div class="ttdoc">Traits / mutations of the character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l03910">character.h:3910</a></div></div>
<div class="ttc" id="aclassCharacter_html_acf6fb4a50bf6680ba3992da6fad9abc7"><div class="ttname"><a href="classCharacter.html#acf6fb4a50bf6680ba3992da6fad9abc7">Character::is_dead_state</a></div><div class="ttdeci">bool is_dead_state() const override</div><div class="ttdoc">Returns true if the player should be dead.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01885">character.cpp:1885</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00652">character.cpp:652</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae4ce8cb45c93fcafc3f4ba489e63a4c2"><div class="ttname"><a href="classCharacter.html#ae4ce8cb45c93fcafc3f4ba489e63a4c2">Character::dex_max</a></div><div class="ttdeci">int dex_max</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00573">character.h:573</a></div></div>
<div class="ttc" id="aclassCharacter_html_aeafb75e7e7e7a3716aef9dfdd778a20d"><div class="ttname"><a href="classCharacter.html#aeafb75e7e7e7a3716aef9dfdd778a20d">Character::consume</a></div><div class="ttdeci">trinary consume(item_location loc, bool force=false)</div><div class="ttdoc">Used for eating object at a location.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01891">consumption.cpp:1891</a></div></div>
<div class="ttc" id="aclassCharacter_html_aecadb13556a47d015e1a1ac7c46d56a7"><div class="ttname"><a href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">Character::is_deaf</a></div><div class="ttdeci">bool is_deaf() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04614">character.cpp:4614</a></div></div>
<div class="ttc" id="aclassCharacter_html_af04d061e415da9cb6f1fc234b04f3dfb"><div class="ttname"><a href="classCharacter.html#af04d061e415da9cb6f1fc234b04f3dfb">Character::i_add</a></div><div class="ttdeci">item_location i_add(item it, bool should_stack=true, const item *avoid=nullptr, const item *original_inventory_item=nullptr, bool allow_drop=true, bool allow_wield=true, bool ignore_pkt_settings=false)</div><div class="ttdoc">Adds the item to the character's worn items or wields it, or prompts if the Character cannot pick it ...</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00326">character_inventory.cpp:326</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCharacter_html_af788d696c6c76817c784db46350b2d44"><div class="ttname"><a href="classCharacter.html#af788d696c6c76817c784db46350b2d44">Character::lie_skill</a></div><div class="ttdeci">int lie_skill() const</div><div class="ttdoc">Returns a value used when attempting to convince NPC's of something false.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11529">character.cpp:11529</a></div></div>
<div class="ttc" id="aclassCreature_html_a14ecbd8f044628463354090421a805b4"><div class="ttname"><a href="classCreature.html#a14ecbd8f044628463354090421a805b4">Creature::global_omt_location</a></div><div class="ttdeci">tripoint_abs_omt global_omt_location() const</div><div class="ttdoc">Returns the location of the creature in global overmap terrain coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03242">creature.cpp:3242</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a7bf62f4f36b0475f1f39ea27f3beebb0"><div class="ttname"><a href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01770">creature.cpp:1770</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclassavatar_html_ab9d7689c7af3f73b1adc4c434b426d29"><div class="ttname"><a href="classavatar.html#ab9d7689c7af3f73b1adc4c434b426d29">avatar::get_active_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; get_active_missions() const</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00311">avatar.cpp:311</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a5e2a500660f3adf90c6940ecbe78ccee"><div class="ttname"><a href="classfaction__template.html#a5e2a500660f3adf90c6940ecbe78ccee">faction_template::known_by_u</a></div><div class="ttdeci">bool known_by_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00111">faction.h:111</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a7c6bf7af56797169006e95328f81a1fd"><div class="ttname"><a href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">faction_template::trusts_u</a></div><div class="ttdeci">int trusts_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00110">faction.h:110</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a8927427656119c2e4b1046b19c521313"><div class="ttname"><a href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">faction_template::likes_u</a></div><div class="ttdeci">int likes_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00108">faction.h:108</a></div></div>
<div class="ttc" id="aclassfaction__template_html_acf4662d3cabe4bb0e7b2a6693d7abc43"><div class="ttname"><a href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">faction_template::respects_u</a></div><div class="ttdeci">int respects_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00109">faction.h:109</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00028">item_location.h:29</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a2912b2e15a4eec07a5070fffbbd152e8"><div class="ttname"><a href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">item::is_gun</a></div><div class="ttdeci">bool is_gun() const</div><div class="ttdoc">Can this item be used to perform a ranged attack?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09297">item.cpp:9297</a></div></div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01124">item.h:1124</a></div></div>
<div class="ttc" id="aclassitem_html_a3e532e4e5b7cef943634b1d910f99384"><div class="ttname"><a href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">item::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdoc">Return true if this item's type is counted by charges (true for stackable, ammo, or comestible)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08618">item.cpp:8618</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14803">item.cpp:14803</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14557">item.cpp:14557</a></div></div>
<div class="ttc" id="aclassitem_html_a4a9972e826d25be6736b749ab94b230f"><div class="ttname"><a href="classitem.html#a4a9972e826d25be6736b749ab94b230f">item::typeId</a></div><div class="ttdeci">itype_id typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11850">item.cpp:11850</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00931">item.cpp:931</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03133">item.h:3133</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06722">item.cpp:6722</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09667">item.cpp:9667</a></div></div>
<div class="ttc" id="aclassitem_html_a9a1f33d04abe5ec73a31213be8d0c44e"><div class="ttname"><a href="classitem.html#a9a1f33d04abe5ec73a31213be8d0c44e">item::set_favorite</a></div><div class="ttdeci">void set_favorite(bool favorite)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14753">item.cpp:14753</a></div></div>
<div class="ttc" id="aclassitem_html_a9aab8660fb40eedb8d2da95e797ecd32"><div class="ttname"><a href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">item::is_armor</a></div><div class="ttdeci">bool is_armor() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09623">item.cpp:9623</a></div></div>
<div class="ttc" id="aclassitem_html_aa344ad5d3082d7a56b1c902fbafb6347"><div class="ttname"><a href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">item::is_medication</a></div><div class="ttdeci">bool is_medication() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09489">item.cpp:9489</a></div></div>
<div class="ttc" id="aclassitem_html_aad45569fa1fdd99d602eabbbbca04f75"><div class="ttname"><a href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">item::is_food</a></div><div class="ttdeci">bool is_food() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09480">item.cpp:9480</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03074">item.h:3074</a></div></div>
<div class="ttc" id="aclassitem_html_ad340c283789ac6bd8578a16e8343d893"><div class="ttname"><a href="classitem.html#ad340c283789ac6bd8578a16e8343d893">item::is_dangerous</a></div><div class="ttdeci">bool is_dangerous() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14228">item.cpp:14228</a></div></div>
<div class="ttc" id="aclassmission_html"><div class="ttname"><a href="classmission.html">mission</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00272">mission.h:273</a></div></div>
<div class="ttc" id="aclassmission_html_a20a88bd9b3f7692c977bc5f2b07329ea"><div class="ttname"><a href="classmission.html#a20a88bd9b3f7692c977bc5f2b07329ea">mission::get_assigned_player_id</a></div><div class="ttdeci">character_id get_assigned_player_id() const</div><div class="ttdoc">To which player the mission is assigned.</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00819">mission.cpp:819</a></div></div>
<div class="ttc" id="aclassmission_html_a3dee3f6847b1ff33ca459f42a3aa37ec"><div class="ttname"><a href="classmission.html#a3dee3f6847b1ff33ca459f42a3aa37ec">mission::reserve_new</a></div><div class="ttdeci">static mission * reserve_new(const mission_type_id &amp;type, const character_id &amp;npc_id)</div><div class="ttdoc">Create a new mission of the given type and assign it to the given npc.</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00079">mission.cpp:79</a></div></div>
<div class="ttc" id="aclassmission_html_a73db28cfc6ce144c509690a4eb639802"><div class="ttname"><a href="classmission.html#a73db28cfc6ce144c509690a4eb639802">mission::assign</a></div><div class="ttdeci">void assign(avatar &amp;u)</div><div class="ttdoc">Assigns the mission to the player.</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00301">mission.cpp:301</a></div></div>
<div class="ttc" id="aclassmission_html_ac547e1c26045944e8af80728decd855c"><div class="ttname"><a href="classmission.html#ac547e1c26045944e8af80728decd855c">mission::on_talk_with_npc</a></div><div class="ttdeci">void on_talk_with_npc(const character_id &amp;npc_id)</div><div class="ttdoc">Called when the player talks with an NPC.</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00276">mission.cpp:276</a></div></div>
<div class="ttc" id="aclassmission_html_af99364a9afac4abce5af8a056835f95d"><div class="ttname"><a href="classmission.html#af99364a9afac4abce5af8a056835f95d">mission::get_type</a></div><div class="ttdeci">const mission_type &amp; get_type() const</div><div class="ttdef"><b>Definition:</b> <a href="mission_8cpp_source.html#l00714">mission.cpp:714</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00791">npc.h:792</a></div></div>
<div class="ttc" id="aclassnpc_html_a077962bdd033d5a96974c8ddf3e26a59"><div class="ttname"><a href="classnpc.html#a077962bdd033d5a96974c8ddf3e26a59">npc::say</a></div><div class="ttdeci">void say(const char *const line, Args &amp;&amp;... args) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01025">npc.h:1025</a></div></div>
<div class="ttc" id="aclassnpc_html_a07f70dcf0d3f4228a4d7eda138c5ff00"><div class="ttname"><a href="classnpc.html#a07f70dcf0d3f4228a4d7eda138c5ff00">npc::make_angry</a></div><div class="ttdeci">void make_angry()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01626">npc.cpp:1626</a></div></div>
<div class="ttc" id="aclassnpc_html_a08666006c28154f23831c198eb750281"><div class="ttname"><a href="classnpc.html#a08666006c28154f23831c198eb750281">npc::companion_mission_role_id</a></div><div class="ttdeci">std::string companion_mission_role_id</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01393">npc.h:1393</a></div></div>
<div class="ttc" id="aclassnpc_html_a17c28567db494ce9c60ef2929dd4e268"><div class="ttname"><a href="classnpc.html#a17c28567db494ce9c60ef2929dd4e268">npc::get_attitude</a></div><div class="ttdeci">npc_attitude get_attitude() const override</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03546">npc.cpp:3546</a></div></div>
<div class="ttc" id="aclassnpc_html_a21a2c9d7a8bebc596239365fb6aff1c5"><div class="ttname"><a href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">npc::personality</a></div><div class="ttdeci">npc_personality personality</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01402">npc.h:1402</a></div></div>
<div class="ttc" id="aclassnpc_html_a251cafb769b1d8ec4585deb3b50aaafd"><div class="ttname"><a href="classnpc.html#a251cafb769b1d8ec4585deb3b50aaafd">npc::wield</a></div><div class="ttdeci">bool wield(item &amp;it) override</div><div class="ttdoc">Removes currently wielded item (if any) and replaces it with the target item.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01327">npc.cpp:1327</a></div></div>
<div class="ttc" id="aclassnpc_html_a29fad2798be32c49e72523a6cab2b7f9"><div class="ttname"><a href="classnpc.html#a29fad2798be32c49e72523a6cab2b7f9">npc::value</a></div><div class="ttdeci">double value(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02050">npc.cpp:2050</a></div></div>
<div class="ttc" id="aclassnpc_html_a2d47ff8926fed9a85d1168e7e514f871"><div class="ttname"><a href="classnpc.html#a2d47ff8926fed9a85d1168e7e514f871">npc::myclass</a></div><div class="ttdeci">npc_class_id myclass</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01329">npc.h:1329</a></div></div>
<div class="ttc" id="aclassnpc_html_a32ceae6e42afded1f9fef157bfec8715"><div class="ttname"><a href="classnpc.html#a32ceae6e42afded1f9fef157bfec8715">npc::is_walking_with</a></div><div class="ttdeci">bool is_walking_with() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02317">npc.cpp:2317</a></div></div>
<div class="ttc" id="aclassnpc_html_a33904ddd2c512647b74402954c8ec916"><div class="ttname"><a href="classnpc.html#a33904ddd2c512647b74402954c8ec916">npc::hostile_anger_level</a></div><div class="ttdeci">int hostile_anger_level() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01621">npc.cpp:1621</a></div></div>
<div class="ttc" id="aclassnpc_html_a35fa560c9b36ecb6b7ba4d569d156604"><div class="ttname"><a href="classnpc.html#a35fa560c9b36ecb6b7ba4d569d156604">npc::goal</a></div><div class="ttdeci">tripoint_abs_omt goal</div><div class="ttdoc">Global overmap terrain coordinate, where we want to get to if no goal exist, this is no_goal_point.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01379">npc.h:1379</a></div></div>
<div class="ttc" id="aclassnpc_html_a41b0a58a7ddf03b23766abcb760bcff0"><div class="ttname"><a href="classnpc.html#a41b0a58a7ddf03b23766abcb760bcff0">npc::is_hallucination</a></div><div class="ttdeci">bool is_hallucination() const override</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00911">npc.h:911</a></div></div>
<div class="ttc" id="aclassnpc_html_a53c9eb784312e0594c5a9922668d630e"><div class="ttname"><a href="classnpc.html#a53c9eb784312e0594c5a9922668d630e">npc::set_attitude</a></div><div class="ttdeci">void set_attitude(npc_attitude new_attitude)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03551">npc.cpp:3551</a></div></div>
<div class="ttc" id="aclassnpc_html_a58610dafa225d6bcd61ea0c5f56e65a4"><div class="ttname"><a href="classnpc.html#a58610dafa225d6bcd61ea0c5f56e65a4">npc::will_accept_from_player</a></div><div class="ttdeci">bool will_accept_from_player(const item &amp;it) const</div><div class="ttdoc">Is the item safe or does the NPC trust you enough? Is not recursive, only checks the item that is the...</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03263">npc.cpp:3263</a></div></div>
<div class="ttc" id="aclassnpc_html_a631f833b1311bf7d5001929f4e71048f"><div class="ttname"><a href="classnpc.html#a631f833b1311bf7d5001929f4e71048f">npc::wear_if_wanted</a></div><div class="ttdeci">bool wear_if_wanted(const item &amp;it, std::string &amp;reason)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01233">npc.cpp:1233</a></div></div>
<div class="ttc" id="aclassnpc_html_a768707654ad24de4e74d1324335872e8"><div class="ttname"><a href="classnpc.html#a768707654ad24de4e74d1324335872e8">npc::turned_hostile</a></div><div class="ttdeci">bool turned_hostile() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01616">npc.cpp:1616</a></div></div>
<div class="ttc" id="aclassnpc_html_a770a2307ec384a2986e7ca9769cdd2e3"><div class="ttname"><a href="classnpc.html#a770a2307ec384a2986e7ca9769cdd2e3">npc::decide_needs</a></div><div class="ttdeci">void decide_needs()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01670">npc.cpp:1670</a></div></div>
<div class="ttc" id="aclassnpc_html_a78543b29cdeed5945f372d5f6bd1dc76"><div class="ttname"><a href="classnpc.html#a78543b29cdeed5945f372d5f6bd1dc76">npc::opinion_text</a></div><div class="ttdeci">std::string opinion_text() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02651">npc.cpp:2651</a></div></div>
<div class="ttc" id="aclassnpc_html_a7ee1c9e434339418cb9b5907d8695806"><div class="ttname"><a href="classnpc.html#a7ee1c9e434339418cb9b5907d8695806">npc::is_enemy</a></div><div class="ttdeci">bool is_enemy() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02352">npc.cpp:2352</a></div></div>
<div class="ttc" id="aclassnpc_html_a803f433a7a6b27fc761a5780db7d6b52"><div class="ttname"><a href="classnpc.html#a803f433a7a6b27fc761a5780db7d6b52">npc::wield_better_weapon</a></div><div class="ttdeci">bool wield_better_weapon()</div><div class="ttdef"><b>Definition:</b> <a href="npcmove_8cpp_source.html#l04111">npcmove.cpp:4111</a></div></div>
<div class="ttc" id="aclassnpc_html_a804d15a6005963a24df4434c8aa1b94e"><div class="ttname"><a href="classnpc.html#a804d15a6005963a24df4434c8aa1b94e">npc::invalidate_range_cache</a></div><div class="ttdeci">void invalidate_range_cache()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01383">npc.cpp:1383</a></div></div>
<div class="ttc" id="aclassnpc_html_a8726121e70cd1ce0d351a926de30fcc1"><div class="ttname"><a href="classnpc.html#a8726121e70cd1ce0d351a926de30fcc1">npc::is_friendly</a></div><div class="ttdeci">bool is_friendly(const Character &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02302">npc.cpp:2302</a></div></div>
<div class="ttc" id="aclassnpc_html_a8b8977c621cdf1a6a4cdcc79225eb8b2"><div class="ttname"><a href="classnpc.html#a8b8977c621cdf1a6a4cdcc79225eb8b2">npc::chatbin</a></div><div class="ttdeci">dialogue_chatbin chatbin</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01406">npc.h:1406</a></div></div>
<div class="ttc" id="aclassnpc_html_a967b81e1395da11d6ba4d64ee8651ecc"><div class="ttname"><a href="classnpc.html#a967b81e1395da11d6ba4d64ee8651ecc">npc::has_activity</a></div><div class="ttdeci">bool has_activity() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03541">npc.cpp:3541</a></div></div>
<div class="ttc" id="aclassnpc_html_a9b77cfe67ea0ea2151d191f494c8a094"><div class="ttname"><a href="classnpc.html#a9b77cfe67ea0ea2151d191f494c8a094">npc::assigned_missions_value</a></div><div class="ttdeci">int assigned_missions_value()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01661">npc.cpp:1661</a></div></div>
<div class="ttc" id="aclassnpc_html_a9ca344b214e47beec525f78ebc83dc64"><div class="ttname"><a href="classnpc.html#a9ca344b214e47beec525f78ebc83dc64">npc::has_new_items</a></div><div class="ttdeci">bool has_new_items</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01387">npc.h:1387</a></div></div>
<div class="ttc" id="aclassnpc_html_a9ebaf7c38b4eb34255acc88302011ce0"><div class="ttname"><a href="classnpc.html#a9ebaf7c38b4eb34255acc88302011ce0">npc::get_faction</a></div><div class="ttdeci">faction * get_faction() const override</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00776">npc.cpp:776</a></div></div>
<div class="ttc" id="aclassnpc_html_aa57aad368fe40e376c9fcb2018f0193a"><div class="ttname"><a href="classnpc.html#aa57aad368fe40e376c9fcb2018f0193a">npc::pick_talk_topic</a></div><div class="ttdeci">std::string pick_talk_topic(const Character &amp;u)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l07159">npctalk.cpp:7159</a></div></div>
<div class="ttc" id="aclassnpc_html_aa8fd6069a77516d0fec45248f9069345"><div class="ttname"><a href="classnpc.html#aa8fd6069a77516d0fec45248f9069345">npc::is_safe</a></div><div class="ttdeci">bool is_safe() const</div><div class="ttdef"><b>Definition:</b> <a href="npcmove_8cpp_source.html#l01210">npcmove.cpp:1210</a></div></div>
<div class="ttc" id="aclassnpc_html_ab762e1b5cc3053fb9b04df37714e14b7"><div class="ttname"><a href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">npc::is_player_ally</a></div><div class="ttdeci">bool is_player_ally() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02297">npc.cpp:2297</a></div></div>
<div class="ttc" id="aclassnpc_html_ac53fbaa9d7ba82b585a16468de52be02"><div class="ttname"><a href="classnpc.html#ac53fbaa9d7ba82b585a16468de52be02">npc::chat_snippets</a></div><div class="ttdeci">const dialogue_chatbin_snippets &amp; chat_snippets() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03805">npc.cpp:3805</a></div></div>
<div class="ttc" id="aclassnpc_html_acf63fe5d903a2ce69e37334d5bc76824"><div class="ttname"><a href="classnpc.html#acf63fe5d903a2ce69e37334d5bc76824">npc::describe_mission</a></div><div class="ttdeci">std::string describe_mission() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03745">npc.cpp:3745</a></div></div>
<div class="ttc" id="aclassnpc_html_ad9af10fbaadd2404019460873fefbda4"><div class="ttname"><a href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">npc::rules</a></div><div class="ttdeci">npc_follower_rules rules</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01408">npc.h:1408</a></div></div>
<div class="ttc" id="aclassnpc_html_ae17fa770d3d2ecbb89371e334c21ea6b"><div class="ttname"><a href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">npc::op_of_u</a></div><div class="ttdeci">npc_opinion op_of_u</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01403">npc.h:1403</a></div></div>
<div class="ttc" id="aclassnpc_html_ae4ee8462177eb0d0d5b4447b74d436d8"><div class="ttname"><a href="classnpc.html#ae4ee8462177eb0d0d5b4447b74d436d8">npc::set_fac</a></div><div class="ttdeci">void set_fac(const faction_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00747">npc.cpp:747</a></div></div>
<div class="ttc" id="aclassnpc_html_af49ad67a09ed12e7e48bb7dfcc55389c"><div class="ttname"><a href="classnpc.html#af49ad67a09ed12e7e48bb7dfcc55389c">npc::is_leader</a></div><div class="ttdeci">bool is_leader() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02332">npc.cpp:2332</a></div></div>
<div class="ttc" id="aclassnpc_html_af5b31a1ba231397d5e8ca740a0ca33ab"><div class="ttname"><a href="classnpc.html#af5b31a1ba231397d5e8ca740a0ca33ab">npc::set_known_to_u</a></div><div class="ttdeci">void set_known_to_u(bool known)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00952">npc.cpp:952</a></div></div>
<div class="ttc" id="aclassnpc_html_afb23922118c6110a011990778c940ba9"><div class="ttname"><a href="classnpc.html#afb23922118c6110a011990778c940ba9">npc::is_following</a></div><div class="ttdeci">bool is_following() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02327">npc.cpp:2327</a></div></div>
<div class="ttc" id="aclassnpc_html_afe871b5bf2a092bf7600c686cc5a0eca"><div class="ttname"><a href="classnpc.html#afe871b5bf2a092bf7600c686cc5a0eca">npc::die</a></div><div class="ttdeci">void die(Creature *killer) override</div><div class="ttdoc">Empty function.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02790">npc.cpp:2790</a></div></div>
<div class="ttc" id="aclassovermapbuffer_html_abe3397983bdf2419ede84ee43bdf587f"><div class="ttname"><a href="classovermapbuffer.html#abe3397983bdf2419ede84ee43bdf587f">overmapbuffer::find_npc</a></div><div class="ttdeci">shared_ptr_fast&lt; npc &gt; find_npc(character_id id)</div><div class="ttdoc">Find the npc with the given ID.</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l01234">overmapbuffer.cpp:1234</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aac0ed0719997b097dd5d891c77e2b333"><div class="ttname"><a href="classplayer__activity.html#aac0ed0719997b097dd5d891c77e2b333">player_activity::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00102">player_activity.h:102</a></div></div>
<div class="ttc" id="aclassret__val_3_01void_01_4_html"><div class="ttname"><a href="classret__val_3_01void_01_4.html">ret_val&lt; void &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00103">ret_val.h:104</a></div></div>
<div class="ttc" id="aclassret__val__common_html_a933807b816264e791e488ed5e7abb1c3"><div class="ttname"><a href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">ret_val_common::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00013">ret_val.h:13</a></div></div>
<div class="ttc" id="aclassret__val__common_html_adf8af6e05bb9773c0b77b4299ba13c6c"><div class="ttname"><a href="classret__val__common.html#adf8af6e05bb9773c0b77b4299ba13c6c">ret_val_common::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00017">ret_val.h:17</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; effect_type &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae75b0a209b55081a67c5fe6c17a4be00"><div class="ttname"><a href="classstring__id.html#ae75b0a209b55081a67c5fe6c17a4be00">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00260">string_id.h:260</a></div></div>
<div class="ttc" id="aclasstalker__character__const_html_a0adf877855ccbdde9b59792860a93720"><div class="ttname"><a href="classtalker__character__const.html#a0adf877855ccbdde9b59792860a93720">talker_character_const::disp_name</a></div><div class="ttdeci">std::string disp_name() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8cpp_source.html#l00030">talker_character.cpp:30</a></div></div>
<div class="ttc" id="aclasstalker__character__const_html_a5244cc83fa8ef23fb0a48136b0f115cd"><div class="ttname"><a href="classtalker__character__const.html#a5244cc83fa8ef23fb0a48136b0f115cd">talker_character_const::me_chr_const</a></div><div class="ttdeci">const Character * me_chr_const</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8h_source.html#l00201">talker_character.h:201</a></div></div>
<div class="ttc" id="aclasstalker__character__const_html_a5f1d5481dd18b59e4e92e5a10146e382"><div class="ttname"><a href="classtalker__character__const.html#a5f1d5481dd18b59e4e92e5a10146e382">talker_character_const::get_thirst</a></div><div class="ttdeci">int get_thirst() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8cpp_source.html#l00652">talker_character.cpp:652</a></div></div>
<div class="ttc" id="aclasstalker__character__const_html_abc72c82e160eb769aec7537c65ab4abf"><div class="ttname"><a href="classtalker__character__const.html#abc72c82e160eb769aec7537c65ab4abf">talker_character_const::get_sleepiness</a></div><div class="ttdeci">int get_sleepiness() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8cpp_source.html#l00642">talker_character.cpp:642</a></div></div>
<div class="ttc" id="aclasstalker__character__const_html_af293eb92a8cbea6d982e1d2ecca84643"><div class="ttname"><a href="classtalker__character__const.html#af293eb92a8cbea6d982e1d2ecca84643">talker_character_const::get_hunger</a></div><div class="ttdeci">int get_hunger() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8cpp_source.html#l00647">talker_character.cpp:647</a></div></div>
<div class="ttc" id="aclasstalker__character__const_html_afcf4a7d6cf5ec9196e95af2b472e9868"><div class="ttname"><a href="classtalker__character__const.html#afcf4a7d6cf5ec9196e95af2b472e9868">talker_character_const::getID</a></div><div class="ttdeci">character_id getID() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8cpp_source.html#l00040">talker_character.cpp:40</a></div></div>
<div class="ttc" id="aclasstalker__character_html_a6c634ab41501b0d30fd8db25f25caada"><div class="ttname"><a href="classtalker__character.html#a6c634ab41501b0d30fd8db25f25caada">talker_character::me_chr</a></div><div class="ttdeci">Character * me_chr</div><div class="ttdef"><b>Definition:</b> <a href="talker__character_8h_source.html#l00313">talker_character.h:313</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a0077fc660ad19dc0c2f7da205d115b54"><div class="ttname"><a href="classtalker__npc.html#a0077fc660ad19dc0c2f7da205d115b54">talker_npc::update_missions</a></div><div class="ttdeci">void update_missions(const std::vector&lt; mission * &gt; &amp;missions_assigned) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00222">talker_npc.cpp:222</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a08341e8a9d25a532459a33b7b3c92da9"><div class="ttname"><a href="classtalker__npc.html#a08341e8a9d25a532459a33b7b3c92da9">talker_npc::turned_hostile</a></div><div class="ttdeci">bool turned_hostile() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00592">talker_npc.cpp:592</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a152fe2aff7dac2ab9e0f82ba2c9db91e"><div class="ttname"><a href="classtalker__npc.html#a152fe2aff7dac2ab9e0f82ba2c9db91e">talker_npc::is_safe</a></div><div class="ttdeci">bool is_safe() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00859">talker_npc.cpp:859</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a16a94924e2169e4b8aed982d6375aac7"><div class="ttname"><a href="classtalker__npc.html#a16a94924e2169e4b8aed982d6375aac7">talker_npc::assigned_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; assigned_missions() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00530">talker_npc.cpp:530</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a18b93b88a653661329b5581496b681d9"><div class="ttname"><a href="classtalker__npc.html#a18b93b88a653661329b5581496b681d9">talker_npc::set_npc_value</a></div><div class="ttdeci">void set_npc_value(int value) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00893">talker_npc.cpp:893</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a1977bf1be6e765ef020ea5e1c73a7c30"><div class="ttname"><a href="classtalker__npc.html#a1977bf1be6e765ef020ea5e1c73a7c30">talker_npc::cash_to_favor</a></div><div class="ttdeci">int cash_to_favor(int value) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00316">talker_npc.cpp:316</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a1c33140fb60b4c7fbdeff8a5e649216a"><div class="ttname"><a href="classtalker__npc.html#a1c33140fb60b4c7fbdeff8a5e649216a">talker_npc::say</a></div><div class="ttdeci">void say(const std::string &amp;speech) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00831">talker_npc.cpp:831</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a1d810083cd96f502208fff308b35268d"><div class="ttname"><a href="classtalker__npc.html#a1d810083cd96f502208fff308b35268d">talker_npc::enslave_mind</a></div><div class="ttdeci">bool enslave_mind() override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00846">talker_npc.cpp:846</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a2308fedf7409f2ebdf70d1f14d4a387e"><div class="ttname"><a href="classtalker__npc.html#a2308fedf7409f2ebdf70d1f14d4a387e">talker_npc::set_ai_rule</a></div><div class="ttdeci">void set_ai_rule(const std::string &amp;type, const std::string &amp;rule) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00655">talker_npc.cpp:655</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a257a1981aab5b96dbe6797cb0d22abb7"><div class="ttname"><a href="classtalker__npc.html#a257a1981aab5b96dbe6797cb0d22abb7">talker_npc::get_npc_value</a></div><div class="ttdeci">int get_npc_value() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00898">talker_npc.cpp:898</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a2af92cc128a6b1d140175da132cf6b67"><div class="ttname"><a href="classtalker__npc.html#a2af92cc128a6b1d140175da132cf6b67">talker_npc::set_companion_mission</a></div><div class="ttdeci">void set_companion_mission(const std::string &amp;role_id) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00552">talker_npc.cpp:552</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a2df8073dedd12680c2ba21d4df725749"><div class="ttname"><a href="classtalker__npc.html#a2df8073dedd12680c2ba21d4df725749">talker_npc::get_npc_anger</a></div><div class="ttdeci">int get_npc_anger() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00908">talker_npc.cpp:908</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a2e6361c891056040735ae9c68d3540b1"><div class="ttname"><a href="classtalker__npc.html#a2e6361c891056040735ae9c68d3540b1">talker_npc::set_class</a></div><div class="ttdeci">void set_class(const npc_class_id &amp;new_class) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00826">talker_npc.cpp:826</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a2fcaf967e141c65e062a9f2352ee968e"><div class="ttname"><a href="classtalker__npc.html#a2fcaf967e141c65e062a9f2352ee968e">talker_npc::debt</a></div><div class="ttdeci">int debt() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00296">talker_npc.cpp:296</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a329501d6df6666243c2c4f93e66eae6f"><div class="ttname"><a href="classtalker__npc.html#a329501d6df6666243c2c4f93e66eae6f">talker_npc::check_hostile_response</a></div><div class="ttdeci">bool check_hostile_response(int anger) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00234">talker_npc.cpp:234</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a34c63789c3fc5fe34de451e01acfe727"><div class="ttname"><a href="classtalker__npc.html#a34c63789c3fc5fe34de451e01acfe727">talker_npc::has_activity</a></div><div class="ttdeci">bool has_activity() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00816">talker_npc.cpp:816</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a3a0ba4a74fa63d28e56044ab813efcdc"><div class="ttname"><a href="classtalker__npc.html#a3a0ba4a74fa63d28e56044ab813efcdc">talker_npc::set_npc_fear</a></div><div class="ttdeci">void set_npc_fear(int fear) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00883">talker_npc.cpp:883</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a3c2222ed46b88a60dcca6099b1038640"><div class="ttname"><a href="classtalker__npc.html#a3c2222ed46b88a60dcca6099b1038640">talker_npc::me_npc</a></div><div class="ttdeci">npc * me_npc</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8h_source.html#l00111">talker_npc.h:111</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a468bb5cddaa6858a86cd9db079e0c430"><div class="ttname"><a href="classtalker__npc.html#a468bb5cddaa6858a86cd9db079e0c430">talker_npc::select_mission</a></div><div class="ttdeci">void select_mission(mission *selected) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00540">talker_npc.cpp:540</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a49cfadded72b68de0be2ab862e81fe0b"><div class="ttname"><a href="classtalker__npc.html#a49cfadded72b68de0be2ab862e81fe0b">talker_npc::store_chosen_training</a></div><div class="ttdeci">void store_chosen_training(const skill_id &amp;c_skill, const matype_id &amp;c_style, const spell_id &amp;c_spell, const proficiency_id &amp;c_proficiency) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00290">talker_npc.cpp:290</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a4cea4a8ccd14fed63624dbefb9f1e2c9"><div class="ttname"><a href="classtalker__npc.html#a4cea4a8ccd14fed63624dbefb9f1e2c9">talker_npc::set_npc_trust</a></div><div class="ttdeci">void set_npc_trust(int trust) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00873">talker_npc.cpp:873</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a5051b06fca0fdb87bdb280242ac20589"><div class="ttname"><a href="classtalker__npc.html#a5051b06fca0fdb87bdb280242ac20589">talker_npc::view_personality_traits</a></div><div class="ttdeci">std::string view_personality_traits() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00707">talker_npc.cpp:707</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a51721eb765f240d1ed33006f8e2df5d3"><div class="ttname"><a href="classtalker__npc.html#a51721eb765f240d1ed33006f8e2df5d3">talker_npc::get_npc_trust</a></div><div class="ttdeci">int get_npc_trust() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00878">talker_npc.cpp:878</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a543acc0dabc4d4fcc65114ca5754c1c6"><div class="ttname"><a href="classtalker__npc.html#a543acc0dabc4d4fcc65114ca5754c1c6">talker_npc::give_item_to</a></div><div class="ttdeci">std::string give_item_to(bool to_use) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00411">talker_npc.cpp:411</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a56c2e3aed048a4f820fe526eb7d8fb68"><div class="ttname"><a href="classtalker__npc.html#a56c2e3aed048a4f820fe526eb7d8fb68">talker_npc::make_angry</a></div><div class="ttdeci">void make_angry() override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00597">talker_npc.cpp:597</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a59d111987650f07bca3ad2e973c73946"><div class="ttname"><a href="classtalker__npc.html#a59d111987650f07bca3ad2e973c73946">talker_npc::evaluation_by</a></div><div class="ttdeci">std::string evaluation_by(const talker &amp;alpha) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00735">talker_npc.cpp:735</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a67422ee4ba392aba81d1af50b1873928"><div class="ttname"><a href="classtalker__npc.html#a67422ee4ba392aba81d1af50b1873928">talker_npc::talker_npc</a></div><div class="ttdeci">talker_npc(npc *new_me)</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00061">talker_npc.cpp:61</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a6eddd3a10de601560abc1b0f5ef96884"><div class="ttname"><a href="classtalker__npc.html#a6eddd3a10de601560abc1b0f5ef96884">talker_npc::is_myclass</a></div><div class="ttdeci">bool is_myclass(const npc_class_id &amp;class_to_check) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00821">talker_npc.cpp:821</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a7093bddbe66ca223ad481be791ea30ad"><div class="ttname"><a href="classtalker__npc.html#a7093bddbe66ca223ad481be791ea30ad">talker_npc::is_enemy</a></div><div class="ttdeci">bool is_enemy() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00582">talker_npc.cpp:582</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a77565fe7d20e5389c70d3d99516b0cd5"><div class="ttname"><a href="classtalker__npc.html#a77565fe7d20e5389c70d3d99516b0cd5">talker_npc::available_missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; available_missions() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00525">talker_npc.cpp:525</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a7a00465106ae214bf708ba824e7f375f"><div class="ttname"><a href="classtalker__npc.html#a7a00465106ae214bf708ba824e7f375f">talker_npc::get_topics</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_topics(bool radio_contact) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00114">talker_npc.cpp:114</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a7b5c7633192163a0adb2582fdd6f76b1"><div class="ttname"><a href="classtalker__npc.html#a7b5c7633192163a0adb2582fdd6f76b1">talker_npc::opinion_text</a></div><div class="ttdeci">std::string opinion_text() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00836">talker_npc.cpp:836</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a7c63fbd1a1ef24ec77bac40f3c575ff3"><div class="ttname"><a href="classtalker__npc.html#a7c63fbd1a1ef24ec77bac40f3c575ff3">talker_npc::die</a></div><div class="ttdeci">void die() override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00864">talker_npc.cpp:864</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a7e0be0e3a6e0e6236aa5d2bb0ca82916"><div class="ttname"><a href="classtalker__npc.html#a7e0be0e3a6e0e6236aa5d2bb0ca82916">talker_npc::add_mission</a></div><div class="ttdeci">void add_mission(const mission_type_id &amp;mission_id) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00545">talker_npc.cpp:545</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a8511c0ea1dd8db7ca5409c11236daeec"><div class="ttname"><a href="classtalker__npc.html#a8511c0ea1dd8db7ca5409c11236daeec">talker_npc::toggle_ai_rule</a></div><div class="ttdeci">void toggle_ai_rule(const std::string &amp;type, const std::string &amp;rule) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00644">talker_npc.cpp:644</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a8a5723ab0dc464eac0b30554df356495"><div class="ttname"><a href="classtalker__npc.html#a8a5723ab0dc464eac0b30554df356495">talker_npc::buy_from</a></div><div class="ttdeci">bool buy_from(int amount) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00520">talker_npc.cpp:520</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a8b03cb81cd4989d5ee0b731ce5b89931"><div class="ttname"><a href="classtalker__npc.html#a8b03cb81cd4989d5ee0b731ce5b89931">talker_npc::set_npc_anger</a></div><div class="ttdeci">void set_npc_anger(int anger) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00903">talker_npc.cpp:903</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a931da484c1888d80a59facf6a51d68da"><div class="ttname"><a href="classtalker__npc.html#a931da484c1888d80a59facf6a51d68da">talker_npc::set_first_topic</a></div><div class="ttdeci">void set_first_topic(const std::string &amp;chat_topic) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00854">talker_npc.cpp:854</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a960cce61d57dd6988a4a8e0376ab2732"><div class="ttname"><a href="classtalker__npc.html#a960cce61d57dd6988a4a8e0376ab2732">talker_npc::add_opinion</a></div><div class="ttdeci">void add_opinion(const npc_opinion &amp;op) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00841">talker_npc.cpp:841</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a97d263d7b3e47f3c59c6c617d6bc97cb"><div class="ttname"><a href="classtalker__npc.html#a97d263d7b3e47f3c59c6c617d6bc97cb">talker_npc::has_ai_rule</a></div><div class="ttdeci">bool has_ai_rule(const std::string &amp;type, const std::string &amp;rule) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00602">talker_npc.cpp:602</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_a9a99435d0a079ac239e8ca13f548b1f2"><div class="ttname"><a href="classtalker__npc.html#a9a99435d0a079ac239e8ca13f548b1f2">talker_npc::set_fac</a></div><div class="ttdeci">void set_fac(const faction_id &amp;new_fac_name) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00558">talker_npc.cpp:558</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_aa9dbecf7113808e3e0e3c94ff1f7adef"><div class="ttname"><a href="classtalker__npc.html#aa9dbecf7113808e3e0e3c94ff1f7adef">talker_npc::clear_ai_rule</a></div><div class="ttdeci">void clear_ai_rule(const std::string &amp;type, const std::string &amp;rule) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00691">talker_npc.cpp:691</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ab4280c13d4b513ac8649d21a700c1585"><div class="ttname"><a href="classtalker__npc.html#ab4280c13d4b513ac8649d21a700c1585">talker_npc::add_faction_rep</a></div><div class="ttdeci">void add_faction_rep(int rep_change) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00563">talker_npc.cpp:563</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_abbdf103664b0d934af499079914b86f6"><div class="ttname"><a href="classtalker__npc.html#abbdf103664b0d934af499079914b86f6">talker_npc::parse_mod</a></div><div class="ttdeci">int parse_mod(const std::string &amp;attribute, int factor) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00241">talker_npc.cpp:241</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_abf3f2d714997ed01a5ec49906b5c2282"><div class="ttname"><a href="classtalker__npc.html#abf3f2d714997ed01a5ec49906b5c2282">talker_npc::check_missions</a></div><div class="ttdeci">void check_missions() override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00217">talker_npc.cpp:217</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ac17626468e8e8cb43b05e7b00824c49f"><div class="ttname"><a href="classtalker__npc.html#ac17626468e8e8cb43b05e7b00824c49f">talker_npc::get_npc_fear</a></div><div class="ttdeci">int get_npc_fear() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00888">talker_npc.cpp:888</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ac5ccc39de904a1ec6c2a397346bf0343"><div class="ttname"><a href="classtalker__npc.html#ac5ccc39de904a1ec6c2a397346bf0343">talker_npc::add_sold</a></div><div class="ttdeci">void add_sold(int value) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00311">talker_npc.cpp:311</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ac5db40ee2e1272310ec9a07070b29dce"><div class="ttname"><a href="classtalker__npc.html#ac5db40ee2e1272310ec9a07070b29dce">talker_npc::value</a></div><div class="ttdeci">int value(const item &amp;it) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00321">talker_npc.cpp:321</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ac7010b972511fc17052d51c692ed3128"><div class="ttname"><a href="classtalker__npc.html#ac7010b972511fc17052d51c692ed3128">talker_npc::sold</a></div><div class="ttdeci">int sold() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00306">talker_npc.cpp:306</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_acb7e8fd9bba460420ce935a125ecaf03"><div class="ttname"><a href="classtalker__npc.html#acb7e8fd9bba460420ce935a125ecaf03">talker_npc::is_friendly</a></div><div class="ttdeci">bool is_friendly(const Character &amp;guy) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00577">talker_npc.cpp:577</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_acb8fec859198ae9c32c6d607894d69e6"><div class="ttname"><a href="classtalker__npc.html#acb8fec859198ae9c32c6d607894d69e6">talker_npc::will_talk_to_u</a></div><div class="ttdeci">bool will_talk_to_u(const Character &amp;you, bool force) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00088">talker_npc.cpp:88</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_acfff3d9d9d92641cc11a297753365b7e"><div class="ttname"><a href="classtalker__npc.html#acfff3d9d9d92641cc11a297753365b7e">talker_npc::trial_chance_mod</a></div><div class="ttdeci">int trial_chance_mod(const std::string &amp;trial_type) const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00275">talker_npc.cpp:275</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ae21666e0a8b75086f0cd8a46c48f4a47"><div class="ttname"><a href="classtalker__npc.html#ae21666e0a8b75086f0cd8a46c48f4a47">talker_npc::selected_mission</a></div><div class="ttdeci">mission * selected_mission() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00535">talker_npc.cpp:535</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_ae24331bea04f31cd72c6c02190920ced"><div class="ttname"><a href="classtalker__npc.html#ae24331bea04f31cd72c6c02190920ced">talker_npc::distance_to_goal</a></div><div class="ttdeci">std::string distance_to_goal() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00068">talker_npc.cpp:68</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_af3ed41bb732f2cd21120fdc59b2650e0"><div class="ttname"><a href="classtalker__npc.html#af3ed41bb732f2cd21120fdc59b2650e0">talker_npc::add_debt</a></div><div class="ttdeci">void add_debt(int cost) override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00301">talker_npc.cpp:301</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_af88b569dc95f475057d324994cb3164a"><div class="ttname"><a href="classtalker__npc.html#af88b569dc95f475057d324994cb3164a">talker_npc::is_player_ally</a></div><div class="ttdeci">bool is_player_ally() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00587">talker_npc.cpp:587</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_afb09f316c2da181304f5fa4a3c8749f4"><div class="ttname"><a href="classtalker__npc.html#afb09f316c2da181304f5fa4a3c8749f4">talker_npc::get_job_description</a></div><div class="ttdeci">std::string get_job_description() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00702">talker_npc.cpp:702</a></div></div>
<div class="ttc" id="aclasstalker__npc_html_afdb287bfe4ede86b6d61ac6c88f2a6d9"><div class="ttname"><a href="classtalker__npc.html#afdb287bfe4ede86b6d61ac6c88f2a6d9">talker_npc::is_following</a></div><div class="ttdeci">bool is_following() const override</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00572">talker_npc.cpp:572</a></div></div>
<div class="ttc" id="aclasstalker_html"><div class="ttname"><a href="classtalker.html">talker</a></div><div class="ttdef"><b>Definition:</b> <a href="talker_8h_source.html#l00035">talker.h:36</a></div></div>
<div class="ttc" id="aclasstalker_html_a37452eb8a3dd6afb1931ec6636545441"><div class="ttname"><a href="classtalker.html#a37452eb8a3dd6afb1931ec6636545441">talker::per_cur</a></div><div class="ttdeci">virtual int per_cur() const</div><div class="ttdef"><b>Definition:</b> <a href="talker_8h_source.html#l00162">talker.h:162</a></div></div>
<div class="ttc" id="aclasstalker_html_a44300f48323d773c0db6cf745bdf159d"><div class="ttname"><a href="classtalker.html#a44300f48323d773c0db6cf745bdf159d">talker::can_see</a></div><div class="ttdeci">virtual bool can_see() const</div><div class="ttdef"><b>Definition:</b> <a href="talker_8h_source.html#l00338">talker.h:338</a></div></div>
<div class="ttc" id="aclasstalker_html_addda9334d2b9b94f260259c2ea8ae457"><div class="ttname"><a href="classtalker.html#addda9334d2b9b94f260259c2ea8ae457">talker::int_cur</a></div><div class="ttdeci">virtual int int_cur() const</div><div class="ttdef"><b>Definition:</b> <a href="talker_8h_source.html#l00159">talker.h:159</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aclassvisitable_html_aa199bd0ea7a41c50a2de5761dd987338"><div class="ttname"><a href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo, const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01018">visitable.cpp:1018</a></div></div>
<div class="ttc" id="acoordinates_8h_html"><div class="ttname"><a href="coordinates_8h.html">coordinates.h</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="acreature_8h_html_a4b73e33b57ae387dc418906492d5f998"><div class="ttname"><a href="creature_8h.html#a4b73e33b57ae387dc418906492d5f998">force</a></div><div class="ttdeci">bool force</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00241">creature.h:241</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="adialogue__chatbin_8h_html"><div class="ttname"><a href="dialogue__chatbin_8h.html">dialogue_chatbin.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a"><div class="ttname"><a href="enums_8h.html#a02646717f97faa05c11dbda0aac2c716a599dcce2998a6b40b1e38e8c6006cb0a">ot_match_type::type</a></div><div class="ttdeci">@ type</div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="agame__inventory_8h_html"><div class="ttname"><a href="game__inventory_8h.html">game_inventory.h</a></div></div>
<div class="ttc" id="aitem_8cpp_html_a69e37326c7c5f142d13f8ac8e070b728"><div class="ttname"><a href="item_8cpp.html#a69e37326c7c5f142d13f8ac8e070b728">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00248">item.cpp:248</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem__location_8h_html"><div class="ttname"><a href="item__location_8h.html">item_location.h</a></div></div>
<div class="ttc" id="aitype_8h_html"><div class="ttname"><a href="itype_8h.html">itype.h</a></div></div>
<div class="ttc" id="amagic_8h_html"><div class="ttname"><a href="magic_8h.html">magic.h</a></div></div>
<div class="ttc" id="amake__static_8h_html"><div class="ttname"><a href="make__static_8h.html">make_static.h</a></div></div>
<div class="ttc" id="amake__static_8h_html_ad8ea997925f9b41fffbf138f4c05e09f"><div class="ttname"><a href="make__static_8h.html#ad8ea997925f9b41fffbf138f4c05e09f">STATIC</a></div><div class="ttdeci">#define STATIC(expr)</div><div class="ttdoc">The purpose of this macro is to provide a concise syntax for creation of inline literals (std::string...</div><div class="ttdef"><b>Definition:</b> <a href="make__static_8h_source.html#l00031">make_static.h:31</a></div></div>
<div class="ttc" id="amartialarts_8h_html"><div class="ttname"><a href="martialarts_8h.html">martialarts.h</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="amemory__fast_8h_html_ada897699f31fc8b37c5af09d95d45840"><div class="ttname"><a href="memory__fast_8h.html#ada897699f31fc8b37c5af09d95d45840">shared_ptr_fast</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; shared_ptr_fast</div><div class="ttdef"><b>Definition:</b> <a href="memory__fast_8h_source.html#l00016">memory_fast.h:16</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="amission_8h_html"><div class="ttname"><a href="mission_8h.html">mission.h</a></div></div>
<div class="ttc" id="amission__companion_8h_html"><div class="ttname"><a href="mission__companion_8h.html">mission_companion.h</a></div></div>
<div class="ttc" id="amutation_8h_html"><div class="ttname"><a href="mutation_8h.html">mutation.h</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2a4a0a2c15f95df6acf6e55d53a83fb929"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a4a0a2c15f95df6acf6e55d53a83fb929">debugmode::DF_TALKER</a></div><div class="ttdeci">@ DF_TALKER</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00276">debug.h:276</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a3438177d11d4b59f12bb273d10d42f98"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a3438177d11d4b59f12bb273d10d42f98">game_menus::inv::titled_menu</a></div><div class="ttdeci">item_location titled_menu(Character &amp;you, const std::string &amp;title, const std::string &amp;none_message=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00334">game_inventory.cpp:334</a></div></div>
<div class="ttc" id="anamespacenpc__trading_html_a501e43e4b4136a85e2773fbc89f19e69"><div class="ttname"><a href="namespacenpc__trading.html#a501e43e4b4136a85e2773fbc89f19e69">npc_trading::cash_to_favor</a></div><div class="ttdeci">int cash_to_favor(const npc &amp;, int cash)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00416">npctalk.cpp:416</a></div></div>
<div class="ttc" id="anamespacenpc__trading_html_a9a7dbd65b9ae311c79c92b57c1b134b4"><div class="ttname"><a href="namespacenpc__trading.html#a9a7dbd65b9ae311c79c92b57c1b134b4">npc_trading::pay_npc</a></div><div class="ttdeci">bool pay_npc(npc &amp;np, int cost)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk__funcs_8cpp_source.html#l01062">npctalk_funcs.cpp:1062</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_a74c5383a186724aecc40087163edea45"><div class="ttname"><a href="namespacetalk__function.html#a74c5383a186724aecc40087163edea45">talk_function::follow</a></div><div class="ttdeci">void follow(npc &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk__funcs_8cpp_source.html#l00859">npctalk_funcs.cpp:859</a></div></div>
<div class="ttc" id="anamespacetalk__function_html_aaf6c69bd9ecf7e46042fd7f0c2acf919"><div class="ttname"><a href="namespacetalk__function.html#aaf6c69bd9ecf7e46042fd7f0c2acf919">talk_function::companion_mission</a></div><div class="ttdeci">void companion_mission(npc &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8cpp_source.html#l00596">mission_companion.cpp:596</a></div></div>
<div class="ttc" id="anpc_8h_html"><div class="ttname"><a href="npc_8h.html">npc.h</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a133e55cc6929aff6e04ecd1f8720d279"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a133e55cc6929aff6e04ecd1f8720d279">NPCATT_FLEE</a></div><div class="ttdeci">@ NPCATT_FLEE</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00118">npc.h:118</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a174d99e8adde79268310f021427992a6"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a174d99e8adde79268310f021427992a6">NPCATT_FLEE_TEMP</a></div><div class="ttdeci">@ NPCATT_FLEE_TEMP</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00125">npc.h:125</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a436461a7ac1efa5ec5f2d53ab20d2b67"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a436461a7ac1efa5ec5f2d53ab20d2b67">NPCATT_TALK</a></div><div class="ttdeci">@ NPCATT_TALK</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00108">npc.h:108</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a54aaedf3b06b118cd4d2ca5f63c8695b">NPCATT_NULL</a></div><div class="ttdeci">@ NPCATT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00107">npc.h:107</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a59e2eeab0c7bf7336d7c5fea3a870d2a">NPCATT_KILL</a></div><div class="ttdeci">@ NPCATT_KILL</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00117">npc.h:117</a></div></div>
<div class="ttc" id="anpc_8h_html_a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53"><div class="ttname"><a href="npc_8h.html#a0b36e2ae8f588616c1fd7a3788452cd4a9ccd3ddb03edb6e10f0987b46ffbcc53">NPCATT_RECOVER_GOODS</a></div><div class="ttdeci">@ NPCATT_RECOVER_GOODS</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00126">npc.h:126</a></div></div>
<div class="ttc" id="anpc_8h_html_a223b9944e91a22dd388d4fdcdf5be0b6"><div class="ttname"><a href="npc_8h.html#a223b9944e91a22dd388d4fdcdf5be0b6">combat_engagement_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, combat_engagement &gt; combat_engagement_strs</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00278">npc.h:278</a></div></div>
<div class="ttc" id="anpc_8h_html_a9c8560e2c2b6525f4fcef177d828ecf2"><div class="ttname"><a href="npc_8h.html#a9c8560e2c2b6525f4fcef177d828ecf2">cbm_reserve_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, cbm_reserve_rule &gt; cbm_reserve_strs</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00338">npc.h:338</a></div></div>
<div class="ttc" id="anpc_8h_html_aa27862ea88c73b61be0521ec94a4a3ac"><div class="ttname"><a href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, ally_rule_data &gt; ally_rule_strs</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00375">npc.h:375</a></div></div>
<div class="ttc" id="anpc_8h_html_ae92dafc799ce898955aa8993b77e51b1"><div class="ttname"><a href="npc_8h.html#ae92dafc799ce898955aa8993b77e51b1">cbm_recharge_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, cbm_recharge_rule &gt; cbm_recharge_strs</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00321">npc.h:321</a></div></div>
<div class="ttc" id="anpc_8h_html_ae96069e86d39e19cbbac565be3419ea5"><div class="ttname"><a href="npc_8h.html#ae96069e86d39e19cbbac565be3419ea5">aim_rule_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, aim_rule &gt; aim_rule_strs</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00305">npc.h:305</a></div></div>
<div class="ttc" id="anpc_8h_html_aee50a2d29c2194e6df726113b025e55b"><div class="ttname"><a href="npc_8h.html#aee50a2d29c2194e6df726113b025e55b">parse_tags</a></div><div class="ttdeci">void parse_tags(std::string &amp;phrase, const Character &amp;u, const Character &amp;me, const itype_id &amp;item_type=itype_id::NULL_ID())</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l02056">npctalk.cpp:2056</a></div></div>
<div class="ttc" id="anpctalk_8h_html"><div class="ttname"><a href="npctalk_8h.html">npctalk.h</a></div></div>
<div class="ttc" id="anpctrade_8h_html"><div class="ttname"><a href="npctrade_8h.html">npctrade.h</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a297635a05a44e1f896fb829a0474f586"><div class="ttname"><a href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a></div><div class="ttdeci">std::string format_volume(const units::volume &amp;volume)</div><div class="ttdoc">Convert and format volume.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03231">output.cpp:3231</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00811">output.cpp:811</a></div></div>
<div class="ttc" id="aoutput_8h_html"><div class="ttname"><a href="output_8h.html">output.h</a></div></div>
<div class="ttc" id="aovermapbuffer_8cpp_html_ab3cf8344ec3e473f9ce96a33dc3425af"><div class="ttname"><a href="overmapbuffer_8cpp.html#ab3cf8344ec3e473f9ce96a33dc3425af">overmap_buffer</a></div><div class="ttdeci">overmapbuffer overmap_buffer</div><div class="ttdef"><b>Definition:</b> <a href="overmapbuffer_8cpp_source.html#l00051">overmapbuffer.cpp:51</a></div></div>
<div class="ttc" id="aovermapbuffer_8h_html"><div class="ttname"><a href="overmapbuffer_8h.html">overmapbuffer.h</a></div></div>
<div class="ttc" id="apimpl_8h_html"><div class="ttname"><a href="pimpl_8h.html">pimpl.h</a></div></div>
<div class="ttc" id="aplayer__activity_8h_html"><div class="ttname"><a href="player__activity_8h.html">player_activity.h</a></div></div>
<div class="ttc" id="aproficiency_8h_html"><div class="ttname"><a href="proficiency_8h.html">proficiency.h</a></div></div>
<div class="ttc" id="aret__val_8h_html"><div class="ttname"><a href="ret__val_8h.html">ret_val.h</a></div></div>
<div class="ttc" id="askill_8h_html"><div class="ttname"><a href="skill_8h.html">skill.h</a></div></div>
<div class="ttc" id="aspeech_8cpp_html_a67a91181969e507f1132304946b6360b"><div class="ttname"><a href="speech_8cpp.html#a67a91181969e507f1132304946b6360b">speech</a></div><div class="ttdeci">static std::map&lt; std::string, std::vector&lt; SpeechBubble &gt; &gt; speech</div><div class="ttdef"><b>Definition:</b> <a href="speech_8cpp_source.html#l00012">speech.cpp:12</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a1294b7927e8ae3ece27008681c71365e"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a1294b7927e8ae3ece27008681c71365e">dialogue_chatbin_snippets::snip_give_carry_cant_no_space</a></div><div class="ttdeci">translation snip_give_carry_cant_no_space</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00158">dialogue_chatbin.h:158</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a1ab2ee1700db58fef15fb627fd520747"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a1ab2ee1700db58fef15fb627fd520747">dialogue_chatbin_snippets::snip_consume_nocharge</a></div><div class="ttdeci">translation snip_consume_nocharge</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00146">dialogue_chatbin.h:146</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a1b86cbebbe6c899a27b779f15bfe8f67"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a1b86cbebbe6c899a27b779f15bfe8f67">dialogue_chatbin_snippets::snip_give_carry</a></div><div class="ttdeci">translation snip_give_carry</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00155">dialogue_chatbin.h:155</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a31cd4d11c2d8c1b8ce64d4e07279f268"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a31cd4d11c2d8c1b8ce64d4e07279f268">dialogue_chatbin_snippets::snip_give_wield</a></div><div class="ttdeci">translation snip_give_wield</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00153">dialogue_chatbin.h:153</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a3b35548df34d1eeb50cf971720ad0ebb"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a3b35548df34d1eeb50cf971720ad0ebb">dialogue_chatbin_snippets::snip_give_cancel</a></div><div class="ttdeci">translation snip_give_cancel</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00151">dialogue_chatbin.h:151</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a430b4464d32621e991d108977222f7a7"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a430b4464d32621e991d108977222f7a7">dialogue_chatbin_snippets::snip_give_nope</a></div><div class="ttdeci">translation snip_give_nope</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00149">dialogue_chatbin.h:149</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a4c79bb88bb7fdf610ebb51d345398485"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a4c79bb88bb7fdf610ebb51d345398485">dialogue_chatbin_snippets::snip_consume_eat</a></div><div class="ttdeci">translation snip_consume_eat</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00143">dialogue_chatbin.h:143</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a4d2ca0f31b6c9a948a41589b4776949f"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a4d2ca0f31b6c9a948a41589b4776949f">dialogue_chatbin_snippets::snip_give_to_hallucination</a></div><div class="ttdeci">translation snip_give_to_hallucination</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00150">dialogue_chatbin.h:150</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a673654643ca93371a68897725aff9c7b"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a673654643ca93371a68897725aff9c7b">dialogue_chatbin_snippets::snip_give_carry_cant_few_space</a></div><div class="ttdeci">translation snip_give_carry_cant_few_space</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00157">dialogue_chatbin.h:157</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a6ad6d37e3db3bb81793c4b8e918d4a04"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a6ad6d37e3db3bb81793c4b8e918d4a04">dialogue_chatbin_snippets::snip_consume_need_item</a></div><div class="ttdeci">translation snip_consume_need_item</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00144">dialogue_chatbin.h:144</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_a790434e8e96c3400e2c628a5881e30a6"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#a790434e8e96c3400e2c628a5881e30a6">dialogue_chatbin_snippets::snip_give_carry_cant</a></div><div class="ttdeci">translation snip_give_carry_cant</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00156">dialogue_chatbin.h:156</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_aaab43c9219ec954a1b0fc0ac24b76242"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#aaab43c9219ec954a1b0fc0ac24b76242">dialogue_chatbin_snippets::snip_give_dangerous</a></div><div class="ttdeci">translation snip_give_dangerous</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00152">dialogue_chatbin.h:152</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_ac5323e0b62dd62ffac594ca9e595ab2f"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#ac5323e0b62dd62ffac594ca9e595ab2f">dialogue_chatbin_snippets::snip_give_carry_too_heavy</a></div><div class="ttdeci">translation snip_give_carry_too_heavy</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00160">dialogue_chatbin.h:160</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_ac841196d4296c243384846520b2ead3e"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#ac841196d4296c243384846520b2ead3e">dialogue_chatbin_snippets::snip_give_weapon_weak</a></div><div class="ttdeci">translation snip_give_weapon_weak</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00154">dialogue_chatbin.h:154</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_ac933c283c362a78f4b2c91f4e0553669"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#ac933c283c362a78f4b2c91f4e0553669">dialogue_chatbin_snippets::snip_consume_med</a></div><div class="ttdeci">translation snip_consume_med</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00145">dialogue_chatbin.h:145</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_ace509c407cac0496e2a891b93144df06"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#ace509c407cac0496e2a891b93144df06">dialogue_chatbin_snippets::snip_consume_rotten</a></div><div class="ttdeci">translation snip_consume_rotten</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00142">dialogue_chatbin.h:142</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_ae438d25c27683a078dd2bb11c4759b9d"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#ae438d25c27683a078dd2bb11c4759b9d">dialogue_chatbin_snippets::snip_consume_cant_accept</a></div><div class="ttdeci">translation snip_consume_cant_accept</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00138">dialogue_chatbin.h:138</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_af41eeae49662762a06e0d9bc3a2c0854"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#af41eeae49662762a06e0d9bc3a2c0854">dialogue_chatbin_snippets::snip_consume_use_med</a></div><div class="ttdeci">translation snip_consume_use_med</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00148">dialogue_chatbin.h:148</a></div></div>
<div class="ttc" id="astructdialogue__chatbin__snippets_html_af5b3cc078497f4efa248d2cef2a9e30f"><div class="ttname"><a href="structdialogue__chatbin__snippets.html#af5b3cc078497f4efa248d2cef2a9e30f">dialogue_chatbin_snippets::snip_consume_cant_consume</a></div><div class="ttdeci">translation snip_consume_cant_consume</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00140">dialogue_chatbin.h:140</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a06b105f7f11cdae5e5696e7caa74abb7"><div class="ttname"><a href="structdialogue__chatbin.html#a06b105f7f11cdae5e5696e7caa74abb7">dialogue_chatbin::store_chosen_training</a></div><div class="ttdeci">void store_chosen_training(const skill_id &amp;c_skill, const matype_id &amp;c_style, const spell_id &amp;c_spell, const proficiency_id &amp;c_proficiency)</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8cpp_source.html#l00027">dialogue_chatbin.cpp:27</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a0ff061025c9d87eaee26500ff0666437"><div class="ttname"><a href="structdialogue__chatbin.html#a0ff061025c9d87eaee26500ff0666437">dialogue_chatbin::mission_selected</a></div><div class="ttdeci">mission * mission_selected</div><div class="ttdoc">The mission (if any) that we talk about right now.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00039">dialogue_chatbin.h:39</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a1014a4e4832b6778bae55faf35c362c7"><div class="ttname"><a href="structdialogue__chatbin.html#a1014a4e4832b6778bae55faf35c362c7">dialogue_chatbin::talk_stranger_aggressive</a></div><div class="ttdeci">std::string talk_stranger_aggressive</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00073">dialogue_chatbin.h:73</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a12b9b85e11e09982accbffa998bd82ae"><div class="ttname"><a href="structdialogue__chatbin.html#a12b9b85e11e09982accbffa998bd82ae">dialogue_chatbin::talk_friend</a></div><div class="ttdeci">std::string talk_friend</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00069">dialogue_chatbin.h:69</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a188b7d9299e8e12e134bef43c841ef9a"><div class="ttname"><a href="structdialogue__chatbin.html#a188b7d9299e8e12e134bef43c841ef9a">dialogue_chatbin::missions</a></div><div class="ttdeci">std::vector&lt; mission * &gt; missions</div><div class="ttdoc">Missions that the talker can give out.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00030">dialogue_chatbin.h:30</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a1ccc2a92528f83ccb0dcd1fb8a33bd32"><div class="ttname"><a href="structdialogue__chatbin.html#a1ccc2a92528f83ccb0dcd1fb8a33bd32">dialogue_chatbin::talk_mug</a></div><div class="ttdeci">std::string talk_mug</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00072">dialogue_chatbin.h:72</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a7165f0c88fe1b01959376e5f38bc1959"><div class="ttname"><a href="structdialogue__chatbin.html#a7165f0c88fe1b01959376e5f38bc1959">dialogue_chatbin::talk_leader</a></div><div class="ttdeci">std::string talk_leader</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00068">dialogue_chatbin.h:68</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a7d598b7ce85e9269bc5d9c2a897bebd0"><div class="ttname"><a href="structdialogue__chatbin.html#a7d598b7ce85e9269bc5d9c2a897bebd0">dialogue_chatbin::first_topic</a></div><div class="ttdeci">std::string first_topic</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00066">dialogue_chatbin.h:66</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_a97f91e0b573e167ab109d83026abefd1"><div class="ttname"><a href="structdialogue__chatbin.html#a97f91e0b573e167ab109d83026abefd1">dialogue_chatbin::talk_radio</a></div><div class="ttdeci">std::string talk_radio</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00067">dialogue_chatbin.h:67</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_acfad9920d84894ebdcea8ad8340023c0"><div class="ttname"><a href="structdialogue__chatbin.html#acfad9920d84894ebdcea8ad8340023c0">dialogue_chatbin::check_missions</a></div><div class="ttdeci">void check_missions()</div><div class="ttdoc">Check that assigned missions are still assigned if not move them back to the unassigned vector.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8cpp_source.html#l00016">dialogue_chatbin.cpp:16</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_ad7ee8d89bf9c765a786aaf4571d3b6a3"><div class="ttname"><a href="structdialogue__chatbin.html#ad7ee8d89bf9c765a786aaf4571d3b6a3">dialogue_chatbin::talk_wake_up</a></div><div class="ttdeci">std::string talk_wake_up</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00071">dialogue_chatbin.h:71</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_ae127f0b50934163847e317eed22b1954"><div class="ttname"><a href="structdialogue__chatbin.html#ae127f0b50934163847e317eed22b1954">dialogue_chatbin::talk_stole_item</a></div><div class="ttdeci">std::string talk_stole_item</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00070">dialogue_chatbin.h:70</a></div></div>
<div class="ttc" id="astructdialogue__chatbin_html_af0da224eb6a3c51fae658ca0cf031f4a"><div class="ttname"><a href="structdialogue__chatbin.html#af0da224eb6a3c51fae658ca0cf031f4a">dialogue_chatbin::missions_assigned</a></div><div class="ttdeci">std::vector&lt; mission * &gt; missions_assigned</div><div class="ttdoc">Mission that have been assigned by this dialogue to a player character.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue__chatbin_8h_source.html#l00034">dialogue_chatbin.h:34</a></div></div>
<div class="ttc" id="astructitype_html_a76600c0d6a88c8d983838f0df2276212"><div class="ttname"><a href="structitype.html#a76600c0d6a88c8d983838f0df2276212">itype::invoke</a></div><div class="ttdeci">std::optional&lt; int &gt; invoke(Character *p, item &amp;it, const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00195">itype.cpp:195</a></div></div>
<div class="ttc" id="astructitype_html_a7ff45d94507fdbf7369ae269a0f1e52b"><div class="ttname"><a href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">itype::has_use</a></div><div class="ttdeci">bool has_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00159">itype.cpp:159</a></div></div>
<div class="ttc" id="astructmission__id_html"><div class="ttname"><a href="structmission__id.html">mission_id</a></div><div class="ttdef"><b>Definition:</b> <a href="mission__companion_8h_source.html#l00103">mission_companion.h:103</a></div></div>
<div class="ttc" id="astructmission__type_html"><div class="ttname"><a href="structmission__type.html">mission_type</a></div><div class="ttdef"><b>Definition:</b> <a href="mission_8h_source.html#l00178">mission.h:178</a></div></div>
<div class="ttc" id="astructmutation__branch_html"><div class="ttname"><a href="structmutation__branch.html">mutation_branch</a></div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00172">mutation.h:172</a></div></div>
<div class="ttc" id="astructmutation__branch_html_a084971c2017686695d2bbfd3096b3cc4"><div class="ttname"><a href="structmutation__branch.html#a084971c2017686695d2bbfd3096b3cc4">mutation_branch::id</a></div><div class="ttdeci">trait_id id</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00173">mutation.h:173</a></div></div>
<div class="ttc" id="astructmutation__branch_html_ade035af941f439306a240242cb6f6f30"><div class="ttname"><a href="structmutation__branch.html#ade035af941f439306a240242cb6f6f30">mutation_branch::personality_score</a></div><div class="ttdeci">cata::value_ptr&lt; mut_personality_score &gt; personality_score</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8h_source.html#l00229">mutation.h:229</a></div></div>
<div class="ttc" id="astructneeds__rates_html"><div class="ttname"><a href="structneeds__rates.html">needs_rates</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00497">character.h:497</a></div></div>
<div class="ttc" id="astructneeds__rates_html_a537fb128d773bdfedddacda084367e3a"><div class="ttname"><a href="structneeds__rates.html#a537fb128d773bdfedddacda084367e3a">needs_rates::hunger</a></div><div class="ttdeci">float hunger</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00499">character.h:499</a></div></div>
<div class="ttc" id="astructneeds__rates_html_aac55b0db1b45cb7ae78101dcc0202bd2"><div class="ttname"><a href="structneeds__rates.html#aac55b0db1b45cb7ae78101dcc0202bd2">needs_rates::sleepiness</a></div><div class="ttdeci">float sleepiness</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00500">character.h:500</a></div></div>
<div class="ttc" id="astructneeds__rates_html_ad1c618eb1d5d9b3b98155bcbe952a098"><div class="ttname"><a href="structneeds__rates.html#ad1c618eb1d5d9b3b98155bcbe952a098">needs_rates::thirst</a></div><div class="ttdeci">float thirst</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00498">character.h:498</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a092cd660168a4b1b14529db075e29ea0"><div class="ttname"><a href="structnpc__follower__rules.html#a092cd660168a4b1b14529db075e29ea0">npc_follower_rules::aim</a></div><div class="ttdeci">aim_rule aim</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00507">npc.h:507</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a2642ddf5b6fbea12831b4d89e4eb7eac"><div class="ttname"><a href="structnpc__follower__rules.html#a2642ddf5b6fbea12831b4d89e4eb7eac">npc_follower_rules::pickup_whitelist</a></div><div class="ttdeci">pimpl&lt; auto_pickup::npc_settings &gt; pickup_whitelist</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00514">npc.h:514</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a5381c80158d2d77e237d13834fedd138"><div class="ttname"><a href="structnpc__follower__rules.html#a5381c80158d2d77e237d13834fedd138">npc_follower_rules::set_flag</a></div><div class="ttdeci">void set_flag(ally_rule setit)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03648">npc.cpp:3648</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a82f5873612a10037b9e6e9d95be623d6"><div class="ttname"><a href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">npc_follower_rules::has_override_enable</a></div><div class="ttdeci">bool has_override_enable(ally_rule test) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03687">npc.cpp:3687</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a88a0a6bc06d6962a9c35277e6c5e0b76"><div class="ttname"><a href="structnpc__follower__rules.html#a88a0a6bc06d6962a9c35277e6c5e0b76">npc_follower_rules::cbm_recharge</a></div><div class="ttdeci">cbm_recharge_rule cbm_recharge</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00508">npc.h:508</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a899f396466e396d549b1f7e54c1b1355"><div class="ttname"><a href="structnpc__follower__rules.html#a899f396466e396d549b1f7e54c1b1355">npc_follower_rules::has_flag</a></div><div class="ttdeci">bool has_flag(ally_rule test, bool check_override=true) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03634">npc.cpp:3634</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a9eb4400a0210e0a41692a3c6635855f1"><div class="ttname"><a href="structnpc__follower__rules.html#a9eb4400a0210e0a41692a3c6635855f1">npc_follower_rules::engagement</a></div><div class="ttdeci">combat_engagement engagement</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00506">npc.h:506</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_aec3d578e145e0c7c6aaf2712ff638f1a"><div class="ttname"><a href="structnpc__follower__rules.html#aec3d578e145e0c7c6aaf2712ff638f1a">npc_follower_rules::clear_flag</a></div><div class="ttdeci">void clear_flag(ally_rule clearit)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03653">npc.cpp:3653</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_af7f57605c02d48aba09224adee9d260f"><div class="ttname"><a href="structnpc__follower__rules.html#af7f57605c02d48aba09224adee9d260f">npc_follower_rules::cbm_reserve</a></div><div class="ttdeci">cbm_reserve_rule cbm_reserve</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00509">npc.h:509</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_afe9d1e91d4b55d09c98b60a279d24b7d"><div class="ttname"><a href="structnpc__follower__rules.html#afe9d1e91d4b55d09c98b60a279d24b7d">npc_follower_rules::toggle_flag</a></div><div class="ttdeci">void toggle_flag(ally_rule toggle)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03658">npc.cpp:3658</a></div></div>
<div class="ttc" id="astructnpc__opinion_html"><div class="ttname"><a href="structnpc__opinion.html">npc_opinion</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00232">npc.h:232</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a33fc4533430debe24fb3a9a38acfabbe"><div class="ttname"><a href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">npc_opinion::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00235">npc.h:235</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a3dd84c1d61aba9d6486853542c43dd42"><div class="ttname"><a href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">npc_opinion::trust</a></div><div class="ttdeci">int trust</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00233">npc.h:233</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a523b58b23a338f96dff966ca09350fc8"><div class="ttname"><a href="structnpc__opinion.html#a523b58b23a338f96dff966ca09350fc8">npc_opinion::sold</a></div><div class="ttdeci">int sold</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00238">npc.h:238</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a544114b24a1332d5fc31b1ec814684bd"><div class="ttname"><a href="structnpc__opinion.html#a544114b24a1332d5fc31b1ec814684bd">npc_opinion::owed</a></div><div class="ttdeci">int owed</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00237">npc.h:237</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_ac3e3687fbefeca03878ed52f641d4bf7"><div class="ttname"><a href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">npc_opinion::fear</a></div><div class="ttdeci">int fear</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00234">npc.h:234</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_ae30f2e7ca0b4c62ba71c648c63921d67"><div class="ttname"><a href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">npc_opinion::anger</a></div><div class="ttdeci">int anger</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00236">npc.h:236</a></div></div>
<div class="ttc" id="astructnpc__personality_html_a50b8489153689a4a10c714f321a6d887"><div class="ttname"><a href="structnpc__personality.html#a50b8489153689a4a10c714f321a6d887">npc_personality::bravery</a></div><div class="ttdeci">int8_t bravery</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00218">npc.h:218</a></div></div>
<div class="ttc" id="astructnpc__personality_html_ab2ba07ed51a2feea6d8b4f674972d445"><div class="ttname"><a href="structnpc__personality.html#ab2ba07ed51a2feea6d8b4f674972d445">npc_personality::altruism</a></div><div class="ttdeci">int8_t altruism</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00220">npc.h:220</a></div></div>
<div class="ttc" id="astructnpc__personality_html_ad2ed57eaba1c878112ed7575bc6ebfbb"><div class="ttname"><a href="structnpc__personality.html#ad2ed57eaba1c878112ed7575bc6ebfbb">npc_personality::collector</a></div><div class="ttdeci">int8_t collector</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00219">npc.h:219</a></div></div>
<div class="ttc" id="astructnpc__personality_html_aecf2fbbc5fcbda416d381dc0bde6e18c"><div class="ttname"><a href="structnpc__personality.html#aecf2fbbc5fcbda416d381dc0bde6e18c">npc_personality::aggression</a></div><div class="ttdeci">int8_t aggression</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00217">npc.h:217</a></div></div>
<div class="ttc" id="atalker_8h_html"><div class="ttname"><a href="talker_8h.html">talker.h</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a1a6476e8888f0929f469fd9af2d629bc"><div class="ttname"><a href="talker__npc_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a></div><div class="ttdeci">static const efftype_id effect_narcosis(&quot;narcosis&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a1eb0d980d9e60655982ce0b931f4fb57"><div class="ttname"><a href="talker__npc_8cpp.html#a1eb0d980d9e60655982ce0b931f4fb57">trait_PROF_FOODP</a></div><div class="ttdeci">static const trait_id trait_PROF_FOODP(&quot;PROF_FOODP&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a23ab798a014e7d7135089fa750c2b563"><div class="ttname"><a href="talker__npc_8cpp.html#a23ab798a014e7d7135089fa750c2b563">itype_foodperson_mask</a></div><div class="ttdeci">static const itype_id itype_foodperson_mask(&quot;foodperson_mask&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a37a1fab8c4f17e009841e255f68b5733"><div class="ttname"><a href="talker__npc_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a></div><div class="ttdeci">static const trait_id trait_DEBUG_MIND_CONTROL(&quot;DEBUG_MIND_CONTROL&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a63b385e0852ca7e6a569bdfdc0739fbf"><div class="ttname"><a href="talker__npc_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">try_consume</a></div><div class="ttdeci">static consumption_result try_consume(npc &amp;p, item &amp;it, std::string &amp;reason)</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00334">talker_npc.cpp:334</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a65ac483e5d469cc9ae94f86af99cf919"><div class="ttname"><a href="talker__npc_8cpp.html#a65ac483e5d469cc9ae94f86af99cf919">OWED_VAL</a></div><div class="ttdeci">static constexpr int OWED_VAL</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00240">talker_npc.cpp:240</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3"><div class="ttname"><a href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a></div><div class="ttdeci">consumption_result</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00326">talker_npc.cpp:326</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d"><div class="ttname"><a href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a></div><div class="ttdeci">@ CONSUMED_ALL</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00330">talker_npc.cpp:329</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724"><div class="ttname"><a href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a></div><div class="ttdeci">@ REFUSED</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00327">talker_npc.cpp:327</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc"><div class="ttname"><a href="talker__npc_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a></div><div class="ttdeci">@ CONSUMED_SOME</div><div class="ttdef"><b>Definition:</b> <a href="talker__npc_8cpp_source.html#l00328">talker_npc.cpp:328</a></div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a74abddcaf98d4f59d99c051a421bee67"><div class="ttname"><a href="talker__npc_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a></div><div class="ttdeci">static const efftype_id effect_npc_suspend(&quot;npc_suspend&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a7fe2bfe8b506d79e174b34485d008914"><div class="ttname"><a href="talker__npc_8cpp.html#a7fe2bfe8b506d79e174b34485d008914">faction_no_faction</a></div><div class="ttdeci">static const faction_id faction_no_faction(&quot;no_faction&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a9260a87c7c9a0df88820afa3a689dc68"><div class="ttname"><a href="talker__npc_8cpp.html#a9260a87c7c9a0df88820afa3a689dc68">itype_foodperson_mask_on</a></div><div class="ttdeci">static const itype_id itype_foodperson_mask_on(&quot;foodperson_mask_on&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a92fc92f8871feb56f05a24b582966275"><div class="ttname"><a href="talker__npc_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a></div><div class="ttdeci">static const trait_id trait_SAPROVORE(&quot;SAPROVORE&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_a9a647a2dbecb7b90acbdbe6fba9a0256"><div class="ttname"><a href="talker__npc_8cpp.html#a9a647a2dbecb7b90acbdbe6fba9a0256">trait_PROF_CHURL</a></div><div class="ttdeci">static const trait_id trait_PROF_CHURL(&quot;PROF_CHURL&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_ab16f8be4be2050986e76d2cb0cff7609"><div class="ttname"><a href="talker__npc_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a></div><div class="ttdeci">static const efftype_id effect_sleep(&quot;sleep&quot;)</div></div>
<div class="ttc" id="atalker__npc_8cpp_html_ac95fd54d69ea350ea463a719fa7f3550"><div class="ttname"><a href="talker__npc_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a></div><div class="ttdeci">static const efftype_id effect_lying_down(&quot;lying_down&quot;)</div></div>
<div class="ttc" id="atalker__npc_8h_html"><div class="ttname"><a href="talker__npc_8h.html">talker_npc.h</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_a45dd4e3da9b83845bcd1c2d8e80cf802"><div class="ttname"><a href="translations_8h.html#a45dd4e3da9b83845bcd1c2d8e80cf802">n_gettext</a></div><div class="ttdeci">#define n_gettext(STRING1, STRING2, COUNT)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00091">translations.h:91</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a0a9530aa2dc0dc113a70189ee01fcb78"><div class="ttname"><a href="units__utility_8cpp.html#a0a9530aa2dc0dc113a70189ee01fcb78">volume_units_long</a></div><div class="ttdeci">const char * volume_units_long()</div><div class="ttdoc">Create a units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00108">units_utility.cpp:108</a></div></div>
<div class="ttc" id="aunits__utility_8h_html"><div class="ttname"><a href="units__utility_8h.html">units_utility.h</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:31 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
