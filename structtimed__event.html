<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: timed_event Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structtimed__event-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">timed_event Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="timed__event_8h_source.html">timed_event.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5298d1cb0fd7aef34f07f3bda0bd29cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a5298d1cb0fd7aef34f07f3bda0bd29cc">timed_event</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> e_t, const <a class="el" href="classtime__point.html">time_point</a> &amp;w, int f_id, <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> p, int s, std::string <a class="el" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a>)</td></tr>
<tr class="separator:a5298d1cb0fd7aef34f07f3bda0bd29cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91456f9bf29aa93852910c0077f3a897"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a91456f9bf29aa93852910c0077f3a897">timed_event</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> e_t, const <a class="el" href="classtime__point.html">time_point</a> &amp;w, int f_id, <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> p, int s, std::string s_id, std::string <a class="el" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a>)</td></tr>
<tr class="separator:a91456f9bf29aa93852910c0077f3a897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1278480bbf5f15fd153dc920fb61808"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#aa1278480bbf5f15fd153dc920fb61808">timed_event</a> (<a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> e_t, const <a class="el" href="classtime__point.html">time_point</a> &amp;w, int f_id, <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> p, int s, std::string s_id, <a class="el" href="classsubmap.html">submap</a> sr, std::string <a class="el" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a>)</td></tr>
<tr class="separator:aa1278480bbf5f15fd153dc920fb61808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015cccc7239db6edded5f390d39ce92f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a015cccc7239db6edded5f390d39ce92f">actualize</a> ()</td></tr>
<tr class="separator:a015cccc7239db6edded5f390d39ce92f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7827751b6d41ee9be5c25aa725c892fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a7827751b6d41ee9be5c25aa725c892fe">per_turn</a> ()</td></tr>
<tr class="separator:a7827751b6d41ee9be5c25aa725c892fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3f5b5f973d2368b89e709ffdc72ef5fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">type</a> = <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ab50339a10e1de285ac99d4c3990b8693">timed_event_type::NONE</a></td></tr>
<tr class="separator:a3f5b5f973d2368b89e709ffdc72ef5fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108a46a65f29ec9cc34c41e5fcc95241"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__point.html">time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">when</a> = <a class="el" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></td></tr>
<tr class="memdesc:a108a46a65f29ec9cc34c41e5fcc95241"><td class="mdescLeft">&#160;</td><td class="mdescRight">On which turn event should be happening.  <a href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">More...</a><br /></td></tr>
<tr class="separator:a108a46a65f29ec9cc34c41e5fcc95241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced2a5e88257b3aa5269e31546fdd402"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#aced2a5e88257b3aa5269e31546fdd402">faction_id</a> = -1</td></tr>
<tr class="memdesc:aced2a5e88257b3aa5269e31546fdd402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Which faction is responsible for handling this event.  <a href="structtimed__event.html#aced2a5e88257b3aa5269e31546fdd402">More...</a><br /></td></tr>
<tr class="separator:aced2a5e88257b3aa5269e31546fdd402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf49b5cfa1ba807f962ae14bb04d794f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> = <a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a>( <a class="el" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a> )</td></tr>
<tr class="memdesc:abf49b5cfa1ba807f962ae14bb04d794f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Where the event happens, in global submap coordinates.  <a href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">More...</a><br /></td></tr>
<tr class="separator:abf49b5cfa1ba807f962ae14bb04d794f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3bec3b07311892c2a9c4d70601bc494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a> = <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( <a class="el" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a> )</td></tr>
<tr class="memdesc:aa3bec3b07311892c2a9c4d70601bc494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Where the event happens, in global map coordinates.  <a href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">More...</a><br /></td></tr>
<tr class="separator:aa3bec3b07311892c2a9c4d70601bc494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488689596f5f1c082bfd7caba5b8f9c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a> = -1</td></tr>
<tr class="memdesc:a488689596f5f1c082bfd7caba5b8f9c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">How powerful the effect is.  <a href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">More...</a><br /></td></tr>
<tr class="separator:a488689596f5f1c082bfd7caba5b8f9c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e7fd6e7136d234fffb816a655c92f3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a85e7fd6e7136d234fffb816a655c92f3">string_id</a></td></tr>
<tr class="memdesc:a85e7fd6e7136d234fffb816a655c92f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of applied effect  <a href="structtimed__event.html#a85e7fd6e7136d234fffb816a655c92f3">More...</a><br /></td></tr>
<tr class="separator:a85e7fd6e7136d234fffb816a655c92f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629f0898d2539ecbe63b03b47754d588"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a></td></tr>
<tr class="memdesc:a629f0898d2539ecbe63b03b47754d588"><td class="mdescLeft">&#160;</td><td class="mdescRight">key to alter this event later  <a href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">More...</a><br /></td></tr>
<tr class="separator:a629f0898d2539ecbe63b03b47754d588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6ca457e9a306d622255f5673be8b32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsubmap.html">submap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimed__event.html#a7c6ca457e9a306d622255f5673be8b32">revert</a></td></tr>
<tr class="separator:a7c6ca457e9a306d622255f5673be8b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00034">34</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5298d1cb0fd7aef34f07f3bda0bd29cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5298d1cb0fd7aef34f07f3bda0bd29cc">&#9670;&nbsp;</a></span>timed_event() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timed_event::timed_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>e_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00063">63</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    : <a class="code" href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">type</a>( e_t )</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    , <a class="code" href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">when</a>( w )</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    , <a class="code" href="structtimed__event.html#aced2a5e88257b3aa5269e31546fdd402">faction_id</a>( f_id )</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    , <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a>( p )</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    , <a class="code" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a>( s )</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    , <a class="code" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a>( std::move( <a class="code" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a> ) )</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> = project_to&lt;coords::sm&gt;( <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a> );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="ttc" id="astructtimed__event_html_a108a46a65f29ec9cc34c41e5fcc95241"><div class="ttname"><a href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">timed_event::when</a></div><div class="ttdeci">time_point when</div><div class="ttdoc">On which turn event should be happening.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00037">timed_event.h:37</a></div></div>
<div class="ttc" id="astructtimed__event_html_a3f5b5f973d2368b89e709ffdc72ef5fb"><div class="ttname"><a href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">timed_event::type</a></div><div class="ttdeci">timed_event_type type</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00035">timed_event.h:35</a></div></div>
<div class="ttc" id="astructtimed__event_html_a488689596f5f1c082bfd7caba5b8f9c5"><div class="ttname"><a href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">timed_event::strength</a></div><div class="ttdeci">int strength</div><div class="ttdoc">How powerful the effect is.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00045">timed_event.h:45</a></div></div>
<div class="ttc" id="astructtimed__event_html_a629f0898d2539ecbe63b03b47754d588"><div class="ttname"><a href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">timed_event::key</a></div><div class="ttdeci">std::string key</div><div class="ttdoc">key to alter this event later</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00049">timed_event.h:49</a></div></div>
<div class="ttc" id="astructtimed__event_html_aa3bec3b07311892c2a9c4d70601bc494"><div class="ttname"><a href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">timed_event::map_square</a></div><div class="ttdeci">tripoint_abs_ms map_square</div><div class="ttdoc">Where the event happens, in global map coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00043">timed_event.h:43</a></div></div>
<div class="ttc" id="astructtimed__event_html_abf49b5cfa1ba807f962ae14bb04d794f"><div class="ttname"><a href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">timed_event::map_point</a></div><div class="ttdeci">tripoint_abs_sm map_point</div><div class="ttdoc">Where the event happens, in global submap coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00041">timed_event.h:41</a></div></div>
<div class="ttc" id="astructtimed__event_html_aced2a5e88257b3aa5269e31546fdd402"><div class="ttname"><a href="structtimed__event.html#aced2a5e88257b3aa5269e31546fdd402">timed_event::faction_id</a></div><div class="ttdeci">int faction_id</div><div class="ttdoc">Which faction is responsible for handling this event.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00039">timed_event.h:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00041">map_point</a>, <a class="el" href="timed__event_8h_source.html#l00043">map_square</a>, and <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>.</p>

</div>
</div>
<a id="a91456f9bf29aa93852910c0077f3a897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91456f9bf29aa93852910c0077f3a897">&#9670;&nbsp;</a></span>timed_event() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timed_event::timed_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>e_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00075">75</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    : <a class="code" href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">type</a>( e_t )</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    , <a class="code" href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">when</a>( w )</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    , <a class="code" href="structtimed__event.html#aced2a5e88257b3aa5269e31546fdd402">faction_id</a>( f_id )</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    , <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a>( p )</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    , <a class="code" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a>( s )</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    , <a class="code" href="structtimed__event.html#a85e7fd6e7136d234fffb816a655c92f3">string_id</a>( std::move( s_id ) )</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    , <a class="code" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a>( std::move( <a class="code" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a> ) )</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> = project_to&lt;coords::sm&gt;( <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a> );</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="astructtimed__event_html_a85e7fd6e7136d234fffb816a655c92f3"><div class="ttname"><a href="structtimed__event.html#a85e7fd6e7136d234fffb816a655c92f3">timed_event::string_id</a></div><div class="ttdeci">std::string string_id</div><div class="ttdoc">type of applied effect</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00047">timed_event.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00041">map_point</a>, <a class="el" href="timed__event_8h_source.html#l00043">map_square</a>, and <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>.</p>

</div>
</div>
<a id="aa1278480bbf5f15fd153dc920fb61808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1278480bbf5f15fd153dc920fb61808">&#9670;&nbsp;</a></span>timed_event() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timed_event::timed_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a>&#160;</td>
          <td class="paramname"><em>e_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtime__point.html">time_point</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>f_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsubmap.html">submap</a>&#160;</td>
          <td class="paramname"><em>sr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00088">88</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    : <a class="code" href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">type</a>( e_t )</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    , <a class="code" href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">when</a>( w )</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    , <a class="code" href="structtimed__event.html#aced2a5e88257b3aa5269e31546fdd402">faction_id</a>( f_id )</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    , <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a>( p )</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    , <a class="code" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a>( s )</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    , <a class="code" href="structtimed__event.html#a85e7fd6e7136d234fffb816a655c92f3">string_id</a>( std::move( s_id ) )</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    , <a class="code" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a>( std::move( <a class="code" href="structtimed__event.html#a629f0898d2539ecbe63b03b47754d588">key</a> ) )</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    , <a class="code" href="structtimed__event.html#a7c6ca457e9a306d622255f5673be8b32">revert</a>( std::move( sr ) )</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> = project_to&lt;coords::sm&gt;( <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a> );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="ttc" id="astructtimed__event_html_a7c6ca457e9a306d622255f5673be8b32"><div class="ttname"><a href="structtimed__event.html#a7c6ca457e9a306d622255f5673be8b32">timed_event::revert</a></div><div class="ttdeci">submap revert</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00051">timed_event.h:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="timed__event_8h_source.html#l00041">map_point</a>, <a class="el" href="timed__event_8h_source.html#l00043">map_square</a>, and <a class="el" href="proficiency_8h.html#a7c174fe5c5322e5b2d41254424fc5f75a5177790ad6df0ea98db41b37b602367c">strength</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a015cccc7239db6edded5f390d39ce92f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015cccc7239db6edded5f390d39ce92f">&#9670;&nbsp;</a></span>actualize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event::actualize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00102">102</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classavatar.html">avatar</a> &amp;player_character = <a class="code" href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a>();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">type</a> ) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a4fc963e213bba362778f5c175eb4d5ff">timed_event_type::HELP</a>:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Currently disabled while NPC and monster factions are being rewritten.&quot;</span> );</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a7f9b8abf1e800e55b929fc27c82450b0">timed_event_type::SPAWN_WYRMS</a>: {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">get_abs_sub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() &gt;= 0 ) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="game_8cpp.html#ad4f2ba17097b49851268f639c3dca832">get_memorial</a>().<a class="code" href="classmemorial__logger.html#a25a8f128728c3039700ba8cb0e523620">add</a>(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;memorial_male&quot;</span>, <span class="stringliteral">&quot;Drew the attention of more dark wyrms!&quot;</span> ),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;memorial_female&quot;</span>, <span class="stringliteral">&quot;Drew the attention of more dark wyrms!&quot;</span> ) );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="comment">// 50% chance to spawn a dark wyrm near every orifice on the level.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="classint__id.html">ter_id</a>( <span class="stringliteral">&quot;t_orifice&quot;</span> ) ) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( <a class="code" href="timed__event_8cpp.html#a5561ff0e93d53b7928bfec9ba954ff40">mon_dark_wyrm</a>, p, 1 );</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="comment">// You could drop the flag, you know.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">if</span>( player_character.<a class="code" href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">has_amount</a>( <a class="code" href="timed__event_8cpp.html#a6603cf1f31fc21c92a70ca94953d6da2">itype_petrified_eye</a>, 1 ) ) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 60, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f">sounds::sound_t::alert</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;a tortured scream!&quot;</span> ), <span class="keyword">false</span>,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                               <span class="stringliteral">&quot;shout&quot;</span>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                               <span class="stringliteral">&quot;scream_tortured&quot;</span> );</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">if</span>( !player_character.<a class="code" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a>() ) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The eye you&#39;re carrying lets out a tortured scream!&quot;</span> ) );</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    player_character.<a class="code" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code" href="morale__types_8cpp.html#a91516b205a75df70c98a219c4958e5ee">MORALE_SCREAM</a>, -15, 0, 30_minutes, 30_seconds );</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a44b6334f957900881feac881d2aa2468">timed_event_type::AMIGARA</a>: {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731af254062f28b783b14ad4212102b973d9">event_type::angers_amigara_horrors</a>&gt;();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordtype">int</span> num_horrors = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 3, 5 );</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            std::optional&lt;tripoint&gt; fault_point;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordtype">bool</span> horizontal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a> ) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    fault_point = p;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    horizontal = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p + <a class="code" href="point_8h.html#ad388a59168c3ba4b7d9d921b052d1201">tripoint_east</a> ) == <a class="code" href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a> ||</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                                 here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p + <a class="code" href="point_8h.html#abd7de5098b6f2a3e020cdc13cfc5c5ab">tripoint_west</a> ) == <a class="code" href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; fault_point &amp;&amp; i &lt; num_horrors; i++ ) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> tries = 0; tries &lt; 10; ++tries ) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                    <a class="code" href="structtripoint.html">tripoint</a> monp = player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    <span class="keywordflow">if</span>( horizontal ) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        monp.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( fault_point-&gt;x, fault_point-&gt;x + 2 * <a class="code" href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a> - 8 );</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> n = -1; n &lt;= 1; n++ ) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( <a class="code" href="structpoint.html">point</a>( monp.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>, fault_point-&gt;y + n ) ) == <a class="code" href="timed__event_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a> ) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                                monp.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = fault_point-&gt;y + n;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                            }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        <span class="comment">// Vertical fault</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        monp.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( fault_point-&gt;y, fault_point-&gt;y + 2 * <a class="code" href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a> - 8 );</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> n = -1; n &lt;= 1; n++ ) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( <a class="code" href="structpoint.html">point</a>( fault_point-&gt;x + n, monp.<a class="code" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> ) ) == <a class="code" href="timed__event_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a> ) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                monp.<a class="code" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = fault_point-&gt;x + n;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                            }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                    <span class="keywordflow">if</span>( <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code" href="timed__event_8cpp.html#ac4fc00407a90d4c5e54e6435839499c0">mon_amigara_horror</a>, monp ) ) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a93cc41ed61b81ac48497a965ac70f0a9">timed_event_type::ROOTS_DIE</a>:</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731a7176e453815ab2a3439511f8e6be2f86">event_type::destroys_triffid_grove</a>&gt;();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="timed__event_8cpp.html#acd14967cb26aaf9b6dcd33623c7822c3">ter_t_root_wall</a> &amp;&amp; <a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="timed__event_8cpp.html#a559cdecf5c9f7fa80e8d2b2b9807a9be">ter_t_underbrush</a> );</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a531546b69ef1b489aa33125d3efa48e9">timed_event_type::TEMPLE_OPEN</a>: {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <a class="code" href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a>().<a class="code" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code" href="event_8h.html#a333a7721472705fe444b24f107f9a731ab9e7bd91a34796eeb98d90e14cfc42ce">event_type::opens_temple</a>&gt;();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordtype">bool</span> saw_grate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="timed__event_8cpp.html#abaafbfbc9521acacb02f34516dcb504b">ter_t_grate</a> ) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, <a class="code" href="timed__event_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a> );</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <span class="keywordflow">if</span>( !saw_grate &amp;&amp; player_character.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( p ) ) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                        saw_grate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">if</span>( saw_grate ) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The nearby grates open to reveal a staircase!&quot;</span> ) );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a03ed63d9997695d305ba3ae68439e621">timed_event_type::TEMPLE_FLOOD</a>: {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordtype">bool</span> flooded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="classcata_1_1mdarray.html">cata::mdarray&lt;ter_id, point_bub_ms&gt;</a> flood_buf;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                flood_buf[p.x][p.y] = here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p );</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="timed__event_8cpp.html#a636bd6f4127c7232559e88f63ec2f86d">ter_t_water_sh</a> ) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    <span class="keywordtype">bool</span> deepen = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;w : <a class="code" href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a>( p, 1 ) ) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( w ) == <a class="code" href="timed__event_8cpp.html#af6c40bc0b28ed4a025fc4141b5499887">ter_t_water_dp</a> ) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                            deepen = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <span class="keywordflow">if</span>( deepen ) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        flood_buf[p.x][p.y] = <a class="code" href="timed__event_8cpp.html#af6c40bc0b28ed4a025fc4141b5499887">ter_t_water_dp</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        flooded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="timed__event_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a> ) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    <span class="keywordtype">bool</span> flood = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;w : <a class="code" href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a>( p, 1 ) ) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( w ) == <a class="code" href="timed__event_8cpp.html#af6c40bc0b28ed4a025fc4141b5499887">ter_t_water_dp</a> || here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( w ) == <a class="code" href="timed__event_8cpp.html#a636bd6f4127c7232559e88f63ec2f86d">ter_t_water_sh</a> ) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                            flood = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                    <span class="keywordflow">if</span>( flood ) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        flood_buf[p.x][p.y] = <a class="code" href="timed__event_8cpp.html#a636bd6f4127c7232559e88f63ec2f86d">ter_t_water_sh</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                        flooded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">if</span>( !flooded ) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="comment">// We finished flooding the entire chamber!</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="comment">// Check if we should print a message</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">if</span>( flood_buf[player_character.<a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>()][player_character.<a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>()] != here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>(</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ) ) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">if</span>( flood_buf[player_character.<a class="code" href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">posx</a>()][player_character.<a class="code" href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">posy</a>()] == <a class="code" href="timed__event_8cpp.html#a636bd6f4127c7232559e88f63ec2f86d">ter_t_water_sh</a> ) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Water quickly floods up to your knees.&quot;</span> ) );</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <a class="code" href="game_8cpp.html#ad4f2ba17097b49851268f639c3dca832">get_memorial</a>().<a class="code" href="classmemorial__logger.html#a25a8f128728c3039700ba8cb0e523620">add</a>(</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;memorial_male&quot;</span>, <span class="stringliteral">&quot;Water level reached knees.&quot;</span> ),</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;memorial_female&quot;</span>, <span class="stringliteral">&quot;Water level reached knees.&quot;</span> ) );</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="comment">// Must be deep water!</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Water fills nearly to the ceiling!&quot;</span> ) );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    <a class="code" href="game_8cpp.html#ad4f2ba17097b49851268f639c3dca832">get_memorial</a>().<a class="code" href="classmemorial__logger.html#a25a8f128728c3039700ba8cb0e523620">add</a>(</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;memorial_male&quot;</span>, <span class="stringliteral">&quot;Water level reached the ceiling.&quot;</span> ),</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                        <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;memorial_female&quot;</span>, <span class="stringliteral">&quot;Water level reached the ceiling.&quot;</span> ) );</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    <a class="code" href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">avatar_action::swim</a>( here, player_character, player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="comment">// flood_buf is filled with correct tiles; now copy them back to here</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                here.<a class="code" href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">ter_set</a>( p, flood_buf[p.x][p.y] );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="game_8cpp.html#a843dd63af25a83f66fdc5ea2bea33f01">get_timed_events</a>().<a class="code" href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">add</a>( <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a03ed63d9997695d305ba3ae68439e621">timed_event_type::TEMPLE_FLOOD</a>,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                    <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2_turns, 3_turns ) );</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a109a2d45d7995d10141172feca982d2e">timed_event_type::TEMPLE_SPAWN</a>: {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;mtype_id, 4&gt; temple_monsters = { {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                    <a class="code" href="timed__event_8cpp.html#a8a1212dd54a226f1b2d3ef9623a49763">mon_sewer_snake</a>, <a class="code" href="timed__event_8cpp.html#ae90987951893a9b86b44f59661541a69">mon_dermatik</a>, <a class="code" href="timed__event_8cpp.html#a6a24edadae7e40b0c4a790a1cd2e3221">mon_spider_widow_giant</a>, <a class="code" href="timed__event_8cpp.html#a48780e2072ee58b9ea58e6c85fca7744">mon_spider_cellar_giant</a></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            };</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keyword">const</span> <a class="code" href="classstring__id.html">mtype_id</a> &amp;montype = <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( temple_monsters );</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( montype, player_character.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), 2 );</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ab332d4e452c63c3794786dd212c7af5a">timed_event_type::DSA_ALRP_SUMMON</a>: {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_sm</a> u_pos = player_character.<a class="code" href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50">global_sm_location</a>();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( u_pos, <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> ) &lt;= 4 ) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> spot = here.<a class="code" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( project_to&lt;coords::ms&gt;( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> ).raw() );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <a class="code" href="classmonster.html">monster</a> dispatcher( <a class="code" href="timed__event_8cpp.html#ae27b8a43d3382c0aad57972d2ecc9dba">mon_dsa_alien_dispatch</a> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <a class="code" href="structfake__spell.html">fake_spell</a> summoning( <a class="code" href="timed__event_8cpp.html#ac82707bcb11479e7afa846c961667e28">spell_dks_summon_alrp</a>, <span class="keyword">true</span>, 12 );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                summoning.get_spell( player_character ).cast_all_effects( dispatcher, spot );</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keyword">const</span> <a class="code" href="classcoords_1_1coord__point.html">tripoint_abs_omt</a> omt_point = project_to&lt;coords::omt&gt;( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <a class="code" href="classtinymap.html">tinymap</a> mx_map;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                mx_map.<a class="code" href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">load</a>( omt_point, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <a class="code" href="namespaceMapExtras.html#a68b2793943078b9ccc96d8a36ba1ec16">MapExtras::apply_function</a>( <a class="code" href="timed__event_8cpp.html#a45e25eff3e1e0555542a1edf90de7d6b">map_extra_mx_dsa_alrp</a>, mx_map, omt_point );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;load_npcs();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                here.<a class="code" href="classmap.html#a7481e86917674a912940956719d2eaa3">invalidate_map_cache</a>( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a9bc161c4a4e0b3ebdb8b40e2b77f28d2">timed_event_type::TRANSFORM_RADIUS</a>: {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="classmap.html">map</a> tm;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            tm.<a class="code" href="classmap.html#aa9bd1c4bbf25a34b5eeb1a2b0db70d3d">load</a>( project_to&lt;coords::sm&gt;( <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a> - <a class="code" href="structpoint.html">point</a>{ <a class="code" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a>, <a class="code" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a>} ), <span class="keyword">false</span> );</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            tm.<a class="code" href="classmap.html#a7358417bea5329fcb839b62ed1fbc7db">transform_radius</a>( <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a622f36f905ef1d5ee4097da5b128ad8f">ter_furn_transform_id</a>( <a class="code" href="classstring__id.html">string_id</a> ), <a class="code" href="structtimed__event.html#a488689596f5f1c082bfd7caba5b8f9c5">strength</a>,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                 <a class="code" href="structtimed__event.html#aa3bec3b07311892c2a9c4d70601bc494">map_square</a> );</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7aaa162e1e1688acb0a58b38d0c8b65ac4">timed_event_type::UPDATE_MAPGEN</a>:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a>(</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="type__id_8h.html#a9703e9c28f208c9af0bee38564a5df0b">update_mapgen_id</a>( <a class="code" href="classstring__id.html">string_id</a> ), project_to&lt;coords::omt&gt;( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> ), {}, nullptr );</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <a class="code" href="mapgen_8cpp.html#a6cf02364d2ef67b23aa27bca2018bc5d">set_queued_points</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a7481e86917674a912940956719d2eaa3">invalidate_map_cache</a>( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ad4473edbbe2afe95ff38bd72ee3f80ad">timed_event_type::REVERT_SUBMAP</a>: {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="classsubmap.html">submap</a> *<a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a> = <a class="code" href="mapbuffer_8cpp.html#abc900a0fe17d282e0e4717540106e608">MAPBUFFER</a>.<a class="code" href="classmapbuffer.html#a735a8ab72394141749562047e7f9ca55">lookup_submap</a>( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a> );</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <a class="code" href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">sm</a>-&gt;revert_submap( <a class="code" href="structtimed__event.html#a7c6ca457e9a306d622255f5673be8b32">revert</a> );</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().<a class="code" href="classmap.html#a7481e86917674a912940956719d2eaa3">invalidate_map_cache</a>( <a class="code" href="structtimed__event.html#abf49b5cfa1ba807f962ae14bb04d794f">map_point</a>.<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() );</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="comment">// Nothing happens for other events</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="ttc" id="aavatar_8h_html_a7fe2c1a3376948380f856732d4f34c5c"><div class="ttname"><a href="avatar_8h.html#a7fe2c1a3376948380f856732d4f34c5c">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13817">game.cpp:13817</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a622f36f905ef1d5ee4097da5b128ad8f"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a622f36f905ef1d5ee4097da5b128ad8f">cata_variant_type::ter_furn_transform_id</a></div><div class="ttdeci">@ ter_furn_transform_id</div></div>
<div class="ttc" id="aclassCharacter_html_a906192bd3a5f29a61ee12695e18d2eb5"><div class="ttname"><a href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_avatar=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11397">character.cpp:11397</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character__morale_8cpp_source.html#l00142">character_morale.cpp:142</a></div></div>
<div class="ttc" id="aclassCharacter_html_aecadb13556a47d015e1a1ac7c46d56a7"><div class="ttname"><a href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">Character::is_deaf</a></div><div class="ttdeci">bool is_deaf() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04614">character.cpp:4614</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclassCreature_html_a9f0365208b65ab1c45d23f03f402f491"><div class="ttname"><a href="classCreature.html#a9f0365208b65ab1c45d23f03f402f491">Creature::posy</a></div><div class="ttdeci">int posy() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00314">creature.h:314</a></div></div>
<div class="ttc" id="aclassCreature_html_ac211737fb0fabb73b28d9aee3922ae50"><div class="ttname"><a href="classCreature.html#ac211737fb0fabb73b28d9aee3922ae50">Creature::global_sm_location</a></div><div class="ttdeci">tripoint_abs_sm global_sm_location() const</div><div class="ttdoc">Returns the location of the creature in global submap coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03237">creature.cpp:3237</a></div></div>
<div class="ttc" id="aclassCreature_html_aecea7d852ffba499ec12350c95340b9d"><div class="ttname"><a href="classCreature.html#aecea7d852ffba499ec12350c95340b9d">Creature::posx</a></div><div class="ttdeci">int posx() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00311">creature.h:311</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00083">avatar.h:84</a></div></div>
<div class="ttc" id="aclasscata_1_1mdarray_html"><div class="ttname"><a href="classcata_1_1mdarray.html">cata::mdarray</a></div><div class="ttdef"><b>Definition:</b> <a href="mdarray_8h_source.html#l00105">mdarray.h:108</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point__mut_html_aa94b8bd33e85ce94a3634e6e27ab0cdd"><div class="ttname"><a href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">coords::coord_point_mut::z</a></div><div class="ttdeci">constexpr auto z() const</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00167">coordinates.h:167</a></div></div>
<div class="ttc" id="aclasscoords_1_1coord__point_html"><div class="ttname"><a href="classcoords_1_1coord__point.html">coords::coord_point&lt; tripoint, coords::origin::abs, coords::sm &gt;</a></div></div>
<div class="ttc" id="aclassevent__bus_html_ab753616a3a663185377ac52560068194"><div class="ttname"><a href="classevent__bus.html#ab753616a3a663185377ac52560068194">event_bus::send</a></div><div class="ttdeci">void send(const cata::event &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="event__bus_8cpp_source.html#l00072">event_bus.cpp:72</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09635">map.cpp:9635</a></div></div>
<div class="ttc" id="aclassmap_html_a59bdb65280e5e1461469b0e1275c402e"><div class="ttname"><a href="classmap.html#a59bdb65280e5e1461469b0e1275c402e">map::ter_set</a></div><div class="ttdeci">bool ter_set(const tripoint &amp;p, const ter_id &amp;new_terrain, bool avoid_creatures=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02226">map.cpp:2226</a></div></div>
<div class="ttc" id="aclassmap_html_a61d83c54adde6e54f8abf5a2b6834ea1"><div class="ttname"><a href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">map::points_on_zlevel</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_on_zlevel() const</div><div class="ttdoc">Yields a range of all points that are contained in the map and have the z-level of this map (abs_sub)...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l10143">map.cpp:10143</a></div></div>
<div class="ttc" id="aclassmap_html_a7358417bea5329fcb839b62ed1fbc7db"><div class="ttname"><a href="classmap.html#a7358417bea5329fcb839b62ed1fbc7db">map::transform_radius</a></div><div class="ttdeci">void transform_radius(const ter_furn_transform_id &amp;transform, int radi, const tripoint_abs_ms &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04793">map.cpp:4793</a></div></div>
<div class="ttc" id="aclassmap_html_a7481e86917674a912940956719d2eaa3"><div class="ttname"><a href="classmap.html#a7481e86917674a912940956719d2eaa3">map::invalidate_map_cache</a></div><div class="ttdeci">void invalidate_map_cache(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00375">map.cpp:375</a></div></div>
<div class="ttc" id="aclassmap_html_aa9bd1c4bbf25a34b5eeb1a2b0db70d3d"><div class="ttname"><a href="classmap.html#aa9bd1c4bbf25a34b5eeb1a2b0db70d3d">map::load</a></div><div class="ttdeci">void load(const tripoint_abs_sm &amp;w, bool update_vehicles, bool pump_events=false)</div><div class="ttdoc">Load submaps into grid.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07894">map.cpp:7894</a></div></div>
<div class="ttc" id="aclassmap_html_ab2a7030c1e990957e11ae52b58ad7056"><div class="ttname"><a href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">map::get_abs_sub</a></div><div class="ttdeci">tripoint_abs_sm get_abs_sub() const</div><div class="ttdoc">return abs_sub</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l09663">map.cpp:9663</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01922">map.cpp:1922</a></div></div>
<div class="ttc" id="aclassmapbuffer_html_a735a8ab72394141749562047e7f9ca55"><div class="ttname"><a href="classmapbuffer.html#a735a8ab72394141749562047e7f9ca55">mapbuffer::lookup_submap</a></div><div class="ttdeci">submap * lookup_submap(const tripoint_abs_sm &amp;p)</div><div class="ttdoc">Get a submap stored in this buffer.</div><div class="ttdef"><b>Definition:</b> <a href="mapbuffer_8cpp_source.html#l00104">mapbuffer.cpp:104</a></div></div>
<div class="ttc" id="aclassmemorial__logger_html_a25a8f128728c3039700ba8cb0e523620"><div class="ttname"><a href="classmemorial__logger.html#a25a8f128728c3039700ba8cb0e523620">memorial_logger::add</a></div><div class="ttdeci">void add(std::string_view male_msg, std::string_view female_msg)</div><div class="ttdoc">Adds an event to the memorial log, to be written to the memorial file when the character dies.</div><div class="ttdef"><b>Definition:</b> <a href="memorial__logger_8cpp_source.html#l00118">memorial_logger.cpp:118</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; mtype &gt;</a></div></div>
<div class="ttc" id="aclasssubmap_html"><div class="ttname"><a href="classsubmap.html">submap</a></div><div class="ttdef"><b>Definition:</b> <a href="submap_8h_source.html#l00069">submap.h:70</a></div></div>
<div class="ttc" id="aclasstimed__event__manager_html_a1c1a0176abe4ee754ac79e08aebe6c84"><div class="ttname"><a href="classtimed__event__manager.html#a1c1a0176abe4ee754ac79e08aebe6c84">timed_event_manager::add</a></div><div class="ttdeci">void add(timed_event_type type, const time_point &amp;when, int faction_id=-1, int strength=-1, const std::string &amp;key=&quot;&quot;)</div><div class="ttdoc">Add an entry to the event queue.</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8cpp_source.html#l00388">timed_event.cpp:388</a></div></div>
<div class="ttc" id="aclasstinymap_html"><div class="ttname"><a href="classtinymap.html">tinymap</a></div><div class="ttdoc">Tinymap is a small version of the map which covers a single overmap terrain (OMT) tile,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02422">map.h:2423</a></div></div>
<div class="ttc" id="aclasstinymap_html_a7f913ba5d8facdb8c3d6b759593095fc"><div class="ttname"><a href="classtinymap.html#a7f913ba5d8facdb8c3d6b759593095fc">tinymap::load</a></div><div class="ttdeci">void load(const tripoint_abs_omt &amp;w, bool update_vehicles, bool pump_events=false)</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02447">map.h:2447</a></div></div>
<div class="ttc" id="aclassvisitable_html_aa199bd0ea7a41c50a2de5761dd987338"><div class="ttname"><a href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo, const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01018">visitable.cpp:1018</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00351">enums.h:351</a></div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731a7176e453815ab2a3439511f8e6be2f86"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731a7176e453815ab2a3439511f8e6be2f86">event_type::destroys_triffid_grove</a></div><div class="ttdeci">@ destroys_triffid_grove</div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731ab9e7bd91a34796eeb98d90e14cfc42ce"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731ab9e7bd91a34796eeb98d90e14cfc42ce">event_type::opens_temple</a></div><div class="ttdeci">@ opens_temple</div></div>
<div class="ttc" id="aevent_8h_html_a333a7721472705fe444b24f107f9a731af254062f28b783b14ad4212102b973d9"><div class="ttname"><a href="event_8h.html#a333a7721472705fe444b24f107f9a731af254062f28b783b14ad4212102b973d9">event_type::angers_amigara_horrors</a></div><div class="ttdeci">@ angers_amigara_horrors</div></div>
<div class="ttc" id="aevent__bus_8h_html_a4f760194b9225ccf92a1419748def636"><div class="ttname"><a href="event__bus_8h.html#a4f760194b9225ccf92a1419748def636">get_event_bus</a></div><div class="ttdeci">event_bus &amp; get_event_bus()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13832">game.cpp:13832</a></div></div>
<div class="ttc" id="agame_8cpp_html_a843dd63af25a83f66fdc5ea2bea33f01"><div class="ttname"><a href="game_8cpp.html#a843dd63af25a83f66fdc5ea2bea33f01">get_timed_events</a></div><div class="ttdeci">timed_event_manager &amp; get_timed_events()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13861">game.cpp:13861</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="agame_8cpp_html_ad4f2ba17097b49851268f639c3dca832"><div class="ttname"><a href="game_8cpp.html#ad4f2ba17097b49851268f639c3dca832">get_memorial</a></div><div class="ttdeci">memorial_logger &amp; get_memorial()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13837">game.cpp:13837</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a39fd8a829e3dc412646663066dbdb54c"><div class="ttname"><a href="game__constants_8h.html#a39fd8a829e3dc412646663066dbdb54c">SEEX</a></div><div class="ttdeci">constexpr int SEEX</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00042">game_constants.h:42</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a4cfa35de359af17f7bc6c2a424339eb5"><div class="ttname"><a href="game__constants_8h.html#a4cfa35de359af17f7bc6c2a424339eb5">SEEY</a></div><div class="ttdeci">constexpr int SEEY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00043">game_constants.h:43</a></div></div>
<div class="ttc" id="amap__iterator_8h_html_a93494cda6db06e3f43ea14c7a545d481"><div class="ttname"><a href="map__iterator_8h.html#a93494cda6db06e3f43ea14c7a545d481">points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; Tripoint &gt; points_in_radius(const Tripoint &amp;center, const int radius, const int radiusz=0)</div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00154">map_iterator.h:154</a></div></div>
<div class="ttc" id="amapbuffer_8cpp_html_abc900a0fe17d282e0e4717540106e608"><div class="ttname"><a href="mapbuffer_8cpp.html#abc900a0fe17d282e0e4717540106e608">MAPBUFFER</a></div><div class="ttdeci">mapbuffer MAPBUFFER</div><div class="ttdef"><b>Definition:</b> <a href="mapbuffer_8cpp_source.html#l00048">mapbuffer.cpp:48</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a6a25dca035599e6f281495d39d0768a6"><div class="ttname"><a href="mapgen_8cpp.html#a6a25dca035599e6f281495d39d0768a6">run_mapgen_update_func</a></div><div class="ttdeci">bool run_mapgen_update_func(const update_mapgen_id &amp;update_mapgen_id, const tripoint_abs_omt &amp;omt_pos, const mapgen_arguments &amp;args, mission *miss, bool cancel_on_collision, bool mirror_horizontal, bool mirror_vertical, int rotation)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07925">mapgen.cpp:7925</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a6cf02364d2ef67b23aa27bca2018bc5d"><div class="ttname"><a href="mapgen_8cpp.html#a6cf02364d2ef67b23aa27bca2018bc5d">set_queued_points</a></div><div class="ttdeci">void set_queued_points()</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07951">mapgen.cpp:7951</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00997">messages.cpp:997</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a91516b205a75df70c98a219c4958e5ee"><div class="ttname"><a href="morale__types_8cpp.html#a91516b205a75df70c98a219c4958e5ee">MORALE_SCREAM</a></div><div class="ttdeci">const morale_type MORALE_SCREAM(&quot;morale_scream&quot;)</div></div>
<div class="ttc" id="anamespaceMapExtras_html_a68b2793943078b9ccc96d8a36ba1ec16"><div class="ttname"><a href="namespaceMapExtras.html#a68b2793943078b9ccc96d8a36ba1ec16">MapExtras::apply_function</a></div><div class="ttdeci">void apply_function(const map_extra_id &amp;id, map &amp;m, const tripoint_abs_sm &amp;abs_sub)</div><div class="ttdef"><b>Definition:</b> <a href="map__extras_8cpp_source.html#l02188">map_extras.cpp:2188</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a9611563bffc4224b3e724db03688bdd4"><div class="ttname"><a href="namespaceavatar__action.html#a9611563bffc4224b3e724db03688bdd4">avatar_action::swim</a></div><div class="ttdeci">void swim(map &amp;m, avatar &amp;you, const tripoint &amp;p)</div><div class="ttdoc">Handles swimming by the player.</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00618">avatar_action.cpp:618</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespacecoords_html_a7457d0a4e8c8e6407a2c0ee89d275962"><div class="ttname"><a href="namespacecoords.html#a7457d0a4e8c8e6407a2c0ee89d275962">coords::sm</a></div><div class="ttdeci">constexpr scale sm</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00039">coordinates.h:39</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00318">sounds.cpp:318</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f">sounds::sound_t::alert</a></div><div class="ttdeci">@ alert</div></div>
<div class="ttc" id="apoint_8h_html_abd7de5098b6f2a3e020cdc13cfc5c5ab"><div class="ttname"><a href="point_8h.html#abd7de5098b6f2a3e020cdc13cfc5c5ab">tripoint_west</a></div><div class="ttdeci">constexpr tripoint tripoint_west</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00268">point.h:268</a></div></div>
<div class="ttc" id="apoint_8h_html_ad388a59168c3ba4b7d9d921b052d1201"><div class="ttname"><a href="point_8h.html#ad388a59168c3ba4b7d9d921b052d1201">tripoint_east</a></div><div class="ttdeci">constexpr tripoint tripoint_east</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00264">point.h:264</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="astructfake__spell_html"><div class="ttname"><a href="structfake__spell.html">fake_spell</a></div><div class="ttdef"><b>Definition:</b> <a href="magic_8h_source.html#l00141">magic.h:141</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00133">point.h:133</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00132">point.h:132</a></div></div>
<div class="ttc" id="atimed__event_8cpp_html_a0e8e11fa2f1915fae23254153f30276e"><div class="ttname"><a href="timed__event_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a></div><div class="ttdeci">static const ter_str_id ter_t_stairs_down(&quot;t_stairs_down&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a45e25eff3e1e0555542a1edf90de7d6b"><div class="ttname"><a href="timed__event_8cpp.html#a45e25eff3e1e0555542a1edf90de7d6b">map_extra_mx_dsa_alrp</a></div><div class="ttdeci">static const map_extra_id map_extra_mx_dsa_alrp(&quot;mx_dsa_alrp&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a48780e2072ee58b9ea58e6c85fca7744"><div class="ttname"><a href="timed__event_8cpp.html#a48780e2072ee58b9ea58e6c85fca7744">mon_spider_cellar_giant</a></div><div class="ttdeci">static const mtype_id mon_spider_cellar_giant(&quot;mon_spider_cellar_giant&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a5561ff0e93d53b7928bfec9ba954ff40"><div class="ttname"><a href="timed__event_8cpp.html#a5561ff0e93d53b7928bfec9ba954ff40">mon_dark_wyrm</a></div><div class="ttdeci">static const mtype_id mon_dark_wyrm(&quot;mon_dark_wyrm&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a559cdecf5c9f7fa80e8d2b2b9807a9be"><div class="ttname"><a href="timed__event_8cpp.html#a559cdecf5c9f7fa80e8d2b2b9807a9be">ter_t_underbrush</a></div><div class="ttdeci">static const ter_str_id ter_t_underbrush(&quot;t_underbrush&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a636bd6f4127c7232559e88f63ec2f86d"><div class="ttname"><a href="timed__event_8cpp.html#a636bd6f4127c7232559e88f63ec2f86d">ter_t_water_sh</a></div><div class="ttdeci">static const ter_str_id ter_t_water_sh(&quot;t_water_sh&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a6603cf1f31fc21c92a70ca94953d6da2"><div class="ttname"><a href="timed__event_8cpp.html#a6603cf1f31fc21c92a70ca94953d6da2">itype_petrified_eye</a></div><div class="ttdeci">static const itype_id itype_petrified_eye(&quot;petrified_eye&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a6a24edadae7e40b0c4a790a1cd2e3221"><div class="ttname"><a href="timed__event_8cpp.html#a6a24edadae7e40b0c4a790a1cd2e3221">mon_spider_widow_giant</a></div><div class="ttdeci">static const mtype_id mon_spider_widow_giant(&quot;mon_spider_widow_giant&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a8a1212dd54a226f1b2d3ef9623a49763"><div class="ttname"><a href="timed__event_8cpp.html#a8a1212dd54a226f1b2d3ef9623a49763">mon_sewer_snake</a></div><div class="ttdeci">static const mtype_id mon_sewer_snake(&quot;mon_sewer_snake&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_a8da347319b7c8fa73adbbb4486b28287"><div class="ttname"><a href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a></div><div class="ttdeci">static const ter_str_id ter_t_fault(&quot;t_fault&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_aac746a69fccdce55c55a9fe973501393"><div class="ttname"><a href="timed__event_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a></div><div class="ttdeci">static const ter_str_id ter_t_rock_floor(&quot;t_rock_floor&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_abaafbfbc9521acacb02f34516dcb504b"><div class="ttname"><a href="timed__event_8cpp.html#abaafbfbc9521acacb02f34516dcb504b">ter_t_grate</a></div><div class="ttdeci">static const ter_str_id ter_t_grate(&quot;t_grate&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_ac4fc00407a90d4c5e54e6435839499c0"><div class="ttname"><a href="timed__event_8cpp.html#ac4fc00407a90d4c5e54e6435839499c0">mon_amigara_horror</a></div><div class="ttdeci">static const mtype_id mon_amigara_horror(&quot;mon_amigara_horror&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_ac82707bcb11479e7afa846c961667e28"><div class="ttname"><a href="timed__event_8cpp.html#ac82707bcb11479e7afa846c961667e28">spell_dks_summon_alrp</a></div><div class="ttdeci">static const spell_id spell_dks_summon_alrp(&quot;dks_summon_alrp&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_acd14967cb26aaf9b6dcd33623c7822c3"><div class="ttname"><a href="timed__event_8cpp.html#acd14967cb26aaf9b6dcd33623c7822c3">ter_t_root_wall</a></div><div class="ttdeci">static const ter_str_id ter_t_root_wall(&quot;t_root_wall&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_ae27b8a43d3382c0aad57972d2ecc9dba"><div class="ttname"><a href="timed__event_8cpp.html#ae27b8a43d3382c0aad57972d2ecc9dba">mon_dsa_alien_dispatch</a></div><div class="ttdeci">static const mtype_id mon_dsa_alien_dispatch(&quot;mon_dsa_alien_dispatch&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_ae90987951893a9b86b44f59661541a69"><div class="ttname"><a href="timed__event_8cpp.html#ae90987951893a9b86b44f59661541a69">mon_dermatik</a></div><div class="ttdeci">static const mtype_id mon_dermatik(&quot;mon_dermatik&quot;)</div></div>
<div class="ttc" id="atimed__event_8cpp_html_af6c40bc0b28ed4a025fc4141b5499887"><div class="ttname"><a href="timed__event_8cpp.html#af6c40bc0b28ed4a025fc4141b5499887">ter_t_water_dp</a></div><div class="ttdeci">static const ter_str_id ter_t_water_dp(&quot;t_water_dp&quot;)</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a03ed63d9997695d305ba3ae68439e621"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a03ed63d9997695d305ba3ae68439e621">timed_event_type::TEMPLE_FLOOD</a></div><div class="ttdeci">@ TEMPLE_FLOOD</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a109a2d45d7995d10141172feca982d2e"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a109a2d45d7995d10141172feca982d2e">timed_event_type::TEMPLE_SPAWN</a></div><div class="ttdeci">@ TEMPLE_SPAWN</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a44b6334f957900881feac881d2aa2468"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a44b6334f957900881feac881d2aa2468">timed_event_type::AMIGARA</a></div><div class="ttdeci">@ AMIGARA</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a4fc963e213bba362778f5c175eb4d5ff"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a4fc963e213bba362778f5c175eb4d5ff">timed_event_type::HELP</a></div><div class="ttdeci">@ HELP</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a531546b69ef1b489aa33125d3efa48e9"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a531546b69ef1b489aa33125d3efa48e9">timed_event_type::TEMPLE_OPEN</a></div><div class="ttdeci">@ TEMPLE_OPEN</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a7f9b8abf1e800e55b929fc27c82450b0"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a7f9b8abf1e800e55b929fc27c82450b0">timed_event_type::SPAWN_WYRMS</a></div><div class="ttdeci">@ SPAWN_WYRMS</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a93cc41ed61b81ac48497a965ac70f0a9"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a93cc41ed61b81ac48497a965ac70f0a9">timed_event_type::ROOTS_DIE</a></div><div class="ttdeci">@ ROOTS_DIE</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a9bc161c4a4e0b3ebdb8b40e2b77f28d2"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a9bc161c4a4e0b3ebdb8b40e2b77f28d2">timed_event_type::TRANSFORM_RADIUS</a></div><div class="ttdeci">@ TRANSFORM_RADIUS</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7aaa162e1e1688acb0a58b38d0c8b65ac4"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7aaa162e1e1688acb0a58b38d0c8b65ac4">timed_event_type::UPDATE_MAPGEN</a></div><div class="ttdeci">@ UPDATE_MAPGEN</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7ab332d4e452c63c3794786dd212c7af5a"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ab332d4e452c63c3794786dd212c7af5a">timed_event_type::DSA_ALRP_SUMMON</a></div><div class="ttdeci">@ DSA_ALRP_SUMMON</div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7ad4473edbbe2afe95ff38bd72ee3f80ad"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ad4473edbbe2afe95ff38bd72ee3f80ad">timed_event_type::REVERT_SUBMAP</a></div><div class="ttdeci">@ REVERT_SUBMAP</div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="atype__id_8h_html_a9703e9c28f208c9af0bee38564a5df0b"><div class="ttname"><a href="type__id_8h.html#a9703e9c28f208c9af0bee38564a5df0b">update_mapgen_id</a></div><div class="ttdeci">string_id&lt; update_mapgen &gt; update_mapgen_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00283">type_id.h:283</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="memorial__logger_8cpp_source.html#l00118">memorial_logger::add()</a>, <a class="el" href="timed__event_8cpp_source.html#l00388">timed_event_manager::add()</a>, <a class="el" href="character__morale_8cpp_source.html#l00142">Character::add_morale()</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3a7ed21143076d0cca420653d4345baa2f">sounds::alert</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a44b6334f957900881feac881d2aa2468">AMIGARA</a>, <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731af254062f28b783b14ad4212102b973d9">angers_amigara_horrors</a>, <a class="el" href="map__extras_8cpp_source.html#l02188">MapExtras::apply_function()</a>, <a class="el" href="magic_8cpp_source.html#l01833">spell::cast_all_effects()</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731a7176e453815ab2a3439511f8e6be2f86">destroys_triffid_grove</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ab332d4e452c63c3794786dd212c7af5a">DSA_ALRP_SUMMON</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, <a class="el" href="map_8cpp_source.html#l09663">map::get_abs_sub()</a>, <a class="el" href="game_8cpp_source.html#l13817">get_avatar()</a>, <a class="el" href="game_8cpp_source.html#l13832">get_event_bus()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13837">get_memorial()</a>, <a class="el" href="magic_8cpp_source.html#l03023">fake_spell::get_spell()</a>, <a class="el" href="game_8cpp_source.html#l13861">get_timed_events()</a>, <a class="el" href="map_8cpp_source.html#l09635">map::getlocal()</a>, <a class="el" href="creature_8cpp_source.html#l03237">Creature::global_sm_location()</a>, <a class="el" href="visitable_8cpp_source.html#l01018">visitable::has_amount()</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a4fc963e213bba362778f5c175eb4d5ff">HELP</a>, <a class="el" href="map_8cpp_source.html#l00375">map::invalidate_map_cache()</a>, <a class="el" href="character_8cpp_source.html#l04614">Character::is_deaf()</a>, <a class="el" href="timed__event_8cpp.html#a6603cf1f31fc21c92a70ca94953d6da2">itype_petrified_eye</a>, <a class="el" href="map_8h_source.html#l02447">tinymap::load()</a>, <a class="el" href="map_8cpp_source.html#l07894">map::load()</a>, <a class="el" href="mapbuffer_8cpp_source.html#l00104">mapbuffer::lookup_submap()</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="timed__event_8cpp.html#a45e25eff3e1e0555542a1edf90de7d6b">map_extra_mx_dsa_alrp</a>, <a class="el" href="timed__event_8h_source.html#l00041">map_point</a>, <a class="el" href="timed__event_8h_source.html#l00043">map_square</a>, <a class="el" href="mapbuffer_8cpp_source.html#l00048">MAPBUFFER</a>, <a class="el" href="timed__event_8cpp.html#ac4fc00407a90d4c5e54e6435839499c0">mon_amigara_horror</a>, <a class="el" href="timed__event_8cpp.html#a5561ff0e93d53b7928bfec9ba954ff40">mon_dark_wyrm</a>, <a class="el" href="timed__event_8cpp.html#ae90987951893a9b86b44f59661541a69">mon_dermatik</a>, <a class="el" href="timed__event_8cpp.html#ae27b8a43d3382c0aad57972d2ecc9dba">mon_dsa_alien_dispatch</a>, <a class="el" href="timed__event_8cpp.html#a8a1212dd54a226f1b2d3ef9623a49763">mon_sewer_snake</a>, <a class="el" href="timed__event_8cpp.html#a48780e2072ee58b9ea58e6c85fca7744">mon_spider_cellar_giant</a>, <a class="el" href="timed__event_8cpp.html#a6a24edadae7e40b0c4a790a1cd2e3221">mon_spider_widow_giant</a>, <a class="el" href="morale__types_8cpp.html#a91516b205a75df70c98a219c4958e5ee">MORALE_SCREAM</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="event_8h.html#a333a7721472705fe444b24f107f9a731ab9e7bd91a34796eeb98d90e14cfc42ce">opens_temple</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="map__iterator_8h_source.html#l00154">points_in_radius()</a>, <a class="el" href="map_8cpp_source.html#l10143">map::points_on_zlevel()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="creature_8h_source.html#l00311">Creature::posx()</a>, <a class="el" href="creature_8h_source.html#l00314">Creature::posy()</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="timed__event_8h_source.html#l00051">revert</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ad4473edbbe2afe95ff38bd72ee3f80ad">REVERT_SUBMAP</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a93cc41ed61b81ac48497a965ac70f0a9">ROOTS_DIE</a>, <a class="el" href="mapgen_8cpp_source.html#l07925">run_mapgen_update_func()</a>, <a class="el" href="character_8cpp_source.html#l11397">Character::sees()</a>, <a class="el" href="game__constants_8h_source.html#l00042">SEEX</a>, <a class="el" href="game__constants_8h_source.html#l00043">SEEY</a>, <a class="el" href="event__bus_8cpp_source.html#l00072">event_bus::send()</a>, <a class="el" href="mapgen_8cpp_source.html#l07951">set_queued_points()</a>, <a class="el" href="coordinates_8h_source.html#l00039">coords::sm</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a7f9b8abf1e800e55b929fc27c82450b0">SPAWN_WYRMS</a>, <a class="el" href="timed__event_8cpp.html#ac82707bcb11479e7afa846c961667e28">spell_dks_summon_alrp</a>, <a class="el" href="timed__event_8h_source.html#l00045">strength</a>, <a class="el" href="avatar__action_8cpp_source.html#l00618">avatar_action::swim()</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a03ed63d9997695d305ba3ae68439e621">TEMPLE_FLOOD</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a531546b69ef1b489aa33125d3efa48e9">TEMPLE_OPEN</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a109a2d45d7995d10141172feca982d2e">TEMPLE_SPAWN</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a622f36f905ef1d5ee4097da5b128ad8f">ter_furn_transform_id</a>, <a class="el" href="map_8cpp_source.html#l02226">map::ter_set()</a>, <a class="el" href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a>, <a class="el" href="timed__event_8cpp.html#abaafbfbc9521acacb02f34516dcb504b">ter_t_grate</a>, <a class="el" href="timed__event_8cpp.html#aac746a69fccdce55c55a9fe973501393">ter_t_rock_floor</a>, <a class="el" href="timed__event_8cpp.html#acd14967cb26aaf9b6dcd33623c7822c3">ter_t_root_wall</a>, <a class="el" href="timed__event_8cpp.html#a0e8e11fa2f1915fae23254153f30276e">ter_t_stairs_down</a>, <a class="el" href="timed__event_8cpp.html#a559cdecf5c9f7fa80e8d2b2b9807a9be">ter_t_underbrush</a>, <a class="el" href="timed__event_8cpp.html#af6c40bc0b28ed4a025fc4141b5499887">ter_t_water_dp</a>, <a class="el" href="timed__event_8cpp.html#a636bd6f4127c7232559e88f63ec2f86d">ter_t_water_sh</a>, <a class="el" href="map_8cpp_source.html#l04793">map::transform_radius()</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a9bc161c4a4e0b3ebdb8b40e2b77f28d2">TRANSFORM_RADIUS</a>, <a class="el" href="point_8h_source.html#l00264">tripoint_east</a>, <a class="el" href="point_8h_source.html#l00268">tripoint_west</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="timed__event_8h_source.html#l00035">type</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7aaa162e1e1688acb0a58b38d0c8b65ac4">UPDATE_MAPGEN</a>, <a class="el" href="point_8h_source.html#l00132">tripoint::x</a>, <a class="el" href="point_8h_source.html#l00133">tripoint::y</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

</div>
</div>
<a id="a7827751b6d41ee9be5c25aa725c892fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7827751b6d41ee9be5c25aa725c892fe">&#9670;&nbsp;</a></span>per_turn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timed_event::per_turn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8cpp_source.html#l00325">325</a> of file <a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;player_character = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">switch</span>( <a class="code" href="structtimed__event.html#a3f5b5f973d2368b89e709ffdc72ef5fb">type</a> ) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a7f9b8abf1e800e55b929fc27c82450b0">timed_event_type::SPAWN_WYRMS</a>:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#ab2a7030c1e990957e11ae52b58ad7056">get_abs_sub</a>().<a class="code" href="classcoords_1_1coord__point__mut.html#aa94b8bd33e85ce94a3634e6e27ab0cdd">z</a>() &gt;= 0 ) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <a class="code" href="structtimed__event.html#a108a46a65f29ec9cc34c41e5fcc95241">when</a> -= 1_turns;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2, 3 ) ) ) &amp;&amp;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                !player_character.<a class="code" href="classCharacter.html#aecadb13556a47d015e1a1ac7c46d56a7">is_deaf</a>() ) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You hear screeches from the rock above and around you!&quot;</span> ) );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a44b6334f957900881feac881d2aa2468">timed_event_type::AMIGARA</a>:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2, 3 ) ) ) ) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The entire cavern shakes!&quot;</span> ) );</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a10a926826ce3f936f05d58d1769c283a">timed_event_type::AMIGARA_WHISPERS</a>: {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1040f88261206420ae0282559afe9bcc">faults</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp;p : here.<a class="code" href="classmap.html#a61d83c54adde6e54f8abf5a2b6834ea1">points_on_zlevel</a>() ) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">if</span>( here.<a class="code" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code" href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a> ) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1040f88261206420ae0282559afe9bcc">faults</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( 10 ) ) &amp;&amp; <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1040f88261206420ae0282559afe9bcc">faults</a> ) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You hear someone whispering \&quot;%s\&quot;&quot;</span> ),</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                         <a class="code" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code" href="classsnippet__library.html#a685c0168b039e17ca677a61e21900fe1">random_from_category</a>( <span class="stringliteral">&quot;amigara_whispers&quot;</span> ).value_or( <a class="code" href="classtranslation.html">translation</a>() ) );</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a531546b69ef1b489aa33125d3efa48e9">timed_event_type::TEMPLE_OPEN</a>:</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( <a class="code" href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a>( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( 2, 3 ) ) ) ) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <a class="code" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;The earth rumbles.&quot;</span> ) );</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="comment">// Nothing happens for other events</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a685c0168b039e17ca677a61e21900fe1"><div class="ttname"><a href="classsnippet__library.html#a685c0168b039e17ca677a61e21900fe1">snippet_library::random_from_category</a></div><div class="ttdeci">std::optional&lt; translation &gt; random_from_category(const std::string &amp;cat) const</div><div class="ttdoc">Returns a random snippet out of the given category.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00286">text_snippets.cpp:286</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a24e810d76ce97cfab15fbe68a32a00ca"><div class="ttname"><a href="classtime__duration.html#a24e810d76ce97cfab15fbe68a32a00ca">time_duration::from_seconds</a></div><div class="ttdeci">static constexpr time_duration from_seconds(const T t)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00229">calendar.h:229</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8h_source.html#l00017">translation.h:18</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00352">enums.h:352</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a1040f88261206420ae0282559afe9bcc"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1040f88261206420ae0282559afe9bcc">anonymous_namespace{item_tname.cpp}::faults</a></div><div class="ttdeci">std::string faults(item const &amp;it, unsigned int, segment_bitset const &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00049">item_tname.cpp:49</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00753">calendar.cpp:753</a></div></div>
<div class="ttc" id="atext__snippets_8cpp_html_ac3fc11c159cd056aa15ad7c0b37b070a"><div class="ttname"><a href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a></div><div class="ttdeci">snippet_library SNIPPET</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00015">text_snippets.cpp:15</a></div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a10a926826ce3f936f05d58d1769c283a"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a10a926826ce3f936f05d58d1769c283a">timed_event_type::AMIGARA_WHISPERS</a></div><div class="ttdeci">@ AMIGARA_WHISPERS</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="messages_8cpp_source.html#l00997">add_msg()</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a44b6334f957900881feac881d2aa2468">AMIGARA</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a10a926826ce3f936f05d58d1769c283a">AMIGARA_WHISPERS</a>, <a class="el" href="item__tname_8cpp_source.html#l00049">anonymous_namespace{item_tname.cpp}::faults()</a>, <a class="el" href="calendar_8h_source.html#l00229">time_duration::from_seconds()</a>, <a class="el" href="map_8cpp_source.html#l09663">map::get_abs_sub()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="character_8cpp_source.html#l04614">Character::is_deaf()</a>, <a class="el" href="enums_8h_source.html#l00352">m_info</a>, <a class="el" href="enums_8h_source.html#l00351">m_warning</a>, <a class="el" href="calendar_8cpp_source.html#l00753">calendar::once_every()</a>, <a class="el" href="map_8cpp_source.html#l10143">map::points_on_zlevel()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00286">snippet_library::random_from_category()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00015">SNIPPET</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a7f9b8abf1e800e55b929fc27c82450b0">SPAWN_WYRMS</a>, <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a531546b69ef1b489aa33125d3efa48e9">TEMPLE_OPEN</a>, <a class="el" href="map_8cpp_source.html#l01922">map::ter()</a>, <a class="el" href="timed__event_8cpp.html#a8da347319b7c8fa73adbbb4486b28287">ter_t_fault</a>, <a class="el" href="timed__event_8h_source.html#l00035">type</a>, <a class="el" href="timed__event_8h_source.html#l00037">when</a>, and <a class="el" href="coordinates_8h_source.html#l00167">coords::coord_point_mut&lt; Point, Subpoint, InBounds &gt;::z()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aced2a5e88257b3aa5269e31546fdd402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aced2a5e88257b3aa5269e31546fdd402">&#9670;&nbsp;</a></span>faction_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timed_event::faction_id = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Which faction is responsible for handling this event. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00039">39</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

</div>
</div>
<a id="a629f0898d2539ecbe63b03b47754d588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629f0898d2539ecbe63b03b47754d588">&#9670;&nbsp;</a></span>key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string timed_event::key</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>key to alter this event later </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00049">49</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

</div>
</div>
<a id="abf49b5cfa1ba807f962ae14bb04d794f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf49b5cfa1ba807f962ae14bb04d794f">&#9670;&nbsp;</a></span>map_point</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a> timed_event::map_point = <a class="el" href="coordinates_8h.html#ae72b84003f239e5e878a036da3758331">tripoint_abs_sm</a>( <a class="el" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Where the event happens, in global submap coordinates. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00041">41</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00102">actualize()</a>, and <a class="el" href="timed__event_8cpp_source.html#l00063">timed_event()</a>.</p>

</div>
</div>
<a id="aa3bec3b07311892c2a9c4d70601bc494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3bec3b07311892c2a9c4d70601bc494">&#9670;&nbsp;</a></span>map_square</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a> timed_event::map_square = <a class="el" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( <a class="el" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Where the event happens, in global map coordinates. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00043">43</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00102">actualize()</a>, and <a class="el" href="timed__event_8cpp_source.html#l00063">timed_event()</a>.</p>

</div>
</div>
<a id="a7c6ca457e9a306d622255f5673be8b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6ca457e9a306d622255f5673be8b32">&#9670;&nbsp;</a></span>revert</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsubmap.html">submap</a> timed_event::revert</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00051">51</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00102">actualize()</a>.</p>

</div>
</div>
<a id="a488689596f5f1c082bfd7caba5b8f9c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488689596f5f1c082bfd7caba5b8f9c5">&#9670;&nbsp;</a></span>strength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timed_event::strength = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How powerful the effect is. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00045">45</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00102">actualize()</a>.</p>

</div>
</div>
<a id="a85e7fd6e7136d234fffb816a655c92f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85e7fd6e7136d234fffb816a655c92f3">&#9670;&nbsp;</a></span>string_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string timed_event::string_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of applied effect </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00047">47</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

</div>
</div>
<a id="a3f5b5f973d2368b89e709ffdc72ef5fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f5b5f973d2368b89e709ffdc72ef5fb">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7">timed_event_type</a> timed_event::type = <a class="el" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7ab50339a10e1de285ac99d4c3990b8693">timed_event_type::NONE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00035">35</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00102">actualize()</a>, and <a class="el" href="timed__event_8cpp_source.html#l00325">per_turn()</a>.</p>

</div>
</div>
<a id="a108a46a65f29ec9cc34c41e5fcc95241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a108a46a65f29ec9cc34c41e5fcc95241">&#9670;&nbsp;</a></span>when</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__point.html">time_point</a> timed_event::when = <a class="el" href="namespacecalendar.html#a2830b54b0424fe452c0933f87d6201b3">calendar::turn_zero</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>On which turn event should be happening. </p>

<p class="definition">Definition at line <a class="el" href="timed__event_8h_source.html#l00037">37</a> of file <a class="el" href="timed__event_8h_source.html">timed_event.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="timed__event_8cpp_source.html#l00325">per_turn()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="timed__event_8h_source.html">timed_event.h</a></li>
<li>src/<a class="el" href="timed__event_8cpp_source.html">timed_event.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:44 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
