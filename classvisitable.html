<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: visitable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#related">Related Functions</a> &#124;
<a href="classvisitable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">visitable Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Read-write interface for the "container of items".  
 <a href="classvisitable.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="visitable_8h_source.html">visitable.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for visitable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classvisitable.png" usemap="#visitable_map" alt=""/>
  <map id="visitable_map" name="visitable_map">
<area href="classread__only__visitable.html" title="Read-only interface for the &quot;container of items&quot;." alt="read_only_visitable" shape="rect" coords="462,0,584,24"/>
<area href="classCharacter.html" alt="Character" shape="rect" coords="66,112,188,136"/>
<area href="classinventory.html" alt="inventory" shape="rect" coords="198,112,320,136"/>
<area href="classitem.html" alt="item" shape="rect" coords="330,112,452,136"/>
<area href="classmap__cursor.html" alt="map_cursor" shape="rect" coords="462,112,584,136"/>
<area href="classmap__selector.html" alt="map_selector" shape="rect" coords="594,112,716,136"/>
<area href="classvehicle__cursor.html" alt="vehicle_cursor" shape="rect" coords="726,112,848,136"/>
<area href="classvehicle__selector.html" alt="vehicle_selector" shape="rect" coords="858,112,980,136"/>
<area href="classavatar.html" alt="avatar" shape="rect" coords="0,168,122,192"/>
<area href="classnpc.html" alt="npc" shape="rect" coords="132,168,254,192"/>
<area href="classstandard__npc.html" title="An NPC with standard stats." alt="standard_npc" shape="rect" coords="132,224,254,248"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae25a15f203774f16e23e94b86bafaca2"><td class="memItemLeft" align="right" valign="top">virtual std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ae25a15f203774f16e23e94b86bafaca2">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, int count=INT_MAX)=0</td></tr>
<tr class="memdesc:ae25a15f203774f16e23e94b86bafaca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes items contained by this instance which match the filter.  <a href="classvisitable.html#ae25a15f203774f16e23e94b86bafaca2">More...</a><br /></td></tr>
<tr class="separator:ae25a15f203774f16e23e94b86bafaca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb03e3af46e1b106a5f88f112add296"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:adeb03e3af46e1b106a5f88f112add296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes and returns the item which must be contained by this instance.  <a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">More...</a><br /></td></tr>
<tr class="separator:adeb03e3af46e1b106a5f88f112add296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classread__only__visitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classread__only__visitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classread__only__visitable.html">read_only_visitable</a></td></tr>
<tr class="memitem:a3a7175757e90fc8cfe7c528c07ec1a8e inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a3a7175757e90fc8cfe7c528c07ec1a8e">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a3a7175757e90fc8cfe7c528c07ec1a8e inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the immediate parent container (if any) for an item.  <a href="classread__only__visitable.html#a3a7175757e90fc8cfe7c528c07ec1a8e">More...</a><br /></td></tr>
<tr class="separator:a3a7175757e90fc8cfe7c528c07ec1a8e inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e5199434b3bbe599ff120b10a3e089 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ae4e5199434b3bbe599ff120b10a3e089">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:ae4e5199434b3bbe599ff120b10a3e089 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vector of parent containers (if any) starting with the innermost.  <a href="classread__only__visitable.html#ae4e5199434b3bbe599ff120b10a3e089">More...</a><br /></td></tr>
<tr class="separator:ae4e5199434b3bbe599ff120b10a3e089 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96237fc0f8bcc53da1f26c9335fe1998 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a96237fc0f8bcc53da1f26c9335fe1998">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:a96237fc0f8bcc53da1f26c9335fe1998 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this visitable instance contains the item.  <a href="classread__only__visitable.html#a96237fc0f8bcc53da1f26c9335fe1998">More...</a><br /></td></tr>
<tr class="separator:a96237fc0f8bcc53da1f26c9335fe1998 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f81c9261e36e1b729eebc43d9ce4710 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a3f81c9261e36e1b729eebc43d9ce4710">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="memdesc:a3f81c9261e36e1b729eebc43d9ce4710 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if any item (including those within a container) matches the filter.  <a href="classread__only__visitable.html#a3f81c9261e36e1b729eebc43d9ce4710">More...</a><br /></td></tr>
<tr class="separator:a3f81c9261e36e1b729eebc43d9ce4710 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df3bf0832f3b1dc21558aaf4d51d4f1 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a2df3bf0832f3b1dc21558aaf4d51d4f1">kcal_range</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;id, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="classCharacter.html">Character</a> &amp;player_character) const</td></tr>
<tr class="separator:a2df3bf0832f3b1dc21558aaf4d51d4f1 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39970768f8a1c70610e29582bdc3d59 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ab39970768f8a1c70610e29582bdc3d59">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:ab39970768f8a1c70610e29582bdc3d59 inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check instance provides at least qty of an item (.  <a href="classread__only__visitable.html#ab39970768f8a1c70610e29582bdc3d59">More...</a><br /></td></tr>
<tr class="separator:ab39970768f8a1c70610e29582bdc3d59 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66999ccfe23df4a4ef128d5d52a98c6d inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a66999ccfe23df4a4ef128d5d52a98c6d">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>)</td></tr>
<tr class="memdesc:a66999ccfe23df4a4ef128d5d52a98c6d inherit pub_methods_classread__only__visitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all items (including those within a container) matching the filter.  <a href="classread__only__visitable.html#a66999ccfe23df4a4ef128d5d52a98c6d">More...</a><br /></td></tr>
<tr class="separator:a66999ccfe23df4a4ef128d5d52a98c6d inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c803df3df2373e23dd2300c00b2a33 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ab7c803df3df2373e23dd2300c00b2a33">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:ab7c803df3df2373e23dd2300c00b2a33 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaae1e436ec4cceb83d3c702ada1523c inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#afaae1e436ec4cceb83d3c702ada1523c">~read_only_visitable</a> ()=default</td></tr>
<tr class="separator:afaae1e436ec4cceb83d3c702ada1523c inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b566803c5e02f2bcf2f5c92e654a0c6 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a1b566803c5e02f2bcf2f5c92e654a0c6">has_tools</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a1b566803c5e02f2bcf2f5c92e654a0c6 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b0489fd9982cbe82a7a51d490235e2 inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#ad5b0489fd9982cbe82a7a51d490235e2">has_components</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:ad5b0489fd9982cbe82a7a51d490235e2 inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ab02b5ae44854ce2869532a222ee8d inherit pub_methods_classread__only__visitable"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classread__only__visitable.html#a97ab02b5ae44854ce2869532a222ee8d">has_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>=<a class="el" href="cata__utility_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a97ab02b5ae44854ce2869532a222ee8d inherit pub_methods_classread__only__visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:a31e8c573cb6e4870cc005915efc103b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a31e8c573cb6e4870cc005915efc103b3">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a31e8c573cb6e4870cc005915efc103b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace0518040ae61106a76987d6c98b9ad"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aace0518040ae61106a76987d6c98b9ad">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:aace0518040ae61106a76987d6c98b9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49d5ef7b3f2f0a8664c23097a56373f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:af49d5ef7b3f2f0a8664c23097a56373f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf24bf044bbf16def702fd78351fc46f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:abf24bf044bbf16def702fd78351fc46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a228d9848d433246417bde5cfc1bf67"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5a228d9848d433246417bde5cfc1bf67">has_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual, int level, int qty) const</td></tr>
<tr class="memdesc:a5a228d9848d433246417bde5cfc1bf67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if instance has amount (or more) items of at least quality level.  <a href="classvisitable.html#a5a228d9848d433246417bde5cfc1bf67">More...</a><br /></td></tr>
<tr class="separator:a5a228d9848d433246417bde5cfc1bf67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2cb1acccff210289e90eb29ca02db8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual) const</td></tr>
<tr class="memdesc:a2d2cb1acccff210289e90eb29ca02db8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return maximum tool quality level provided by instance or INT_MIN if not found.  <a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">More...</a><br /></td></tr>
<tr class="separator:a2d2cb1acccff210289e90eb29ca02db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e80572268abd951cf016d275febe4e6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3e80572268abd951cf016d275febe4e6">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:a3e80572268abd951cf016d275febe4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c37fbe8209cab68aa26d3cc7f4300"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>)</td></tr>
<tr class="separator:a5b3c37fbe8209cab68aa26d3cc7f4300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4344dbee8099d2944b6db42aad56c20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;<a class="el" href="structfunc.html">func</a>) const</td></tr>
<tr class="memdesc:ac4344dbee8099d2944b6db42aad56c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses this object and any child items contained using a visitor pattern.  <a href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">More...</a><br /></td></tr>
<tr class="separator:ac4344dbee8099d2944b6db42aad56c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fde40e08f9504f038740d679096ff09"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a1fde40e08f9504f038740d679096ff09">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;e)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, int count)</td></tr>
<tr class="separator:a1fde40e08f9504f038740d679096ff09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aabbf21a8f5c44bff1a22bbe882a9d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0aabbf21a8f5c44bff1a22bbe882a9d2">charges_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int limit, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, const std::function&lt; void(int)&gt; &amp;visitor, bool in_tools) const</td></tr>
<tr class="memdesc:a0aabbf21a8f5c44bff1a22bbe882a9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count maximum available charges from this instance and any contained items.  <a href="classvisitable.html#a0aabbf21a8f5c44bff1a22bbe882a9d2">More...</a><br /></td></tr>
<tr class="separator:a0aabbf21a8f5c44bff1a22bbe882a9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa550b3edde9fa25410d6883f285df5c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa550b3edde9fa25410d6883f285df5c6">amount_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, bool pseudo, int limit, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="memdesc:aa550b3edde9fa25410d6883f285df5c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count items matching id including both this instance and any contained items.  <a href="classvisitable.html#aa550b3edde9fa25410d6883f285df5c6">More...</a><br /></td></tr>
<tr class="separator:aa550b3edde9fa25410d6883f285df5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa199bd0ea7a41c50a2de5761dd987338"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;<a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>) const</td></tr>
<tr class="separator:aa199bd0ea7a41c50a2de5761dd987338"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Read-write interface for the "container of items". </p>
<p>Provides API for the traversal and querying of the items hierarchy. Also provides means to modify the hierarchy. </p>

<p class="definition">Definition at line <a class="el" href="visitable_8h_source.html#l00118">118</a> of file <a class="el" href="visitable_8h_source.html">visitable.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="adeb03e3af46e1b106a5f88f112add296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb03e3af46e1b106a5f88f112add296">&#9670;&nbsp;</a></span>remove_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> remove_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes and returns the item which must be contained by this instance. </p>

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00543">543</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keyword">auto</span> obj = <a class="code" href="classvisitable.html#ae25a15f203774f16e23e94b86bafaca2">remove_items_with</a>( [&amp;it]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> &amp; e ) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">return</span> &amp;e == &amp;it;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }, 1 );</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span>( !obj.empty() ) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">return</span> obj.front();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried removing item from object which did not contain it&quot;</span> );</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassvisitable_html_ae25a15f203774f16e23e94b86bafaca2"><div class="ttname"><a href="classvisitable.html#ae25a15f203774f16e23e94b86bafaca2">visitable::remove_items_with</a></div><div class="ttdeci">virtual std::list&lt; item &gt; remove_items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int count=INT_MAX)=0</div><div class="ttdoc">Removes items contained by this instance which match the filter.</div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
<div class="ttc" id="amagic_8h_html_a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc"><div class="ttname"><a href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">spell_target::item</a></div><div class="ttdeci">@ item</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="magic_8h.html#a43ffd543787e68e5333debafdbb7ead7a447b7147e84be512208dcc0995d67ebc">item</a>, and <a class="el" href="classvisitable.html#ae25a15f203774f16e23e94b86bafaca2">remove_items_with()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__armor_8cpp_source.html#l00326">Character::ablative_armor_absorb()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01991">activity_on_turn_move_loot()</a>, <a class="el" href="item__contents_8cpp_source.html#l01241">item_contents::ammo_consume()</a>, <a class="el" href="monexamine_8cpp_source.html#l00169">anonymous_namespace{monexamine.cpp}::attach_bag_to()</a>, <a class="el" href="vehicle__part_8cpp_source.html#l00377">vehicle_part::consume_energy()</a>, <a class="el" href="npctrade__utils_8cpp_source.html#l00157">consume_items_in_zones()</a>, <a class="el" href="talker__item_8cpp_source.html#l00134">talker_item::die()</a>, <a class="el" href="character_8cpp_source.html#l01840">Character::dismount()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00739">Character::dispose_item()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05676">basecamp::distribute_food()</a>, <a class="el" href="auto__pickup_8cpp_source.html#l00107">empty_autopickup_target()</a>, <a class="el" href="npctalk_8cpp_source.html#l06129">talk_effect_fun::anonymous_namespace{npctalk.cpp}::f_teleport()</a>, <a class="el" href="activity__actor_8cpp_source.html#l06782">gunmod_add_activity_actor::finish()</a>, <a class="el" href="character_8cpp_source.html#l01737">Character::forced_dismount()</a>, <a class="el" href="npctalk__funcs_8cpp_source.html#l00612">talk_function::give_equipment_allowance()</a>, <a class="el" href="item_8cpp_source.html#l03102">item::gun_info()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00152">liquid_handler::handle_liquid_from_container()</a>, <a class="el" href="melee_8cpp_source.html#l00203">Character::handle_melee_wear()</a>, <a class="el" href="monster_8cpp_source.html#l03590">monster::init_from_item()</a>, <a class="el" href="iuse_8cpp_source.html#l07431">iuse::multicooker()</a>, <a class="el" href="faction__camp_8cpp_source.html#l05037">om_set_hide_site()</a>, <a class="el" href="map_8cpp_source.html#l05547">process_map_items()</a>, <a class="el" href="iuse_8cpp_source.html#l06949">iuse::radiocar()</a>, <a class="el" href="item_8cpp_source.html#l11612">item::reload()</a>, <a class="el" href="item__location_8cpp_source.html#l00273">item_location::impl::item_on_map::remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00425">item_location::impl::item_on_person::remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00537">item_location::impl::item_on_vehicle::remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00659">item_location::impl::item_in_container::remove_item()</a>, <a class="el" href="npc_8cpp_source.html#l01294">npc::stow_item()</a>, <a class="el" href="npctrade_8cpp_source.html#l00030">npc_trading::transfer_items()</a>, <a class="el" href="activity__actor_8cpp_source.html#l03482">unload_activity_actor::unload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04255">detach_gunmods_actor::use()</a>, <a class="el" href="item_8cpp_source.html#l12010">item::use_amount()</a>, <a class="el" href="character_8cpp_source.html#l09595">Character::use_amount()</a>, <a class="el" href="character_8cpp_source.html#l09713">Character::use_charges()</a>, <a class="el" href="character__attire_8cpp_source.html#l00261">Character::wear()</a>, <a class="el" href="npc_8cpp_source.html#l01327">npc::wield()</a>, and <a class="el" href="character_8cpp_source.html#l12939">Character::wield_contents()</a>.</p>

</div>
</div>
<a id="ae25a15f203774f16e23e94b86bafaca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae25a15f203774f16e23e94b86bafaca2">&#9670;&nbsp;</a></span>remove_items_with()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::list&lt;<a class="el" href="classitem.html">item</a>&gt; visitable::remove_items_with </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em> = <code>INT_MAX</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes items contained by this instance which match the filter. </p>
<dl class="section note"><dt>Note</dt><dd>: Implement for each class that will implement the visitable interface </dd>
<dd>
if this instance itself is an item it will not be considered by the filter</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>a UnaryPredicate which should return true if the item is to be removed </td></tr>
    <tr><td class="paramname">count</td><td>maximum number of items to if unspecified unlimited. A count of zero is a no-op </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>any items removed (items counted by charges are not guaranteed to be stacked) </dd></dl>

<p>Implemented in <a class="el" href="classvehicle__selector.html#a63e0752c1139f6ee0783aa7819adfe5f">vehicle_selector</a>, <a class="el" href="classvehicle__cursor.html#a0b7dfd6b365d4faf20a6c5c92010d443">vehicle_cursor</a>, <a class="el" href="classmap__selector.html#a7881370986ca2cbf859c2df5f51ac01e">map_selector</a>, <a class="el" href="classmap__cursor.html#a4c6907e963f9f3c1eab4e96c0c269f71">map_cursor</a>, <a class="el" href="classitem.html#ad6cdcfcdbab90635368f72cf3b7374e8">item</a>, <a class="el" href="classinventory.html#a7b4899d8dfc5105fa58e9aa26dce0ca0">inventory</a>, and <a class="el" href="classCharacter.html#a25df6be553270664ed06bb38d8679bb7">Character</a>.</p>

<p class="reference">Referenced by <a class="el" href="visitable_8cpp_source.html#l00543">remove_item()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aa550b3edde9fa25410d6883f285df5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa550b3edde9fa25410d6883f285df5c6">&#9670;&nbsp;</a></span>amount_of()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int amount_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pseudo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count items matching id including both this instance and any contained items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">what</td><td>ID of items to count. "any" will count all items (usually used with a filter) </td></tr>
    <tr><td class="paramname">pseudo</td><td>whether pseudo-items (from map/vehicle tiles, bionics etc) are considered </td></tr>
    <tr><td class="paramname">limit</td><td>stop searching after this many matches </td></tr>
    <tr><td class="paramname">filter</td><td>only count items that match the filter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>items must be empty to be considered a match </dd></dl>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#aee3c322d6bc78937ef19bc4baa7d8951">read_only_visitable</a>.</p>

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00959">959</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="visitable_8cpp.html#a4e470d068e9b1676fed2320872d460b0">amount_of_internal</a>( *<span class="keyword">this</span>, what, pseudo, limit, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;}</div>
<div class="ttc" id="ainput__context_8cpp_html_a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a"><div class="ttname"><a href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">kb_menu_status::filter</a></div><div class="ttdeci">@ filter</div></div>
<div class="ttc" id="avisitable_8cpp_html_a4e470d068e9b1676fed2320872d460b0"><div class="ttname"><a href="visitable_8cpp.html#a4e470d068e9b1676fed2320872d460b0">amount_of_internal</a></div><div class="ttdeci">static int amount_of_internal(const T &amp;self, const itype_id &amp;id, bool pseudo, int limit, const std::function&lt; bool(const item &amp;)&gt; &amp;filter)</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00943">visitable.cpp:943</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l00943">amount_of_internal()</a>, and <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.</p>

</div>
</div>
<a id="a0aabbf21a8f5c44bff1a22bbe882a9d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aabbf21a8f5c44bff1a22bbe882a9d2">&#9670;&nbsp;</a></span>charges_of()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int charges_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(int)&gt; &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_tools</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count maximum available charges from this instance and any contained items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">what</td><td>ID of item to count charges of </td></tr>
    <tr><td class="paramname">limit</td><td>stop searching after this many charges have been found </td></tr>
    <tr><td class="paramname">filter</td><td>only count charges of items that match the filter </td></tr>
    <tr><td class="paramname">visitor</td><td>is called when UPS charge is used (parameter is the charge itself) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#a7954d2f5aa1b7bc13f2c57b664c69f60">read_only_visitable</a>.</p>

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00895">895</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;{</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="visitable_8cpp.html#a28d2ecdb091d10944963db8e2e2eaca6">charges_of_internal</a>( *<span class="keyword">this</span>, *<span class="keyword">this</span>, what, limit, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, visitor, in_tools );</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;}</div>
<div class="ttc" id="avisitable_8cpp_html_a28d2ecdb091d10944963db8e2e2eaca6"><div class="ttname"><a href="visitable_8cpp.html#a28d2ecdb091d10944963db8e2e2eaca6">charges_of_internal</a></div><div class="ttdeci">static int charges_of_internal(const T &amp;self, const M &amp;main, const itype_id &amp;id, int limit, const std::function&lt; bool(const item &amp;)&gt; &amp;filter, const std::function&lt; void(int)&gt; &amp;visitor, bool in_tools)</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00800">visitable.cpp:800</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l00800">charges_of_internal()</a>, and <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.</p>

<p class="reference">Referenced by <a class="el" href="profession_8cpp_source.html#l00855">json_item_substitution::get_substitution()</a>.</p>

</div>
</div>
<a id="a31e8c573cb6e4870cc005915efc103b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e8c573cb6e4870cc005915efc103b3">&#9670;&nbsp;</a></span>find_parent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * find_parent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00049">49</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classitem.html">item</a> *res = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">visit_items</a>( [&amp;]( <a class="code" href="classitem.html">item</a> * node, <a class="code" href="classitem.html">item</a> * parent ) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span>( node == &amp;it ) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            res = parent;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    } ) != <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a> ) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to find item parent using an object that doesn&#39;t contain it&quot;</span> );</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="aclassvisitable_html_ac4344dbee8099d2944b6db42aad56c20"><div class="ttname"><a href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">visitable::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func) const</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00405">visitable.cpp:405</a></div></div>
<div class="ttc" id="avisitable_8h_html_ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
<div class="ttc" id="avisitable_8h_html_ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38"><div class="ttname"><a href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a></div><div class="ttdeci">@ ABORT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">ABORT</a>, <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">NEXT</a>, and <a class="el" href="classread__only__visitable.html#a63b128f0dfc53c5b51f5c036c61360d1">read_only_visitable::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l02514">form_loc_recursive()</a>, <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>, and <a class="el" href="item_8cpp_source.html#l12010">item::use_amount()</a>.</p>

</div>
</div>
<a id="aa199bd0ea7a41c50a2de5761dd987338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa199bd0ea7a41c50a2de5761dd987338">&#9670;&nbsp;</a></span>has_amount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool has_amount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>what</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pseudo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l01018">1018</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;{</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvisitable.html#aa550b3edde9fa25410d6883f285df5c6">amount_of</a>( what, pseudo, qty, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> ) == qty;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;}</div>
<div class="ttc" id="aclassvisitable_html_aa550b3edde9fa25410d6883f285df5c6"><div class="ttname"><a href="classvisitable.html#aa550b3edde9fa25410d6883f285df5c6">visitable::amount_of</a></div><div class="ttdeci">int amount_of(const itype_id &amp;what, bool pseudo, int limit, const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdoc">Count items matching id including both this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00959">visitable.cpp:959</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classread__only__visitable.html#aee3c322d6bc78937ef19bc4baa7d8951">read_only_visitable::amount_of()</a>, and <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00977">computer_session::action_repeater_mod()</a>, <a class="el" href="computer__session_8cpp_source.html#l01248">computer_session::action_srcf_elevator()</a>, <a class="el" href="timed__event_8cpp_source.html#l00102">timed_event::actualize()</a>, <a class="el" href="game_8cpp_source.html#l02794">game::bury_screen()</a>, <a class="el" href="consumption_8cpp_source.html#l00769">Character::can_eat()</a>, <a class="el" href="iexamine_8cpp_source.html#l02745">iexamine::can_fertilize()</a>, <a class="el" href="iexamine_8cpp_source.html#l01424">iexamine::cardreader_foodplace()</a>, <a class="el" href="iexamine_8cpp_source.html#l01410">iexamine::cardreader_robofac()</a>, <a class="el" href="craft__command_8cpp_source.html#l00504">craft_command::check_item_components_missing()</a>, <a class="el" href="craft__command_8cpp_source.html#l00569">craft_command::check_tool_components_missing()</a>, <a class="el" href="consumption_8cpp_source.html#l01807">consume_med()</a>, <a class="el" href="crafting_8cpp_source.html#l02301">Character::craft_consume_tools()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01653">talk_function::field_harvest()</a>, <a class="el" href="game_8cpp_source.html#l12386">game::find_or_make_stairs()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01091">activatable_inventory_preset::get_denial()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02781">repair_item_actor::handle_components()</a>, <a class="el" href="talker__character_8cpp_source.html#l00534">talker_character_const::has_amount()</a>, <a class="el" href="monexamine_8cpp_source.html#l00854">monexamine::mech_hack()</a>, <a class="el" href="iuse_8cpp_source.html#l00850">iuse::meth()</a>, <a class="el" href="iuse_8cpp_source.html#l07431">iuse::multicooker()</a>, <a class="el" href="iexamine_8cpp_source.html#l02038">iexamine::pedestal_temple()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00182">tutorial_game::per_turn()</a>, <a class="el" href="monexamine_8cpp_source.html#l00578">monexamine::pet_menu()</a>, <a class="el" href="iexamine_8cpp_source.html#l01716">iexamine::pit()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00302">tutorial_game::post_action()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01103">query_for_item()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02019">repair_inventory_preset::repair_inventory_preset()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02385">repair_item_finish()</a>, <a class="el" href="crafting_8cpp_source.html#l01746">Character::select_item_component()</a>, <a class="el" href="crafting_8cpp_source.html#l02173">Character::select_tool_component()</a>, <a class="el" href="talker__npc_8cpp_source.html#l00334">try_consume()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00769">consume_drug_iuse::use()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l05279">sew_advanced_actor::use()</a>, <a class="el" href="npc_8cpp_source.html#l02060">npc::value()</a>, and <a class="el" href="effect_8cpp_source.html#l00129">weed_msg()</a>.</p>

</div>
</div>
<a id="af49d5ef7b3f2f0a8664c23097a56373f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49d5ef7b3f2f0a8664c23097a56373f">&#9670;&nbsp;</a></span>has_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool has_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00075">75</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">visit_items</a>( [&amp;it]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> * node, <a class="code" href="classitem.html">item</a> * ) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">return</span> node == &amp;it ? <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a> : <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    } ) == <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">ABORT</a>, <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">NEXT</a>, and <a class="el" href="classread__only__visitable.html#a63b128f0dfc53c5b51f5c036c61360d1">read_only_visitable::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="action_8cpp_source.html#l00622">can_butcher_at()</a>, <a class="el" href="relic_8cpp_source.html#l00533">relic::can_recharge()</a>, <a class="el" href="character_8cpp_source.html#l07239">Character::consume_charges()</a>, <a class="el" href="item_8cpp_source.html#l00634">item::convert()</a>, <a class="el" href="iuse_8cpp_source.html#l08366">iuse::disassemble()</a>, <a class="el" href="handle__action_8cpp_source.html#l02111">game::do_regular_action()</a>, <a class="el" href="iuse_8cpp_source.html#l05497">iuse::einktabletpc()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02524">form_loc()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00521">pickup_inventory_preset::get_denial()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l02716">get_item_location()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00565">Character::get_item_position()</a>, <a class="el" href="handle__liquid_8cpp_source.html#l00168">liquid_handler::get_liquid_target()</a>, <a class="el" href="item_8cpp_source.html#l11987">item::get_remaining_capacity_for_liquid()</a>, <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>, <a class="el" href="character__guns_8cpp_source.html#l00163">Character::gunmod_add()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00692">outfit::holster_opts()</a>, <a class="el" href="iuse_8cpp_source.html#l02171">exosuit_interact::insert_replace_activate_mod()</a>, <a class="el" href="game_8cpp_source.html#l02035">game::inventory_item_menu()</a>, <a class="el" href="magic__enchantment_8cpp_source.html#l00256">enchantment::is_active()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04823">link_up_actor::link_to_veh_app()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04924">link_up_actor::link_tow_cable()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00863">avatar_action::mend()</a>, <a class="el" href="item__location_8cpp_source.html#l00238">item_location::impl::item_on_map::obtain()</a>, <a class="el" href="item_8cpp_source.html#l13214">item::process_extinguish()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l01600">inventory_column::reassign_custom_invlets()</a>, <a class="el" href="character_8cpp_source.html#l05202">Character::reduce_charges()</a>, <a class="el" href="game_8cpp_source.html#l09936">game::reload()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l05571">effect_on_conditons_actor::use()</a>, <a class="el" href="character__attire_8cpp_source.html#l00261">Character::wear()</a>, <a class="el" href="npc_8cpp_source.html#l01327">npc::wield()</a>, <a class="el" href="avatar_8cpp_source.html#l01400">avatar::wield()</a>, <a class="el" href="game_8cpp_source.html#l10110">game::wield()</a>, and <a class="el" href="character_8cpp_source.html#l12939">Character::wield_contents()</a>.</p>

</div>
</div>
<a id="abf24bf044bbf16def702fd78351fc46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf24bf044bbf16def702fd78351fc46f">&#9670;&nbsp;</a></span>has_item_with()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool has_item_with </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00083">83</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classvisitable.html#ac4344dbee8099d2944b6db42aad56c20">visit_items</a>( [&amp;<a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>]( <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> * node, <a class="code" href="classitem.html">item</a> * ) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>( *node ) ? <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a> : <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    } ) == <a class="code" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">VisitResponse::ABORT</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea8d12a2ca7e5a64036d7251a3eda51a38">ABORT</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabea47559fb833ff58321570e5e877b467f6">NEXT</a>, and <a class="el" href="classread__only__visitable.html#a63b128f0dfc53c5b51f5c036c61360d1">read_only_visitable::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__oracle_8cpp_source.html#l00064">behavior::character_oracle_t::can_make_fire()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00053">behavior::character_oracle_t::can_wear_warmer_clothes()</a>, <a class="el" href="character__inventory_8cpp_source.html#l00650">Character::has_active_item()</a>, <a class="el" href="character_8cpp_source.html#l09477">Character::has_item_with_flag()</a>, <a class="el" href="character_8cpp_source.html#l05227">Character::has_mission_item()</a>, <a class="el" href="item_8cpp_source.html#l01235">item::in_container()</a>, <a class="el" href="item_8cpp_source.html#l09512">item::is_food_container()</a>, <a class="el" href="iexamine_8cpp_source.html#l04058">iexamine::keg()</a>, <a class="el" href="iuse_8cpp_source.html#l04023">iuse::portable_game()</a>, <a class="el" href="character_8cpp_source.html#l06103">Character::pour_into()</a>, and <a class="el" href="iuse_8cpp_source.html#l02426">iuse::water_purifier()</a>.</p>

</div>
</div>
<a id="a5a228d9848d433246417bde5cfc1bf67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a228d9848d433246417bde5cfc1bf67">&#9670;&nbsp;</a></span>has_quality()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool has_quality </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;&#160;</td>
          <td class="paramname"><em>qual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if instance has amount (or more) items of at least quality level. </p>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#a7951c309092f6ae00ba69bb1ee9f7b1f">read_only_visitable</a>.</p>

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00153">153</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">const</span> <a class="code" href="structquality__query.html">quality_query</a> query{ qual, level, qty };</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span>( qualities_cache.find( query ) == qualities_cache.end() ) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordtype">int</span> res = 0;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stack : this-&gt;items ) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            res += stack.size() * <a class="code" href="visitable_8cpp.html#a4c9f2060f9e3c9a33be62958740afdd1">has_quality_internal</a>( stack.front(), qual, level, qty );</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">if</span>( res &gt;= qty ) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                qualities_cache[query] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> qualities_cache[query];</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="ttc" id="astructquality__query_html"><div class="ttname"><a href="structquality__query.html">quality_query</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00093">inventory.h:93</a></div></div>
<div class="ttc" id="avisitable_8cpp_html_a4c9f2060f9e3c9a33be62958740afdd1"><div class="ttname"><a href="visitable_8cpp.html#a4c9f2060f9e3c9a33be62958740afdd1">has_quality_internal</a></div><div class="ttdeci">static int has_quality_internal(const T &amp;self, const quality_id &amp;qual, int level, int limit)</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00108">visitable.cpp:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l00108">has_quality_internal()</a>, <a class="el" href="inventory_8h_source.html#l00280">inventory::items</a>, and <a class="el" href="inventory_8h_source.html#l00295">inventory::qualities_cache</a>.</p>

<p class="reference">Referenced by <a class="el" href="iexamine_8cpp_source.html#l05684">iexamine::autodoc()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02490">autodoc_internal()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01004">can_do_activity_there()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l01074">check_deploy_square()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01467">requirements_map()</a>, and <a class="el" href="activity__actor_8cpp_source.html#l05644">prying_activity_actor::start()</a>.</p>

</div>
</div>
<a id="a5b3c37fbe8209cab68aa26d3cc7f4300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b3c37fbe8209cab68aa26d3cc7f4300">&#9670;&nbsp;</a></span>items_with() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; items_with </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00336">336</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> items_with_internal&lt;item *&gt;( *<span class="keyword">this</span>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.</p>

</div>
</div>
<a id="a3e80572268abd951cf016d275febe4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e80572268abd951cf016d275febe4e6">&#9670;&nbsp;</a></span>items_with() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt; items_with </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00330">330</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> items_with_internal&lt;const item *&gt;( *<span class="keyword">this</span>, <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a> );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l04176">npc::alt_attack()</a>, <a class="el" href="iexamine_8cpp_source.html#l05684">iexamine::autodoc()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02490">autodoc_internal()</a>, <a class="el" href="character_8cpp_source.html#l10226">Character::best_item_with_quality()</a>, <a class="el" href="iuse_8cpp_source.html#l08756">iuse::binder_add_recipe()</a>, <a class="el" href="game_8cpp_source.html#l09642">game::butcher()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01004">can_do_activity_there()</a>, <a class="el" href="talker__character_8cpp_source.html#l00549">talker_character_const::const_items_with()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03547">farm_action()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00894">bookbinder_copy_activity_actor::finish()</a>, <a class="el" href="iexamine_8cpp_source.html#l03387">iexamine::fireplace()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02970">generic_multi_activity_do()</a>, <a class="el" href="game__inventory_8cpp_source.html#l02603">bionic_install_preset::get_failure_chance()</a>, <a class="el" href="character__guns_8cpp_source.html#l00163">Character::gunmod_add()</a>, <a class="el" href="npcmove_8cpp_source.html#l04374">npc::heal_self()</a>, <a class="el" href="npctrade_8cpp_source.html#l00108">npc_trading::init_selling()</a>, <a class="el" href="talker__character_8cpp_source.html#l00556">talker_character::items_with()</a>, <a class="el" href="iexamine_8cpp_source.html#l04058">iexamine::keg()</a>, <a class="el" href="iexamine_8cpp_source.html#l01898">iexamine::locked_object_pickable()</a>, <a class="el" href="iexamine_8cpp_source.html#l06600">mill_load_food()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02399">mine_activity()</a>, <a class="el" href="npcmove_8cpp_source.html#l04660">npc::mug_player()</a>, <a class="el" href="bionics__ui_8cpp_source.html#l00574">avatar::power_bionics()</a>, <a class="el" href="iexamine_8cpp_source.html#l04912">iexamine::sign()</a>, <a class="el" href="character_8cpp_source.html#l09595">Character::use_amount()</a>, and <a class="el" href="vehicle__use_8cpp_source.html#l01418">vehicle::use_washing_machine()</a>.</p>

</div>
</div>
<a id="a2d2cb1acccff210289e90eb29ca02db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d2cb1acccff210289e90eb29ca02db8">&#9670;&nbsp;</a></span>max_quality()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int max_quality </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;&#160;</td>
          <td class="paramname"><em>qual</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return maximum tool quality level provided by instance or INT_MIN if not found. </p>

<p>Reimplemented from <a class="el" href="classread__only__visitable.html#af8374d5464dbb9d5c53b285f3b372eb0">read_only_visitable</a>.</p>

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00268">268</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordtype">int</span> res = INT_MIN;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structbionic.html">bionic</a> &amp;bio : *my_bionics ) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        res = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( res, bio.get_quality( qual ) );</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span>( qual == <a class="code" href="visitable_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a> ) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classstring__id.html">trait_id</a> &amp;mut : get_mutations() ) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            res = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( res, mut-&gt;butchering_quality );</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( res, <a class="code" href="visitable_8cpp.html#ab7c0a964f845d0b09c063b90f88ed266">max_quality_internal</a>( *<span class="keyword">this</span>, qual ) );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; mutation_branch &gt;</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="astructbionic_html"><div class="ttname"><a href="structbionic.html">bionic</a></div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00198">bionics.h:198</a></div></div>
<div class="ttc" id="avisitable_8cpp_html_a3fc86f1d1632ea68f1f84cb278dc1674"><div class="ttname"><a href="visitable_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a></div><div class="ttdeci">static const quality_id qual_BUTCHER(&quot;BUTCHER&quot;)</div></div>
<div class="ttc" id="avisitable_8cpp_html_ab7c0a964f845d0b09c063b90f88ed266"><div class="ttname"><a href="visitable_8cpp.html#ab7c0a964f845d0b09c063b90f88ed266">max_quality_internal</a></div><div class="ttdeci">static int max_quality_internal(const T &amp;self, const quality_id &amp;qual)</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00230">visitable.cpp:230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="newcharacter_8cpp_source.html#l04655">Character::get_mutations()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="visitable_8cpp_source.html#l00230">max_quality_internal()</a>, <a class="el" href="character_8h_source.html#l02723">Character::my_bionics</a>, and <a class="el" href="visitable_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l03107">Character::best_nearby_lifting_assist()</a>, and <a class="el" href="veh__interact_8cpp_source.html#l00595">veh_interact::cache_tool_availability()</a>.</p>

</div>
</div>
<a id="aace0518040ae61106a76987d6c98b9ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace0518040ae61106a76987d6c98b9ad">&#9670;&nbsp;</a></span>parents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; parents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00065">65</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;{</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    std::vector&lt;item *&gt; res;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classitem.html">item</a> *obj = <a class="code" href="classvisitable.html#a31e8c573cb6e4870cc005915efc103b3">find_parent</a>( it ); obj; obj = <a class="code" href="classvisitable.html#a31e8c573cb6e4870cc005915efc103b3">find_parent</a>( *obj ) ) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        res.push_back( obj );</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="aclassvisitable_html_a31e8c573cb6e4870cc005915efc103b3"><div class="ttname"><a href="classvisitable.html#a31e8c573cb6e4870cc005915efc103b3">visitable::find_parent</a></div><div class="ttdeci">item * find_parent(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00049">visitable.cpp:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classread__only__visitable.html#a3a7175757e90fc8cfe7c528c07ec1a8e">read_only_visitable::find_parent()</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00362">item_location::impl::item_on_person::describe()</a>, <a class="el" href="inventory__ui_8cpp_source.html#l01957">inventory_selector::drag_drop_item()</a>, and <a class="el" href="crafting_8cpp_source.html#l01420">item::inherit_flags()</a>.</p>

</div>
</div>
<a id="a1fde40e08f9504f038740d679096ff09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fde40e08f9504f038740d679096ff09">&#9670;&nbsp;</a></span>remove_items_with()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; remove_items_with </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;e)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00558">558</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    std::list&lt;item&gt; res;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span>( count &lt;= 0 ) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// nothing to do</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">contents</a>.remove_internal( <a class="code" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, count, res );</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// updating pockets is only necessary when removing mods,</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// but no way to determine where something got removed here</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    update_modified_pockets();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="ttc" id="anamespaceanonymous__namespace_02item__tname_8cpp_03_html_a1ff93bf21a97272ada4556de4422fb80"><div class="ttname"><a href="namespaceanonymous__namespace_02item__tname_8cpp_03.html#a1ff93bf21a97272ada4556de4422fb80">anonymous_namespace{item_tname.cpp}::contents</a></div><div class="ttdeci">std::string contents(item const &amp;it, unsigned int, segment_bitset const &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="item__tname_8cpp_source.html#l00216">item_tname.cpp:216</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l03080">item::contents</a>, <a class="el" href="item_8cpp_source.html#l08623">item::count()</a>, <a class="el" href="input__context_8cpp.html#a077f0863a15ffb1731f2cb207abcb958ab2c97ae425dd751b0e48a3acae79cf4a">filter</a>, <a class="el" href="item__contents_8cpp_source.html#l02487">item_contents::remove_internal()</a>, and <a class="el" href="item_8cpp_source.html#l01292">item::update_modified_pockets()</a>.</p>

</div>
</div>
<a id="ac4344dbee8099d2944b6db42aad56c20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4344dbee8099d2944b6db42aad56c20">&#9670;&nbsp;</a></span>visit_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a> visit_items </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; <a class="el" href="visitable_8h.html#ab73f6da193541e8dc1a3ebdb5f37fabe">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverses this object and any child items contained using a visitor pattern. </p>
<dl class="section note"><dt>Note</dt><dd>Implement for each class that will implement the visitable interface. Other <code>visit_items</code> variants rely on this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>visitor function called for each node which controls whether traversal continues. The first argument is the node and the second is the parent node (if any) The visitor function should return VisitResponse::Next to recursively process child items, VisitResponse::Skip to ignore children of the current node or VisitResponse::Abort to skip all remaining nodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method itself only ever returns VisitResponse::Next or VisitResponse::Abort. </dd></dl>

<p>Implements <a class="el" href="classread__only__visitable.html#a63b128f0dfc53c5b51f5c036c61360d1">read_only_visitable</a>.</p>

<p class="definition">Definition at line <a class="el" href="visitable_8cpp_source.html#l00405">405</a> of file <a class="el" href="visitable_8cpp_source.html">visitable.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="visitable_8cpp.html#abc7c17042cfdec0b530d5290b572d2ec">visit_internal</a>( <a class="code" href="structfunc.html">func</a>, <span class="keyword">this</span> );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="ttc" id="astructfunc_html"><div class="ttname"><a href="structfunc.html">func</a></div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00067">math_parser_impl.h:67</a></div></div>
<div class="ttc" id="avisitable_8cpp_html_abc7c17042cfdec0b530d5290b572d2ec"><div class="ttname"><a href="visitable_8cpp.html#abc7c17042cfdec0b530d5290b572d2ec">visit_internal</a></div><div class="ttdeci">static VisitResponse visit_internal(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func, const item *node, item *parent=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00342">visitable.cpp:342</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l00342">visit_internal()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="visitable_8h_source.html">visitable.h</a></li>
<li>src/<a class="el" href="visitable_8cpp_source.html">visitable.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:45 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
