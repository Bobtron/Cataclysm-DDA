<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: consume_drug_iuse Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classconsume__drug__iuse-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">consume_drug_iuse Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This iuse encapsulates the effects of taking a drug.  
 <a href="classconsume__drug__iuse.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for consume_drug_iuse:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classconsume__drug__iuse.png" usemap="#consume_5Fdrug_5Fiuse_map" alt=""/>
  <map id="consume_5Fdrug_5Fiuse_map" name="consume_5Fdrug_5Fiuse_map">
<area href="classiuse__actor.html" alt="iuse_actor" shape="rect" coords="0,0,125,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9bc7fe15cae8bc8f7ff176e6ff6278ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a9bc7fe15cae8bc8f7ff176e6ff6278ba">consume_drug_iuse</a> (const std::string &amp;<a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>=&quot;consume_drug&quot;)</td></tr>
<tr class="separator:a9bc7fe15cae8bc8f7ff176e6ff6278ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3958ddc5ae2a43fdfd05cba572528e69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a3958ddc5ae2a43fdfd05cba572528e69">~consume_drug_iuse</a> () override=default</td></tr>
<tr class="separator:a3958ddc5ae2a43fdfd05cba572528e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae3ba037d80e342a6bad182740dae76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a7ae3ba037d80e342a6bad182740dae76">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;obj) override</td></tr>
<tr class="separator:a7ae3ba037d80e342a6bad182740dae76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce22851b4c753b5b32454d98a89413a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a7ce22851b4c753b5b32454d98a89413a">use</a> (<a class="el" href="classCharacter.html">Character</a> *, <a class="el" href="classitem.html">item</a> &amp;, const <a class="el" href="structtripoint.html">tripoint</a> &amp;) const override</td></tr>
<tr class="separator:a7ce22851b4c753b5b32454d98a89413a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc90757cabfcb9d5fc30bbe2c65b466b"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classiuse__actor.html">iuse_actor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">clone</a> () const override</td></tr>
<tr class="memdesc:adc90757cabfcb9d5fc30bbe2c65b466b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a deep copy of this object.  <a href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">More...</a><br /></td></tr>
<tr class="separator:adc90757cabfcb9d5fc30bbe2c65b466b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccf0520487cb3da00cefbbe93c538e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a9ccf0520487cb3da00cefbbe93c538e3">info</a> (const <a class="el" href="classitem.html">item</a> &amp;, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;) const override</td></tr>
<tr class="separator:a9ccf0520487cb3da00cefbbe93c538e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a2dad7b4ac740759a1db73515af5f7f99 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a2dad7b4ac740759a1db73515af5f7f99">~iuse_actor</a> ()=default</td></tr>
<tr class="separator:a2dad7b4ac740759a1db73515af5f7f99 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4f27c8e1cf99054c4e28074f3954b0 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classret__val.html">ret_val</a>&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#afe4f27c8e1cf99054c4e28074f3954b0">can_use</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;, const <a class="el" href="classitem.html">item</a> &amp;, const <a class="el" href="structtripoint.html">tripoint</a> &amp;) const</td></tr>
<tr class="separator:afe4f27c8e1cf99054c4e28074f3954b0 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">is_valid</a> () const</td></tr>
<tr class="memdesc:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the actor is valid (exists in the generator).  <a href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">More...</a><br /></td></tr>
<tr class="separator:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0e5b1f19b2f17d2a40220bc8ac28dc inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a4c0e5b1f19b2f17d2a40220bc8ac28dc">get_name</a> () const</td></tr>
<tr class="memdesc:a4c0e5b1f19b2f17d2a40220bc8ac28dc inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the translated name of the action.  <a href="classiuse__actor.html#a4c0e5b1f19b2f17d2a40220bc8ac28dc">More...</a><br /></td></tr>
<tr class="separator:a4c0e5b1f19b2f17d2a40220bc8ac28dc inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca092c6ef6cef505f32d5f7532e09169 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#aca092c6ef6cef505f32d5f7532e09169">get_description</a> () const</td></tr>
<tr class="memdesc:aca092c6ef6cef505f32d5f7532e09169 inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the translated description of the action.  <a href="classiuse__actor.html#aca092c6ef6cef505f32d5f7532e09169">More...</a><br /></td></tr>
<tr class="separator:aca092c6ef6cef505f32d5f7532e09169 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">finalize</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;)</td></tr>
<tr class="memdesc:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the actor.  <a href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">More...</a><br /></td></tr>
<tr class="separator:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a92a0731d965408aed30463e5a1c06c88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a92a0731d965408aed30463e5a1c06c88">activation_message</a></td></tr>
<tr class="memdesc:a92a0731d965408aed30463e5a1c06c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message to display when drug is consumed.  <a href="classconsume__drug__iuse.html#a92a0731d965408aed30463e5a1c06c88">More...</a><br /></td></tr>
<tr class="separator:a92a0731d965408aed30463e5a1c06c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bb881b47b886853bea7dde0d5217d10"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">fields_produced</a></td></tr>
<tr class="memdesc:a5bb881b47b886853bea7dde0d5217d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fields to produce when you take the drug, mostly intended for various kinds of smoke.  <a href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">More...</a><br /></td></tr>
<tr class="separator:a5bb881b47b886853bea7dde0d5217d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff3b6e32510755e1838f61780eda3c1"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a></td></tr>
<tr class="memdesc:a4ff3b6e32510755e1838f61780eda3c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool charges needed to take the drug, e.g.  <a href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">More...</a><br /></td></tr>
<tr class="separator:a4ff3b6e32510755e1838f61780eda3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626aba494d3645ac2276fb1de6471dce"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a></td></tr>
<tr class="memdesc:a626aba494d3645ac2276fb1de6471dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tools needed, but not consumed, e.g.  <a href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">More...</a><br /></td></tr>
<tr class="separator:a626aba494d3645ac2276fb1de6471dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffdee01013915c3ca219fc6f71e4672"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structeffect__data.html">effect_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">effects</a></td></tr>
<tr class="memdesc:adffdee01013915c3ca219fc6f71e4672"><td class="mdescLeft">&#160;</td><td class="mdescRight">An effect or effects (conditions) to give the player for the stated duration.  <a href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">More...</a><br /></td></tr>
<tr class="separator:adffdee01013915c3ca219fc6f71e4672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b544bb918618205efa1840256e2f3a"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">stat_adjustments</a></td></tr>
<tr class="memdesc:a56b544bb918618205efa1840256e2f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of stats and adjustments to them.  <a href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">More...</a><br /></td></tr>
<tr class="separator:a56b544bb918618205efa1840256e2f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7635aaefc1601bf9515fbc7487ef23"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>, std::pair&lt; int, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a></td></tr>
<tr class="memdesc:a9b7635aaefc1601bf9515fbc7487ef23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify player vitamin_levels by random amount between min (first) and max (second)  <a href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">More...</a><br /></td></tr>
<tr class="separator:a9b7635aaefc1601bf9515fbc7487ef23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac008ab137c7aafd6f75c0b17b01c8c33"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdamage__over__time__data.html">damage_over_time_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#ac008ab137c7aafd6f75c0b17b01c8c33">damage_over_time</a></td></tr>
<tr class="memdesc:ac008ab137c7aafd6f75c0b17b01c8c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of damage over time applied by this drug, negative damage heals.  <a href="classconsume__drug__iuse.html#ac008ab137c7aafd6f75c0b17b01c8c33">More...</a><br /></td></tr>
<tr class="separator:ac008ab137c7aafd6f75c0b17b01c8c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fba02f796712c6c4257acd984834c31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">moves</a> = 100</td></tr>
<tr class="memdesc:a0fba02f796712c6c4257acd984834c31"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many move points this action takes.  <a href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">More...</a><br /></td></tr>
<tr class="separator:a0fba02f796712c6c4257acd984834c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e2e2582269550ac8bb3db5a5e908ea"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a></td></tr>
<tr class="memdesc:a28e2e2582269550ac8bb3db5a5e908ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item produced after using drugs.  <a href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">More...</a><br /></td></tr>
<tr class="separator:a28e2e2582269550ac8bb3db5a5e908ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a></td></tr>
<tr class="memdesc:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the action.  <a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">More...</a><br /></td></tr>
<tr class="separator:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">cost</a></td></tr>
<tr class="memdesc:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Units of ammo required per invocation (or use value from base item if negative)  <a href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">More...</a><br /></td></tr>
<tr class="separator:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a3e13735b7baa2c93610ccb78abda2d09 inherit pro_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor</a> (const std::string &amp;<a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>, int <a class="el" href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">cost</a>=-1)</td></tr>
<tr class="separator:a3e13735b7baa2c93610ccb78abda2d09 inherit pro_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This iuse encapsulates the effects of taking a drug. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00239">239</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9bc7fe15cae8bc8f7ff176e6ff6278ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc7fe15cae8bc8f7ff176e6ff6278ba">&#9670;&nbsp;</a></span>consume_drug_iuse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">consume_drug_iuse::consume_drug_iuse </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em> = <code>&quot;consume_drug&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00264">264</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;: <a class="code" href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor</a>( <a class="code" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a> ) {}</div>
<div class="ttc" id="aclassiuse__actor_html_a3e13735b7baa2c93610ccb78abda2d09"><div class="ttname"><a href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor::iuse_actor</a></div><div class="ttdeci">iuse_actor(const std::string &amp;type, int cost=-1)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00255">iuse.h:255</a></div></div>
<div class="ttc" id="aclassiuse__actor_html_a5bfc0cc8ea9046eb540641ff464af80c"><div class="ttname"><a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">iuse_actor::type</a></div><div class="ttdeci">const std::string type</div><div class="ttdoc">The type of the action.</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00262">iuse.h:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3958ddc5ae2a43fdfd05cba572528e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3958ddc5ae2a43fdfd05cba572528e69">&#9670;&nbsp;</a></span>~consume_drug_iuse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">consume_drug_iuse::~consume_drug_iuse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adc90757cabfcb9d5fc30bbe2c65b466b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc90757cabfcb9d5fc30bbe2c65b466b">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classiuse__actor.html">iuse_actor</a> &gt; consume_drug_iuse::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a deep copy of this object. </p>
<p>Example implementation: </p><div class="fragment"><div class="line"><span class="keyword">class </span>my_iuse_actor {</div>
<div class="line">    std::unique_ptr&lt;iuse_actor&gt; <a class="code" href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">clone</a>()<span class="keyword"> const override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> std::make_unique&lt;my_iuse_actor&gt;( *<span class="keyword">this</span> );</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclassconsume__drug__iuse_html_adc90757cabfcb9d5fc30bbe2c65b466b"><div class="ttname"><a href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">consume_drug_iuse::clone</a></div><div class="ttdeci">std::unique_ptr&lt; iuse_actor &gt; clone() const override</div><div class="ttdoc">Returns a deep copy of this object.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l00699">iuse_actor.cpp:699</a></div></div>
</div><!-- fragment --><p> The returned value should behave like the original item and must have the same type. </p>

<p>Implements <a class="el" href="classiuse__actor.html#a3dc842d294b3edcf10da0886d3e257e1">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00699">699</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;{</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">return</span> std::make_unique&lt;consume_drug_iuse&gt;( *<span class="keyword">this</span> );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ccf0520487cb3da00cefbbe93c538e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ccf0520487cb3da00cefbbe93c538e3">&#9670;&nbsp;</a></span>info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void consume_drug_iuse::info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dump</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classiuse__actor.html#aa0955326b251f45c76a7a16e84b6b9e6">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00742">742</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keyword">const</span> std::string vits = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( <a class="code" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a>.begin(), <a class="code" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a>.end(),</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    []( <span class="keyword">const</span> decltype( <a class="code" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a> )::value_type &amp; v ) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keyword">const</span> <a class="code" href="classtime__duration.html">time_duration</a> rate = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">vitamin_rate</a>( v.first );</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">if</span>( rate &lt;= 0_turns ) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> = v.second.first;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> hi = v.second.second;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">if</span>( v.first-&gt;type() == <a class="code" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd">vitamin_type::VITAMIN</a> ) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> == hi ? <span class="stringliteral">&quot;%s (%i%%)&quot;</span> : <span class="stringliteral">&quot;%s (%i-%i%%)&quot;</span>, v.first.obj().name(), <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>, hi );</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> == hi ? <span class="stringliteral">&quot;%s (%i U)&quot;</span> : <span class="stringliteral">&quot;%s (%i-%i U)&quot;</span>, v.first.obj().name(), <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>, hi );</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    } );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">if</span>( !vits.empty() ) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        dump.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Vitamins (RDA) and Compounds (U): &quot;</span> ), vits );</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a>.count( <a class="code" href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a> ) ) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        dump.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need a &lt;info&gt;syringe&lt;/info&gt; to inject this drug.&quot;</span> ) );</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassCharacter_html_aca04618a096cdf167a88143d66d4aa0a"><div class="ttname"><a href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">Character::vitamin_rate</a></div><div class="ttdeci">time_duration vitamin_rate(const vitamin_id &amp;vit) const</div><div class="ttdoc">Get vitamin usage rate (minutes per unit) accounting for bionics, mutations and effects.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00565">consumption.cpp:565</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a626aba494d3645ac2276fb1de6471dce"><div class="ttname"><a href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">consume_drug_iuse::tools_needed</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; tools_needed</div><div class="ttdoc">Tools needed, but not consumed, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00249">iuse_actor.h:249</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a9b7635aaefc1601bf9515fbc7487ef23"><div class="ttname"><a href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">consume_drug_iuse::vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, std::pair&lt; int, int &gt; &gt; vitamins</div><div class="ttdoc">Modify player vitamin_levels by random amount between min (first) and max (second)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00256">iuse_actor.h:256</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_ac94da8d391815c77827574ea45ba553b"><div class="ttname"><a href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a></div><div class="ttdeci">static const itype_id itype_syringe(&quot;syringe&quot;)</div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_aa83c5be51fbbf9c1e23c0369c6b31137"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">cata::hash64_detail::lo</a></div><div class="ttdeci">std::uint32_t lo</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00096">hash_utils.h:96</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4be67498ee67b5186fcae5cf706f7512"><div class="ttname"><a href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00647">output.h:647</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
<div class="ttc" id="avitamin_8h_html_ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd"><div class="ttname"><a href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd">vitamin_type::VITAMIN</a></div><div class="ttdeci">@ VITAMIN</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a>, <a class="el" href="hash__utils_8h_source.html#l00096">cata::hash64_detail::lo</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="iuse__actor_8h_source.html#l00249">tools_needed</a>, <a class="el" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a9da05f9e5f04b3b84b4c59f02a36d9dd">VITAMIN</a>, <a class="el" href="consumption_8cpp_source.html#l00565">Character::vitamin_rate()</a>, and <a class="el" href="iuse__actor_8h_source.html#l00256">vitamins</a>.</p>

</div>
</div>
<a id="a7ae3ba037d80e342a6bad182740dae76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae3ba037d80e342a6bad182740dae76">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void consume_drug_iuse::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classiuse__actor.html#aa93b616e6f6e450b098209ad19ae78c4">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00716">716</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;activation_message&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a92a0731d965408aed30463e5a1c06c88">activation_message</a> );</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;charges_needed&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a> );</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;tools_needed&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a> );</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span>( obj.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;effects&quot;</span> ) ) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classJsonObject.html">JsonObject</a> e : obj.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;effects&quot;</span> ) ) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <a class="code" href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">effects</a>.push_back( <a class="code" href="iuse__actor_8cpp.html#af9424173e4dd2e968f60195f984283b5">load_effect_data</a>( e ) );</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a>( obj, <span class="keyword">false</span>, <span class="stringliteral">&quot;damage_over_time&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#ac008ab137c7aafd6f75c0b17b01c8c33">damage_over_time</a> );</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;stat_adjustments&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">stat_adjustments</a> );</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;fields_produced&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">fields_produced</a> );</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    obj.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;moves&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">moves</a> );</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">for</span>( <a class="code" href="classJsonArray.html">JsonArray</a> vit : obj.<a class="code" href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">get_array</a>( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> = vit.get_int( 1 );</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordtype">int</span> hi = vit.size() &gt;= 3 ? vit.get_int( 2 ) : <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a>.emplace( <a class="code" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>( vit.get_string( 0 ) ), std::make_pair( <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>, hi ) );</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a> = obj.<a class="code" href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">get_string</a>( <span class="stringliteral">&quot;used_up_item&quot;</span>, <a class="code" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a> );</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00346">flexbuffer_json.h:347</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00526">flexbuffer_json.h:527</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a1abb3808bb2a992716d5ef6f27a32b3c"><div class="ttname"><a href="classJsonObject.html#a1abb3808bb2a992716d5ef6f27a32b3c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00813">flexbuffer_json-inl.h:813</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a88142edb1dd9ea1e7a96c7a99cd70896"><div class="ttname"><a href="classJsonObject.html#a88142edb1dd9ea1e7a96c7a99cd70896">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00855">flexbuffer_json-inl.h:855</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a0fba02f796712c6c4257acd984834c31"><div class="ttname"><a href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">consume_drug_iuse::moves</a></div><div class="ttdeci">int moves</div><div class="ttdoc">How many move points this action takes.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00262">iuse_actor.h:262</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a28e2e2582269550ac8bb3db5a5e908ea"><div class="ttname"><a href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">consume_drug_iuse::used_up_item</a></div><div class="ttdeci">std::string used_up_item</div><div class="ttdoc">Item produced after using drugs.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00273">iuse_actor.h:273</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a4ff3b6e32510755e1838f61780eda3c1"><div class="ttname"><a href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">consume_drug_iuse::charges_needed</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; charges_needed</div><div class="ttdoc">Tool charges needed to take the drug, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00247">iuse_actor.h:247</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a56b544bb918618205efa1840256e2f3a"><div class="ttname"><a href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">consume_drug_iuse::stat_adjustments</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; stat_adjustments</div><div class="ttdoc">A list of stats and adjustments to them.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00253">iuse_actor.h:253</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a5bb881b47b886853bea7dde0d5217d10"><div class="ttname"><a href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">consume_drug_iuse::fields_produced</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; fields_produced</div><div class="ttdoc">Fields to produce when you take the drug, mostly intended for various kinds of smoke.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00245">iuse_actor.h:245</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a92a0731d965408aed30463e5a1c06c88"><div class="ttname"><a href="classconsume__drug__iuse.html#a92a0731d965408aed30463e5a1c06c88">consume_drug_iuse::activation_message</a></div><div class="ttdeci">translation activation_message</div><div class="ttdoc">Message to display when drug is consumed.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00243">iuse_actor.h:243</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_ac008ab137c7aafd6f75c0b17b01c8c33"><div class="ttname"><a href="classconsume__drug__iuse.html#ac008ab137c7aafd6f75c0b17b01c8c33">consume_drug_iuse::damage_over_time</a></div><div class="ttdeci">std::vector&lt; damage_over_time_data &gt; damage_over_time</div><div class="ttdoc">List of damage over time applied by this drug, negative damage heals.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00259">iuse_actor.h:259</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_adffdee01013915c3ca219fc6f71e4672"><div class="ttname"><a href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">consume_drug_iuse::effects</a></div><div class="ttdeci">std::vector&lt; effect_data &gt; effects</div><div class="ttdoc">An effect or effects (conditions) to give the player for the stated duration.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00251">iuse_actor.h:251</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a43443191f61bb76aca1c2895eea4ad8f"><div class="ttname"><a href="generic__factory_8h.html#a43443191f61bb76aca1c2895eea4ad8f">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string_view name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00829">generic_factory.h:829</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_af9424173e4dd2e968f60195f984283b5"><div class="ttname"><a href="iuse__actor_8cpp.html#af9424173e4dd2e968f60195f984283b5">load_effect_data</a></div><div class="ttdeci">static effect_data load_effect_data(const JsonObject &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l00704">iuse_actor.cpp:704</a></div></div>
<div class="ttc" id="atype__id_8h_html_a62798cd4a1ea702e8d25b8c0f17a4834"><div class="ttname"><a href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a></div><div class="ttdeci">string_id&lt; vitamin &gt; vitamin_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00292">type_id.h:292</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse__actor_8h_source.html#l00243">activation_message</a>, <a class="el" href="iuse__actor_8h_source.html#l00247">charges_needed</a>, <a class="el" href="iuse__actor_8h_source.html#l00259">damage_over_time</a>, <a class="el" href="iuse__actor_8h_source.html#l00251">effects</a>, <a class="el" href="iuse__actor_8h_source.html#l00245">fields_produced</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00855">JsonObject::get_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00813">JsonObject::get_string()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00984">JsonObject::has_array()</a>, <a class="el" href="hash__utils_8h_source.html#l00096">cata::hash64_detail::lo</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00704">load_effect_data()</a>, <a class="el" href="iuse__actor_8h_source.html#l00262">moves</a>, <a class="el" href="generic__factory_8h_source.html#l00829">optional()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l01059">JsonObject::read()</a>, <a class="el" href="iuse__actor_8h_source.html#l00253">stat_adjustments</a>, <a class="el" href="iuse__actor_8h_source.html#l00249">tools_needed</a>, <a class="el" href="iuse__actor_8h_source.html#l00273">used_up_item</a>, and <a class="el" href="iuse__actor_8h_source.html#l00256">vitamins</a>.</p>

</div>
</div>
<a id="a7ce22851b4c753b5b32454d98a89413a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ce22851b4c753b5b32454d98a89413a">&#9670;&nbsp;</a></span>use()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; int &gt; consume_drug_iuse::use </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classiuse__actor.html#a573bc3aaee8207257625376b157567b3">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00769">769</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;{</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keyword">auto</span> need_these = <a class="code" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// Check prerequisites first.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;tool : need_these ) {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">if</span>( !p-&gt;<a class="code" href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">has_amount</a>( tool.first, 1 ) ) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            p-&gt;<a class="code" href="classCharacter.html#a9fee61b7db951516b376375bbd6f189a">add_msg_player_or_say</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;I need a %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                      <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( tool.first ),</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                      it.<a class="code" href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">type_name</a>( 1 ) );</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;consumable : <a class="code" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a> ) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="comment">// Amount == -1 means need one, but don&#39;t consume it.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span>( !p-&gt;<a class="code" href="classCharacter.html#aa33f9870c95a95d8a46423c9d6477d99">has_charges</a>( consumable.first, ( consumable.second == -1 ) ?</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                             1 : consumable.second ) ) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            p-&gt;<a class="code" href="classCharacter.html#a9fee61b7db951516b376375bbd6f189a">add_msg_player_or_say</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                                      <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;I need a %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                                      <a class="code" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( consumable.first ),</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                      it.<a class="code" href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">type_name</a>( 1 ) );</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Apply the various effects.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structeffect__data.html">effect_data</a> &amp;eff : <a class="code" href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">effects</a> ) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> = eff.duration;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="iuse__actor_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a> ) ) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> *= .8;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="iuse__actor_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a> ) ) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a> *= 1.2;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        p-&gt;<a class="code" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( eff.id, <a class="code" href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a>, eff.bp, eff.permanent );</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">//Apply the various damage_over_time</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classdamage__over__time__data.html">damage_over_time_data</a> &amp;Dot : <a class="code" href="classconsume__drug__iuse.html#ac008ab137c7aafd6f75c0b17b01c8c33">damage_over_time</a> ) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        p-&gt;<a class="code" href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">add_damage_over_time</a>( Dot );</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stat_adjustment : <a class="code" href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">stat_adjustments</a> ) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        p-&gt;<a class="code" href="classCharacter.html#a7f2d1bf5e4a90553ab32b284504e2fdd">mod_stat</a>( stat_adjustment.first, stat_adjustment.second );</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="classfield.html">field</a> : <a class="code" href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">fields_produced</a> ) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keyword">const</span> <a class="code" href="classint__id.html">field_type_id</a> fid = <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561">field_type_id</a>( <a class="code" href="classfield.html">field</a>.first );</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; i++ ) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <a class="code" href="structpoint.html">point</a> offset( <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -2, 2 ), <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( -2, 2 ) );</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            here.<a class="code" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( p-&gt;<a class="code" href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">pos_bub</a>() + offset, fid, <a class="code" href="classfield.html">field</a>.second );</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;v : <a class="code" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a> ) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> = v.first-&gt;RDA_to_default( v.second.first );</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespaceirradiance.html#a1e64f9716cb54d8743ba8cb46f58f306">high</a> = v.first-&gt;RDA_to_default( v.second.second );</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="comment">// have to update the daily estimate with the vitamins from the drug as well</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        p-&gt;<a class="code" href="classCharacter.html#a33d6e3bbc5090845dc9a9353174b8cbb">daily_vitamins</a>[v.first].first += <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        p-&gt;<a class="code" href="classCharacter.html#ae411805e21f6e2adcca747c5c61b9be0">vitamin_mod</a>( v.first, <a class="code" href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a>( <a class="code" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>, <a class="code" href="namespaceirradiance.html#a1e64f9716cb54d8743ba8cb46f58f306">high</a> ) );</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">// Output message.</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    p-&gt;<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="classconsume__drug__iuse.html#a92a0731d965408aed30463e5a1c06c88">activation_message</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), it.<a class="code" href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">type_name</a>( 1 ) );</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// Consume charges.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;consumable : <a class="code" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a> ) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordflow">if</span>( consumable.second != -1 ) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            p-&gt;<a class="code" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( consumable.first, consumable.second );</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="keywordflow">if</span>( !<a class="code" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a>.empty() ) {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <a class="code" href="classitem.html">item</a> used_up( <a class="code" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a>, it.<a class="code" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        p-&gt;<a class="code" href="classCharacter.html#ae2d66e536142cf363783d099b6ae93da">i_add_or_drop</a>( used_up );</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// Uses the moves specified by iuse_actor&#39;s definition</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    p-&gt;<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code" href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">moves</a> );</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a4249b6f1d0842211bfe53e5f9e206a10"><div class="ttname"><a href="calendar_8cpp.html#a4249b6f1d0842211bfe53e5f9e206a10">rng</a></div><div class="ttdeci">time_duration rng(time_duration lo, time_duration hi)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00779">calendar.cpp:779</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561">cata_variant_type::field_type_id</a></div><div class="ttdeci">@ field_type_id</div></div>
<div class="ttc" id="aclassCharacter_html_a33d6e3bbc5090845dc9a9353174b8cbb"><div class="ttname"><a href="classCharacter.html#a33d6e3bbc5090845dc9a9353174b8cbb">Character::daily_vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, std::pair&lt; int, int &gt; &gt; daily_vitamins</div><div class="ttdoc">Current quantity for each vitamin today first value is expected second value is actual (digested) in ...</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l03965">character.h:3965</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdoc">Use charges in character inventory.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09769">character.cpp:9769</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7f2d1bf5e4a90553ab32b284504e2fdd"><div class="ttname"><a href="classCharacter.html#a7f2d1bf5e4a90553ab32b284504e2fdd">Character::mod_stat</a></div><div class="ttdeci">void mod_stat(const std::string &amp;stat, float modifier) override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00790">character.cpp:790</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9fee61b7db951516b376375bbd6f189a"><div class="ttname"><a href="classCharacter.html#a9fee61b7db951516b376375bbd6f189a">Character::add_msg_player_or_say</a></div><div class="ttdeci">void add_msg_player_or_say(const std::string &amp;player_msg, const std::string &amp;npc_speech) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00879">character.cpp:879</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa33f9870c95a95d8a46423c9d6477d99"><div class="ttname"><a href="classCharacter.html#aa33f9870c95a95d8a46423c9d6477d99">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09586">character.cpp:9586</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae2d66e536142cf363783d099b6ae93da"><div class="ttname"><a href="classCharacter.html#ae2d66e536142cf363783d099b6ae93da">Character::i_add_or_drop</a></div><div class="ttdeci">bool i_add_or_drop(item &amp;it, int qty=1, const item *avoid=nullptr, const item *original_inventory_item=nullptr)</div><div class="ttdoc">Sets invlet and adds to inventory if possible, drops otherwise, returns true if either succeeded.</div><div class="ttdef"><b>Definition:</b> <a href="character__inventory_8cpp_source.html#l00451">character_inventory.cpp:451</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae411805e21f6e2adcca747c5c61b9be0"><div class="ttname"><a href="classCharacter.html#ae411805e21f6e2adcca747c5c61b9be0">Character::vitamin_mod</a></div><div class="ttdeci">int vitamin_mod(const vitamin_id &amp;vit, int qty)</div><div class="ttdoc">Add or subtract vitamins from character storage pools.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00624">consumption.cpp:624</a></div></div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00604">creature.h:604</a></div></div>
<div class="ttc" id="aclassCreature_html_a85f7bb2576d6f38d117b3714c1e94dee"><div class="ttname"><a href="classCreature.html#a85f7bb2576d6f38d117b3714c1e94dee">Creature::add_damage_over_time</a></div><div class="ttdeci">void add_damage_over_time(const damage_over_time_data &amp;DoT)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l03042">creature.cpp:3042</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclassCreature_html_af7172e571c5c69240d9f71a01fddf035"><div class="ttname"><a href="classCreature.html#af7172e571c5c69240d9f71a01fddf035">Creature::pos_bub</a></div><div class="ttdeci">tripoint_bub_ms pos_bub() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00183">creature.cpp:183</a></div></div>
<div class="ttc" id="aclassdamage__over__time__data_html"><div class="ttname"><a href="classdamage__over__time__data.html">damage_over_time_data</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00177">damage.h:178</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00106">field.h:107</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; field_type &gt;</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14557">item.cpp:14557</a></div></div>
<div class="ttc" id="aclassitem_html_a46b9bb1181827a365eb83d935c663677"><div class="ttname"><a href="classitem.html#a46b9bb1181827a365eb83d935c663677">item::birthday</a></div><div class="ttdeci">time_point birthday() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14686">item.cpp:14686</a></div></div>
<div class="ttc" id="aclassitem_html_abfb7ed1fed5f72c532192eb33e6c4962"><div class="ttname"><a href="classitem.html#abfb7ed1fed5f72c532192eb33e6c4962">item::type_name</a></div><div class="ttdeci">std::string type_name(unsigned int quantity=1, bool use_variant=true, bool use_cond_name=true, bool use_corpse=true) const</div><div class="ttdoc">Name of the item type (not the item), with proper plural.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14449">item.cpp:14449</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a32a9de57ddea3145ca42e6acfde7f3d6"><div class="ttname"><a href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">map::add_field</a></div><div class="ttdeci">bool add_field(const tripoint &amp;p, const field_type_id &amp;type_id, int intensity=INT_MAX, const time_duration &amp;age=0_turns, bool hit_player=true)</div><div class="ttdoc">Add field entry at point, or set intensity if present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06563">map.cpp:6563</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="aclassvisitable_html_aa199bd0ea7a41c50a2de5761dd987338"><div class="ttname"><a href="classvisitable.html#aa199bd0ea7a41c50a2de5761dd987338">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo, const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01018">visitable.cpp:1018</a></div></div>
<div class="ttc" id="acreature_8h_html_afb9a39a835be84327a86693636f5fc49"><div class="ttname"><a href="creature_8h.html#afb9a39a835be84327a86693636f5fc49">dur</a></div><div class="ttdeci">time_duration dur</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00237">creature.h:237</a></div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a2d866d9790623dc33511f3f08ec510b5"><div class="ttname"><a href="iuse__actor_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a></div><div class="ttdeci">static const trait_id trait_TOLERANCE(&quot;TOLERANCE&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a513ee3dfdb798f83e30d99f697f2fa5b"><div class="ttname"><a href="iuse__actor_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a></div><div class="ttdeci">static const trait_id trait_LIGHTWEIGHT(&quot;LIGHTWEIGHT&quot;)</div></div>
<div class="ttc" id="anamespaceirradiance_html_a1e64f9716cb54d8743ba8cb46f58f306"><div class="ttname"><a href="namespaceirradiance.html#a1e64f9716cb54d8743ba8cb46f58f306">irradiance::high</a></div><div class="ttdeci">constexpr float high</div><div class="ttdef"><b>Definition:</b> <a href="weather_8h_source.html#l00068">weather.h:68</a></div></div>
<div class="ttc" id="astructeffect__data_html"><div class="ttname"><a href="structeffect__data.html">effect_data</a></div><div class="ttdoc">Used in consume_drug_iuse for storing effect data.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00226">iuse_actor.h:226</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="iuse__actor_8h_source.html#l00243">activation_message</a>, <a class="el" href="creature_8cpp_source.html#l03042">Creature::add_damage_over_time()</a>, <a class="el" href="creature_8h_source.html#l00604">Creature::add_effect()</a>, <a class="el" href="map_8cpp_source.html#l06563">map::add_field()</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l00879">Character::add_msg_player_or_say()</a>, <a class="el" href="item_8cpp_source.html#l14686">item::birthday()</a>, <a class="el" href="iuse__actor_8h_source.html#l00247">charges_needed</a>, <a class="el" href="character_8h_source.html#l03965">Character::daily_vitamins</a>, <a class="el" href="iuse__actor_8h_source.html#l00259">damage_over_time</a>, <a class="el" href="creature_8h_source.html#l00237">dur</a>, <a class="el" href="iuse__actor_8h_source.html#l00251">effects</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a1e3f04102267eaf5e8d0ca424fd5c561">field_type_id</a>, <a class="el" href="iuse__actor_8h_source.html#l00245">fields_produced</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="visitable_8cpp_source.html#l01018">visitable::has_amount()</a>, <a class="el" href="character_8cpp_source.html#l09586">Character::has_charges()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="weather_8h_source.html#l00068">irradiance::high</a>, <a class="el" href="character__inventory_8cpp_source.html#l00451">Character::i_add_or_drop()</a>, <a class="el" href="hash__utils_8h_source.html#l00096">cata::hash64_detail::lo</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="character_8cpp_source.html#l00790">Character::mod_stat()</a>, <a class="el" href="iuse__actor_8h_source.html#l00262">moves</a>, <a class="el" href="item_8cpp_source.html#l14557">item::nname()</a>, <a class="el" href="creature_8cpp_source.html#l00183">Creature::pos_bub()</a>, <a class="el" href="calendar_8cpp_source.html#l00779">rng()</a>, <a class="el" href="iuse__actor_8h_source.html#l00253">stat_adjustments</a>, <a class="el" href="iuse__actor_8h_source.html#l00249">tools_needed</a>, <a class="el" href="iuse__actor_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a>, <a class="el" href="iuse__actor_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a>, <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>, <a class="el" href="item_8cpp_source.html#l14449">item::type_name()</a>, <a class="el" href="character_8cpp_source.html#l09769">Character::use_charges()</a>, <a class="el" href="iuse__actor_8h_source.html#l00273">used_up_item</a>, <a class="el" href="consumption_8cpp_source.html#l00624">Character::vitamin_mod()</a>, and <a class="el" href="iuse__actor_8h_source.html#l00256">vitamins</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a92a0731d965408aed30463e5a1c06c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a0731d965408aed30463e5a1c06c88">&#9670;&nbsp;</a></span>activation_message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtranslation.html">translation</a> consume_drug_iuse::activation_message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message to display when drug is consumed. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00243">243</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a4ff3b6e32510755e1838f61780eda3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff3b6e32510755e1838f61780eda3c1">&#9670;&nbsp;</a></span>charges_needed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int&gt; consume_drug_iuse::charges_needed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tool charges needed to take the drug, e.g. </p>
<p>fire. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00247">247</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="ac008ab137c7aafd6f75c0b17b01c8c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac008ab137c7aafd6f75c0b17b01c8c33">&#9670;&nbsp;</a></span>damage_over_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdamage__over__time__data.html">damage_over_time_data</a>&gt; consume_drug_iuse::damage_over_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of damage over time applied by this drug, negative damage heals. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00259">259</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="adffdee01013915c3ca219fc6f71e4672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffdee01013915c3ca219fc6f71e4672">&#9670;&nbsp;</a></span>effects</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structeffect__data.html">effect_data</a>&gt; consume_drug_iuse::effects</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An effect or effects (conditions) to give the player for the stated duration. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00251">251</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a5bb881b47b886853bea7dde0d5217d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bb881b47b886853bea7dde0d5217d10">&#9670;&nbsp;</a></span>fields_produced</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, int&gt; consume_drug_iuse::fields_produced</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fields to produce when you take the drug, mostly intended for various kinds of smoke. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00245">245</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a0fba02f796712c6c4257acd984834c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fba02f796712c6c4257acd984834c31">&#9670;&nbsp;</a></span>moves</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int consume_drug_iuse::moves = 100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many move points this action takes. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00262">262</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a56b544bb918618205efa1840256e2f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56b544bb918618205efa1840256e2f3a">&#9670;&nbsp;</a></span>stat_adjustments</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, int&gt; consume_drug_iuse::stat_adjustments</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of stats and adjustments to them. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00253">253</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a626aba494d3645ac2276fb1de6471dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626aba494d3645ac2276fb1de6471dce">&#9670;&nbsp;</a></span>tools_needed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int&gt; consume_drug_iuse::tools_needed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tools needed, but not consumed, e.g. </p>
<p>"smoking apparatus". </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00249">249</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="consumption_8cpp_source.html#l00769">Character::can_eat()</a>, <a class="el" href="consumption_8cpp_source.html#l01709">Character::get_consume_time()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01091">activatable_inventory_preset::get_denial()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00742">info()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a28e2e2582269550ac8bb3db5a5e908ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e2e2582269550ac8bb3db5a5e908ea">&#9670;&nbsp;</a></span>used_up_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string consume_drug_iuse::used_up_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Item produced after using drugs. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00273">273</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<a id="a9b7635aaefc1601bf9515fbc7487ef23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7635aaefc1601bf9515fbc7487ef23">&#9670;&nbsp;</a></span>vitamins</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>, std::pair&lt;int, int&gt; &gt; consume_drug_iuse::vitamins</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify player vitamin_levels by random amount between min (first) and max (second) </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00256">256</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00742">info()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00716">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00769">use()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a></li>
<li>src/<a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:37 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
