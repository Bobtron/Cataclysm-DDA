<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: faction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classfaction-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">faction Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="faction_8h_source.html">faction.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for faction:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfaction.png" usemap="#faction_map" alt=""/>
  <map id="faction_map" name="faction_map">
<area href="classfaction__template.html" alt="faction_template" shape="rect" coords="0,0,103,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adbf7418470cc0e016f95d2f0198b7d5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#adbf7418470cc0e016f95d2f0198b7d5c">faction</a> ()=default</td></tr>
<tr class="separator:adbf7418470cc0e016f95d2f0198b7d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3422241e58f89a05605a35b78fc78c14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a3422241e58f89a05605a35b78fc78c14">faction</a> (const <a class="el" href="classfaction__template.html">faction_template</a> &amp;templ)</td></tr>
<tr class="separator:a3422241e58f89a05605a35b78fc78c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010d7dffe49720415368745c2a041c22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a010d7dffe49720415368745c2a041c22">deserialize</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo)</td></tr>
<tr class="separator:a010d7dffe49720415368745c2a041c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c98bb6c56bf607fbd4004ac03fc83b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a90c98bb6c56bf607fbd4004ac03fc83b">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a90c98bb6c56bf607fbd4004ac03fc83b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612e2c6d9931ae18c7bca553e81a210a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a612e2c6d9931ae18c7bca553e81a210a">faction_display</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;fac_w, int width) const</td></tr>
<tr class="separator:a612e2c6d9931ae18c7bca553e81a210a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc340f627559746f19a83241b60073cd"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#afc340f627559746f19a83241b60073cd">describe</a> () const</td></tr>
<tr class="separator:afc340f627559746f19a83241b60073cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c19572150b09f91506bd43d59d3589"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a58c19572150b09f91506bd43d59d3589">epilogue</a> () const</td></tr>
<tr class="separator:a58c19572150b09f91506bd43d59d3589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777873995c5a7f826d4c9c0558f73406"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a777873995c5a7f826d4c9c0558f73406">food_supply_text</a> ()</td></tr>
<tr class="separator:a777873995c5a7f826d4c9c0558f73406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39234cb4959e9cbb27dda8d896eb48b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a39234cb4959e9cbb27dda8d896eb48b4">food_supply_color</a> ()</td></tr>
<tr class="separator:a39234cb4959e9cbb27dda8d896eb48b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31aa27b37236dc896fb8582515fcdb1"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="classnc__color.html">nc_color</a>, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#ae31aa27b37236dc896fb8582515fcdb1">vitamin_stores</a> (<a class="el" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38">vitamin_type</a> vit)</td></tr>
<tr class="separator:ae31aa27b37236dc896fb8582515fcdb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f8f44dff406529621a634bd3b41285"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfaction__price__rule.html">faction_price_rule</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a74f8f44dff406529621a634bd3b41285">get_price_rules</a> (<a class="el" href="classitem.html">item</a> const &amp;it, <a class="el" href="classnpc.html">npc</a> const &amp;guy) const</td></tr>
<tr class="separator:a74f8f44dff406529621a634bd3b41285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc85591e6e5bfe39bda000b6be12957c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#abc85591e6e5bfe39bda000b6be12957c">has_relationship</a> (const <a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;guy_id, <a class="el" href="namespacenpc__factions.html#af09ec48d0dc133795062d1424c486686">npc_factions::relationship</a> flag) const</td></tr>
<tr class="separator:abc85591e6e5bfe39bda000b6be12957c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d2bbf988ac1ffdf6ed34cc874ac20e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a3d2bbf988ac1ffdf6ed34cc874ac20e4">add_to_membership</a> (const <a class="el" href="classcharacter__id.html">character_id</a> &amp;guy_id, const std::string &amp;guy_name, bool known)</td></tr>
<tr class="separator:a3d2bbf988ac1ffdf6ed34cc874ac20e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288c06ab605ad19b0102a6c90246320f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a288c06ab605ad19b0102a6c90246320f">remove_member</a> (const <a class="el" href="classcharacter__id.html">character_id</a> &amp;guy_id)</td></tr>
<tr class="separator:a288c06ab605ad19b0102a6c90246320f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a42a94841b12ee6ef6491897b3d7ba0c2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#a42a94841b12ee6ef6491897b3d7ba0c2">opinion_of</a></td></tr>
<tr class="separator:a42a94841b12ee6ef6491897b3d7ba0c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf399cada16a8fdaf03304a663fe8da5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#adf399cada16a8fdaf03304a663fe8da5">validated</a> = false</td></tr>
<tr class="separator:adf399cada16a8fdaf03304a663fe8da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb55556a4c073106a18042a219a7e7f"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="classcharacter__id.html">character_id</a>, std::pair&lt; std::string, bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction.html#accb55556a4c073106a18042a219a7e7f">members</a></td></tr>
<tr class="separator:accb55556a4c073106a18042a219a7e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classfaction__template"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classfaction__template')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classfaction__template.html">faction_template</a></td></tr>
<tr class="memitem:a9fa57ac248112fa09f2bbe19826f93fc inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">name</a></td></tr>
<tr class="separator:a9fa57ac248112fa09f2bbe19826f93fc inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8927427656119c2e4b1046b19c521313 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a></td></tr>
<tr class="separator:a8927427656119c2e4b1046b19c521313 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4662d3cabe4bb0e7b2a6693d7abc43 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a></td></tr>
<tr class="separator:acf4662d3cabe4bb0e7b2a6693d7abc43 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6bf7af56797169006e95328f81a1fd inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">trusts_u</a></td></tr>
<tr class="separator:a7c6bf7af56797169006e95328f81a1fd inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e2a500660f3adf90c6940ecbe78ccee inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a5e2a500660f3adf90c6940ecbe78ccee">known_by_u</a></td></tr>
<tr class="separator:a5e2a500660f3adf90c6940ecbe78ccee inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649fcecca332d594911fed59607d4ee7 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top"><a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a></td></tr>
<tr class="separator:a649fcecca332d594911fed59607d4ee7 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24489a3ee0e1e2a73ab55899a570e795 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtranslation.html">translation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a24489a3ee0e1e2a73ab55899a570e795">desc</a></td></tr>
<tr class="separator:a24489a3ee0e1e2a73ab55899a570e795 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ce16367a6224fc2579540f2561a2fe inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">size</a></td></tr>
<tr class="separator:a46ce16367a6224fc2579540f2561a2fe inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d31d07f4f9cf6d639be77e0a2fa201e inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a7d31d07f4f9cf6d639be77e0a2fa201e">power</a></td></tr>
<tr class="separator:a7d31d07f4f9cf6d639be77e0a2fa201e inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cda490b58dc788f44e057bfd29a9971 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnutrients.html">nutrients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a></td></tr>
<tr class="separator:a9cda490b58dc788f44e057bfd29a9971 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35b6015c1e2574cc3735d43341215ba inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#af35b6015c1e2574cc3735d43341215ba">wealth</a></td></tr>
<tr class="separator:af35b6015c1e2574cc3735d43341215ba inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf90e328c0ba6ca7a194373a350b481a inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#acf90e328c0ba6ca7a194373a350b481a">lone_wolf_faction</a></td></tr>
<tr class="separator:acf90e328c0ba6ca7a194373a350b481a inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1133871efac0709fda44e805e03c5378 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a1133871efac0709fda44e805e03c5378">currency</a></td></tr>
<tr class="separator:a1133871efac0709fda44e805e03c5378 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc76f822ad62b11a61d79b4e89db49b inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structfaction__price__rule.html">faction_price_rule</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a6dc76f822ad62b11a61d79b4e89db49b">price_rules</a></td></tr>
<tr class="separator:a6dc76f822ad62b11a61d79b4e89db49b inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a49a8831a9393a67713992ba559a26 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::bitset&lt; <a class="el" href="namespacenpc__factions.html#af09ec48d0dc133795062d1424c486686a95d298ffe64fca0b909c1a61afd64186">npc_factions::rel_types</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a02a49a8831a9393a67713992ba559a26">relations</a></td></tr>
<tr class="separator:a02a49a8831a9393a67713992ba559a26 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b4960841f075bce8acb16a0eabeaa7 inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a0de4f7de7b6dc7d13c525e8a5e0eb615">mfaction_str_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a73b4960841f075bce8acb16a0eabeaa7">mon_faction</a></td></tr>
<tr class="separator:a73b4960841f075bce8acb16a0eabeaa7 inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687953528db4da27e7926b80868e318c inherit pub_attribs_classfaction__template"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::tuple&lt; int, int, <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a687953528db4da27e7926b80868e318c">epilogue_data</a></td></tr>
<tr class="separator:a687953528db4da27e7926b80868e318c inherit pub_attribs_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classfaction__template"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classfaction__template')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classfaction__template.html">faction_template</a></td></tr>
<tr class="memitem:aa7666a962af4754589eec32b1883cf33 inherit pub_static_methods_classfaction__template"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#aa7666a962af4754589eec32b1883cf33">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsobj)</td></tr>
<tr class="separator:aa7666a962af4754589eec32b1883cf33 inherit pub_static_methods_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7303677a2598414258108b77317d342 inherit pub_static_methods_classfaction__template"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#af7303677a2598414258108b77317d342">check_consistency</a> ()</td></tr>
<tr class="separator:af7303677a2598414258108b77317d342 inherit pub_static_methods_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f9213fae0b89b50139fff5f0352424 inherit pub_static_methods_classfaction__template"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a65f9213fae0b89b50139fff5f0352424">reset</a> ()</td></tr>
<tr class="separator:a65f9213fae0b89b50139fff5f0352424 inherit pub_static_methods_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classfaction__template"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classfaction__template')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classfaction__template.html">faction_template</a></td></tr>
<tr class="memitem:a66de33109b6c1de9a0dd8b5adbe11b28 inherit pro_methods_classfaction__template"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#a66de33109b6c1de9a0dd8b5adbe11b28">faction_template</a> ()</td></tr>
<tr class="separator:a66de33109b6c1de9a0dd8b5adbe11b28 inherit pro_methods_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc32f15769457cbf5ccfa56939e484de inherit pro_methods_classfaction__template"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfaction__template.html#acc32f15769457cbf5ccfa56939e484de">load_relations</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsobj)</td></tr>
<tr class="separator:acc32f15769457cbf5ccfa56939e484de inherit pro_methods_classfaction__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00126">126</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adbf7418470cc0e016f95d2f0198b7d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf7418470cc0e016f95d2f0198b7d5c">&#9670;&nbsp;</a></span>faction() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">faction::faction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3422241e58f89a05605a35b78fc78c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3422241e58f89a05605a35b78fc78c14">&#9670;&nbsp;</a></span>faction() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">faction::faction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfaction__template.html">faction_template</a> &amp;&#160;</td>
          <td class="paramname"><em>templ</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00071">71</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">id</span> = templ.<a class="code" href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">id</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">// first init *all* members, than copy those from the template</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classfaction__template.html">faction_template</a> &amp;<span class="keyword">&gt;</span>( *this ) = templ;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="ttc" id="aclassfaction__template_html"><div class="ttname"><a href="classfaction__template.html">faction_template</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00093">faction.h:94</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a649fcecca332d594911fed59607d4ee7"><div class="ttname"><a href="classfaction__template.html#a649fcecca332d594911fed59607d4ee7">faction_template::id</a></div><div class="ttdeci">faction_id id</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00112">faction.h:112</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00112">faction_template::id</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3d2bbf988ac1ffdf6ed34cc874ac20e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d2bbf988ac1ffdf6ed34cc874ac20e4">&#9670;&nbsp;</a></span>add_to_membership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction::add_to_membership </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcharacter__id.html">character_id</a> &amp;&#160;</td>
          <td class="paramname"><em>guy_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>guy_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>known</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00170">170</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classfaction.html#accb55556a4c073106a18042a219a7e7f">members</a>[guy_id] = std::make_pair( guy_name, known );</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="ttc" id="aclassfaction_html_accb55556a4c073106a18042a219a7e7f"><div class="ttname"><a href="classfaction.html#accb55556a4c073106a18042a219a7e7f">faction::members</a></div><div class="ttdeci">std::map&lt; character_id, std::pair&lt; std::string, bool &gt; &gt; members</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00151">faction.h:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00151">members</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l00747">npc::set_fac()</a>, and <a class="el" href="npc_8cpp_source.html#l00952">npc::set_known_to_u()</a>.</p>

</div>
</div>
<a id="afc340f627559746f19a83241b60073cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc340f627559746f19a83241b60073cd">&#9670;&nbsp;</a></span>describe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string faction::describe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00153">153</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    std::string <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code" href="classfaction__template.html#a24489a3ee0e1e2a73ab55899a570e795">desc</a>.<a class="code" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="ttc" id="aclassfaction__template_html_a24489a3ee0e1e2a73ab55899a570e795"><div class="ttname"><a href="classfaction__template.html#a24489a3ee0e1e2a73ab55899a570e795">faction_template::desc</a></div><div class="ttdeci">translation desc</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00113">faction.h:113</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translation_8cpp_source.html#l00294">translation.cpp:294</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00113">faction_template::desc</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="translation_8cpp_source.html#l00294">translation::translated()</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l02347">debug_menu::faction_edit_menu()</a>.</p>

</div>
</div>
<a id="a010d7dffe49720415368745c2a041c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010d7dffe49720415368745c2a041c22">&#9670;&nbsp;</a></span>deserialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction::deserialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l03668">3668</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;{</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    jo.<a class="code" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160; </div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">name</a> );</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;likes_u&quot;</span>, <a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> );</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;respects_u&quot;</span>, <a class="code" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a> );</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;trusts_u&quot;</span>, <a class="code" href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">trusts_u</a> );</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;known_by_u&quot;</span>, <a class="code" href="classfaction__template.html#a5e2a500660f3adf90c6940ecbe78ccee">known_by_u</a> );</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;size&quot;</span>, <a class="code" href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">size</a> );</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;power&quot;</span>, <a class="code" href="classfaction__template.html#a7d31d07f4f9cf6d639be77e0a2fa201e">power</a> );</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">has_int</a>( <span class="stringliteral">&quot;food_supply&quot;</span> ) ) {</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;        <span class="comment">// Legacy kcal value found, migrate to calories</span></div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;        jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;food_supply&quot;</span>, <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a> );</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;        <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">calories</a> *= 1000;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;        jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;fac_food_supply&quot;</span>, <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a> );</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    }</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordflow">if</span>( !jo.<a class="code" href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">read</a>( <span class="stringliteral">&quot;wealth&quot;</span>, <a class="code" href="classfaction__template.html#af35b6015c1e2574cc3735d43341215ba">wealth</a> ) ) {</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;        <a class="code" href="classfaction__template.html#af35b6015c1e2574cc3735d43341215ba">wealth</a> = 100;</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    }</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;    <span class="keywordflow">if</span>( jo.<a class="code" href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">has_array</a>( <span class="stringliteral">&quot;opinion_of&quot;</span> ) ) {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;        <a class="code" href="classfaction.html#a42a94841b12ee6ef6491897b3d7ba0c2">opinion_of</a> = jo.<a class="code" href="classJsonObject.html#a5b843ad1b1cd0b0b5d2af5e82a5ebef1">get_int_array</a>( <span class="stringliteral">&quot;opinion_of&quot;</span> );</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    }</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <a class="code" href="classfaction__template.html#acc32f15769457cbf5ccfa56939e484de">load_relations</a>( jo );</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;}</div>
<div class="ttc" id="aclassJsonObject_html_a271bf0c222d2a7c97329df4362ae6a54"><div class="ttname"><a href="classJsonObject.html#a271bf0c222d2a7c97329df4362ae6a54">JsonObject::has_int</a></div><div class="ttdeci">bool has_int(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00956">flexbuffer_json-inl.h:956</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a4d917fcb285203f91b74002565375dce"><div class="ttname"><a href="classJsonObject.html#a4d917fcb285203f91b74002565375dce">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(std::string_view key) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00984">flexbuffer_json-inl.h:984</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a5b843ad1b1cd0b0b5d2af5e82a5ebef1"><div class="ttname"><a href="classJsonObject.html#a5b843ad1b1cd0b0b5d2af5e82a5ebef1">JsonObject::get_int_array</a></div><div class="ttdeci">std::vector&lt; int &gt; get_int_array(std::string_view name) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l00909">flexbuffer_json-inl.h:909</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a8517ac783372bd0bf149ab8e5f7aae18"><div class="ttname"><a href="classJsonObject.html#a8517ac783372bd0bf149ab8e5f7aae18">JsonObject::read</a></div><div class="ttdeci">bool read(std::string_view name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json-inl_8h_source.html#l01059">flexbuffer_json-inl.h:1059</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="flexbuffer__json_8h_source.html#l00662">flexbuffer_json.h:662</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a46ce16367a6224fc2579540f2561a2fe"><div class="ttname"><a href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">faction_template::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00114">faction.h:114</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a5e2a500660f3adf90c6940ecbe78ccee"><div class="ttname"><a href="classfaction__template.html#a5e2a500660f3adf90c6940ecbe78ccee">faction_template::known_by_u</a></div><div class="ttdeci">bool known_by_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00111">faction.h:111</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a7c6bf7af56797169006e95328f81a1fd"><div class="ttname"><a href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">faction_template::trusts_u</a></div><div class="ttdeci">int trusts_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00110">faction.h:110</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a7d31d07f4f9cf6d639be77e0a2fa201e"><div class="ttname"><a href="classfaction__template.html#a7d31d07f4f9cf6d639be77e0a2fa201e">faction_template::power</a></div><div class="ttdeci">int power</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00115">faction.h:115</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a8927427656119c2e4b1046b19c521313"><div class="ttname"><a href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">faction_template::likes_u</a></div><div class="ttdeci">int likes_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00108">faction.h:108</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a9cda490b58dc788f44e057bfd29a9971"><div class="ttname"><a href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">faction_template::food_supply</a></div><div class="ttdeci">nutrients food_supply</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00116">faction.h:116</a></div></div>
<div class="ttc" id="aclassfaction__template_html_a9fa57ac248112fa09f2bbe19826f93fc"><div class="ttname"><a href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">faction_template::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00107">faction.h:107</a></div></div>
<div class="ttc" id="aclassfaction__template_html_acc32f15769457cbf5ccfa56939e484de"><div class="ttname"><a href="classfaction__template.html#acc32f15769457cbf5ccfa56939e484de">faction_template::load_relations</a></div><div class="ttdeci">void load_relations(const JsonObject &amp;jsobj)</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00100">faction.cpp:100</a></div></div>
<div class="ttc" id="aclassfaction__template_html_acf4662d3cabe4bb0e7b2a6693d7abc43"><div class="ttname"><a href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">faction_template::respects_u</a></div><div class="ttdeci">int respects_u</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00109">faction.h:109</a></div></div>
<div class="ttc" id="aclassfaction__template_html_af35b6015c1e2574cc3735d43341215ba"><div class="ttname"><a href="classfaction__template.html#af35b6015c1e2574cc3735d43341215ba">faction_template::wealth</a></div><div class="ttdeci">int wealth</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00117">faction.h:117</a></div></div>
<div class="ttc" id="aclassfaction_html_a42a94841b12ee6ef6491897b3d7ba0c2"><div class="ttname"><a href="classfaction.html#a42a94841b12ee6ef6491897b3d7ba0c2">faction::opinion_of</a></div><div class="ttdeci">std::vector&lt; int &gt; opinion_of</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00149">faction.h:149</a></div></div>
<div class="ttc" id="astructnutrients_html_a72a120ffe81a179edfe5fe3387024b22"><div class="ttname"><a href="structnutrients.html#a72a120ffe81a179edfe5fe3387024b22">nutrients::calories</a></div><div class="ttdeci">int64_t calories</div><div class="ttdoc">amount of calories (1/1000s of kcal) this food has</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00038">stomach.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="flexbuffer__json_8h_source.html#l00662">JsonObject::allow_omitted_members()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00909">JsonObject::get_int_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00984">JsonObject::has_array()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l00956">JsonObject::has_int()</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="flexbuffer__json-inl_8h_source.html#l01059">JsonObject::read()</a>, and <a class="el" href="item__pocket_8cpp_source.html#l00553">item_pocket::size()</a>.</p>

</div>
</div>
<a id="a58c19572150b09f91506bd43d59d3589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c19572150b09f91506bd43d59d3589">&#9670;&nbsp;</a></span>epilogue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; faction::epilogue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00159">159</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::tuple&lt;int, int, snippet_id&gt; &amp;epilogue_entry : <a class="code" href="classfaction__template.html#a687953528db4da27e7926b80868e318c">epilogue_data</a> ) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="classfaction__template.html#a7d31d07f4f9cf6d639be77e0a2fa201e">power</a> &gt;= std::get&lt;0&gt;( epilogue_entry ) &amp;&amp; <a class="code" href="classfaction__template.html#a7d31d07f4f9cf6d639be77e0a2fa201e">power</a> &lt; std::get&lt;1&gt;( epilogue_entry ) ) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.emplace_back( std::get&lt;2&gt;( epilogue_entry )-&gt;translated() );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="ttc" id="aclassfaction__template_html_a687953528db4da27e7926b80868e318c"><div class="ttname"><a href="classfaction__template.html#a687953528db4da27e7926b80868e318c">faction_template::epilogue_data</a></div><div class="ttdeci">std::set&lt; std::tuple&lt; int, int, snippet_id &gt; &gt; epilogue_data</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00123">faction.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00123">faction_template::epilogue_data</a>, <a class="el" href="faction_8h_source.html#l00115">faction_template::power</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a612e2c6d9931ae18c7bca553e81a210a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a612e2c6d9931ae18c7bca553e81a210a">&#9670;&nbsp;</a></span>faction_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction::faction_display </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>fac_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00587">587</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordtype">int</span> y = 2;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Attitude to you:           %s&quot;</span> ),</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;               <a class="code" href="faction_8cpp.html#a1ef6a0d0d39c4d038b5762ffe82db5b1">fac_ranking_text</a>( <a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> ) );</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( fac_w, <a class="code" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>( width, ++y ), <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( fac_w ) - width - 2, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="classfaction__template.html#a24489a3ee0e1e2a73ab55899a570e795">desc</a> );</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">cata_variant_type::point</a></div><div class="ttdeci">@ point</div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="afaction_8cpp_html_a1ef6a0d0d39c4d038b5762ffe82db5b1"><div class="ttname"><a href="faction_8cpp.html#a1ef6a0d0d39c4d038b5762ffe82db5b1">fac_ranking_text</a></div><div class="ttdeci">std::string fac_ranking_text(int val)</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00198">faction.cpp:198</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a1184e3eda011b110d09bf2dcf08228f5"><div class="ttname"><a href="output_8cpp.html#a1184e3eda011b110d09bf2dcf08228f5">mvwprintz</a></div><div class="ttdeci">void mvwprintz(const catacurses::window &amp;w, const point &amp;p, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l03290">output.cpp:3290</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00379">output.cpp:379</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="faction_8h_source.html#l00113">faction_template::desc</a>, <a class="el" href="faction_8cpp_source.html#l00198">fac_ranking_text()</a>, <a class="el" href="output_8cpp_source.html#l00379">fold_and_print()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="faction_8h_source.html#l00108">faction_template::likes_u</a>, <a class="el" href="output_8cpp_source.html#l03290">mvwprintz()</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a78ee54aa8f813885fe2fe20d232518b9">point</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00818">faction_manager::display()</a>.</p>

</div>
</div>
<a id="a39234cb4959e9cbb27dda8d896eb48b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39234cb4959e9cbb27dda8d896eb48b4">&#9670;&nbsp;</a></span>food_supply_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> faction::food_supply_color </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00342">342</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">int</span> val = <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / ( <a class="code" href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">size</a> * 288 );</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span>( val &gt;= 30 ) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt;= 14 ) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt;= 6 ) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val &gt;= 3 ) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00020">color.h:20</a></div></div>
<div class="ttc" id="acolor_8h_html_a2236aa1fe66b707a104f19ad45c23230"><div class="ttname"><a href="color_8h.html#a2236aa1fe66b707a104f19ad45c23230">c_light_green</a></div><div class="ttdeci">#define c_light_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00026">color.h:26</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00030">color.h:30</a></div></div>
<div class="ttc" id="acolor_8h_html_aab11865a3631a7ce78da82b7fb386b71"><div class="ttname"><a href="color_8h.html#aab11865a3631a7ce78da82b7fb386b71">c_light_red</a></div><div class="ttdeci">#define c_light_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00025">color.h:25</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00019">color.h:19</a></div></div>
<div class="ttc" id="astructnutrients_html_a27fef4783e99c7f2471a9fabcabe19b5"><div class="ttname"><a href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">nutrients::kcal</a></div><div class="ttdeci">int kcal() const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00118">stomach.cpp:118</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00026">c_light_green</a>, <a class="el" href="color_8h_source.html#l00025">c_light_red</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, and <a class="el" href="faction_8h_source.html#l00114">faction_template::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00560">basecamp::faction_display()</a>.</p>

</div>
</div>
<a id="a777873995c5a7f826d4c9c0558f73406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777873995c5a7f826d4c9c0558f73406">&#9670;&nbsp;</a></span>food_supply_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string faction::food_supply_text </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00323">323</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">//Convert to how many days you can support the population</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordtype">int</span> val = <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / ( <a class="code" href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">size</a> * 288 );</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span>( val &gt;= 30 ) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Faction food&quot;</span>, <span class="stringliteral">&quot;Overflowing&quot;</span> );</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span>( val &gt;= 14 ) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Faction food&quot;</span>, <span class="stringliteral">&quot;Well-Stocked&quot;</span> );</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span>( val &gt;= 6 ) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Faction food&quot;</span>, <span class="stringliteral">&quot;Scrapping By&quot;</span> );</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span>( val &gt;= 3 ) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Faction food&quot;</span>, <span class="stringliteral">&quot;Malnourished&quot;</span> );</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;Faction food&quot;</span>, <span class="stringliteral">&quot;Starving&quot;</span> );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, and <a class="el" href="faction_8h_source.html#l00114">faction_template::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00560">basecamp::faction_display()</a>.</p>

</div>
</div>
<a id="a74f8f44dff406529621a634bd3b41285"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f8f44dff406529621a634bd3b41285">&#9670;&nbsp;</a></span>get_price_rules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfaction__price__rule.html">faction_price_rule</a> const  * faction::get_price_rules </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> const &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> const &amp;&#160;</td>
          <td class="paramname"><em>guy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00407">407</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> el = std::find_if(</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classfaction__template.html#a6dc76f822ad62b11a61d79b4e89db49b">price_rules</a>.crbegin(), <a class="code" href="classfaction__template.html#a6dc76f822ad62b11a61d79b4e89db49b">price_rules</a>.crend(), [&amp;it, &amp;guy]( <a class="code" href="structfaction__price__rule.html">faction_price_rule</a> <span class="keyword">const</span> &amp; fc ) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        return fc.matches( it, guy );</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    } );</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span>( el != <a class="code" href="classfaction__template.html#a6dc76f822ad62b11a61d79b4e89db49b">price_rules</a>.crend() ) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> &amp;*el;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="ttc" id="aclassfaction__template_html_a6dc76f822ad62b11a61d79b4e89db49b"><div class="ttname"><a href="classfaction__template.html#a6dc76f822ad62b11a61d79b4e89db49b">faction_template::price_rules</a></div><div class="ttdeci">std::vector&lt; faction_price_rule &gt; price_rules</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00120">faction.h:120</a></div></div>
<div class="ttc" id="astructfaction__price__rule_html"><div class="ttname"><a href="structfaction__price__rule.html">faction_price_rule</a></div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00073">faction.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8h_source.html#l00120">faction_template::price_rules</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l02109">npc::get_price_rules()</a>.</p>

</div>
</div>
<a id="abc85591e6e5bfe39bda000b6be12957c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc85591e6e5bfe39bda000b6be12957c">&#9670;&nbsp;</a></span>has_relationship()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool faction::has_relationship </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="basecamp_8h.html#ab899db7b87cf958f079fe0f14793625b">faction_id</a> &amp;&#160;</td>
          <td class="paramname"><em>guy_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacenpc__factions.html#af09ec48d0dc133795062d1424c486686">npc_factions::relationship</a>&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00419">419</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rel_data : <a class="code" href="classfaction__template.html#a02a49a8831a9393a67713992ba559a26">relations</a> ) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">if</span>( rel_data.first == guy_id.<a class="code" href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">c_str</a>() ) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">return</span> rel_data.second.test( flag );</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="ttc" id="aclassfaction__template_html_a02a49a8831a9393a67713992ba559a26"><div class="ttname"><a href="classfaction__template.html#a02a49a8831a9393a67713992ba559a26">faction_template::relations</a></div><div class="ttdeci">std::map&lt; std::string, std::bitset&lt; npc_factions::rel_types &gt; &gt; relations</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00121">faction.h:121</a></div></div>
<div class="ttc" id="aclassstring__id_html_a2c0e3a434bcb9e3c353b337053ff22d8"><div class="ttname"><a href="classstring__id.html#a2c0e3a434bcb9e3c353b337053ff22d8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00252">string_id.h:252</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="string__id_8h_source.html#l00252">string_id&lt; T &gt;::c_str()</a>, and <a class="el" href="faction_8h_source.html#l00121">faction_template::relations</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l02249">npc::has_faction_relationship()</a>.</p>

</div>
</div>
<a id="a288c06ab605ad19b0102a6c90246320f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288c06ab605ad19b0102a6c90246320f">&#9670;&nbsp;</a></span>remove_member()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction::remove_member </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcharacter__id.html">character_id</a> &amp;&#160;</td>
          <td class="paramname"><em>guy_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00176">176</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = <a class="code" href="classfaction.html#accb55556a4c073106a18042a219a7e7f">members</a>.cbegin(), next_it = it; it != <a class="code" href="classfaction.html#accb55556a4c073106a18042a219a7e7f">members</a>.cend(); it = next_it ) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        ++next_it;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span>( guy_id == it-&gt;first ) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="classfaction.html#accb55556a4c073106a18042a219a7e7f">members</a>.erase( it );</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classfaction.html#accb55556a4c073106a18042a219a7e7f">members</a>.empty() ) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="classfaction__template.html">faction_template</a> &amp;elem : <a class="code" href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a> ) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="comment">// This is a templated base faction - don&#39;t delete it, just leave it as zero members for now.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="comment">// Only want to delete dynamically created factions.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">if</span>( elem.id == <span class="keywordtype">id</span> ) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;faction_manager_ptr-&gt;remove_faction( <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00382">game.cpp:382</a></div></div>
<div class="ttc" id="anamespacenpc__factions_html_a0cfe595c2dd834c99b01b9b883177f93"><div class="ttname"><a href="namespacenpc__factions.html#a0cfe595c2dd834c99b01b9b883177f93">npc_factions::all_templates</a></div><div class="ttdeci">static std::vector&lt; faction_template &gt; all_templates</div><div class="ttdef"><b>Definition:</b> <a href="faction_8cpp_source.html#l00054">faction.cpp:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="faction_8cpp_source.html#l00054">npc_factions::all_templates</a>, <a class="el" href="game_8cpp_source.html#l00382">g</a>, and <a class="el" href="faction_8h_source.html#l00151">members</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l02790">npc::die()</a>, and <a class="el" href="npc_8cpp_source.html#l00747">npc::set_fac()</a>.</p>

</div>
</div>
<a id="a90c98bb6c56bf607fbd4004ac03fc83b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90c98bb6c56bf607fbd4004ac03fc83b">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void faction::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l03696">3696</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;{</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160; </div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;name&quot;</span>, <a class="code" href="classfaction__template.html#a9fa57ac248112fa09f2bbe19826f93fc">name</a> );</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;likes_u&quot;</span>, <a class="code" href="classfaction__template.html#a8927427656119c2e4b1046b19c521313">likes_u</a> );</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;respects_u&quot;</span>, <a class="code" href="classfaction__template.html#acf4662d3cabe4bb0e7b2a6693d7abc43">respects_u</a> );</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;trusts_u&quot;</span>, <a class="code" href="classfaction__template.html#a7c6bf7af56797169006e95328f81a1fd">trusts_u</a> );</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;known_by_u&quot;</span>, <a class="code" href="classfaction__template.html#a5e2a500660f3adf90c6940ecbe78ccee">known_by_u</a> );</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;size&quot;</span>, <a class="code" href="classfaction__template.html#a46ce16367a6224fc2579540f2561a2fe">size</a> );</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;power&quot;</span>, <a class="code" href="classfaction__template.html#a7d31d07f4f9cf6d639be77e0a2fa201e">power</a> );</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;fac_food_supply&quot;</span>, <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a> );</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;wealth&quot;</span>, <a class="code" href="classfaction__template.html#af35b6015c1e2574cc3735d43341215ba">wealth</a> );</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;opinion_of&quot;</span>, <a class="code" href="classfaction.html#a42a94841b12ee6ef6491897b3d7ba0c2">opinion_of</a> );</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( <span class="stringliteral">&quot;relations&quot;</span> );</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rel_data : <a class="code" href="classfaction__template.html#a02a49a8831a9393a67713992ba559a26">relations</a> ) {</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;        json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( rel_data.first );</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;        json.<a class="code" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rel_flag : <a class="code" href="namespacenpc__factions.html#abc290a7ac3e44667ef68d4371334b535">npc_factions::relation_strs</a> ) {</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;            json.<a class="code" href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">member</a>( rel_flag.first, rel_data.second.test( rel_flag.second ) );</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        }</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;        json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    }</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160; </div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    json.<a class="code" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;}</div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02316">json.cpp:2316</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02327">json.cpp:2327</a></div></div>
<div class="ttc" id="aclassJsonOut_html_afb935698620b87ff71b01e7763004de1"><div class="ttname"><a href="classJsonOut.html#afb935698620b87ff71b01e7763004de1">JsonOut::member</a></div><div class="ttdeci">void member(std::string_view name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02422">json.cpp:2422</a></div></div>
<div class="ttc" id="anamespacenpc__factions_html_abc290a7ac3e44667ef68d4371334b535"><div class="ttname"><a href="namespacenpc__factions.html#abc290a7ac3e44667ef68d4371334b535">npc_factions::relation_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, relationship &gt; relation_strs</div><div class="ttdef"><b>Definition:</b> <a href="faction_8h_source.html#l00061">faction.h:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l02327">JsonOut::end_object()</a>, <a class="el" href="json_8cpp_source.html#l02422">JsonOut::member()</a>, <a class="el" href="overmap_8cpp_source.html#l06412">om_direction::name()</a>, <a class="el" href="faction_8h_source.html#l00061">npc_factions::relation_strs</a>, <a class="el" href="item__pocket_8cpp_source.html#l00553">item_pocket::size()</a>, and <a class="el" href="json_8cpp_source.html#l02316">JsonOut::start_object()</a>.</p>

</div>
</div>
<a id="ae31aa27b37236dc896fb8582515fcdb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31aa27b37236dc896fb8582515fcdb1">&#9670;&nbsp;</a></span>vitamin_stores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="classnc__color.html">nc_color</a>, std::string &gt; faction::vitamin_stores </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38">vitamin_type</a>&#160;</td>
          <td class="paramname"><em>vit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8cpp_source.html#l00358">358</a> of file <a class="el" href="faction_8cpp_source.html">faction.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">bool</span> is_toxin = vit_type == <a class="code" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22">vitamin_type::TOXIN</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> days_of_food = <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a27fef4783e99c7f2471a9fabcabe19b5">kcal</a>() / 3000.0;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    std::map&lt;vitamin_id, int&gt; stored_vits = <a class="code" href="classfaction__template.html#a9cda490b58dc788f44e057bfd29a9971">food_supply</a>.<a class="code" href="structnutrients.html#a5bbbdebac3455bf17563f7f8754e1a10">vitamins</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// First, pare down our search to only the relevant type</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = stored_vits.cbegin(); it != stored_vits.cend(); ) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span>( it-&gt;first-&gt;type() != vit_type ) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            it = stored_vits.erase( it );</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            ++it;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span>( stored_vits.empty() ) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">return</span> std::pair&lt;nc_color, std::string&gt;( !is_toxin ? <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a> : <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;None present (NONE)&quot;</span> ) );</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    std::vector&lt;std::pair&lt;vitamin_id, double&gt;&gt; vitamins;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// Iterate the map&#39;s content into a sortable container...</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;vit : stored_vits ) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordtype">int</span> units_per_day = vit.first.obj().units_absorption_per_day();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordtype">double</span> relative_intake = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( vit.second ) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                 ( units_per_day ) / days_of_food;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">// We use the inverse value for toxins, since they are bad.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span>( is_toxin ) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            relative_intake = 1 / relative_intake;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        vitamins.emplace_back( vit.first, relative_intake );</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// Sort to find the worst-case scenario, lowest relative_intake is first</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    std::sort( vitamins.begin(), vitamins.end(), []( <span class="keyword">const</span> <span class="keyword">auto</span> &amp; x, <span class="keyword">const</span> <span class="keyword">auto</span> &amp; y ) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        return x.second &gt; y.second;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    } );</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> worst_intake = vitamins.at( 0 ).second;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    std::string vit_name = vitamins.at( 0 ).first.obj().name();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    std::string msg = is_toxin ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(TRACE)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(PLENTY)&quot;</span> );</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span>( worst_intake &lt;= 0.3 ) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        msg = is_toxin ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(POISON)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(LACK)&quot;</span> );</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">return</span> std::pair&lt;nc_color, std::string&gt;( <a class="code" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s %2$s&quot;</span> ), vit_name,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                msg ) );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span>( worst_intake &lt;= 1.0 ) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        msg = is_toxin ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(DANGER)&quot;</span> ) : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;(MEAGER)&quot;</span> );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> std::pair&lt;nc_color, std::string&gt;( <a class="code" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s %2$s&quot;</span> ), vit_name,</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                msg ) );</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">return</span> std::pair&lt;nc_color, std::string&gt;( <a class="code" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%1$s %2$s&quot;</span> ), vit_name,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            msg ) );</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructnutrients_html_a5bbbdebac3455bf17563f7f8754e1a10"><div class="ttname"><a href="structnutrients.html#a5bbbdebac3455bf17563f7f8754e1a10">nutrients::vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, int &gt; vitamins() const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00047">stomach.cpp:47</a></div></div>
<div class="ttc" id="avitamin_8h_html_ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22"><div class="ttname"><a href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22">vitamin_type::TOXIN</a></div><div class="ttdeci">@ TOXIN</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00020">c_green</a>, <a class="el" href="color_8h_source.html#l00019">c_red</a>, <a class="el" href="color_8h_source.html#l00030">c_yellow</a>, <a class="el" href="faction_8h_source.html#l00116">faction_template::food_supply</a>, <a class="el" href="stomach_8cpp_source.html#l00118">nutrients::kcal()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="vitamin_8h.html#ae396a2f322817bcd5b6c0883c52c0e38a70183d1b56ada5a90204b400bb8cbb22">TOXIN</a>, and <a class="el" href="stomach_8cpp_source.html#l00047">nutrients::vitamins()</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00560">basecamp::faction_display()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="accb55556a4c073106a18042a219a7e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb55556a4c073106a18042a219a7e7f">&#9670;&nbsp;</a></span>members</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="classcharacter__id.html">character_id</a>, std::pair&lt;std::string, bool&gt; &gt; faction::members</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00151">151</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="faction_8cpp_source.html#l00170">add_to_membership()</a>, <a class="el" href="npc_8cpp_source.html#l02790">npc::die()</a>, and <a class="el" href="faction_8cpp_source.html#l00176">remove_member()</a>.</p>

</div>
</div>
<a id="a42a94841b12ee6ef6491897b3d7ba0c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a94841b12ee6ef6491897b3d7ba0c2">&#9670;&nbsp;</a></span>opinion_of</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; faction::opinion_of</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00149">149</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>

</div>
</div>
<a id="adf399cada16a8fdaf03304a663fe8da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf399cada16a8fdaf03304a663fe8da5">&#9670;&nbsp;</a></span>validated</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool faction::validated = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="faction_8h_source.html#l00150">150</a> of file <a class="el" href="faction_8h_source.html">faction.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="faction_8h_source.html">faction.h</a></li>
<li>src/<a class="el" href="faction_8cpp_source.html">faction.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:38 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
