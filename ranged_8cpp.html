<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm DDA: src/ranged.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm DDA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ranged.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ranged_8h_source.html">ranged.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="activity__actor__definitions_8h_source.html">activity_actor_definitions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avatar_8h_source.html">avatar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bionics_8h_source.html">bionics.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ballistics_8h_source.html">ballistics.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cached__options_8h_source.html">cached_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calendar_8h_source.html">calendar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cata__scope__helpers_8h_source.html">cata_scope_helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cata__utility_8h_source.html">cata_utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="catacharset_8h_source.html">catacharset.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character_8h_source.html">character.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="color_8h_source.html">color.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="creature__tracker_8h_source.html">creature_tracker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cursesdef_8h_source.html">cursesdef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="damage_8h_source.html">damage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dispersion_8h_source.html">dispersion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="enums_8h_source.html">enums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="event_8h_source.html">event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="event__bus_8h_source.html">event_bus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="flag_8h_source.html">flag.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game_8h_source.html">game.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game__constants_8h_source.html">game_constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gun__mode_8h_source.html">gun_mode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input_8h_source.html">input.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input__context_8h_source.html">input_context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__location_8h_source.html">item_location.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="itype_8h_source.html">itype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="line_8h_source.html">line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magic_8h_source.html">magic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="map_8h_source.html">map.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="math__defines_8h_source.html">math_defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="memory__fast_8h_source.html">memory_fast.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messages_8h_source.html">messages.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster_8h_source.html">monster.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="morale__types_8h_source.html">morale_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtype_8h_source.html">mtype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="npc_8h_source.html">npc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="options_8h_source.html">options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="output_8h_source.html">output.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="panels_8h_source.html">panels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pocket__type_8h_source.html">pocket_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="point_8h_source.html">point.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="projectile_8h_source.html">projectile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ret__val_8h_source.html">ret_val.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rng_8h_source.html">rng.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="skill_8h_source.html">skill.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sounds_8h_source.html">sounds.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__formatter_8h_source.html">string_formatter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translations_8h_source.html">translations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trap_8h_source.html">trap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="try__parse__integer_8h_source.html">try_parse_integer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__id_8h_source.html">type_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units_8h_source.html">units.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units__utility_8h_source.html">units_utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="value__ptr_8h_source.html">value_ptr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vehicle_8h_source.html">vehicle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vpart__position_8h_source.html">vpart_position.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="weakpoint_8h_source.html">weakpoint.h</a>&quot;</code><br />
</div>
<p><a href="ranged_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtarget__ui.html">target_ui</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtarget__ui_1_1turret__with__lof.html">target_ui::turret_with_lof</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconfidence__rating.html">confidence_rating</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaim__type__prediction.html">aim_type_prediction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaim__type__prediction_1_1aim__confidence.html">aim_type_prediction::aim_confidence</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrecoil__prediction.html">recoil_prediction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a86a68d80cad5052d3e456a9fb8b1769d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a86a68d80cad5052d3e456a9fb8b1769d">RatingVector</a> = std::vector&lt; std::tuple&lt; double, char, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &gt;</td></tr>
<tr class="separator:a86a68d80cad5052d3e456a9fb8b1769d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0db3d2d826960249b5a1d47fa7881ff"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structprojectile.html">projectile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ab0db3d2d826960249b5a1d47fa7881ff">make_gun_projectile</a> (const <a class="el" href="classitem.html">item</a> &amp;gun)</td></tr>
<tr class="separator:ab0db3d2d826960249b5a1d47fa7881ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613a8b59e4b2f2aaf05091d354bb4aa3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a613a8b59e4b2f2aaf05091d354bb4aa3">time_to_attack</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;p, const <a class="el" href="structitype.html">itype</a> &amp;firing)</td></tr>
<tr class="separator:a613a8b59e4b2f2aaf05091d354bb4aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035c67a119c3f5a39b1069944798c9fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a035c67a119c3f5a39b1069944798c9fc">cycle_action</a> (<a class="el" href="classitem.html">item</a> &amp;weap, const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;ammo, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="memdesc:a035c67a119c3f5a39b1069944798c9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle spent ammo casings and linkages.  <a href="ranged_8cpp.html#a035c67a119c3f5a39b1069944798c9fc">More...</a><br /></td></tr>
<tr class="separator:a035c67a119c3f5a39b1069944798c9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b78ee77e8e3b8527bff0ce8e7a5651"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a13b78ee77e8e3b8527bff0ce8e7a5651">make_gun_sound_effect</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;p, bool burst, <a class="el" href="classitem.html">item</a> *weapon)</td></tr>
<tr class="separator:a13b78ee77e8e3b8527bff0ce8e7a5651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316a84fb241b414c913730a952265b72"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a316a84fb241b414c913730a952265b72">occupied_tile_fraction</a> (<a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a> target_size)</td></tr>
<tr class="separator:a316a84fb241b414c913730a952265b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4c3a2a360b378de261413fbb7d84f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a6b4c3a2a360b378de261413fbb7d84f0">range_with_even_chance_of_good_hit</a> (int dispersion)</td></tr>
<tr class="separator:a6b4c3a2a360b378de261413fbb7d84f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55aace1fedc5b64c6d3d0418e251c38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aa55aace1fedc5b64c6d3d0418e251c38">throw_cost</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, const <a class="el" href="classitem.html">item</a> &amp;to_throw)</td></tr>
<tr class="separator:aa55aace1fedc5b64c6d3d0418e251c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff8232af89fc85c44dee1cd0525f655"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a7ff8232af89fc85c44dee1cd0525f655">calculate_aim_cap</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target)</td></tr>
<tr class="separator:a7ff8232af89fc85c44dee1cd0525f655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969d7fb0eb05d60c2c98eb568bce69f2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a969d7fb0eb05d60c2c98eb568bce69f2">calc_steadiness</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="classitem.html">item</a> &amp;weapon, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, double predicted_recoil)</td></tr>
<tr class="separator:a969d7fb0eb05d60c2c98eb568bce69f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8aae9d14e825d1fa9707093ef0a616"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a9a8aae9d14e825d1fa9707093ef0a616">character_throw_assist</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;guy)</td></tr>
<tr class="separator:a9a8aae9d14e825d1fa9707093ef0a616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a73511d720b80c22f04cdb5a5662393"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a6a73511d720b80c22f04cdb5a5662393">throwing_skill_adjusted</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;guy)</td></tr>
<tr class="separator:a6a73511d720b80c22f04cdb5a5662393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b9efd8abced2440e1b53139f2696d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ae8b9efd8abced2440e1b53139f2696d7">practice_archery_proficiency</a> (<a class="el" href="classCharacter.html">Character</a> &amp;p, const <a class="el" href="classitem.html">item</a> &amp;relevant)</td></tr>
<tr class="separator:ae8b9efd8abced2440e1b53139f2696d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d15a168c57c6a43e0e7130e7aac2120"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a2d15a168c57c6a43e0e7130e7aac2120">mod_stamina_archery</a> (<a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="classitem.html">item</a> &amp;relevant)</td></tr>
<tr class="separator:a2d15a168c57c6a43e0e7130e7aac2120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e2f802cc8fb025d3dd4ada3da65c55"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ae6e2f802cc8fb025d3dd4ada3da65c55">do_aim</a> (<a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="classitem.html">item</a> &amp;relevant, const double min_recoil)</td></tr>
<tr class="separator:ae6e2f802cc8fb025d3dd4ada3da65c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ce33f7e8ed6c701d44bf39e98de576"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ab1ce33f7e8ed6c701d44bf39e98de576">print_steadiness</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int line_number, double steadiness)</td></tr>
<tr class="separator:ab1ce33f7e8ed6c701d44bf39e98de576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1942f5c7424513a78ab3491db37341f1"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a1942f5c7424513a78ab3491db37341f1">confidence_estimate</a> (const <a class="el" href="structTarget__attributes.html">Target_attributes</a> &amp;attributes, const <a class="el" href="classdispersion__sources.html">dispersion_sources</a> &amp;dispersion)</td></tr>
<tr class="separator:a1942f5c7424513a78ab3491db37341f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa68fa53ae2a9bc0bb461af10bec001fe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structaim__type.html">aim_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aa68fa53ae2a9bc0bb461af10bec001fe">get_default_aim_type</a> ()</td></tr>
<tr class="separator:aa68fa53ae2a9bc0bb461af10bec001fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae485e14f2f0d97810da8125353dfa101"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ae485e14f2f0d97810da8125353dfa101">get_colored_bar</a> (const double val, const int width, const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;<a class="el" href="structlabel.html">label</a>, RatingVector::iterator begin, RatingVector::iterator end)</td></tr>
<tr class="separator:ae485e14f2f0d97810da8125353dfa101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967f906a89a2a31d1bdb0fbc93e6ddf9"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a967f906a89a2a31d1bdb0fbc93e6ddf9">target_size_in_moa</a> (int range, double size)</td></tr>
<tr class="separator:a967f906a89a2a31d1bdb0fbc93e6ddf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9301f55736d917c84a4ebf973386a40e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structrecoil__prediction.html">recoil_prediction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a9301f55736d917c84a4ebf973386a40e">predict_recoil</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="classitem.html">item</a> &amp;weapon, const <a class="el" href="structTarget__attributes.html">Target_attributes</a> &amp;target, int sight_dispersion, const <a class="el" href="structaim__type.html">aim_type</a> &amp;aim_mode, double start_recoil)</td></tr>
<tr class="separator:a9301f55736d917c84a4ebf973386a40e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221acbe15b21618febcda6765ff3223c"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="structaim__type__prediction.html">aim_type_prediction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a221acbe15b21618febcda6765ff3223c">calculate_ranged_chances</a> (const <a class="el" href="classtarget__ui.html">target_ui</a> &amp;ui, const <a class="el" href="classCharacter.html">Character</a> &amp;you, <a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997">target_ui::TargetMode</a> mode, const <a class="el" href="classinput__context.html">input_context</a> &amp;ctxt, const <a class="el" href="classitem.html">item</a> &amp;weapon, const <a class="el" href="classdispersion__sources.html">dispersion_sources</a> &amp;dispersion, const std::vector&lt; <a class="el" href="structconfidence__rating.html">confidence_rating</a> &gt; &amp;confidence_ratings, const <a class="el" href="structTarget__attributes.html">Target_attributes</a> &amp;target, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a221acbe15b21618febcda6765ff3223c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f62035db4e943bb2c797e8c3febedd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ae2f62035db4e943bb2c797e8c3febedd">print_confidence_ratings</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, const std::vector&lt; <a class="el" href="structconfidence__rating.html">confidence_rating</a> &gt; &amp;ratings, int &amp;line_number, int width, int &amp;column_number, <a class="el" href="classnc__color.html">nc_color</a> col)</td></tr>
<tr class="separator:ae2f62035db4e943bb2c797e8c3febedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad665e86d9214ba9ef7722492a65cac0d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ad665e86d9214ba9ef7722492a65cac0d">print_confidence_rating_bar</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <a class="el" href="structaim__type__prediction.html">aim_type_prediction</a> prediction, int &amp;line_number, int width, <a class="el" href="classnc__color.html">nc_color</a> col)</td></tr>
<tr class="separator:ad665e86d9214ba9ef7722492a65cac0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd0e174103e30dd7949347118557bc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a4fd0e174103e30dd7949347118557bc8">print_ranged_chance</a> (const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int line_number, const std::vector&lt; <a class="el" href="structaim__type__prediction.html">aim_type_prediction</a> &gt; &amp;aim_chances)</td></tr>
<tr class="separator:a4fd0e174103e30dd7949347118557bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4d782d03c3f30e5b3332260ded8951"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a7c4d782d03c3f30e5b3332260ded8951">pl_sees</a> (const <a class="el" href="classCreature.html">Creature</a> &amp;cr)</td></tr>
<tr class="separator:a7c4d782d03c3f30e5b3332260ded8951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0702c7984ec8768691cb9a805616d1de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a0702c7984ec8768691cb9a805616d1de">print_aim</a> (const <a class="el" href="classtarget__ui.html">target_ui</a> &amp;ui, <a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int line_number, <a class="el" href="classinput__context.html">input_context</a> &amp;ctxt, const <a class="el" href="classitem.html">item</a> &amp;weapon, const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos)</td></tr>
<tr class="separator:a0702c7984ec8768691cb9a805616d1de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8bc17f1bcf65d90738d8d06460c91a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aad8bc17f1bcf65d90738d8d06460c91a">draw_throw_aim</a> (const <a class="el" href="classtarget__ui.html">target_ui</a> &amp;ui, const <a class="el" href="classCharacter.html">Character</a> &amp;you, const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, int &amp;text_y, <a class="el" href="classinput__context.html">input_context</a> &amp;ctxt, const <a class="el" href="classitem.html">item</a> &amp;weapon, const <a class="el" href="structtripoint.html">tripoint</a> &amp;target_pos, bool is_blind_throw)</td></tr>
<tr class="separator:aad8bc17f1bcf65d90738d8d06460c91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217238d7885e55ae74878bbb1f99cddd"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a217238d7885e55ae74878bbb1f99cddd">dispersion_from_skill</a> (double skill, double weapon_dispersion)</td></tr>
<tr class="separator:a217238d7885e55ae74878bbb1f99cddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e93476c9d626924c31cf14193305b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a18e93476c9d626924c31cf14193305b3">gunmode_checks_common</a> (<a class="el" href="classavatar.html">avatar</a> &amp;you, const <a class="el" href="classmap.html">map</a> &amp;m, std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &amp;messages, const <a class="el" href="classgun__mode.html">gun_mode</a> &amp;gmode)</td></tr>
<tr class="memdesc:a18e93476c9d626924c31cf14193305b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common checks for gunmode (when firing a weapon / manually firing turret)  <a href="ranged_8cpp.html#a18e93476c9d626924c31cf14193305b3">More...</a><br /></td></tr>
<tr class="separator:a18e93476c9d626924c31cf14193305b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207024a5d17769a16bfc8a7a434d72cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a207024a5d17769a16bfc8a7a434d72cd">gunmode_checks_weapon</a> (<a class="el" href="classavatar.html">avatar</a> &amp;you, const <a class="el" href="classmap.html">map</a> &amp;m, std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &amp;messages, const <a class="el" href="classgun__mode.html">gun_mode</a> &amp;gmode)</td></tr>
<tr class="memdesc:a207024a5d17769a16bfc8a7a434d72cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Various checks for gunmode when firing a weapon.  <a href="ranged_8cpp.html#a207024a5d17769a16bfc8a7a434d72cd">More...</a><br /></td></tr>
<tr class="separator:a207024a5d17769a16bfc8a7a434d72cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5b115344b066e0eebf72b6fcafaebfb2"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a5b115344b066e0eebf72b6fcafaebfb2">ammo_120mm</a> (&quot;120mm&quot;)</td></tr>
<tr class="separator:a5b115344b066e0eebf72b6fcafaebfb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9a7d0a1b73c0f70f96584ecc262420"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a7c9a7d0a1b73c0f70f96584ecc262420">ammo_12mm</a> (&quot;12mm&quot;)</td></tr>
<tr class="separator:a7c9a7d0a1b73c0f70f96584ecc262420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5894429e236b2dc2ee157ce48d7ad02e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a5894429e236b2dc2ee157ce48d7ad02e">ammo_40x46mm</a> (&quot;40x46mm&quot;)</td></tr>
<tr class="separator:a5894429e236b2dc2ee157ce48d7ad02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ab4ea57b22b751cee023b1798c68f2"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a57ab4ea57b22b751cee023b1798c68f2">ammo_40x53mm</a> (&quot;40x53mm&quot;)</td></tr>
<tr class="separator:a57ab4ea57b22b751cee023b1798c68f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab386b4796e39e527e91a503f6975c82d"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ab386b4796e39e527e91a503f6975c82d">ammo_66mm</a> (&quot;66mm&quot;)</td></tr>
<tr class="separator:ab386b4796e39e527e91a503f6975c82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638a17e59573d9d6bac0a05980096c37"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a638a17e59573d9d6bac0a05980096c37">ammo_84x246mm</a> (&quot;84x246mm&quot;)</td></tr>
<tr class="separator:a638a17e59573d9d6bac0a05980096c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68193ecd0be34e65f12a3febf6f7b6e1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a68193ecd0be34e65f12a3febf6f7b6e1">ammo_RPG_7</a> (&quot;RPG-7&quot;)</td></tr>
<tr class="separator:a68193ecd0be34e65f12a3febf6f7b6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282ca1601a24be0ae7aae003597e7ada"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a282ca1601a24be0ae7aae003597e7ada">ammo_arrow</a> (&quot;arrow&quot;)</td></tr>
<tr class="separator:a282ca1601a24be0ae7aae003597e7ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990502dafd582f371f40de17ae3f5ef4"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a990502dafd582f371f40de17ae3f5ef4">ammo_atgm</a> (&quot;atgm&quot;)</td></tr>
<tr class="separator:a990502dafd582f371f40de17ae3f5ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce4de21dacf3a60c3da7dcead0fd08f"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a6ce4de21dacf3a60c3da7dcead0fd08f">ammo_atlatl</a> (&quot;atlatl&quot;)</td></tr>
<tr class="separator:a6ce4de21dacf3a60c3da7dcead0fd08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609c386685fa395233e3f1765e57a38b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a609c386685fa395233e3f1765e57a38b">ammo_bolt</a> (&quot;bolt&quot;)</td></tr>
<tr class="separator:a609c386685fa395233e3f1765e57a38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab3d18c8a6ece5b486b6e3965e27dde"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#abab3d18c8a6ece5b486b6e3965e27dde">ammo_bolt_ballista</a> (&quot;bolt_ballista&quot;)</td></tr>
<tr class="separator:abab3d18c8a6ece5b486b6e3965e27dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66543644370f9b1d803abac7d90cd033"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a66543644370f9b1d803abac7d90cd033">ammo_flammable</a> (&quot;flammable&quot;)</td></tr>
<tr class="separator:a66543644370f9b1d803abac7d90cd033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf1c5ee613ec0609d2ae3a7a46b4b8d"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aecf1c5ee613ec0609d2ae3a7a46b4b8d">ammo_homebrew_rocket</a> (&quot;homebrew_rocket&quot;)</td></tr>
<tr class="separator:aecf1c5ee613ec0609d2ae3a7a46b4b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c0e98b7eaad878f45b27c21f4d6393"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a81c0e98b7eaad878f45b27c21f4d6393">ammo_m235</a> (&quot;m235&quot;)</td></tr>
<tr class="separator:a81c0e98b7eaad878f45b27c21f4d6393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac283fa14509e26bd1becc0a28dfcb8d1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ac283fa14509e26bd1becc0a28dfcb8d1">ammo_metal_rail</a> (&quot;metal_rail&quot;)</td></tr>
<tr class="separator:ac283fa14509e26bd1becc0a28dfcb8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4daea1de5d5e6f0b8d268b627b874139"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a4daea1de5d5e6f0b8d268b627b874139">ammo_strange_arrow</a> (&quot;strange_arrow&quot;)</td></tr>
<tr class="separator:a4daea1de5d5e6f0b8d268b627b874139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738f726f320c7f5b5edca445777a14fa"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a738f726f320c7f5b5edca445777a14fa">bio_railgun</a> (&quot;bio_railgun&quot;)</td></tr>
<tr class="separator:a738f726f320c7f5b5edca445777a14fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591e788884fe3dc8032be8a9fc2ceb3c"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a591e788884fe3dc8032be8a9fc2ceb3c">character_modifier_melee_thrown_move_balance_mod</a> (&quot;melee_thrown_move_balance_mod&quot;)</td></tr>
<tr class="separator:a591e788884fe3dc8032be8a9fc2ceb3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4ed92ee82965b00b2c043ef36261d2"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a8d4ed92ee82965b00b2c043ef36261d2">character_modifier_melee_thrown_move_lift_mod</a> (&quot;melee_thrown_move_lift_mod&quot;)</td></tr>
<tr class="separator:a8d4ed92ee82965b00b2c043ef36261d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6b532c29ec965cbee404c29746a7da"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aef6b532c29ec965cbee404c29746a7da">character_modifier_ranged_dispersion_manip_mod</a> (&quot;ranged_dispersion_manip_mod&quot;)</td></tr>
<tr class="separator:aef6b532c29ec965cbee404c29746a7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab2235167b3bf7fa8f2e8c9163d64d2"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aaab2235167b3bf7fa8f2e8c9163d64d2">character_modifier_thrown_dex_mod</a> (&quot;thrown_dex_mod&quot;)</td></tr>
<tr class="separator:aaab2235167b3bf7fa8f2e8c9163d64d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157369b3ee1f3f5a889eb1d42ed97638"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a157369b3ee1f3f5a889eb1d42ed97638">damage_bash</a> (&quot;bash&quot;)</td></tr>
<tr class="separator:a157369b3ee1f3f5a889eb1d42ed97638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd517a9e74b5a5a21f0c75f88f50090"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aecd517a9e74b5a5a21f0c75f88f50090">damage_cut</a> (&quot;cut&quot;)</td></tr>
<tr class="separator:aecd517a9e74b5a5a21f0c75f88f50090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08481f62adb6937636ea44b855311037"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> (&quot;downed&quot;)</td></tr>
<tr class="separator:a08481f62adb6937636ea44b855311037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de2ef4c2e145815427b09adfaa0def5"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a4de2ef4c2e145815427b09adfaa0def5">effect_hit_by_player</a> (&quot;hit_by_player&quot;)</td></tr>
<tr class="separator:a4de2ef4c2e145815427b09adfaa0def5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3be9304af3e12dfef2f28becb7b93011"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a3be9304af3e12dfef2f28becb7b93011">effect_on_roof</a> (&quot;on_roof&quot;)</td></tr>
<tr class="separator:a3be9304af3e12dfef2f28becb7b93011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308f7276ae25fff301d31c7fd64270e4"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a308f7276ae25fff301d31c7fd64270e4">effect_quadruped_full</a> (&quot;quadruped_full&quot;)</td></tr>
<tr class="separator:a308f7276ae25fff301d31c7fd64270e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a67c1570499e9c4ab345a0c6f1ba026"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a6a67c1570499e9c4ab345a0c6f1ba026">fault_gun_blackpowder</a> (&quot;fault_gun_blackpowder&quot;)</td></tr>
<tr class="separator:a6a67c1570499e9c4ab345a0c6f1ba026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace607007c38b8d55a601963b24f89e7e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ace607007c38b8d55a601963b24f89e7e">fault_gun_chamber_spent</a> (&quot;fault_gun_chamber_spent&quot;)</td></tr>
<tr class="separator:ace607007c38b8d55a601963b24f89e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea533037e4a6a02394d39e2d62174bc"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a0ea533037e4a6a02394d39e2d62174bc">fault_gun_dirt</a> (&quot;fault_gun_dirt&quot;)</td></tr>
<tr class="separator:a0ea533037e4a6a02394d39e2d62174bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a490676abb8e2a402ec62817da5311b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a5a490676abb8e2a402ec62817da5311b">fault_overheat_explosion</a> (&quot;fault_overheat_explosion&quot;)</td></tr>
<tr class="separator:a5a490676abb8e2a402ec62817da5311b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa28e14858a862e5085b9c4d06f5bfdc"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aaa28e14858a862e5085b9c4d06f5bfdc">fault_overheat_melting</a> (&quot;fault_overheat_melting&quot;)</td></tr>
<tr class="separator:aaa28e14858a862e5085b9c4d06f5bfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f20bf5a32adb49385320ff391b2f8e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a52f20bf5a32adb49385320ff391b2f8e">fault_overheat_safety</a> (&quot;fault_overheat_safety&quot;)</td></tr>
<tr class="separator:a52f20bf5a32adb49385320ff391b2f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f268fc372aed3ee28ba36bd2d2d5287"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a0f268fc372aed3ee28ba36bd2d2d5287">fault_overheat_venting</a> (&quot;fault_overheat_venting&quot;)</td></tr>
<tr class="separator:a0f268fc372aed3ee28ba36bd2d2d5287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df4dd60924cd337468bb34326d879a7"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a> (&quot;FILTHY&quot;)</td></tr>
<tr class="separator:a4df4dd60924cd337468bb34326d879a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26815bd1f0ea7814c8d82103ce7458d8"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a26815bd1f0ea7814c8d82103ce7458d8">material_budget_steel</a> (&quot;budget_steel&quot;)</td></tr>
<tr class="separator:a26815bd1f0ea7814c8d82103ce7458d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263771acb00bdae9183f85580fcb1b43"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a263771acb00bdae9183f85580fcb1b43">material_case_hardened_steel</a> (&quot;case_hardened_steel&quot;)</td></tr>
<tr class="separator:a263771acb00bdae9183f85580fcb1b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0445510734214e05ba923feabd4b85d9"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a0445510734214e05ba923feabd4b85d9">material_glass</a> (&quot;glass&quot;)</td></tr>
<tr class="separator:a0445510734214e05ba923feabd4b85d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9f8f3600585654b27d71a2dc99a449"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a1e9f8f3600585654b27d71a2dc99a449">material_high_steel</a> (&quot;high_steel&quot;)</td></tr>
<tr class="separator:a1e9f8f3600585654b27d71a2dc99a449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770eb7c8ac46ca214eafc8a3778dc4be"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a> (&quot;iron&quot;)</td></tr>
<tr class="separator:a770eb7c8ac46ca214eafc8a3778dc4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75fbfd35a5881cf4652a8cf745f52b7"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ad75fbfd35a5881cf4652a8cf745f52b7">material_low_steel</a> (&quot;low_steel&quot;)</td></tr>
<tr class="separator:ad75fbfd35a5881cf4652a8cf745f52b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa8fef66699e3dfe7059a6e9cc672a6"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a5fa8fef66699e3dfe7059a6e9cc672a6">material_med_steel</a> (&quot;med_steel&quot;)</td></tr>
<tr class="separator:a5fa8fef66699e3dfe7059a6e9cc672a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cda9e7cd9c37d3822410cf6280babdf"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a> (&quot;steel&quot;)</td></tr>
<tr class="separator:a6cda9e7cd9c37d3822410cf6280babdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b3abec3c86a9a6473849010adee218"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a37b3abec3c86a9a6473849010adee218">material_tempered_steel</a> (&quot;tempered_steel&quot;)</td></tr>
<tr class="separator:a37b3abec3c86a9a6473849010adee218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94296ce179c8a7441548e43d0b8235f"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a3eacdceec9e9a9ff9da9c9167aacc582">proficiency_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#af94296ce179c8a7441548e43d0b8235f">proficiency_prof_bow_basic</a> (&quot;prof_bow_basic&quot;)</td></tr>
<tr class="separator:af94296ce179c8a7441548e43d0b8235f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a31fd4e066d23b9f26579e931b87113"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a3eacdceec9e9a9ff9da9c9167aacc582">proficiency_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a5a31fd4e066d23b9f26579e931b87113">proficiency_prof_bow_expert</a> (&quot;prof_bow_expert&quot;)</td></tr>
<tr class="separator:a5a31fd4e066d23b9f26579e931b87113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f819e79b8cfdcbf08cca629e3073ba"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a3eacdceec9e9a9ff9da9c9167aacc582">proficiency_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ab1f819e79b8cfdcbf08cca629e3073ba">proficiency_prof_bow_master</a> (&quot;prof_bow_master&quot;)</td></tr>
<tr class="separator:ab1f819e79b8cfdcbf08cca629e3073ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8b66e6fc62f3d92b208655f5525bba"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a> (&quot;archery&quot;)</td></tr>
<tr class="separator:a2f8b66e6fc62f3d92b208655f5525bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5482b7403ee4ac3e70e88ecfee2141"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a1d5482b7403ee4ac3e70e88ecfee2141">skill_dodge</a> (&quot;dodge&quot;)</td></tr>
<tr class="separator:a1d5482b7403ee4ac3e70e88ecfee2141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee8dcfd12a225c469ee6171063d7594"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#afee8dcfd12a225c469ee6171063d7594">skill_driving</a> (&quot;driving&quot;)</td></tr>
<tr class="separator:afee8dcfd12a225c469ee6171063d7594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eadead4a9aa7fee079c0b1acce7965e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a3eadead4a9aa7fee079c0b1acce7965e">skill_gun</a> (&quot;gun&quot;)</td></tr>
<tr class="separator:a3eadead4a9aa7fee079c0b1acce7965e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6f7a1d7eeb2c38d69b568d85eb9f0d"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">skill_launcher</a> (&quot;launcher&quot;)</td></tr>
<tr class="separator:a0c6f7a1d7eeb2c38d69b568d85eb9f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d815a8053cfecc8a05374bf92924ba2"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a> (&quot;swimming&quot;)</td></tr>
<tr class="separator:a1d815a8053cfecc8a05374bf92924ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8ae2b9cbc86602a56a3885b72a4ed1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> (&quot;throw&quot;)</td></tr>
<tr class="separator:aca8ae2b9cbc86602a56a3885b72a4ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb9c66af29eade7d376e89264128bcd"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a0fb9c66af29eade7d376e89264128bcd">trait_BRAWLER</a> (&quot;BRAWLER&quot;)</td></tr>
<tr class="separator:a0fb9c66af29eade7d376e89264128bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512959ad2b35ea057f2fed5445fc23c4"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a512959ad2b35ea057f2fed5445fc23c4">trait_PYROMANIA</a> (&quot;PYROMANIA&quot;)</td></tr>
<tr class="separator:a512959ad2b35ea057f2fed5445fc23c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f773999c96865544c00b5496637d56"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#aaf07656eb0d8c6676fbb1849d92cfa26">trap_str_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a> (&quot;tr_practice_target&quot;)</td></tr>
<tr class="separator:a26f773999c96865544c00b5496637d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd87802123477df1237fa5271842f8b"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#a6cd87802123477df1237fa5271842f8b">ferric</a> = { <a class="el" href="ranged_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a>, <a class="el" href="trapfunc_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a>, <a class="el" href="ranged_8cpp.html#a26815bd1f0ea7814c8d82103ce7458d8">material_budget_steel</a>, <a class="el" href="ranged_8cpp.html#a263771acb00bdae9183f85580fcb1b43">material_case_hardened_steel</a>, <a class="el" href="ranged_8cpp.html#a1e9f8f3600585654b27d71a2dc99a449">material_high_steel</a>, <a class="el" href="ranged_8cpp.html#ad75fbfd35a5881cf4652a8cf745f52b7">material_low_steel</a>, <a class="el" href="ranged_8cpp.html#a5fa8fef66699e3dfe7059a6e9cc672a6">material_med_steel</a>, <a class="el" href="ranged_8cpp.html#a37b3abec3c86a9a6473849010adee218">material_tempered_steel</a> }</td></tr>
<tr class="separator:a6cd87802123477df1237fa5271842f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae134db696195500e4ff1835e6f784aca"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ranged_8cpp.html#ae134db696195500e4ff1835e6f784aca">AIF_DURATION_LIMIT</a> = 10</td></tr>
<tr class="separator:ae134db696195500e4ff1835e6f784aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a86a68d80cad5052d3e456a9fb8b1769d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a68d80cad5052d3e456a9fb8b1769d">&#9670;&nbsp;</a></span>RatingVector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="output_8cpp.html#a86a68d80cad5052d3e456a9fb8b1769d">RatingVector</a> =  std::vector&lt;std::tuple&lt;double, char, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a>&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01584">1584</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a969d7fb0eb05d60c2c98eb568bce69f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969d7fb0eb05d60c2c98eb568bce69f2">&#9670;&nbsp;</a></span>calc_steadiness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double calc_steadiness </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weapon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>predicted_recoil</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01156">1156</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;{</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> min_recoil = <a class="code" href="ranged_8cpp.html#a7ff8232af89fc85c44dee1cd0525f655">calculate_aim_cap</a>( you, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> effective_recoil = you.<a class="code" href="classCharacter.html#a2c1e0d2a430258c132cbdff827fc8e89">most_accurate_aiming_method_limit</a>( weapon );</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> min_dispersion = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( min_recoil, effective_recoil );</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> steadiness_range = <a class="code" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a> - min_dispersion;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="comment">// This is a relative measure of how steady the player&#39;s aim is,</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="comment">// 0 is the best the player can do.</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> steady_score = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0, predicted_recoil - min_dispersion );</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// Fairly arbitrary cap on steadiness...</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">return</span> 1.0 - ( steady_score / steadiness_range );</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a2c1e0d2a430258c132cbdff827fc8e89"><div class="ttname"><a href="classCharacter.html#a2c1e0d2a430258c132cbdff827fc8e89">Character::most_accurate_aiming_method_limit</a></div><div class="ttdeci">int most_accurate_aiming_method_limit(const item &amp;gun) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01017">character.cpp:1017</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a8226e8a134603e5bc06df05efd13d8d1"><div class="ttname"><a href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a></div><div class="ttdeci">constexpr double MAX_RECOIL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00137">game_constants.h:137</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a9009aa9e5eb1323238ebddffd8e1aedf"><div class="ttname"><a href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">max</a></div><div class="ttdeci">double max(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00035">math_parser_func.h:35</a></div></div>
<div class="ttc" id="anamespacemath__opers_html_a2f0118617735cc810b9d76d62bd182f6"><div class="ttname"><a href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">math_opers::pos</a></div><div class="ttdeci">constexpr double pos(double, double r)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__impl_8h_source.html#l00203">math_parser_impl.h:203</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a7ff8232af89fc85c44dee1cd0525f655"><div class="ttname"><a href="ranged_8cpp.html#a7ff8232af89fc85c44dee1cd0525f655">calculate_aim_cap</a></div><div class="ttdeci">double calculate_aim_cap(const Character &amp;you, const tripoint &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01140">ranged.cpp:1140</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ranged_8cpp_source.html#l01140">calculate_aim_cap()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="game__constants_8h_source.html#l00137">MAX_RECOIL</a>, <a class="el" href="character_8cpp_source.html#l01017">Character::most_accurate_aiming_method_limit()</a>, and <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>, and <a class="el" href="avatar_8cpp_source.html#l01248">avatar::rebuild_aim_cache()</a>.</p>

</div>
</div>
<a id="a7ff8232af89fc85c44dee1cd0525f655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ff8232af89fc85c44dee1cd0525f655">&#9670;&nbsp;</a></span>calculate_aim_cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double calculate_aim_cap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01140">1140</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordtype">double</span> min_recoil = 0.0;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keyword">const</span> <a class="code" href="classCreature.html">Creature</a> *victim = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( target, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">// No p.sees_with_specials() here because special senses are not precise enough</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="comment">// to give creature&#39;s exact size &amp; position, only which tile it occupies</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">if</span>( victim == <span class="keyword">nullptr</span> || ( !you.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( *victim ) &amp;&amp; !you.<a class="code" href="classCharacter.html#a9976ba9d9bccdaff264bd834628b97ec">sees_with_infrared</a>( *victim ) ) ) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> range = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), target );</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="comment">// Get angle of triangle that spans the target square.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> = 2 * <a class="code" href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a>( 0.5, range );</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">// Convert from radians to arcmin.</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        min_recoil = 60 * 180 * <a class="code" href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">angle</a> / <a class="code" href="math__defines_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">return</span> min_recoil;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a906192bd3a5f29a61ee12695e18d2eb5"><div class="ttname"><a href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_avatar=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l11397">character.cpp:11397</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9976ba9d9bccdaff264bd834628b97ec"><div class="ttname"><a href="classCharacter.html#a9976ba9d9bccdaff264bd834628b97ec">Character::sees_with_infrared</a></div><div class="ttdeci">bool sees_with_infrared(const Creature &amp;critter) const</div><div class="ttdoc">Check whether the this player can see the other creature with infrared.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10481">character.cpp:10481</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00250">creature.h:251</a></div></div>
<div class="ttc" id="aclassCreature_html_a1a65722d07102550f16d17ebd79e2743"><div class="ttname"><a href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">Creature::pos</a></div><div class="ttdeci">tripoint pos() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00178">creature.cpp:178</a></div></div>
<div class="ttc" id="aclasscreature__tracker_html_aba3c6663688bcd1806ea685d6961cb72"><div class="ttname"><a href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_tracker::creature_at</a></div><div class="ttdeci">T * creature_at(const tripoint &amp;p, bool allow_hallucination=false)</div><div class="ttdoc">Returns the Creature at the given location.</div><div class="ttdef"><b>Definition:</b> <a href="creature__tracker_8cpp_source.html#l00303">creature_tracker.cpp:303</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a8e2cbab6dac12095f06b4cff66857fbb"><div class="ttname"><a href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale, LhsInBounds &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale, RhsInBounds &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00769">coordinates.h:769</a></div></div>
<div class="ttc" id="acreature__tracker_8h_html_a16f631f70e72b53e590770670fb301fb"><div class="ttname"><a href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a></div><div class="ttdeci">creature_tracker &amp; get_creature_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13827">game.cpp:13827</a></div></div>
<div class="ttc" id="aline_8cpp_html_aaa43dcdfe5b511b116fafb32c5cff349"><div class="ttname"><a href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a></div><div class="ttdeci">units::angle atan2(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00288">line.cpp:288</a></div></div>
<div class="ttc" id="amath__defines_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="math__defines_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="math__defines_8h_source.html#l00023">math_defines.h:23</a></div></div>
<div class="ttc" id="anamespaceunits_html_a2c7fe916bf04655f9fb4f2abdc5d28ed"><div class="ttname"><a href="namespaceunits.html#a2c7fe916bf04655f9fb4f2abdc5d28ed">units::angle</a></div><div class="ttdeci">quantity&lt; double, angle_in_radians_tag &gt; angle</div><div class="ttdef"><b>Definition:</b> <a href="units__fwd_8h_source.html#l00075">units_fwd.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="line_8cpp_source.html#l00288">atan2()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="math__defines_8h_source.html#l00023">M_PI</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="character_8cpp_source.html#l11397">Character::sees()</a>, and <a class="el" href="character_8cpp_source.html#l10481">Character::sees_with_infrared()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03421">target_ui::action_aim()</a>, <a class="el" href="ranged_8cpp_source.html#l03446">target_ui::action_aim_and_shoot()</a>, and <a class="el" href="ranged_8cpp_source.html#l01156">calc_steadiness()</a>.</p>

</div>
</div>
<a id="a221acbe15b21618febcda6765ff3223c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221acbe15b21618febcda6765ff3223c">&#9670;&nbsp;</a></span>calculate_ranged_chances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt;<a class="el" href="structaim__type__prediction.html">aim_type_prediction</a>&gt; calculate_ranged_chances </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtarget__ui.html">target_ui</a> &amp;&#160;</td>
          <td class="paramname"><em>ui</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997">target_ui::TargetMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classinput__context.html">input_context</a> &amp;&#160;</td>
          <td class="paramname"><em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weapon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdispersion__sources.html">dispersion_sources</a> &amp;&#160;</td>
          <td class="paramname"><em>dispersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structconfidence__rating.html">confidence_rating</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>confidence_ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTarget__attributes.html">Target_attributes</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01692">1692</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;{</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    std::vector&lt;aim_type&gt; aim_types { <a class="code" href="ranged_8cpp.html#aa68fa53ae2a9bc0bb461af10bec001fe">get_default_aim_type</a>() };</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    std::vector&lt;aim_type_prediction&gt; aim_outputs;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span>( mode != <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f">target_ui::TargetMode::Throw</a> &amp;&amp; mode != <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86">target_ui::TargetMode::ThrowBlind</a> ) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        aim_types = you.<a class="code" href="classCharacter.html#a7a8f9ffd035435c9f2777e007059e68d">get_aim_types</a>( weapon );</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="comment">// predict how long it&#39;ll take to reach from current recoil</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="comment">// to the ui&#39;s selected default aim mode threshold.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keyword">const</span> <a class="code" href="structrecoil__prediction.html">recoil_prediction</a> aim_to_selected = <a class="code" href="ranged_8cpp.html#a9301f55736d917c84a4ebf973386a40e">predict_recoil</a>( you, weapon, target,</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <a class="code" href="namespaceui.html">ui</a>.get_sight_dispersion(), <a class="code" href="namespaceui.html">ui</a>.get_selected_aim_type(), you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> selected_steadiness = <a class="code" href="ranged_8cpp.html#a969d7fb0eb05d60c2c98eb568bce69f2">calc_steadiness</a>( you, weapon, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, aim_to_selected.<a class="code" href="structrecoil__prediction.html#af135e1f559f055da9d184aeffcf02193">recoil</a> );</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> throw_moves = <a class="code" href="ranged_8cpp.html#aa55aace1fedc5b64c6d3d0418e251c38">throw_cost</a>( you, weapon );</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structaim__type.html">aim_type</a> &amp;<a class="code" href="structaim__type.html">aim_type</a> : aim_types ) {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keyword">const</span> std::vector&lt;input_event&gt; keys = ctxt.<a class="code" href="classinput__context.html#a1cd0c2537bc31a2c039e1178efb2ffdc">keys_bound_to</a>( <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#abab67c2762f5ce5d549988ac7405dcb0">action</a>.empty() ? <span class="stringliteral">&quot;FIRE&quot;</span> :</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                                              <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#abab67c2762f5ce5d549988ac7405dcb0">action</a>, <span class="comment">/*maximum_modifier_count=*/</span>1 );</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <a class="code" href="structaim__type__prediction.html">aim_type_prediction</a> prediction = {};</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        prediction.<a class="code" href="structaim__type__prediction.html#abd5d5da2ed456b35987cc924ad03f607">name</a> = <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#a26dc7ca55f61cd28bc534dc21d53164d">has_threshold</a> ? <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#a51fa794edcf0ce9509763b0b48a8e1b5">name</a> : <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Current&quot;</span> );</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        prediction.<a class="code" href="structaim__type__prediction.html#a2e72fff16a3ec72943a7dd9482dff8bf">is_default</a> = <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#abab67c2762f5ce5d549988ac7405dcb0">action</a>.empty(); <span class="comment">// default mode defaults to FIRE hotkey</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        prediction.<a class="code" href="structaim__type__prediction.html#ad254eae18ae704d8c9d75bfe0770730f">hotkey</a> = ( keys.empty() ? <a class="code" href="structinput__event.html">input_event</a>() : keys.front() ).short_description();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160; </div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="keywordflow">if</span>( mode == <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f">target_ui::TargetMode::Throw</a> || mode == <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86">target_ui::TargetMode::ThrowBlind</a> ) {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#ae8c7262761667bf3ba7fc0b3d1b54677">moves</a> = throw_moves;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#ae8c7262761667bf3ba7fc0b3d1b54677">moves</a> = <a class="code" href="ranged_8cpp.html#a9301f55736d917c84a4ebf973386a40e">predict_recoil</a>( you, weapon, target, <a class="code" href="namespaceui.html">ui</a>.get_sight_dispersion(), <a class="code" href="structaim__type.html">aim_type</a>,</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                                               you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> ).<a class="code" href="structrecoil__prediction.html#abfa8d33a8f4a583d4460678e290d7efb">moves</a> + <a class="code" href="ranged_8cpp.html#a613a8b59e4b2f2aaf05091d354bb4aa3">time_to_attack</a>( you, *weapon.<a class="code" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        }</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="comment">// if the default method is &quot;behind&quot; the selected; e.g. you are in immediate</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <span class="comment">// firing mode with almost close no chances of hitting, but UI has selected</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="comment">// &quot;precise&quot; this will &quot;catch up&quot; the default method adding the required moves</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="comment">// and steadiness that it will gain if player presses fire, so pressing fire</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="comment">// hotkey in this case will actually use &#39;precise&#39; aim mode.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="comment">// in case where it already surpassed the UI selected mode this should be a</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="comment">// no-op.</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="keywordflow">if</span>( prediction.<a class="code" href="structaim__type__prediction.html#a2e72fff16a3ec72943a7dd9482dff8bf">is_default</a> ) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#ae8c7262761667bf3ba7fc0b3d1b54677">moves</a> += aim_to_selected.<a class="code" href="structrecoil__prediction.html#abfa8d33a8f4a583d4460678e290d7efb">moves</a>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#a8d589a89e9239f64703618d8bf60f672">steadiness</a> = selected_steadiness;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            <span class="comment">// predict how long it&#39;ll take to reach from current recoil</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <span class="comment">// to the current aim mode&#39;s threshold.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;            <span class="keyword">const</span> <a class="code" href="structrecoil__prediction.html">recoil_prediction</a> aim_to_type = ( <a class="code" href="structaim__type.html">aim_type</a> == <a class="code" href="namespaceui.html">ui</a>.get_selected_aim_type() ) ? aim_to_selected :</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                                                  <a class="code" href="ranged_8cpp.html#a9301f55736d917c84a4ebf973386a40e">predict_recoil</a>( you, weapon, target, <a class="code" href="namespaceui.html">ui</a>.get_sight_dispersion(), <a class="code" href="structaim__type.html">aim_type</a>, you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#a8d589a89e9239f64703618d8bf60f672">steadiness</a> = <a class="code" href="ranged_8cpp.html#a969d7fb0eb05d60c2c98eb568bce69f2">calc_steadiness</a>( you, weapon, <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, aim_to_type.<a class="code" href="structrecoil__prediction.html#af135e1f559f055da9d184aeffcf02193">recoil</a> );</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="comment">// make a copy of the given dispersion, apply the aiming and calculate hit confidence</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <a class="code" href="classdispersion__sources.html">dispersion_sources</a> current_dispersion = dispersion;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        current_dispersion.<a class="code" href="classdispersion__sources.html#af9119f90d39a52caf16086dca87b1cac">add_range</a>( <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#a26dc7ca55f61cd28bc534dc21d53164d">has_threshold</a> ? <a class="code" href="structaim__type.html">aim_type</a>.<a class="code" href="structaim__type.html#a7763c382e69ad4d525dfe8716672c565">threshold</a> :</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                                      aim_to_selected.<a class="code" href="structrecoil__prediction.html#af135e1f559f055da9d184aeffcf02193">recoil</a> );</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="comment">// this loop fills in the &quot;confidence&quot; values; the chances of great/good/graze outcomes</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        prediction.<a class="code" href="structaim__type__prediction.html#aa1ed8d79daea94f79f6c5a17e25332ab">confidence</a> = <a class="code" href="ranged_8cpp.html#a1942f5c7424513a78ab3491db37341f1">confidence_estimate</a>( target, current_dispersion );</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structconfidence__rating.html">confidence_rating</a> &amp;rating : confidence_ratings ) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> chance = std::min&lt;int&gt;( 100, 100 * rating.aim_level * prediction.<a class="code" href="structaim__type__prediction.html#aa1ed8d79daea94f79f6c5a17e25332ab">confidence</a> )</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                               - prediction.<a class="code" href="structaim__type__prediction.html#a2c9a4e350971e1aae39533618e323d4f">chance_to_hit</a>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#aaeeb40de07b50ebc88e227fa4f5f05f1">ratings</a>.push_back( rating );</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#a06f406ce06d1987183e399e054bd40a4">chances</a>.push_back( {rating.label, rating.color, chance} );</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            prediction.<a class="code" href="structaim__type__prediction.html#a2c9a4e350971e1aae39533618e323d4f">chance_to_hit</a> += chance;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        }</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <span class="comment">// Adds the &quot;miss&quot; outcome</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        prediction.<a class="code" href="structaim__type__prediction.html#a06f406ce06d1987183e399e054bd40a4">chances</a>.push_back( { <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Miss&quot;</span> ), <span class="stringliteral">&quot;light_gray&quot;</span>, 100 - prediction.<a class="code" href="structaim__type__prediction.html#a2c9a4e350971e1aae39533618e323d4f">chance_to_hit</a> } );</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        aim_outputs.push_back( prediction );</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">return</span> aim_outputs;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a057d68671b298012a18f4e289b39935d"><div class="ttname"><a href="classCharacter.html#a057d68671b298012a18f4e289b39935d">Character::recoil</a></div><div class="ttdeci">double recoil</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01117">character.h:1117</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7a8f9ffd035435c9f2777e007059e68d"><div class="ttname"><a href="classCharacter.html#a7a8f9ffd035435c9f2777e007059e68d">Character::get_aim_types</a></div><div class="ttdeci">std::vector&lt; aim_type &gt; get_aim_types(const item &amp;gun) const</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02006">ranged.cpp:2006</a></div></div>
<div class="ttc" id="aclassdispersion__sources_html"><div class="ttname"><a href="classdispersion__sources.html">dispersion_sources</a></div><div class="ttdef"><b>Definition:</b> <a href="dispersion_8h_source.html#l00008">dispersion.h:9</a></div></div>
<div class="ttc" id="aclassdispersion__sources_html_af9119f90d39a52caf16086dca87b1cac"><div class="ttname"><a href="classdispersion__sources.html#af9119f90d39a52caf16086dca87b1cac">dispersion_sources::add_range</a></div><div class="ttdeci">void add_range(double new_source)</div><div class="ttdef"><b>Definition:</b> <a href="dispersion_8h_source.html#l00022">dispersion.h:22</a></div></div>
<div class="ttc" id="aclassinput__context_html_a1cd0c2537bc31a2c039e1178efb2ffdc"><div class="ttname"><a href="classinput__context.html#a1cd0c2537bc31a2c039e1178efb2ffdc">input_context::keys_bound_to</a></div><div class="ttdeci">std::vector&lt; input_event &gt; keys_bound_to(const std::string &amp;action_descriptor, int maximum_modifier_count=-1, bool restrict_to_printable=true, bool restrict_to_keyboard=true) const</div><div class="ttdoc">Keys (and only keys, other input types are not included) that trigger the given action.</div><div class="ttdef"><b>Definition:</b> <a href="input__context_8cpp_source.html#l00203">input_context.cpp:203</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l03074">item.h:3074</a></div></div>
<div class="ttc" id="aclasstarget__ui_html_ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f"><div class="ttname"><a href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f">target_ui::TargetMode::Throw</a></div><div class="ttdeci">@ Throw</div></div>
<div class="ttc" id="aclasstarget__ui_html_ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86"><div class="ttname"><a href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86">target_ui::TargetMode::ThrowBlind</a></div><div class="ttdeci">@ ThrowBlind</div></div>
<div class="ttc" id="anamespaceui_html"><div class="ttname"><a href="namespaceui.html">ui</a></div><div class="ttdef"><b>Definition:</b> <a href="overmap__ui_8h_source.html#l00024">overmap_ui.h:25</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a1942f5c7424513a78ab3491db37341f1"><div class="ttname"><a href="ranged_8cpp.html#a1942f5c7424513a78ab3491db37341f1">confidence_estimate</a></div><div class="ttdeci">static double confidence_estimate(const Target_attributes &amp;attributes, const dispersion_sources &amp;dispersion)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01563">ranged.cpp:1563</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a613a8b59e4b2f2aaf05091d354bb4aa3"><div class="ttname"><a href="ranged_8cpp.html#a613a8b59e4b2f2aaf05091d354bb4aa3">time_to_attack</a></div><div class="ttdeci">static int time_to_attack(const Character &amp;p, const itype &amp;firing)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02107">ranged.cpp:2107</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a9301f55736d917c84a4ebf973386a40e"><div class="ttname"><a href="ranged_8cpp.html#a9301f55736d917c84a4ebf973386a40e">predict_recoil</a></div><div class="ttdeci">static recoil_prediction predict_recoil(const Character &amp;you, const item &amp;weapon, const Target_attributes &amp;target, int sight_dispersion, const aim_type &amp;aim_mode, double start_recoil)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01659">ranged.cpp:1659</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a969d7fb0eb05d60c2c98eb568bce69f2"><div class="ttname"><a href="ranged_8cpp.html#a969d7fb0eb05d60c2c98eb568bce69f2">calc_steadiness</a></div><div class="ttdeci">double calc_steadiness(const Character &amp;you, const item &amp;weapon, const tripoint &amp;pos, double predicted_recoil)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01156">ranged.cpp:1156</a></div></div>
<div class="ttc" id="aranged_8cpp_html_aa55aace1fedc5b64c6d3d0418e251c38"><div class="ttname"><a href="ranged_8cpp.html#aa55aace1fedc5b64c6d3d0418e251c38">throw_cost</a></div><div class="ttdeci">int throw_cost(const Character &amp;c, const item &amp;to_throw)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01110">ranged.cpp:1110</a></div></div>
<div class="ttc" id="aranged_8cpp_html_aa68fa53ae2a9bc0bb461af10bec001fe"><div class="ttname"><a href="ranged_8cpp.html#aa68fa53ae2a9bc0bb461af10bec001fe">get_default_aim_type</a></div><div class="ttdeci">static aim_type get_default_aim_type()</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01578">ranged.cpp:1578</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html"><div class="ttname"><a href="structaim__type__prediction.html">aim_type_prediction</a></div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01629">ranged.cpp:1629</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_a06f406ce06d1987183e399e054bd40a4"><div class="ttname"><a href="structaim__type__prediction.html#a06f406ce06d1987183e399e054bd40a4">aim_type_prediction::chances</a></div><div class="ttdeci">std::vector&lt; aim_confidence &gt; chances</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01639">ranged.cpp:1639</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_a2c9a4e350971e1aae39533618e323d4f"><div class="ttname"><a href="structaim__type__prediction.html#a2c9a4e350971e1aae39533618e323d4f">aim_type_prediction::chance_to_hit</a></div><div class="ttdeci">int chance_to_hit</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01642">ranged.cpp:1642</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_a2e72fff16a3ec72943a7dd9482dff8bf"><div class="ttname"><a href="structaim__type__prediction.html#a2e72fff16a3ec72943a7dd9482dff8bf">aim_type_prediction::is_default</a></div><div class="ttdeci">bool is_default</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01640">ranged.cpp:1640</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_a8d589a89e9239f64703618d8bf60f672"><div class="ttname"><a href="structaim__type__prediction.html#a8d589a89e9239f64703618d8bf60f672">aim_type_prediction::steadiness</a></div><div class="ttdeci">double steadiness</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01644">ranged.cpp:1644</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_aa1ed8d79daea94f79f6c5a17e25332ab"><div class="ttname"><a href="structaim__type__prediction.html#aa1ed8d79daea94f79f6c5a17e25332ab">aim_type_prediction::confidence</a></div><div class="ttdeci">double confidence</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01643">ranged.cpp:1643</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_aaeeb40de07b50ebc88e227fa4f5f05f1"><div class="ttname"><a href="structaim__type__prediction.html#aaeeb40de07b50ebc88e227fa4f5f05f1">aim_type_prediction::ratings</a></div><div class="ttdeci">std::vector&lt; confidence_rating &gt; ratings</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01638">ranged.cpp:1638</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_abd5d5da2ed456b35987cc924ad03f607"><div class="ttname"><a href="structaim__type__prediction.html#abd5d5da2ed456b35987cc924ad03f607">aim_type_prediction::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01636">ranged.cpp:1636</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_ad254eae18ae704d8c9d75bfe0770730f"><div class="ttname"><a href="structaim__type__prediction.html#ad254eae18ae704d8c9d75bfe0770730f">aim_type_prediction::hotkey</a></div><div class="ttdeci">std::string hotkey</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01637">ranged.cpp:1637</a></div></div>
<div class="ttc" id="astructaim__type__prediction_html_ae8c7262761667bf3ba7fc0b3d1b54677"><div class="ttname"><a href="structaim__type__prediction.html#ae8c7262761667bf3ba7fc0b3d1b54677">aim_type_prediction::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01641">ranged.cpp:1641</a></div></div>
<div class="ttc" id="astructaim__type_html"><div class="ttname"><a href="structaim__type.html">aim_type</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00371">character.h:371</a></div></div>
<div class="ttc" id="astructaim__type_html_a26dc7ca55f61cd28bc534dc21d53164d"><div class="ttname"><a href="structaim__type.html#a26dc7ca55f61cd28bc534dc21d53164d">aim_type::has_threshold</a></div><div class="ttdeci">bool has_threshold</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00375">character.h:375</a></div></div>
<div class="ttc" id="astructaim__type_html_a51fa794edcf0ce9509763b0b48a8e1b5"><div class="ttname"><a href="structaim__type.html#a51fa794edcf0ce9509763b0b48a8e1b5">aim_type::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00372">character.h:372</a></div></div>
<div class="ttc" id="astructaim__type_html_a7763c382e69ad4d525dfe8716672c565"><div class="ttname"><a href="structaim__type.html#a7763c382e69ad4d525dfe8716672c565">aim_type::threshold</a></div><div class="ttdeci">int threshold</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00376">character.h:376</a></div></div>
<div class="ttc" id="astructaim__type_html_abab67c2762f5ce5d549988ac7405dcb0"><div class="ttname"><a href="structaim__type.html#abab67c2762f5ce5d549988ac7405dcb0">aim_type::action</a></div><div class="ttdeci">std::string action</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00373">character.h:373</a></div></div>
<div class="ttc" id="astructconfidence__rating_html"><div class="ttname"><a href="structconfidence__rating.html">confidence_rating</a></div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01539">ranged.cpp:1539</a></div></div>
<div class="ttc" id="astructinput__event_html"><div class="ttname"><a href="structinput__event.html">input_event</a></div><div class="ttdoc">An instance of an input, like a keypress etc.</div><div class="ttdef"><b>Definition:</b> <a href="input__enums_8h_source.html#l00063">input_enums.h:63</a></div></div>
<div class="ttc" id="astructrecoil__prediction_html"><div class="ttname"><a href="structrecoil__prediction.html">recoil_prediction</a></div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01650">ranged.cpp:1650</a></div></div>
<div class="ttc" id="astructrecoil__prediction_html_abfa8d33a8f4a583d4460678e290d7efb"><div class="ttname"><a href="structrecoil__prediction.html#abfa8d33a8f4a583d4460678e290d7efb">recoil_prediction::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01652">ranged.cpp:1652</a></div></div>
<div class="ttc" id="astructrecoil__prediction_html_af135e1f559f055da9d184aeffcf02193"><div class="ttname"><a href="structrecoil__prediction.html#af135e1f559f055da9d184aeffcf02193">recoil_prediction::recoil</a></div><div class="ttdeci">double recoil</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01651">ranged.cpp:1651</a></div></div>
<div class="ttc" id="atranslations_8h_html_ab92bb4161a6308b302d283816975c3a6"><div class="ttname"><a href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a></div><div class="ttdeci">#define _(STRING)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00089">translations.h:89</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8h_source.html#l00373">aim_type::action</a>, <a class="el" href="dispersion_8h_source.html#l00022">dispersion_sources::add_range()</a>, <a class="el" href="ranged_8cpp_source.html#l01156">calc_steadiness()</a>, <a class="el" href="ranged_8cpp_source.html#l01642">aim_type_prediction::chance_to_hit</a>, <a class="el" href="ranged_8cpp_source.html#l01639">aim_type_prediction::chances</a>, <a class="el" href="ranged_8cpp_source.html#l01643">aim_type_prediction::confidence</a>, <a class="el" href="ranged_8cpp_source.html#l01563">confidence_estimate()</a>, <a class="el" href="ranged_8cpp_source.html#l02006">Character::get_aim_types()</a>, <a class="el" href="ranged_8cpp_source.html#l01578">get_default_aim_type()</a>, <a class="el" href="character_8h_source.html#l00375">aim_type::has_threshold</a>, <a class="el" href="ranged_8cpp_source.html#l01637">aim_type_prediction::hotkey</a>, <a class="el" href="ranged_8cpp_source.html#l01640">aim_type_prediction::is_default</a>, <a class="el" href="input__context_8cpp_source.html#l00203">input_context::keys_bound_to()</a>, <a class="el" href="ranged_8cpp_source.html#l01641">aim_type_prediction::moves</a>, <a class="el" href="ranged_8cpp_source.html#l01652">recoil_prediction::moves</a>, <a class="el" href="character_8h_source.html#l00372">aim_type::name</a>, <a class="el" href="ranged_8cpp_source.html#l01636">aim_type_prediction::name</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="ranged_8cpp_source.html#l01659">predict_recoil()</a>, <a class="el" href="ranged_8cpp_source.html#l01638">aim_type_prediction::ratings</a>, <a class="el" href="character_8h_source.html#l01117">Character::recoil</a>, <a class="el" href="ranged_8cpp_source.html#l01651">recoil_prediction::recoil</a>, <a class="el" href="ranged_8cpp_source.html#l01644">aim_type_prediction::steadiness</a>, <a class="el" href="character_8h_source.html#l00376">aim_type::threshold</a>, <a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f">target_ui::Throw</a>, <a class="el" href="ranged_8cpp_source.html#l01110">throw_cost()</a>, <a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86">target_ui::ThrowBlind</a>, <a class="el" href="ranged_8cpp_source.html#l02107">time_to_attack()</a>, and <a class="el" href="item_8h_source.html#l03074">item::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01967">draw_throw_aim()</a>, and <a class="el" href="ranged_8cpp_source.html#l01941">print_aim()</a>.</p>

</div>
</div>
<a id="a9a8aae9d14e825d1fa9707093ef0a616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8aae9d14e825d1fa9707093ef0a616">&#9670;&nbsp;</a></span>character_throw_assist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="generic__factory_8h.html#a25c837eac363cb522b8ac126ea9d3236">std::optional</a>&lt;int&gt; character_throw_assist </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01229">1229</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;{</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    std::optional&lt;int&gt; throw_assist = std::nullopt;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span>( guy.<a class="code" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keyword">auto</span> *mons = guy.<a class="code" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>.get();</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="keywordflow">if</span>( mons-&gt;mech_str_addition() != 0 ) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            throw_assist = mons-&gt;mech_str_addition();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            mons-&gt;use_mech_power( 3_kJ );</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">return</span> throw_assist;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a67b51491c2529df09755e07bc633cc55"><div class="ttname"><a href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">Character::is_mounted</a></div><div class="ttdeci">bool is_mounted() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01732">character.cpp:1732</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac3d46549b7cdaac1f98991167ad5f1b3"><div class="ttname"><a href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">Character::mounted_creature</a></div><div class="ttdeci">shared_ptr_fast&lt; monster &gt; mounted_creature</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02800">character.h:2800</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l01732">Character::is_mounted()</a>, and <a class="el" href="character_8h_source.html#l02800">Character::mounted_creature</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, and <a class="el" href="ranged_8cpp_source.html#l01252">Character::thrown_item_adjusted_damage()</a>.</p>

</div>
</div>
<a id="a1942f5c7424513a78ab3491db37341f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1942f5c7424513a78ab3491db37341f1">&#9670;&nbsp;</a></span>confidence_estimate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double confidence_estimate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTarget__attributes.html">Target_attributes</a> &amp;&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdispersion__sources.html">dispersion_sources</a> &amp;&#160;</td>
          <td class="paramname"><em>dispersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01563">1563</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;{</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">// This is a rough estimate of accuracy based on a linear distribution across min and max</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="comment">// dispersion.  It is highly inaccurate probability-wise, but this is intentional, the player</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="comment">// is not doing Gaussian integration in their head while aiming.  The result gives the player</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="comment">// correct relative measures of chance to hit, and corresponds with the actual distribution at</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="comment">// min, max, and mean.</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">if</span>( attributes.<a class="code" href="structTarget__attributes.html#ad834b1dc87768bdad806da80b5dc9ecd">range</a> == 0 ) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">return</span> 2 * attributes.<a class="code" href="structTarget__attributes.html#a76ea0e1418f9b8a6ed3955a700cc239a">size</a>;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordtype">double</span> max_lateral_offset = <a class="code" href="line_8cpp.html#a755929144f419e0be862e2a7a87b6ab7">iso_tangent</a>( attributes.<a class="code" href="structTarget__attributes.html#ad834b1dc87768bdad806da80b5dc9ecd">range</a>, <a class="code" href="namespaceunits.html#ae3cb4452221bae58dc798b8fc5865007">units::from_arcmin</a>( dispersion.<a class="code" href="classdispersion__sources.html#ac3dc7f13e78a217aeaba57740f3af17c">max</a>() ) );</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">return</span> 1 / ( max_lateral_offset / attributes.<a class="code" href="structTarget__attributes.html#a76ea0e1418f9b8a6ed3955a700cc239a">size</a> );</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div>
<div class="ttc" id="aclassdispersion__sources_html_ac3dc7f13e78a217aeaba57740f3af17c"><div class="ttname"><a href="classdispersion__sources.html#ac3dc7f13e78a217aeaba57740f3af17c">dispersion_sources::max</a></div><div class="ttdeci">double max() const</div><div class="ttdef"><b>Definition:</b> <a href="dispersion_8cpp_source.html#l00031">dispersion.cpp:31</a></div></div>
<div class="ttc" id="aline_8cpp_html_a755929144f419e0be862e2a7a87b6ab7"><div class="ttname"><a href="line_8cpp.html#a755929144f419e0be862e2a7a87b6ab7">iso_tangent</a></div><div class="ttdeci">double iso_tangent(double distance, const units::angle &amp;vertex)</div><div class="ttdoc">Calculate base of an isosceles triangle.</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00020">line.cpp:20</a></div></div>
<div class="ttc" id="anamespaceunits_html_ae3cb4452221bae58dc798b8fc5865007"><div class="ttname"><a href="namespaceunits.html#ae3cb4452221bae58dc798b8fc5865007">units::from_arcmin</a></div><div class="ttdeci">constexpr quantity&lt; double, angle_in_radians_tag &gt; from_arcmin(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00763">units.h:763</a></div></div>
<div class="ttc" id="astructTarget__attributes_html_a76ea0e1418f9b8a6ed3955a700cc239a"><div class="ttname"><a href="structTarget__attributes.html#a76ea0e1418f9b8a6ed3955a700cc239a">Target_attributes::size</a></div><div class="ttdeci">double size</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00087">ranged.h:87</a></div></div>
<div class="ttc" id="astructTarget__attributes_html_ad834b1dc87768bdad806da80b5dc9ecd"><div class="ttname"><a href="structTarget__attributes.html#ad834b1dc87768bdad806da80b5dc9ecd">Target_attributes::range</a></div><div class="ttdeci">int range</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00086">ranged.h:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="units_8h_source.html#l00763">units::from_arcmin()</a>, <a class="el" href="line_8cpp_source.html#l00020">iso_tangent()</a>, <a class="el" href="dispersion_8cpp_source.html#l00031">dispersion_sources::max()</a>, <a class="el" href="ranged_8h_source.html#l00086">Target_attributes::range</a>, and <a class="el" href="ranged_8h_source.html#l00087">Target_attributes::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>.</p>

</div>
</div>
<a id="a035c67a119c3f5a39b1069944798c9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a035c67a119c3f5a39b1069944798c9fc">&#9670;&nbsp;</a></span>cycle_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cycle_action </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>ammo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle spent ammo casings and linkages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">weap</td><td>Weapon. </td></tr>
    <tr><td class="paramname">ammo</td><td>Ammo used. </td></tr>
    <tr><td class="paramname">pos</td><td><a class="el" href="classCharacter.html">Character</a> position. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l02116">2116</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;{</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <a class="code" href="classmap.html">map</a> &amp;here = <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>();</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="comment">// eject casings and linkages in random direction avoiding walls using player position as fallback</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    std::vector&lt;tripoint&gt; tiles = <a class="code" href="coordinates_8h.html#a560abf1cd341e88e2f13f454ec2ecc99">closest_points_first</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a>, 1 );</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    tiles.erase( tiles.begin() );</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    tiles.erase( std::remove_if( tiles.begin(), tiles.end(), [&amp;]( <span class="keyword">const</span> <a class="code" href="structtripoint.html">tripoint</a> &amp; e ) {</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        return !here.passable( e );</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    } ), tiles.end() );</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <a class="code" href="structtripoint.html">tripoint</a> eject = tiles.empty() ? <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> : <a class="code" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( tiles );</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="comment">// for turrets try and drop casings or linkages directly to any CARGO part on the same tile</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keyword">const</span> std::optional&lt;vpart_reference&gt; ovp_cargo = weap.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#a5d1fa7fb2e0d7c717f7bc1cc461407db">flag_VEHICLE</a> )</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;            ? here.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ).<a class="code" href="classoptional__vpart__position.html#acf1ddbf380ff79f8fd707a0453b1608b">cargo</a>()</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            : std::nullopt;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160; </div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <a class="code" href="classitem.html">item</a> *brass_catcher = weap.<a class="code" href="classitem.html#ac11fd08d9b41ad301b7135906df8c33e">gunmod_find_by_flag</a>( <a class="code" href="flag_8cpp.html#a959a7603cf7b380c637eede6d2a6dd17">flag_BRASS_CATCHER</a> );</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    <span class="keywordflow">if</span>( !!ammo-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;casing ) {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <a class="code" href="classitem.html">item</a> casing = <a class="code" href="classitem.html">item</a>( *ammo-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;casing );</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <span class="comment">// blackpowder can gum up casings too</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        <span class="keywordflow">if</span>( ( *ammo-&gt;<a class="code" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> ).ammo_effects.count( <span class="stringliteral">&quot;BLACKPOWDER&quot;</span> ) ) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;            casing.<a class="code" href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">set_flag</a>( <a class="code" href="ranged_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a> );</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="keywordflow">if</span>( weap.<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#a7dffac54d4c781ade6642ecb6365d4db">flag_RELOAD_EJECT</a> ) ) {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            weap.<a class="code" href="classitem.html#a8b6013a4dab952626df6834f46ec048f">force_insert_item</a>( casing.<a class="code" href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">set_flag</a>( <a class="code" href="flag_8cpp.html#ac577a11efabcd415739ddfea395ace5e">flag_CASING</a> ),</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                                    <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">pocket_type::MAGAZINE</a> );</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;            weap.<a class="code" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <span class="keywordflow">if</span>( brass_catcher &amp;&amp; brass_catcher-&gt;<a class="code" href="classitem.html#a28fa4969a257ea0b79acc9c60595ee7b">can_contain</a>( casing ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) {</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                brass_catcher-&gt;<a class="code" href="classitem.html#a018fe1a11eaa7e18cae915d683088c02">put_in</a>( casing, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a> );</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ovp_cargo ) {</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                ovp_cargo-&gt;vehicle().add_item( ovp_cargo-&gt;part(), casing );</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( eject, casing );</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            <a class="code" href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a>( <span class="stringliteral">&quot;fire_gun&quot;</span>, <span class="stringliteral">&quot;brass_eject&quot;</span>, <a class="code" href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a>( eject ),</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                                     <a class="code" href="namespacesfx.html#aa186eb63210729f73d7c76dcda527ff5">sfx::get_heard_angle</a>( eject ) );</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    }</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;    <span class="comment">// some magazines also eject disintegrating linkages</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    <span class="keyword">const</span> <a class="code" href="classitem.html">item</a> *mag = weap.<a class="code" href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">magazine_current</a>();</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">if</span>( mag &amp;&amp; mag-&gt;<a class="code" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage ) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <a class="code" href="classitem.html">item</a> linkage( *mag-&gt;<a class="code" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;linkage, <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, 1 );</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        <span class="keywordflow">if</span>( !( brass_catcher &amp;&amp;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;               brass_catcher-&gt;<a class="code" href="classitem.html#a018fe1a11eaa7e18cae915d683088c02">put_in</a>( linkage, <a class="code" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a> ).<a class="code" href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">success</a>() ) ) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            <span class="keywordflow">if</span>( ovp_cargo ) {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                ovp_cargo-&gt;items().insert( linkage );</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                here.<a class="code" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( eject, linkage );</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;            }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    }</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;}</div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00195">item.h:196</a></div></div>
<div class="ttc" id="aclassitem_html_a018fe1a11eaa7e18cae915d683088c02"><div class="ttname"><a href="classitem.html#a018fe1a11eaa7e18cae915d683088c02">item::put_in</a></div><div class="ttdeci">ret_val&lt; void &gt; put_in(const item &amp;payload, pocket_type pk_type, bool unseal_pockets=false, Character *carrier=nullptr)</div><div class="ttdoc">Puts the given item into this one.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01784">item.cpp:1784</a></div></div>
<div class="ttc" id="aclassitem_html_a28fa4969a257ea0b79acc9c60595ee7b"><div class="ttname"><a href="classitem.html#a28fa4969a257ea0b79acc9c60595ee7b">item::can_contain</a></div><div class="ttdeci">ret_val&lt; void &gt; can_contain(const item &amp;it, bool nested=false, bool ignore_rigidity=false, bool ignore_pkt_settings=true, bool is_pick_up_inv=false, const item_location &amp;parent_it=item_location(), units::volume remaining_parent_volume=10000000_ml, bool allow_nested=true) const</div><div class="ttdoc">Can the pocket contain the specified item?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10101">item.cpp:10101</a></div></div>
<div class="ttc" id="aclassitem_html_a3e532e4e5b7cef943634b1d910f99384"><div class="ttname"><a href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">item::has_flag</a></div><div class="ttdeci">bool has_flag(const flag_id &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07578">item.cpp:7578</a></div></div>
<div class="ttc" id="aclassitem_html_a5b29c86dff457effe5dc4b9e7a24da12"><div class="ttname"><a href="classitem.html#a5b29c86dff457effe5dc4b9e7a24da12">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const flag_id &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07602">item.cpp:7602</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06722">item.cpp:6722</a></div></div>
<div class="ttc" id="aclassitem_html_a8b6013a4dab952626df6834f46ec048f"><div class="ttname"><a href="classitem.html#a8b6013a4dab952626df6834f46ec048f">item::force_insert_item</a></div><div class="ttdeci">void force_insert_item(const item &amp;it, pocket_type pk_type)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01803">item.cpp:1803</a></div></div>
<div class="ttc" id="aclassitem_html_ab22fc9a4e0f9c6f5569b93e00deccfac"><div class="ttname"><a href="classitem.html#ab22fc9a4e0f9c6f5569b93e00deccfac">item::magazine_current</a></div><div class="ttdeci">item * magazine_current()</div><div class="ttdoc">Currently loaded magazine (if any)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11207">item.cpp:11207</a></div></div>
<div class="ttc" id="aclassitem_html_ac11fd08d9b41ad301b7135906df8c33e"><div class="ttname"><a href="classitem.html#ac11fd08d9b41ad301b7135906df8c33e">item::gunmod_find_by_flag</a></div><div class="ttdeci">item * gunmod_find_by_flag(const flag_id &amp;flag)</div><div class="ttdoc">Get first attached gunmod with flag or nullptr if no such mod or item is not a gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l11261">item.cpp:11261</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00345">map.h:346</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05177">map.cpp:5177</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01316">map.cpp:1316</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_acf1ddbf380ff79f8fd707a0453b1608b"><div class="ttname"><a href="classoptional__vpart__position.html#acf1ddbf380ff79f8fd707a0453b1608b">optional_vpart_position::cargo</a></div><div class="ttdeci">std::optional&lt; vpart_reference &gt; cargo() const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02710">vehicle.cpp:2710</a></div></div>
<div class="ttc" id="aclassret__val__common_html_a933807b816264e791e488ed5e7abb1c3"><div class="ttname"><a href="classret__val__common.html#a933807b816264e791e488ed5e7abb1c3">ret_val_common::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00013">ret_val.h:13</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a560abf1cd341e88e2f13f454ec2ecc99"><div class="ttname"><a href="coordinates_8h.html#a560abf1cd341e88e2f13f454ec2ecc99">closest_points_first</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; closest_points_first(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc, int min_dist, int max_dist)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00848">coordinates.h:848</a></div></div>
<div class="ttc" id="aflag_8cpp_html_a5d1fa7fb2e0d7c717f7bc1cc461407db"><div class="ttname"><a href="flag_8cpp.html#a5d1fa7fb2e0d7c717f7bc1cc461407db">flag_VEHICLE</a></div><div class="ttdeci">const flag_id flag_VEHICLE(&quot;VEHICLE&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a7dffac54d4c781ade6642ecb6365d4db"><div class="ttname"><a href="flag_8cpp.html#a7dffac54d4c781ade6642ecb6365d4db">flag_RELOAD_EJECT</a></div><div class="ttdeci">const flag_id flag_RELOAD_EJECT(&quot;RELOAD_EJECT&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a959a7603cf7b380c637eede6d2a6dd17"><div class="ttname"><a href="flag_8cpp.html#a959a7603cf7b380c637eede6d2a6dd17">flag_BRASS_CATCHER</a></div><div class="ttdeci">const flag_id flag_BRASS_CATCHER(&quot;BRASS_CATCHER&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_ac577a11efabcd415739ddfea395ace5e"><div class="ttname"><a href="flag_8cpp.html#ac577a11efabcd415739ddfea395ace5e">flag_CASING</a></div><div class="ttdeci">const flag_id flag_CASING(&quot;CASING&quot;)</div></div>
<div class="ttc" id="agame_8cpp_html_afa1063326b0c16b43c6f3dc8c3df403d"><div class="ttname"><a href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13822">game.cpp:13822</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00038">calendar.cpp:38</a></div></div>
<div class="ttc" id="anamespacesfx_html_a1f138eaa92db132e81ce591751c512cc"><div class="ttname"><a href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a></div><div class="ttdeci">int get_heard_volume(const tripoint &amp;source)</div><div class="ttdoc">Functions from sfx that do not use the SDL_mixer API at all.</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l02045">sounds.cpp:2045</a></div></div>
<div class="ttc" id="anamespacesfx_html_a8fa2bb887ac81392fb686cc4079b5d5a"><div class="ttname"><a href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a></div><div class="ttdeci">void play_variant_sound(const std::string &amp;id, const std::string &amp;variant, int volume, units::angle angle, double pitch_min=-1.0, double pitch_max=-1.0)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01999">sounds.cpp:1999</a></div></div>
<div class="ttc" id="anamespacesfx_html_aa186eb63210729f73d7c76dcda527ff5"><div class="ttname"><a href="namespacesfx.html#aa186eb63210729f73d7c76dcda527ff5">sfx::get_heard_angle</a></div><div class="ttdeci">units::angle get_heard_angle(const tripoint &amp;source)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l02058">sounds.cpp:2058</a></div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">pocket_type::MAGAZINE</a></div><div class="ttdeci">@ MAGAZINE</div></div>
<div class="ttc" id="apocket__type_8h_html_af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b"><div class="ttname"><a href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">pocket_type::CONTAINER</a></div><div class="ttdeci">@ CONTAINER</div></div>
<div class="ttc" id="aranged_8cpp_html_a4df4dd60924cd337468bb34326d879a7"><div class="ttname"><a href="ranged_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a></div><div class="ttdeci">static const flag_id json_flag_FILTHY(&quot;FILTHY&quot;)</div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00104">rng.h:104</a></div></div>
<div class="ttc" id="astructitype_html_a7cb80d77696cefb42ac6e75756b47e60"><div class="ttname"><a href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">itype::ammo</a></div><div class="ttdeci">cata::value_ptr&lt; islot_ammo &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01212">itype.h:1212</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01209">itype.h:1209</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00129">point.h:129</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l05177">map::add_item_or_charges()</a>, <a class="el" href="itype_8h_source.html#l01212">itype::ammo</a>, <a class="el" href="item_8cpp_source.html#l10101">item::can_contain()</a>, <a class="el" href="vehicle_8cpp_source.html#l02710">optional_vpart_position::cargo()</a>, <a class="el" href="coordinates_8h_source.html#l00848">closest_points_first()</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9bbab5f947b9e3fbb8a399ecc257459b">CONTAINER</a>, <a class="el" href="flag_8cpp.html#a959a7603cf7b380c637eede6d2a6dd17">flag_BRASS_CATCHER</a>, <a class="el" href="flag_8cpp.html#ac577a11efabcd415739ddfea395ace5e">flag_CASING</a>, <a class="el" href="flag_8cpp.html#a7dffac54d4c781ade6642ecb6365d4db">flag_RELOAD_EJECT</a>, <a class="el" href="flag_8cpp.html#a5d1fa7fb2e0d7c717f7bc1cc461407db">flag_VEHICLE</a>, <a class="el" href="item_8cpp_source.html#l01803">item::force_insert_item()</a>, <a class="el" href="sounds_8cpp_source.html#l02058">sfx::get_heard_angle()</a>, <a class="el" href="sounds_8cpp_source.html#l02045">sfx::get_heard_volume()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="item_8cpp_source.html#l11261">item::gunmod_find_by_flag()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="ranged_8cpp.html#a4df4dd60924cd337468bb34326d879a7">json_flag_FILTHY</a>, <a class="el" href="itype_8h_source.html#l01209">itype::magazine</a>, <a class="el" href="pocket__type_8h.html#af41ed729a50321996f6fa60225086cf1a9ad53f422a98449de1c9f7bd20b2de8a">MAGAZINE</a>, <a class="el" href="item_8cpp_source.html#l11207">item::magazine_current()</a>, <a class="el" href="item_8cpp_source.html#l06722">item::on_contents_changed()</a>, <a class="el" href="sounds_8cpp_source.html#l01999">sfx::play_variant_sound()</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="item_8cpp_source.html#l01784">item::put_in()</a>, <a class="el" href="rng_8h_source.html#l00104">random_entry()</a>, <a class="el" href="item_8cpp_source.html#l07602">item::set_flag()</a>, <a class="el" href="ret__val_8h_source.html#l00013">ret_val_common::success()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, <a class="el" href="item_8h_source.html#l03074">item::type</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>.</p>

</div>
</div>
<a id="a217238d7885e55ae74878bbb1f99cddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217238d7885e55ae74878bbb1f99cddd">&#9670;&nbsp;</a></span>dispersion_from_skill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double dispersion_from_skill </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>skill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>weapon_dispersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l02267">2267</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;{</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordflow">if</span>( skill &gt;= <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) {</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    }</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="keywordtype">double</span> skill_shortfall = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) - skill;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <span class="keywordtype">double</span> dispersion_penalty = 10 * skill_shortfall;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keywordtype">double</span> skill_threshold = 5;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordflow">if</span>( skill &gt;= skill_threshold ) {</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <span class="keywordtype">double</span> post_threshold_skill_shortfall = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) - skill;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <span class="comment">// Lack of mastery multiplies the dispersion of the weapon.</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <span class="keywordflow">return</span> dispersion_penalty + ( weapon_dispersion * post_threshold_skill_shortfall * 1.25 ) /</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;               ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ) - skill_threshold );</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    }</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="comment">// Unskilled shooters suffer greater penalties, still scaling with weapon penalties.</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordtype">double</span> pre_threshold_skill_shortfall = skill_threshold - skill;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    dispersion_penalty += weapon_dispersion *</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                          ( 1.25 + pre_threshold_skill_shortfall * 10.0 / skill_threshold );</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160; </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <span class="keywordflow">return</span> dispersion_penalty;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;}</div>
<div class="ttc" id="agame__constants_8h_html_ae9c0ec5b4724c15132efddb8862ca652"><div class="ttname"><a href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a></div><div class="ttdeci">constexpr int MAX_SKILL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00120">game_constants.h:120</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game__constants_8h_source.html#l00120">MAX_SKILL</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>.</p>

</div>
</div>
<a id="ae6e2f802cc8fb025d3dd4ada3da65c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e2f802cc8fb025d3dd4ada3da65c55">&#9670;&nbsp;</a></span>do_aim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_aim </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>relevant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>min_recoil</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01516">1516</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;{</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> aim_amount = you.<a class="code" href="classCharacter.html#a6243be833eae8764b8dc841fb05cf867">aim_per_move</a>( relevant, you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> );</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordflow">if</span>( aim_amount &gt; 0 &amp;&amp; you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> &gt; min_recoil ) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="comment">// Increase aim at the cost of moves</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        you.<a class="code" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -1 );</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( min_recoil, you.<a class="code" href="classCharacter.html#a057d68671b298012a18f4e289b39935d">recoil</a> - aim_amount );</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="comment">// Train archery proficiencies if we are doing archery</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        <span class="keywordflow">if</span>( relevant.<a class="code" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() == <a class="code" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a> ) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            <a class="code" href="ranged_8cpp.html#ae8b9efd8abced2440e1b53139f2696d7">practice_archery_proficiency</a>( you, relevant );</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="comment">// Only drain stamina on initial draw</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            <span class="keywordflow">if</span>( you.<a class="code" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">get_moves</a>() == 1 ) {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                <a class="code" href="ranged_8cpp.html#a2d15a168c57c6a43e0e7130e7aac2120">mod_stamina_archery</a>( you, relevant );</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            }</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="comment">// If aim is already maxed, we&#39;re just waiting, so pass the turn.</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        you.<a class="code" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a>( 0 );</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a6243be833eae8764b8dc841fb05cf867"><div class="ttname"><a href="classCharacter.html#a6243be833eae8764b8dc841fb05cf867">Character::aim_per_move</a></div><div class="ttdeci">double aim_per_move(const item &amp;gun, double recoil, const Target_attributes &amp;target_attributes=Target_attributes(), std::optional&lt; std::reference_wrapper&lt; const aim_mods_cache &gt;&gt; aim_cache=std::nullopt) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01087">character.cpp:1087</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02008">creature.cpp:2008</a></div></div>
<div class="ttc" id="aclassCreature_html_af3d3fb7cfb98cf3c36f0f0681414274a"><div class="ttname"><a href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">Creature::get_moves</a></div><div class="ttdeci">int get_moves() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02004">creature.cpp:2004</a></div></div>
<div class="ttc" id="aclassCreature_html_af826bfbdc9d7f81a8b9e53775f43d080"><div class="ttname"><a href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a></div><div class="ttdeci">void set_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02012">creature.cpp:2012</a></div></div>
<div class="ttc" id="aclassitem_html_a3d8542661f2e2a82e8cb3792584912f3"><div class="ttname"><a href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">item::gun_skill</a></div><div class="ttdeci">skill_id gun_skill() const</div><div class="ttdoc">The skill used to operate the gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10391">item.cpp:10391</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a2d15a168c57c6a43e0e7130e7aac2120"><div class="ttname"><a href="ranged_8cpp.html#a2d15a168c57c6a43e0e7130e7aac2120">mod_stamina_archery</a></div><div class="ttdeci">static void mod_stamina_archery(Character &amp;you, const item &amp;relevant)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01497">ranged.cpp:1497</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a2f8b66e6fc62f3d92b208655f5525bba"><div class="ttname"><a href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a></div><div class="ttdeci">static const skill_id skill_archery(&quot;archery&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ae8b9efd8abced2440e1b53139f2696d7"><div class="ttname"><a href="ranged_8cpp.html#ae8b9efd8abced2440e1b53139f2696d7">practice_archery_proficiency</a></div><div class="ttdeci">void practice_archery_proficiency(Character &amp;p, const item &amp;relevant)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01455">ranged.cpp:1455</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l01087">Character::aim_per_move()</a>, <a class="el" href="creature_8cpp_source.html#l02004">Creature::get_moves()</a>, <a class="el" href="item_8cpp_source.html#l10391">item::gun_skill()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="creature_8cpp_source.html#l02008">Creature::mod_moves()</a>, <a class="el" href="ranged_8cpp_source.html#l01497">mod_stamina_archery()</a>, <a class="el" href="ranged_8cpp_source.html#l01455">practice_archery_proficiency()</a>, <a class="el" href="character_8h_source.html#l01117">Character::recoil</a>, <a class="el" href="creature_8cpp_source.html#l02012">Creature::set_moves()</a>, and <a class="el" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03421">target_ui::action_aim()</a>, and <a class="el" href="ranged_8cpp_source.html#l03446">target_ui::action_aim_and_shoot()</a>.</p>

</div>
</div>
<a id="aad8bc17f1bcf65d90738d8d06460c91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8bc17f1bcf65d90738d8d06460c91a">&#9670;&nbsp;</a></span>draw_throw_aim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void draw_throw_aim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtarget__ui.html">target_ui</a> &amp;&#160;</td>
          <td class="paramname"><em>ui</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>text_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinput__context.html">input_context</a> &amp;&#160;</td>
          <td class="paramname"><em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weapon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>target_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_blind_throw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01967">1967</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;{</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <a class="code" href="classCreature.html">Creature</a> *target = <a class="code" href="creature__tracker_8h.html#a16f631f70e72b53e590770670fb301fb">get_creature_tracker</a>().<a class="code" href="classcreature__tracker.html#aba3c6663688bcd1806ea685d6961cb72">creature_at</a>( target_pos, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span>( target != <span class="keyword">nullptr</span> &amp;&amp; !you.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( *target ) ) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        target = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    }</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160; </div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keyword">const</span> <a class="code" href="classdispersion__sources.html">dispersion_sources</a> dispersion( you.<a class="code" href="classCharacter.html#a6853521cfe7399330d90c08271e003b4">throwing_dispersion</a>( weapon, target, is_blind_throw ) );</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> range = <a class="code" href="coordinates_8h.html#a8e2cbab6dac12095f06b4cff66857fbb">rl_dist</a>( you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), target_pos );</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160; </div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> target_size = target != <span class="keyword">nullptr</span> ? target-&gt;<a class="code" href="classCreature.html#a1c8ea56d06ff96a720201c46a40969aa">ranged_target_size</a>() : 1.0f;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;confidence_rating&gt; confidence_config_critter = {{</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            { <a class="code" href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a>, <span class="charliteral">&#39;*&#39;</span>, <span class="stringliteral">&quot;green&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Great&quot;</span> ) },</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            { <a class="code" href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a>, <span class="charliteral">&#39;+&#39;</span>, <span class="stringliteral">&quot;light_gray&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Normal&quot;</span> ) },</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            { <a class="code" href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a>, <span class="charliteral">&#39;|&#39;</span>, <span class="stringliteral">&quot;magenta&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Graze&quot;</span> ) }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        }</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    };</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;confidence_rating&gt; confidence_config_object = {{</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            { <a class="code" href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a>, <span class="charliteral">&#39;*&#39;</span>, <span class="stringliteral">&quot;white&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Hit&quot;</span> ) }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    };</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;confidence_config = target != <span class="keyword">nullptr</span> ?</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                                    confidence_config_critter : confidence_config_object;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keyword">const</span> <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997">target_ui::TargetMode</a> throwing_target_mode = is_blind_throw ?</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86">target_ui::TargetMode::ThrowBlind</a> :</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f">target_ui::TargetMode::Throw</a>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <a class="code" href="structTarget__attributes.html">Target_attributes</a> attributes( range, target_size, <a class="code" href="game_8cpp.html#afa1063326b0c16b43c6f3dc8c3df403d">get_map</a>().ambient_light_at( target_pos ),</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                                  you.<a class="code" href="classCharacter.html#a906192bd3a5f29a61ee12695e18d2eb5">sees</a>( target_pos ) );</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <span class="keyword">const</span> std::vector&lt;aim_type_prediction&gt; aim_chances = <a class="code" href="ranged_8cpp.html#a221acbe15b21618febcda6765ff3223c">calculate_ranged_chances</a>( <a class="code" href="namespaceui.html">ui</a>, you,</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            throwing_target_mode, ctxt, weapon, dispersion, confidence_config, attributes, target_pos );</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160; </div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    text_y = <a class="code" href="ranged_8cpp.html#a4fd0e174103e30dd7949347118557bc8">print_ranged_chance</a>( w, text_y, aim_chances );</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a6853521cfe7399330d90c08271e003b4"><div class="ttname"><a href="classCharacter.html#a6853521cfe7399330d90c08271e003b4">Character::throwing_dispersion</a></div><div class="ttdeci">int throwing_dispersion(const item &amp;to_throw, Creature *critter=nullptr, bool is_blind_throw=false) const</div><div class="ttdoc">Dispersion of a thrown item, against a given target, taking into account whether or not the throw was...</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01183">ranged.cpp:1183</a></div></div>
<div class="ttc" id="aclassCreature_html_a1c8ea56d06ff96a720201c46a40969aa"><div class="ttname"><a href="classCreature.html#a1c8ea56d06ff96a720201c46a40969aa">Creature::ranged_target_size</a></div><div class="ttdeci">double ranged_target_size() const</div><div class="ttdoc">Size of the target this creature presents to ranged weapons.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00547">ranged.cpp:547</a></div></div>
<div class="ttc" id="aclasstarget__ui_html_ae0dd055ba040ba97125cbf165a33c997"><div class="ttname"><a href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997">target_ui::TargetMode</a></div><div class="ttdeci">TargetMode</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l00173">ranged.cpp:173</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a32b6b0daa47aeb1caa71bc0585e24684"><div class="ttname"><a href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a></div><div class="ttdeci">constexpr double accuracy_critical</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00130">game_constants.h:130</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a45b6e116f09ae6af4ef31f1495cf48a1"><div class="ttname"><a href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a></div><div class="ttdeci">constexpr double accuracy_grazing</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00133">game_constants.h:133</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ae5e219227693b7de2d1bb823567b01c7"><div class="ttname"><a href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a></div><div class="ttdeci">constexpr double accuracy_standard</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00132">game_constants.h:132</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a221acbe15b21618febcda6765ff3223c"><div class="ttname"><a href="ranged_8cpp.html#a221acbe15b21618febcda6765ff3223c">calculate_ranged_chances</a></div><div class="ttdeci">static std::vector&lt; aim_type_prediction &gt; calculate_ranged_chances(const target_ui &amp;ui, const Character &amp;you, target_ui::TargetMode mode, const input_context &amp;ctxt, const item &amp;weapon, const dispersion_sources &amp;dispersion, const std::vector&lt; confidence_rating &gt; &amp;confidence_ratings, const Target_attributes &amp;target, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01692">ranged.cpp:1692</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a4fd0e174103e30dd7949347118557bc8"><div class="ttname"><a href="ranged_8cpp.html#a4fd0e174103e30dd7949347118557bc8">print_ranged_chance</a></div><div class="ttdeci">static int print_ranged_chance(const catacurses::window &amp;w, int line_number, const std::vector&lt; aim_type_prediction &gt; &amp;aim_chances)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01805">ranged.cpp:1805</a></div></div>
<div class="ttc" id="astructTarget__attributes_html"><div class="ttname"><a href="structTarget__attributes.html">Target_attributes</a></div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00085">ranged.h:85</a></div></div>
<div class="ttc" id="atranslations_8h_html_a9e39a96618079002323c6e554271d3e2"><div class="ttname"><a href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a></div><div class="ttdeci">#define translate_marker_context(c, x)</div><div class="ttdoc">Same as translate_marker, but also provides a context (string literal).</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00025">translations.h:25</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game__constants_8h_source.html#l00130">accuracy_critical</a>, <a class="el" href="game__constants_8h_source.html#l00133">accuracy_grazing</a>, <a class="el" href="game__constants_8h_source.html#l00132">accuracy_standard</a>, <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>, <a class="el" href="creature__tracker_8cpp_source.html#l00303">creature_tracker::creature_at()</a>, <a class="el" href="game_8cpp_source.html#l13827">get_creature_tracker()</a>, <a class="el" href="game_8cpp_source.html#l13822">get_map()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="ranged_8cpp_source.html#l01805">print_ranged_chance()</a>, <a class="el" href="ranged_8cpp_source.html#l00547">Creature::ranged_target_size()</a>, <a class="el" href="coordinates_8h_source.html#l00769">rl_dist()</a>, <a class="el" href="character_8cpp_source.html#l11397">Character::sees()</a>, <a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8ce61dd2505effd96f937fa743b6491f">target_ui::Throw</a>, <a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997a8f61cfb2c3938627416432409d2f6e86">target_ui::ThrowBlind</a>, <a class="el" href="ranged_8cpp_source.html#l01183">Character::throwing_dispersion()</a>, and <a class="el" href="translations_8h_source.html#l00025">translate_marker_context</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03551">target_ui::draw_ui_window()</a>.</p>

</div>
</div>
<a id="ae485e14f2f0d97810da8125353dfa101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae485e14f2f0d97810da8125353dfa101">&#9670;&nbsp;</a></span>get_colored_bar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> get_colored_bar </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RatingVector::iterator&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RatingVector::iterator&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01586">1586</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;{</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="keywordflow">return</span> get_labeled_bar&lt;RatingVector::iterator&gt;( val, width, <a class="code" href="structlabel.html">label</a>, begin, <a class="code" href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">end</a>,</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    []( RatingVector::iterator it, <span class="keywordtype">int</span> seg_width ) -&gt; std::string {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        std::string result = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_%s&gt;&quot;</span>, std::get&lt;2&gt;( *it ) );</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        result.insert( result.end(), seg_width, std::get&lt;1&gt;( *it ) );</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        result += <span class="stringliteral">&quot;&lt;/color&gt;&quot;</span>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">return</span> result;} );</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div>
<div class="ttc" id="anamespacekeycode_html_a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac"><div class="ttname"><a href="namespacekeycode.html#a16ca776f0df120afb4f1b16a92e2d7f7aa6efe66b8fc51ca203d5f0015d983eac">keycode::end</a></div><div class="ttdeci">@ end</div><div class="ttdef"><b>Definition:</b> <a href="input_8h_source.html#l00095">input.h:95</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00417">string_formatter.h:417</a></div></div>
<div class="ttc" id="astructlabel_html"><div class="ttname"><a href="structlabel.html">label</a></div><div class="ttdoc">Struct used for storing labels (easier to json opposed to a std::map&lt;point, std::string&gt;)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00687">vehicle.h:687</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="input_8h_source.html#l00095">keycode::end</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01789">print_confidence_rating_bar()</a>.</p>

</div>
</div>
<a id="aa68fa53ae2a9bc0bb461af10bec001fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa68fa53ae2a9bc0bb461af10bec001fe">&#9670;&nbsp;</a></span>get_default_aim_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structaim__type.html">aim_type</a> get_default_aim_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01578">1578</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;{</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="comment">// dummy aim type for unaimed shots</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">return</span> { <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Immediate&quot;</span> ), <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a> ) };</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, and <a class="el" href="game__constants_8h_source.html#l00137">MAX_RECOIL</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>, <a class="el" href="ranged_8cpp_source.html#l02006">Character::get_aim_types()</a>, and <a class="el" href="ranged_8cpp_source.html#l03603">target_ui::get_selected_aim_type()</a>.</p>

</div>
</div>
<a id="a18e93476c9d626924c31cf14193305b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e93476c9d626924c31cf14193305b3">&#9670;&nbsp;</a></span>gunmode_checks_common()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gunmode_checks_common </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classavatar.html">avatar</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgun__mode.html">gun_mode</a> &amp;&#160;</td>
          <td class="paramname"><em>gmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Common checks for gunmode (when firing a weapon / manually firing turret) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">messages</td><td>Used to store messages describing failed checks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if all conditions are true </dd></dl>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l03975">3975</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;{</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code" href="ranged_8cpp.html#a0fb9c66af29eade7d376e89264128bcd">trait_BRAWLER</a> ) ) {</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;        messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Pfft.  You are a brawler; using this %s is beneath you.&quot;</span> ),</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;                                           gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;        result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;    }</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160; </div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;    <span class="comment">// Check that passed gun mode is valid and we are able to use it</span></div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    <span class="keywordflow">if</span>( !( gmode &amp;&amp; you.<a class="code" href="classCharacter.html#a4eddeb86babf626e7869882079b40651">can_use</a>( *gmode ) ) ) {</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;        messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t currently fire your %s.&quot;</span> ),</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;                                           gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;        result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    }</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160; </div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    <span class="keyword">const</span> <a class="code" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = m.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;    <span class="keywordflow">if</span>( vp &amp;&amp; vp-&gt;vehicle().player_in_control( you ) &amp;&amp; ( gmode-&gt;<a class="code" href="classitem.html#af373f646c1ee172941490dc7cc04bbcd">is_two_handed</a>( you ) ||</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;            gmode-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#ae4145a31d8da9f94a59bb3d6fb13436f">flag_FIRE_TWOHAND</a> ) ) ) {</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;        messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You can&#39;t fire your %s while driving.&quot;</span> ),</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;                                           gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;        result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;    }</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160; </div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keywordflow">if</span>( gmode-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#ae4145a31d8da9f94a59bb3d6fb13436f">flag_FIRE_TWOHAND</a> ) &amp;&amp; ( !you.<a class="code" href="classCharacter.html#a3abc3f2f3d7ad4ec9967ec6ccbcc1c97">has_two_arms_lifting</a>() ||</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;            you.<a class="code" href="classCharacter.html#addcf2c54cf8c3920f66328e2441830fb">worn_with_flag</a>( <a class="code" href="flag_8cpp.html#a7198b972ee7b7e58fde85d42d517297f">flag_RESTRICT_HANDS</a> ) ) ) {</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;        messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need two free hands to fire your %s.&quot;</span> ),</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;                                           gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;        result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    }</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160; </div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a3abc3f2f3d7ad4ec9967ec6ccbcc1c97"><div class="ttname"><a href="classCharacter.html#a3abc3f2f3d7ad4ec9967ec6ccbcc1c97">Character::has_two_arms_lifting</a></div><div class="ttdeci">bool has_two_arms_lifting() const</div><div class="ttdoc">Returns true if the character has two functioning arms.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02083">character.cpp:2083</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eddeb86babf626e7869882079b40651"><div class="ttname"><a href="classCharacter.html#a4eddeb86babf626e7869882079b40651">Character::can_use</a></div><div class="ttdeci">bool can_use(const item &amp;it, const item &amp;context=item()) const</div><div class="ttdoc">Checks if character stats and skills meet minimum requirements for the item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03271">character.cpp:3271</a></div></div>
<div class="ttc" id="aclassCharacter_html_addcf2c54cf8c3920f66328e2441830fb"><div class="ttname"><a href="classCharacter.html#addcf2c54cf8c3920f66328e2441830fb">Character::worn_with_flag</a></div><div class="ttdeci">bool worn_with_flag(const flag_id &amp;flag, const bodypart_id &amp;bp) const</div><div class="ttdoc">Returns true if the player is wearing an item with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="character__attire_8cpp_source.html#l00548">character_attire.cpp:548</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00111">mutation.cpp:111</a></div></div>
<div class="ttc" id="aclassitem_html_a30837987c08ac5daf3b1e377e0ecaa21"><div class="ttname"><a href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, tname::segment_bitset const &amp;segments=tname::default_tname) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06814">item.cpp:6814</a></div></div>
<div class="ttc" id="aclassitem_html_af373f646c1ee172941490dc7cc04bbcd"><div class="ttname"><a href="classitem.html#af373f646c1ee172941490dc7cc04bbcd">item::is_two_handed</a></div><div class="ttdeci">bool is_two_handed(const Character &amp;guy) const</div><div class="ttdoc">Whether the character needs both hands to wield this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09137">item.cpp:9137</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a std::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00124">vpart_position.h:125</a></div></div>
<div class="ttc" id="aflag_8cpp_html_a7198b972ee7b7e58fde85d42d517297f"><div class="ttname"><a href="flag_8cpp.html#a7198b972ee7b7e58fde85d42d517297f">flag_RESTRICT_HANDS</a></div><div class="ttdeci">const flag_id flag_RESTRICT_HANDS(&quot;RESTRICT_HANDS&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_ae4145a31d8da9f94a59bb3d6fb13436f"><div class="ttname"><a href="flag_8cpp.html#ae4145a31d8da9f94a59bb3d6fb13436f">flag_FIRE_TWOHAND</a></div><div class="ttdeci">const flag_id flag_FIRE_TWOHAND(&quot;FIRE_TWOHAND&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a0fb9c66af29eade7d376e89264128bcd"><div class="ttname"><a href="ranged_8cpp.html#a0fb9c66af29eade7d376e89264128bcd">trait_BRAWLER</a></div><div class="ttdeci">static const trait_id trait_BRAWLER(&quot;BRAWLER&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8cpp_source.html#l03271">Character::can_use()</a>, <a class="el" href="flag_8cpp.html#ae4145a31d8da9f94a59bb3d6fb13436f">flag_FIRE_TWOHAND</a>, <a class="el" href="flag_8cpp.html#a7198b972ee7b7e58fde85d42d517297f">flag_RESTRICT_HANDS</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="mutation_8cpp_source.html#l00111">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l02083">Character::has_two_arms_lifting()</a>, <a class="el" href="item_8cpp_source.html#l09137">item::is_two_handed()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="ranged_8cpp.html#a0fb9c66af29eade7d376e89264128bcd">trait_BRAWLER</a>, <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>, and <a class="el" href="character__attire_8cpp_source.html#l00548">Character::worn_with_flag()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00753">avatar_action::can_fire_weapon()</a>, and <a class="el" href="ranged_8cpp_source.html#l03067">target_ui::update_status()</a>.</p>

</div>
</div>
<a id="a207024a5d17769a16bfc8a7a434d72cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207024a5d17769a16bfc8a7a434d72cd">&#9670;&nbsp;</a></span>gunmode_checks_weapon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gunmode_checks_weapon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classavatar.html">avatar</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgun__mode.html">gun_mode</a> &amp;&#160;</td>
          <td class="paramname"><em>gmode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Various checks for gunmode when firing a weapon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">messages</td><td>Used to store messages describing failed checks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if all conditions are true </dd></dl>

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l04010">4010</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;{</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;    <span class="keywordflow">if</span>( !gmode-&gt;<a class="code" href="classitem.html#aafdd6e14936eb02b0d71a96e7e325746">ammo_sufficient</a>( &amp;you ) &amp;&amp;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;        !gmode-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#aa4483d80251dc96dd0c8313d8a6366f9">flag_RELOAD_AND_SHOOT</a> ) ) {</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;        <span class="keywordflow">if</span>( !gmode-&gt;<a class="code" href="classitem.html#a428ea67bcf1a68b717f7cd4871b0b980">ammo_remaining</a>() ) {</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;            messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your %s is empty!&quot;</span> ), gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;            messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your %s needs %i charges to fire!&quot;</span> ),</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;                                               gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>(), gmode-&gt;<a class="code" href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">ammo_required</a>() ) );</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;        }</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;        result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    }</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160; </div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;    <span class="keywordflow">if</span>( gmode-&gt;<a class="code" href="classitem.html#a6d3164628041c6ccdce14aedd711b640">get_gun_energy_drain</a>() &gt; 0_kJ ) {</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        <span class="keyword">const</span> <a class="code" href="classunits_1_1quantity.html">units::energy</a> energy_drain = gmode-&gt;<a class="code" href="classitem.html#a6d3164628041c6ccdce14aedd711b640">get_gun_energy_drain</a>();</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;        <span class="keywordtype">bool</span> is_mech_weapon = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;        <span class="keywordflow">if</span>( you.<a class="code" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;            <a class="code" href="classmonster.html">monster</a> *mons = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>().<a class="code" href="classCharacter.html#ac3d46549b7cdaac1f98991167ad5f1b3">mounted_creature</a>.get();</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;            <span class="keywordflow">if</span>( !mons-&gt;<a class="code" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code" href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mech_weapon</a>.<a class="code" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;                is_mech_weapon = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;            }</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;        }</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160; </div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;        <span class="keywordflow">if</span>( gmode-&gt;<a class="code" href="classitem.html#a1ce97bab127dbbcd371f4e83bb441c38">energy_remaining</a>( &amp;you ) &lt; energy_drain ) {</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;            result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;            <span class="keywordflow">if</span>( is_mech_weapon ) {</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;                messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Your mech has an empty battery, its %s will not fire.&quot;</span> ),</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;                                                   gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( gmode-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#a7d8a64454549e0bab5aa7d7a7091f9d1">flag_USES_BIONIC_POWER</a> ) ) {</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;                messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;                                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need at least %2$d kJ of bionic power to fire the %1$s!&quot;</span> ),</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;                                        gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>(), <a class="code" href="namespaceunits.html#a7f3948de70e78d68af74fb3d119cf176">units::to_kilojoule</a>( energy_drain ) ) );</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( gmode-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#a3e2d3cbf6b78ce65033d1f9cbf1f59bf">flag_USE_UPS</a> ) ) {</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;                messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;                                        <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You need a UPS with at least %2$d kJ to fire the %1$s!&quot;</span> ),</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;                                        gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>(), <a class="code" href="namespaceunits.html#a7f3948de70e78d68af74fb3d119cf176">units::to_kilojoule</a>( energy_drain ) ) );</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;            }</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;        }</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    }</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160; </div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    <span class="keywordflow">if</span>( gmode-&gt;<a class="code" href="classitem.html#a3e532e4e5b7cef943634b1d910f99384">has_flag</a>( <a class="code" href="flag_8cpp.html#a6e2d5c45635a3d1a0b2afd71e4748d57">flag_MOUNTED_GUN</a> ) ) {</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> v_mountable = <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>( m.<a class="code" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() ).<a class="code" href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">part_with_feature</a>( <span class="stringliteral">&quot;MOUNTABLE&quot;</span>,</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;                                 <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;        <span class="keywordtype">bool</span> t_mountable = m.<a class="code" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6360286fa7a45a7d705397a23a639f54">ter_furn_flag::TFLAG_MOUNTABLE</a>, you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>() );</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;        <span class="keywordflow">if</span>( !t_mountable &amp;&amp; !v_mountable ) {</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;            messages.push_back( <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>(</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You must stand near acceptable terrain or furniture to fire the %s.  A table, a mound of dirt, a broken window, etc.&quot;</span> ),</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;                                    gmode-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>() ) );</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;            result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;        }</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    }</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160; </div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;}</div>
<div class="ttc" id="acharacter_8h_html_abaafa6561de05c3b1324214e3048745a"><div class="ttname"><a href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l13807">game.cpp:13807</a></div></div>
<div class="ttc" id="aclassitem_html_a1ce97bab127dbbcd371f4e83bb441c38"><div class="ttname"><a href="classitem.html#a1ce97bab127dbbcd371f4e83bb441c38">item::energy_remaining</a></div><div class="ttdeci">units::energy energy_remaining(const Character *carrier=nullptr) const</div><div class="ttdoc">Energy available from battery/UPS/bionics.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10750">item.cpp:10750</a></div></div>
<div class="ttc" id="aclassitem_html_a428ea67bcf1a68b717f7cd4871b0b980"><div class="ttname"><a href="classitem.html#a428ea67bcf1a68b717f7cd4871b0b980">item::ammo_remaining</a></div><div class="ttdeci">int ammo_remaining(const Character *carrier=nullptr, bool include_linked=false) const</div><div class="ttdoc">Quantity of ammunition currently loaded in tool, gun or auxiliary gunmod.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10739">item.cpp:10739</a></div></div>
<div class="ttc" id="aclassitem_html_a6d3164628041c6ccdce14aedd711b640"><div class="ttname"><a href="classitem.html#a6d3164628041c6ccdce14aedd711b640">item::get_gun_energy_drain</a></div><div class="ttdeci">units::energy get_gun_energy_drain() const</div><div class="ttdoc">Get gun energy drain.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14586">item.cpp:14586</a></div></div>
<div class="ttc" id="aclassitem_html_a7dc5d9ccf5638ae80cebe1864050fa26"><div class="ttname"><a href="classitem.html#a7dc5d9ccf5638ae80cebe1864050fa26">item::ammo_required</a></div><div class="ttdeci">int ammo_required() const</div><div class="ttdoc">Quantity of ammunition consumed per usage of tool or with each shot of gun.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10821">item.cpp:10821</a></div></div>
<div class="ttc" id="aclassitem_html_aafdd6e14936eb02b0d71a96e7e325746"><div class="ttname"><a href="classitem.html#aafdd6e14936eb02b0d71a96e7e325746">item::ammo_sufficient</a></div><div class="ttdeci">bool ammo_sufficient(const Character *carrier, int qty=1) const</div><div class="ttdoc">Check if sufficient ammo is loaded for given number of uses.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l10855">item.cpp:10855</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03122">map.cpp:3122</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00085">monster.h:86</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00550">monster.h:550</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a4c78451e42e97753079ecd2a54c7143d"><div class="ttname"><a href="classoptional__vpart__position.html#a4c78451e42e97753079ecd2a54c7143d">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">std::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02698">vehicle.cpp:2698</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00303">string_id.h:303</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00028">units.h:29</a></div></div>
<div class="ttc" id="aflag_8cpp_html_a3e2d3cbf6b78ce65033d1f9cbf1f59bf"><div class="ttname"><a href="flag_8cpp.html#a3e2d3cbf6b78ce65033d1f9cbf1f59bf">flag_USE_UPS</a></div><div class="ttdeci">const flag_id flag_USE_UPS(&quot;USE_UPS&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a6e2d5c45635a3d1a0b2afd71e4748d57"><div class="ttname"><a href="flag_8cpp.html#a6e2d5c45635a3d1a0b2afd71e4748d57">flag_MOUNTED_GUN</a></div><div class="ttdeci">const flag_id flag_MOUNTED_GUN(&quot;MOUNTED_GUN&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_a7d8a64454549e0bab5aa7d7a7091f9d1"><div class="ttname"><a href="flag_8cpp.html#a7d8a64454549e0bab5aa7d7a7091f9d1">flag_USES_BIONIC_POWER</a></div><div class="ttdeci">const flag_id flag_USES_BIONIC_POWER(&quot;USES_BIONIC_POWER&quot;)</div></div>
<div class="ttc" id="aflag_8cpp_html_aa4483d80251dc96dd0c8313d8a6366f9"><div class="ttname"><a href="flag_8cpp.html#aa4483d80251dc96dd0c8313d8a6366f9">flag_RELOAD_AND_SHOOT</a></div><div class="ttdeci">const flag_id flag_RELOAD_AND_SHOOT(&quot;RELOAD_AND_SHOOT&quot;)</div></div>
<div class="ttc" id="amapdata_8h_html_a2edbbfd25069897b3062331e48224054a6360286fa7a45a7d705397a23a639f54"><div class="ttname"><a href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6360286fa7a45a7d705397a23a639f54">ter_furn_flag::TFLAG_MOUNTABLE</a></div><div class="ttdeci">@ TFLAG_MOUNTABLE</div></div>
<div class="ttc" id="anamespaceunits_html_a7f3948de70e78d68af74fb3d119cf176"><div class="ttname"><a href="namespaceunits.html#a7f3948de70e78d68af74fb3d119cf176">units::to_kilojoule</a></div><div class="ttdeci">constexpr value_type to_kilojoule(const quantity&lt; value_type, energy_in_millijoule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00578">units.h:578</a></div></div>
<div class="ttc" id="astructmtype_html_abe1e1f1cacb0be37406c667e226003c4"><div class="ttname"><a href="structmtype.html#abe1e1f1cacb0be37406c667e226003c4">mtype::mech_weapon</a></div><div class="ttdeci">itype_id mech_weapon</div><div class="ttdoc">If this monster is a rideable mech with built-in weapons, this is the weapons id.</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00327">mtype.h:327</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="item_8cpp_source.html#l10739">item::ammo_remaining()</a>, <a class="el" href="item_8cpp_source.html#l10821">item::ammo_required()</a>, <a class="el" href="item_8cpp_source.html#l10855">item::ammo_sufficient()</a>, <a class="el" href="item_8cpp_source.html#l10750">item::energy_remaining()</a>, <a class="el" href="flag_8cpp.html#a6e2d5c45635a3d1a0b2afd71e4748d57">flag_MOUNTED_GUN</a>, <a class="el" href="flag_8cpp.html#aa4483d80251dc96dd0c8313d8a6366f9">flag_RELOAD_AND_SHOOT</a>, <a class="el" href="flag_8cpp.html#a3e2d3cbf6b78ce65033d1f9cbf1f59bf">flag_USE_UPS</a>, <a class="el" href="flag_8cpp.html#a7d8a64454549e0bab5aa7d7a7091f9d1">flag_USES_BIONIC_POWER</a>, <a class="el" href="item_8cpp_source.html#l14586">item::get_gun_energy_drain()</a>, <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, <a class="el" href="item_8cpp_source.html#l07578">item::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l03122">map::has_flag_ter_or_furn()</a>, <a class="el" href="string__id_8h_source.html#l00303">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="character_8cpp_source.html#l01732">Character::is_mounted()</a>, <a class="el" href="mtype_8h_source.html#l00327">mtype::mech_weapon</a>, <a class="el" href="character_8h_source.html#l02800">Character::mounted_creature</a>, <a class="el" href="vehicle_8cpp_source.html#l02698">optional_vpart_position::part_with_feature()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="mapdata_8h.html#a2edbbfd25069897b3062331e48224054a6360286fa7a45a7d705397a23a639f54">TFLAG_MOUNTABLE</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="units_8h_source.html#l00578">units::to_kilojoule()</a>, <a class="el" href="monster_8h_source.html#l00550">monster::type</a>, and <a class="el" href="map_8cpp_source.html#l01316">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00753">avatar_action::can_fire_weapon()</a>, and <a class="el" href="ranged_8cpp_source.html#l03067">target_ui::update_status()</a>.</p>

</div>
</div>
<a id="ab0db3d2d826960249b5a1d47fa7881ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0db3d2d826960249b5a1d47fa7881ff">&#9670;&nbsp;</a></span>make_gun_projectile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structprojectile.html">projectile</a> make_gun_projectile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>gun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l02045">2045</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;{</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <a class="code" href="structprojectile.html">projectile</a> proj;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    proj.<a class="code" href="structprojectile.html#aa2af53bce63feecb719ef1edba54689e">speed</a>  = 1000;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    proj.<a class="code" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a> = <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_damage();</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    proj.<a class="code" href="structprojectile.html#a221a35c5c50354f9e29ec63ebfd6669f">shot_impact</a> = <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_damage( <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    proj.<a class="code" href="structprojectile.html#a312bc9a78fe7a5fdefb44e3755154db3">range</a> = <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_range();</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    proj.<a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a> = <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_effects();</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keyword">auto</span> &amp;fx = proj.<a class="code" href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">proj_effects</a>;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160; </div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keywordflow">if</span>( ( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_data() &amp;&amp; <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_data()-&gt;phase == <a class="code" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a> ) ||</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        fx.count( <span class="stringliteral">&quot;SHOT&quot;</span> ) || fx.count( <span class="stringliteral">&quot;BOUNCE&quot;</span> ) ) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        fx.insert( <span class="stringliteral">&quot;WIDE&quot;</span> );</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_data() ) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        <span class="comment">// Some projectiles have a chance of being recoverable</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        <span class="keywordtype">bool</span> recover = std::any_of( fx.begin(), fx.end(), []( <span class="keyword">const</span> std::string_view e ) {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            if( !string_starts_with( e, <span class="stringliteral">&quot;RECOVER_&quot;</span> ) ) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                return false;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            }</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <a class="code" href="classret__val.html">ret_val&lt;int&gt;</a> n = <a class="code" href="try__parse__integer_8cpp.html#ae51236610f306440113477987363490b">try_parse_integer&lt;int&gt;</a>( e.substr( 8 ), <span class="keyword">false</span> );</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keywordflow">if</span>( !n.success() ) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                debugmsg( <span class="stringliteral">&quot;Error parsing ammo RECOVER_ denominator: %s&quot;</span>, n.str() );</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                return false;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <span class="keywordflow">return</span> !<a class="code" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( n.value() );</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        } );</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        <span class="keywordflow">if</span>( recover &amp;&amp; !fx.count( <span class="stringliteral">&quot;IGNITE&quot;</span> ) &amp;&amp; !fx.count( <span class="stringliteral">&quot;EXPLOSIVE&quot;</span> ) ) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <a class="code" href="classitem.html">item</a> drop( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_current(), <a class="code" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, 1 );</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            drop.active = fx.count( <span class="stringliteral">&quot;ACT_ON_RANGED_HIT&quot;</span> );</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;            drop.set_favorite( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.get_contents().first_ammo().is_favorite );</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            proj.<a class="code" href="structprojectile.html#a2bbf20562006058aa939aa5339860ba7">set_drop</a>( drop );</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        }</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ammo = <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_data()-&gt;ammo;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        proj.<a class="code" href="structprojectile.html#a8f7965237723889c4066c90c05220523">critical_multiplier</a> = ammo-&gt;critical_multiplier;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        proj.<a class="code" href="structprojectile.html#ac535de1b5134a85ddcc5d1deffbf0d31">count</a> = ammo-&gt;count;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        proj.<a class="code" href="structprojectile.html#a69088085addc2ca2b0e5328faab85c87">multi_projectile_effects</a> = ammo-&gt;multi_projectile_effects;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="keywordflow">if</span>( fx.count( <span class="stringliteral">&quot;MULTI_EFFECTS&quot;</span> ) ) {</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            proj.<a class="code" href="structprojectile.html#a69088085addc2ca2b0e5328faab85c87">multi_projectile_effects</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        }</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        proj.<a class="code" href="structprojectile.html#af0fefe18f0e831be4b4d7d9693b35cbc">shot_spread</a> = ammo-&gt;shot_spread * <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.gun_shot_spread_multiplier();</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <span class="keywordflow">if</span>( !ammo-&gt;drop.is_null() &amp;&amp; <a class="code" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( ammo-&gt;drop_chance, 1.0 ) ) {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            <a class="code" href="classitem.html">item</a> drop( ammo-&gt;drop );</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            <span class="keywordflow">if</span>( ammo-&gt;drop_active ) {</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                drop.activate();</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            }</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            proj.<a class="code" href="structprojectile.html#a2bbf20562006058aa939aa5339860ba7">set_drop</a>( drop );</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        }</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <span class="keywordflow">if</span>( fx.count( <span class="stringliteral">&quot;CUSTOM_EXPLOSION&quot;</span> ) &gt; 0 ) {</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            proj.<a class="code" href="structprojectile.html#a3eb9cbe946d6bf2131eeae97d2d1230d">set_custom_explosion</a>( <a class="code" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>.ammo_data()-&gt;explosion );</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        }</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">return</span> proj;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00784">calendar.cpp:784</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00048">ret_val.h:49</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">phase_id::LIQUID</a></div><div class="ttdeci">@ LIQUID</div></div>
<div class="ttc" id="aitype_8h_html_a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180"><div class="ttname"><a href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">itype_variant_kind::gun</a></div><div class="ttdeci">@ gun</div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00108">rng.cpp:108</a></div></div>
<div class="ttc" id="astructprojectile_html"><div class="ttname"><a href="structprojectile.html">projectile</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00017">projectile.h:17</a></div></div>
<div class="ttc" id="astructprojectile_html_a221a35c5c50354f9e29ec63ebfd6669f"><div class="ttname"><a href="structprojectile.html#a221a35c5c50354f9e29ec63ebfd6669f">projectile::shot_impact</a></div><div class="ttdeci">damage_instance shot_impact</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00030">projectile.h:30</a></div></div>
<div class="ttc" id="astructprojectile_html_a2bbf20562006058aa939aa5339860ba7"><div class="ttname"><a href="structprojectile.html#a2bbf20562006058aa939aa5339860ba7">projectile::set_drop</a></div><div class="ttdeci">void set_drop(const item &amp;it)</div><div class="ttdoc">Copies item it as a drop for this projectile.</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00072">projectile.cpp:72</a></div></div>
<div class="ttc" id="astructprojectile_html_a312bc9a78fe7a5fdefb44e3755154db3"><div class="ttname"><a href="structprojectile.html#a312bc9a78fe7a5fdefb44e3755154db3">projectile::range</a></div><div class="ttdeci">int range</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00022">projectile.h:22</a></div></div>
<div class="ttc" id="astructprojectile_html_a3eb9cbe946d6bf2131eeae97d2d1230d"><div class="ttname"><a href="structprojectile.html#a3eb9cbe946d6bf2131eeae97d2d1230d">projectile::set_custom_explosion</a></div><div class="ttdeci">void set_custom_explosion(const explosion_data &amp;ex)</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00105">projectile.cpp:105</a></div></div>
<div class="ttc" id="astructprojectile_html_a4536010a51aee3302d749f2eb4dcaf35"><div class="ttname"><a href="structprojectile.html#a4536010a51aee3302d749f2eb4dcaf35">projectile::proj_effects</a></div><div class="ttdeci">std::set&lt; std::string &gt; proj_effects</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00033">projectile.h:33</a></div></div>
<div class="ttc" id="astructprojectile_html_a69088085addc2ca2b0e5328faab85c87"><div class="ttname"><a href="structprojectile.html#a69088085addc2ca2b0e5328faab85c87">projectile::multi_projectile_effects</a></div><div class="ttdeci">bool multi_projectile_effects</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00026">projectile.h:26</a></div></div>
<div class="ttc" id="astructprojectile_html_a82d8f657f8cfc4e180c15bfab8ca8a6e"><div class="ttname"><a href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">projectile::impact</a></div><div class="ttdeci">damage_instance impact</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00018">projectile.h:18</a></div></div>
<div class="ttc" id="astructprojectile_html_a8f7965237723889c4066c90c05220523"><div class="ttname"><a href="structprojectile.html#a8f7965237723889c4066c90c05220523">projectile::critical_multiplier</a></div><div class="ttdeci">float critical_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00031">projectile.h:31</a></div></div>
<div class="ttc" id="astructprojectile_html_aa2af53bce63feecb719ef1edba54689e"><div class="ttname"><a href="structprojectile.html#aa2af53bce63feecb719ef1edba54689e">projectile::speed</a></div><div class="ttdeci">int speed</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00021">projectile.h:21</a></div></div>
<div class="ttc" id="astructprojectile_html_ac535de1b5134a85ddcc5d1deffbf0d31"><div class="ttname"><a href="structprojectile.html#ac535de1b5134a85ddcc5d1deffbf0d31">projectile::count</a></div><div class="ttdeci">int count</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00024">projectile.h:24</a></div></div>
<div class="ttc" id="astructprojectile_html_af0fefe18f0e831be4b4d7d9693b35cbc"><div class="ttname"><a href="structprojectile.html#af0fefe18f0e831be4b4d7d9693b35cbc">projectile::shot_spread</a></div><div class="ttdeci">int shot_spread</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00028">projectile.h:28</a></div></div>
<div class="ttc" id="atry__parse__integer_8cpp_html_ae51236610f306440113477987363490b"><div class="ttname"><a href="try__parse__integer_8cpp.html#ae51236610f306440113477987363490b">try_parse_integer&lt; int &gt;</a></div><div class="ttdeci">template ret_val&lt; int &gt; try_parse_integer&lt; int &gt;(const std::string_view, bool use_locale)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00685">item::activate()</a>, <a class="el" href="item_8h_source.html#l03212">item::active</a>, <a class="el" href="projectile_8h_source.html#l00024">projectile::count</a>, <a class="el" href="projectile_8h_source.html#l00031">projectile::critical_multiplier</a>, <a class="el" href="itype_8h.html#a900fa847a573c744b0b3ea04319d6276a5161ebb0cce4b7987ba8b6935d60a180">gun</a>, <a class="el" href="projectile_8h_source.html#l00018">projectile::impact</a>, <a class="el" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a5918e24870f0ea98b9978dae8a69c533">LIQUID</a>, <a class="el" href="projectile_8h_source.html#l00026">projectile::multi_projectile_effects</a>, <a class="el" href="rng_8cpp_source.html#l00108">one_in()</a>, <a class="el" href="projectile_8h_source.html#l00033">projectile::proj_effects</a>, <a class="el" href="projectile_8h_source.html#l00022">projectile::range</a>, <a class="el" href="projectile_8cpp_source.html#l00105">projectile::set_custom_explosion()</a>, <a class="el" href="projectile_8cpp_source.html#l00072">projectile::set_drop()</a>, <a class="el" href="item_8cpp_source.html#l14753">item::set_favorite()</a>, <a class="el" href="projectile_8h_source.html#l00030">projectile::shot_impact</a>, <a class="el" href="projectile_8h_source.html#l00028">projectile::shot_spread</a>, <a class="el" href="projectile_8h_source.html#l00021">projectile::speed</a>, <a class="el" href="try__parse__integer_8cpp.html#ae51236610f306440113477987363490b">try_parse_integer&lt; int &gt;()</a>, <a class="el" href="calendar_8cpp_source.html#l00038">calendar::turn</a>, and <a class="el" href="calendar_8cpp_source.html#l00784">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>.</p>

</div>
</div>
<a id="a13b78ee77e8e3b8527bff0ce8e7a5651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b78ee77e8e3b8527bff0ce8e7a5651">&#9670;&nbsp;</a></span>make_gun_sound_effect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void make_gun_sound_effect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>burst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>weapon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l02172">2172</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;{</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="keyword">const</span> <a class="code" href="structitem_1_1sound__data.html">item::sound_data</a> data = weapon-&gt;<a class="code" href="classitem.html#a3694c5d9138956736af2444bd7b3972e">gun_noise</a>( burst );</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">if</span>( data.<a class="code" href="structitem_1_1sound__data.html#aa2fb844ce506ca62f0c5d1d549f54826">volume</a> &gt; 0 ) {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <a class="code" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( p.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), data.<a class="code" href="structitem_1_1sound__data.html#aa2fb844ce506ca62f0c5d1d549f54826">volume</a>, <a class="code" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>,</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                       data.<a class="code" href="structitem_1_1sound__data.html#a939db72176db475c72387bc928304f16">sound</a>.empty() ? <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Bang!&quot;</span> ) : data.<a class="code" href="structitem_1_1sound__data.html#a939db72176db475c72387bc928304f16">sound</a> );</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    }</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="classenum__bitset.html">tname::segment_bitset</a> segs( <a class="code" href="namespacetname.html#a24cc3734547252a92df94fedcff08ae3">tname::unprefixed_tname</a> );</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    segs.set( <a class="code" href="namespacetname.html#aa6dc2a5ef81ad3157f8280d5645e3ea6a8b926ca329dfb31daa1211d0e158e05e">tname::segments::CONTENTS</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    p.<a class="code" href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">add_msg_if_player</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;You shoot your %1$s.  %2$s&quot;</span> ), weapon-&gt;<a class="code" href="classitem.html#a30837987c08ac5daf3b1e377e0ecaa21">tname</a>( 1, segs ),</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                         <a class="code" href="output_8cpp.html#a71e024973a8beccd4a228d00ebd9503a">uppercase_first_letter</a>( data.<a class="code" href="structitem_1_1sound__data.html#a939db72176db475c72387bc928304f16">sound</a> ) );</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_af0503012f1ff927cbb5ad126e39cb103"><div class="ttname"><a href="classCharacter.html#af0503012f1ff927cbb5ad126e39cb103">Character::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00856">character.cpp:856</a></div></div>
<div class="ttc" id="aclassenum__bitset_html"><div class="ttname"><a href="classenum__bitset.html">enum_bitset&lt; tname::segments &gt;</a></div></div>
<div class="ttc" id="aclassitem_html_a3694c5d9138956736af2444bd7b3972e"><div class="ttname"><a href="classitem.html#a3694c5d9138956736af2444bd7b3972e">item::gun_noise</a></div><div class="ttdeci">sound_data gun_noise(bool burst=false) const</div><div class="ttdoc">Returns the sound of the gun being fired.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02185">ranged.cpp:2185</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00318">sounds.cpp:318</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a></div><div class="ttdeci">@ combat</div></div>
<div class="ttc" id="anamespacetname_html_a24cc3734547252a92df94fedcff08ae3"><div class="ttname"><a href="namespacetname.html#a24cc3734547252a92df94fedcff08ae3">tname::unprefixed_tname</a></div><div class="ttdeci">constexpr segment_bitset unprefixed_tname(default_tname_bits &amp;~tname_prefix_bits)</div></div>
<div class="ttc" id="anamespacetname_html_aa6dc2a5ef81ad3157f8280d5645e3ea6a8b926ca329dfb31daa1211d0e158e05e"><div class="ttname"><a href="namespacetname.html#aa6dc2a5ef81ad3157f8280d5645e3ea6a8b926ca329dfb31daa1211d0e158e05e">tname::segments::CONTENTS</a></div><div class="ttdeci">@ CONTENTS</div></div>
<div class="ttc" id="aoutput_8cpp_html_a71e024973a8beccd4a228d00ebd9503a"><div class="ttname"><a href="output_8cpp.html#a71e024973a8beccd4a228d00ebd9503a">uppercase_first_letter</a></div><div class="ttdeci">std::string uppercase_first_letter(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02558">output.cpp:2558</a></div></div>
<div class="ttc" id="astructitem_1_1sound__data_html"><div class="ttname"><a href="structitem_1_1sound__data.html">item::sound_data</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02620">item.h:2620</a></div></div>
<div class="ttc" id="astructitem_1_1sound__data_html_a939db72176db475c72387bc928304f16"><div class="ttname"><a href="structitem_1_1sound__data.html#a939db72176db475c72387bc928304f16">item::sound_data::sound</a></div><div class="ttdeci">std::string sound</div><div class="ttdoc">Sound description, can be used with sounds::sound, it is already translated.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02624">item.h:2624</a></div></div>
<div class="ttc" id="astructitem_1_1sound__data_html_aa2fb844ce506ca62f0c5d1d549f54826"><div class="ttname"><a href="structitem_1_1sound__data.html#aa2fb844ce506ca62f0c5d1d549f54826">item::sound_data::volume</a></div><div class="ttdeci">int volume</div><div class="ttdoc">Volume of the sound.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02622">item.h:2622</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="character_8cpp_source.html#l00856">Character::add_msg_if_player()</a>, <a class="el" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::combat</a>, <a class="el" href="namespacetname.html#aa6dc2a5ef81ad3157f8280d5645e3ea6a8b926ca329dfb31daa1211d0e158e05e">tname::CONTENTS</a>, <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="enum__bitset_8h_source.html#l00048">enum_bitset&lt; E &gt;::set()</a>, <a class="el" href="item_8h_source.html#l02624">item::sound_data::sound</a>, <a class="el" href="sounds_8cpp_source.html#l00318">sounds::sound()</a>, <a class="el" href="item_8cpp_source.html#l06814">item::tname()</a>, <a class="el" href="namespacetname.html#a24cc3734547252a92df94fedcff08ae3">tname::unprefixed_tname()</a>, <a class="el" href="output_8cpp_source.html#l02558">uppercase_first_letter()</a>, and <a class="el" href="item_8h_source.html#l02622">item::sound_data::volume</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>.</p>

</div>
</div>
<a id="a2d15a168c57c6a43e0e7130e7aac2120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d15a168c57c6a43e0e7130e7aac2120">&#9670;&nbsp;</a></span>mod_stamina_archery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mod_stamina_archery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>relevant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01497">1497</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;{</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="comment">// Set activity level to 10 * str_ratio, with 10 being max (EXTRA_EXERCISE)</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// This ratio should never be below 0 and above 1</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> str_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( relevant.<a class="code" href="classitem.html#a2899a37f781e1efea9465a98277141c7">get_min_str</a>() ) / you.<a class="code" href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">str_cur</a>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    you.<a class="code" href="classCharacter.html#af987a23fb823861daf5d77051e3dc60f">set_activity_level</a>( 10 * str_ratio );</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="comment">// Calculate stamina drain based on archery, athletics skill, and effective bow strength ratio</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> archery_skill = you.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( <a class="code" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a> );</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> athletics_skill = you.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( <a class="code" href="ranged_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a> );</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> skill_modifier = ( 2.0f * archery_skill + athletics_skill ) / 3.0f;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> stamina_cost = pow( 10.0f * str_ratio + 10 - skill_modifier, 2 );</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    you.<a class="code" href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">mod_stamina</a>( -stamina_cost );</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a>( <a class="code" href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a784256c4603f053783c251704220cd0c">debugmode::DF_RANGED</a>,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                   <span class="stringliteral">&quot;-%i stamina: %.1f str ratio, %.1f skill mod&quot;</span>,</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                   stamina_cost, str_ratio, skill_modifier );</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a26369a0a81eef76cfe75214d22ed32b4"><div class="ttname"><a href="classCharacter.html#a26369a0a81eef76cfe75214d22ed32b4">Character::str_cur</a></div><div class="ttdeci">int str_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00577">character.h:577</a></div></div>
<div class="ttc" id="aclassCharacter_html_a93a3570e884214ba5c0eb3cdf1af75cc"><div class="ttname"><a href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">Character::get_skill_level</a></div><div class="ttdeci">float get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03428">character.cpp:3428</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac29de3d2bc90dd1c8d921b539fb05cfb"><div class="ttname"><a href="classCharacter.html#ac29de3d2bc90dd1c8d921b539fb05cfb">Character::mod_stamina</a></div><div class="ttdeci">void mod_stamina(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06940">character.cpp:6940</a></div></div>
<div class="ttc" id="aclassCharacter_html_af987a23fb823861daf5d77051e3dc60f"><div class="ttname"><a href="classCharacter.html#af987a23fb823861daf5d77051e3dc60f">Character::set_activity_level</a></div><div class="ttdeci">void set_activity_level(float new_level)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06547">character.cpp:6547</a></div></div>
<div class="ttc" id="aclassitem_html_a2899a37f781e1efea9465a98277141c7"><div class="ttname"><a href="classitem.html#a2899a37f781e1efea9465a98277141c7">item::get_min_str</a></div><div class="ttdeci">int get_min_str() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l14704">item.cpp:14704</a></div></div>
<div class="ttc" id="amessages_8h_html_ab6590bda29b082a7282bcc1a9cc8f02a"><div class="ttname"><a href="messages_8h.html#ab6590bda29b082a7282bcc1a9cc8f02a">add_msg_debug</a></div><div class="ttdeci">#define add_msg_debug(type,...)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00177">messages.h:177</a></div></div>
<div class="ttc" id="anamespacedebugmode_html_ac654a55a1b56b11554103f87859968f2a784256c4603f053783c251704220cd0c"><div class="ttname"><a href="namespacedebugmode.html#ac654a55a1b56b11554103f87859968f2a784256c4603f053783c251704220cd0c">debugmode::DF_RANGED</a></div><div class="ttdeci">@ DF_RANGED</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00273">debug.h:273</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a1d815a8053cfecc8a05374bf92924ba2"><div class="ttname"><a href="ranged_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a></div><div class="ttdeci">static const skill_id skill_swimming(&quot;swimming&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8h_source.html#l00177">add_msg_debug</a>, <a class="el" href="debug_8h_source.html#l00273">debugmode::DF_RANGED</a>, <a class="el" href="item_8cpp_source.html#l14704">item::get_min_str()</a>, <a class="el" href="character_8cpp_source.html#l03428">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l06940">Character::mod_stamina()</a>, <a class="el" href="character_8cpp_source.html#l06547">Character::set_activity_level()</a>, <a class="el" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a>, <a class="el" href="ranged_8cpp.html#a1d815a8053cfecc8a05374bf92924ba2">skill_swimming</a>, and <a class="el" href="character_8h_source.html#l00577">Character::str_cur</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01516">do_aim()</a>.</p>

</div>
</div>
<a id="a316a84fb241b414c913730a952265b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316a84fb241b414c913730a952265b72">&#9670;&nbsp;</a></span>occupied_tile_fraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double occupied_tile_fraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2">creature_size</a>&#160;</td>
          <td class="paramname"><em>target_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00526">526</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">switch</span>( target_size ) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a>:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">return</span> 0.1;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a>:</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">return</span> 0.25;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a>:</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            <span class="keywordflow">return</span> 0.5;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a>:</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">return</span> 0.75;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a>:</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">return</span> 1.0;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a>:</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ERROR: Invalid Creature size class.&quot;</span> );</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">return</span> 0.5;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">creature_size::medium</a></div><div class="ttdeci">@ medium</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">creature_size::num_sizes</a></div><div class="ttdeci">@ num_sizes</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">creature_size::large</a></div><div class="ttdeci">@ large</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">creature_size::huge</a></div><div class="ttdeci">@ huge</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">creature_size::tiny</a></div><div class="ttdeci">@ tiny</div></div>
<div class="ttc" id="acreature_8h_html_a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b"><div class="ttname"><a href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">creature_size::small</a></div><div class="ttdeci">@ small</div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level D_ERROR and class D_MAIN, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00069">debug.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00069">debugmsg</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ab7cf27ffe6ea83cdcf8af2ef29de9285">huge</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aafacdb0a401ccdf6b48551bbc00e8a74">large</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2a075a3e36a0a52dcbc568c05788e8a713">medium</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aac651433a999fb14f71f6754f0199781">num_sizes</a>, <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2aeb5c1399a871211c7e7ed732d15e3a8b">small</a>, and <a class="el" href="creature_8h.html#a72acd342747a434c8b399cdceeadeea2ad60cadf1a41c651e1f0ade50136bad43">tiny</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l02908">map::drop_items()</a>, and <a class="el" href="ranged_8cpp_source.html#l00547">Creature::ranged_target_size()</a>.</p>

</div>
</div>
<a id="a7c4d782d03c3f30e5b3332260ded8951"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c4d782d03c3f30e5b3332260ded8951">&#9670;&nbsp;</a></span>pl_sees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pl_sees </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCreature.html">Creature</a> &amp;&#160;</td>
          <td class="paramname"><em>cr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01935">1935</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;{</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <a class="code" href="classCharacter.html">Character</a> &amp;<a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a> = <a class="code" href="character_8h.html#abaafa6561de05c3b1324214e3048745a">get_player_character</a>();</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.sees( cr ) || <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.sees_with_infrared( cr ) || <a class="code" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.sees_with_specials( cr );</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00522">character.h:523</a></div></div>
<div class="ttc" id="aglobal__vars_8h_html_a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c"><div class="ttname"><a href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">var_type::u</a></div><div class="ttdeci">@ u</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l13807">get_player_character()</a>, and <a class="el" href="global__vars_8h.html#a54b344f3b76633f42ae19af82cc1cc89a7b774effe4a349c6dd82ad4f4f21d34c">u</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03011">target_ui::choose_initial_target()</a>, <a class="el" href="sounds_8cpp_source.html#l00569">sounds::process_sound_markers()</a>, <a class="el" href="ranged_8cpp_source.html#l02857">target_ui::set_cursor_pos()</a>, and <a class="el" href="ranged_8cpp_source.html#l03039">target_ui::try_reacquire_target()</a>.</p>

</div>
</div>
<a id="ae8b9efd8abced2440e1b53139f2696d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8b9efd8abced2440e1b53139f2696d7">&#9670;&nbsp;</a></span>practice_archery_proficiency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void practice_archery_proficiency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>relevant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01455">1455</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;{</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">// Do nothing, we are not doing archery</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="keywordflow">if</span>( relevant.<a class="code" href="classitem.html#a3d8542661f2e2a82e8cb3792584912f3">gun_skill</a>() != <a class="code" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a> ) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="comment">// We are already a master, practice has no effect</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="ranged_8cpp.html#ab1f819e79b8cfdcbf08cca629e3073ba">proficiency_prof_bow_master</a> ) ) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    }</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="comment">// Only train archery in multiples of 100 moves (or 1 turn) for performance, focus, and simplifying calculations</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    p.<a class="code" href="classCreature.html#afc6e990c7faf2e750a941b8a92f892e2">archery_aim_counter</a>++;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <span class="keywordflow">if</span>( p.<a class="code" href="classCreature.html#afc6e990c7faf2e750a941b8a92f892e2">archery_aim_counter</a> &gt; 100 ) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="comment">// Reset our counter</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        p.<a class="code" href="classCreature.html#afc6e990c7faf2e750a941b8a92f892e2">archery_aim_counter</a> = 0;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="comment">// Intended to train prof_bow_basic from 0 to 100% in ~200 arrows in 5 hours from max aim, or 90s/arrow.</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="comment">// Additionally, a shortbow is used as the basis for number of moves per max aim shot at ~250 moves.</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="comment">// 90s/arrow / 2.5turns/arrow = 36s/turn. It is important to note, this is 200 arrows pre-focus.</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="classtime__duration.html">time_duration</a> prof_exp = 36_seconds;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <span class="comment">// We don&#39;t know how to handle a bow yet</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">if</span>( !p.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="ranged_8cpp.html#af94296ce179c8a7441548e43d0b8235f">proficiency_prof_bow_basic</a> ) ) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            p.<a class="code" href="classCharacter.html#aa376cb5765a50c43ee63c4a3b151832e">practice_proficiency</a>( <a class="code" href="ranged_8cpp.html#af94296ce179c8a7441548e43d0b8235f">proficiency_prof_bow_basic</a>, prof_exp );</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="comment">// We know how to handle a bow, but we are not an expert yet</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !p.<a class="code" href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">has_proficiency</a>( <a class="code" href="ranged_8cpp.html#a5a31fd4e066d23b9f26579e931b87113">proficiency_prof_bow_expert</a> ) ) {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;            p.<a class="code" href="classCharacter.html#aa376cb5765a50c43ee63c4a3b151832e">practice_proficiency</a>( <a class="code" href="ranged_8cpp.html#a5a31fd4e066d23b9f26579e931b87113">proficiency_prof_bow_expert</a>, prof_exp );</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        }</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="comment">// We are an expert, lets practice to become a master</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            p.<a class="code" href="classCharacter.html#aa376cb5765a50c43ee63c4a3b151832e">practice_proficiency</a>( <a class="code" href="ranged_8cpp.html#ab1f819e79b8cfdcbf08cca629e3073ba">proficiency_prof_bow_master</a>, prof_exp );</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    }</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a72472dd1bc3a1fba8b053682ae5a2244"><div class="ttname"><a href="classCharacter.html#a72472dd1bc3a1fba8b053682ae5a2244">Character::has_proficiency</a></div><div class="ttdeci">bool has_proficiency(const proficiency_id &amp;prof) const</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00019">character_proficiency.cpp:19</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa376cb5765a50c43ee63c4a3b151832e"><div class="ttname"><a href="classCharacter.html#aa376cb5765a50c43ee63c4a3b151832e">Character::practice_proficiency</a></div><div class="ttdeci">bool practice_proficiency(const proficiency_id &amp;prof, const time_duration &amp;amount, const std::optional&lt; time_duration &gt; &amp;max=std::nullopt)</div><div class="ttdef"><b>Definition:</b> <a href="character__proficiency_8cpp_source.html#l00071">character_proficiency.cpp:71</a></div></div>
<div class="ttc" id="aclassCreature_html_afc6e990c7faf2e750a941b8a92f892e2"><div class="ttname"><a href="classCreature.html#afc6e990c7faf2e750a941b8a92f892e2">Creature::archery_aim_counter</a></div><div class="ttdeci">int archery_aim_counter</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01255">creature.h:1255</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00196">calendar.h:197</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a5a31fd4e066d23b9f26579e931b87113"><div class="ttname"><a href="ranged_8cpp.html#a5a31fd4e066d23b9f26579e931b87113">proficiency_prof_bow_expert</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_bow_expert(&quot;prof_bow_expert&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_ab1f819e79b8cfdcbf08cca629e3073ba"><div class="ttname"><a href="ranged_8cpp.html#ab1f819e79b8cfdcbf08cca629e3073ba">proficiency_prof_bow_master</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_bow_master(&quot;prof_bow_master&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_af94296ce179c8a7441548e43d0b8235f"><div class="ttname"><a href="ranged_8cpp.html#af94296ce179c8a7441548e43d0b8235f">proficiency_prof_bow_basic</a></div><div class="ttdeci">static const proficiency_id proficiency_prof_bow_basic(&quot;prof_bow_basic&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l01255">Creature::archery_aim_counter</a>, <a class="el" href="item_8cpp_source.html#l10391">item::gun_skill()</a>, <a class="el" href="character__proficiency_8cpp_source.html#l00019">Character::has_proficiency()</a>, <a class="el" href="character__proficiency_8cpp_source.html#l00071">Character::practice_proficiency()</a>, <a class="el" href="ranged_8cpp.html#af94296ce179c8a7441548e43d0b8235f">proficiency_prof_bow_basic</a>, <a class="el" href="ranged_8cpp.html#a5a31fd4e066d23b9f26579e931b87113">proficiency_prof_bow_expert</a>, <a class="el" href="ranged_8cpp.html#ab1f819e79b8cfdcbf08cca629e3073ba">proficiency_prof_bow_master</a>, and <a class="el" href="ranged_8cpp.html#a2f8b66e6fc62f3d92b208655f5525bba">skill_archery</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01516">do_aim()</a>.</p>

</div>
</div>
<a id="a9301f55736d917c84a4ebf973386a40e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9301f55736d917c84a4ebf973386a40e">&#9670;&nbsp;</a></span>predict_recoil()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structrecoil__prediction.html">recoil_prediction</a> predict_recoil </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weapon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTarget__attributes.html">Target_attributes</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sight_dispersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structaim__type.html">aim_type</a> &amp;&#160;</td>
          <td class="paramname"><em>aim_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_recoil</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01659">1659</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;{</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span>( !aim_mode.<a class="code" href="structaim__type.html#a26dc7ca55f61cd28bc534dc21d53164d">has_threshold</a> || aim_mode.<a class="code" href="structaim__type.html#a7763c382e69ad4d525dfe8716672c565">threshold</a> &gt; start_recoil ) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">return</span> { start_recoil, 0 };</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordtype">double</span> predicted_recoil = start_recoil;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordtype">int</span> predicted_delay = 0;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keyword">const</span> <a class="code" href="structaim__mods__cache.html">aim_mods_cache</a> &amp;aim_cache = you.<a class="code" href="classCharacter.html#aa58280d717f23351fb1cdc6f7a83047f">gen_aim_mods_cache</a>( weapon );</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keyword">auto</span> aim_cache_opt = std::make_optional( std::ref( aim_cache ) );</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="comment">// next loop simulates aiming until either aim mode threshold or sight_dispersion is reached</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> aim_amount = you.<a class="code" href="classCharacter.html#a6243be833eae8764b8dc841fb05cf867">aim_per_move</a>( weapon, predicted_recoil, target, aim_cache_opt );</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">if</span>( aim_amount &lt;= <a class="code" href="ranged_8h.html#a3ad21aa630e4e68c1d2834fe0467c018">MIN_RECOIL_IMPROVEMENT</a> ) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        predicted_delay++;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        predicted_recoil = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( predicted_recoil - aim_amount, 0.0 );</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    } <span class="keywordflow">while</span>( predicted_recoil &gt; aim_mode.<a class="code" href="structaim__type.html#a7763c382e69ad4d525dfe8716672c565">threshold</a> &amp;&amp; predicted_recoil &gt; sight_dispersion );</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">return</span> { predicted_recoil, predicted_delay };</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_aa58280d717f23351fb1cdc6f7a83047f"><div class="ttname"><a href="classCharacter.html#aa58280d717f23351fb1cdc6f7a83047f">Character::gen_aim_mods_cache</a></div><div class="ttdeci">aim_mods_cache gen_aim_mods_cache(const item &amp;gun) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00935">character.cpp:935</a></div></div>
<div class="ttc" id="aranged_8h_html_a3ad21aa630e4e68c1d2834fe0467c018"><div class="ttname"><a href="ranged_8h.html#a3ad21aa630e4e68c1d2834fe0467c018">MIN_RECOIL_IMPROVEMENT</a></div><div class="ttdeci">constexpr double MIN_RECOIL_IMPROVEMENT</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00024">ranged.h:24</a></div></div>
<div class="ttc" id="astructaim__mods__cache_html"><div class="ttname"><a href="structaim__mods__cache.html">aim_mods_cache</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00391">character.h:391</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l01087">Character::aim_per_move()</a>, <a class="el" href="character_8cpp_source.html#l00935">Character::gen_aim_mods_cache()</a>, <a class="el" href="character_8h_source.html#l00375">aim_type::has_threshold</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="ranged_8h_source.html#l00024">MIN_RECOIL_IMPROVEMENT</a>, and <a class="el" href="character_8h_source.html#l00376">aim_type::threshold</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>.</p>

</div>
</div>
<a id="a0702c7984ec8768691cb9a805616d1de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0702c7984ec8768691cb9a805616d1de">&#9670;&nbsp;</a></span>print_aim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int print_aim </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtarget__ui.html">target_ui</a> &amp;&#160;</td>
          <td class="paramname"><em>ui</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>you</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classinput__context.html">input_context</a> &amp;&#160;</td>
          <td class="paramname"><em>ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>weapon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01941">1941</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;{</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="comment">// This is absolute accuracy for the player.</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="comment">// TODO: push the calculations duplicated from Creature::deal_projectile_attack() and</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// Creature::projectile_attack() into shared methods.</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="comment">// Dodge doesn&#39;t affect gun attacks</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="classdispersion__sources.html">dispersion_sources</a> dispersion = you.<a class="code" href="classCharacter.html#a05331bfbde3df1348a870d987597d29a">get_weapon_dispersion</a>( weapon );</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    dispersion.<a class="code" href="classdispersion__sources.html#af9119f90d39a52caf16086dca87b1cac">add_range</a>( you.<a class="code" href="classCharacter.html#accd6b165a9454cad9972bc153061215a">recoil_vehicle</a>() );</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="comment">// This could be extracted, to allow more/less verbose displays</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;confidence_rating&gt; confidence_config = {{</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            { <a class="code" href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a>, <span class="charliteral">&#39;*&#39;</span>, <span class="stringliteral">&quot;green&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Great&quot;</span> ) },</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            { <a class="code" href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a>, <span class="charliteral">&#39;+&#39;</span>, <span class="stringliteral">&quot;light_gray&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Normal&quot;</span> ) },</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;            { <a class="code" href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a>, <span class="charliteral">&#39;|&#39;</span>, <span class="stringliteral">&quot;magenta&quot;</span>, <a class="code" href="translations_8h.html#a9e39a96618079002323c6e554271d3e2">translate_marker_context</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, <span class="stringliteral">&quot;Graze&quot;</span> ) }</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    };</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160; </div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    <span class="keyword">const</span> std::vector&lt;aim_type_prediction&gt; aim_chances = <a class="code" href="ranged_8cpp.html#a221acbe15b21618febcda6765ff3223c">calculate_ranged_chances</a>( <a class="code" href="namespaceui.html">ui</a>, you,</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;            <a class="code" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997abd2b7e5f85a6ea65065c4ebc6d7c95bb">target_ui::TargetMode::Fire</a>, ctxt, weapon, dispersion, confidence_config,</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;            <a class="code" href="structTarget__attributes.html">Target_attributes</a>( you.<a class="code" href="classCreature.html#a1a65722d07102550f16d17ebd79e2743">pos</a>(), <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> ), <a class="code" href="namespacemath__opers.html#a2f0118617735cc810b9d76d62bd182f6">pos</a> );</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ranged_8cpp.html#a4fd0e174103e30dd7949347118557bc8">print_ranged_chance</a>( w, line_number, aim_chances );</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;}</div>
<div class="ttc" id="aclassCharacter_html_a05331bfbde3df1348a870d987597d29a"><div class="ttname"><a href="classCharacter.html#a05331bfbde3df1348a870d987597d29a">Character::get_weapon_dispersion</a></div><div class="ttdeci">dispersion_sources get_weapon_dispersion(const item &amp;obj) const</div><div class="ttdoc">Returns a weapon's modified dispersion value.</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l02290">ranged.cpp:2290</a></div></div>
<div class="ttc" id="aclassCharacter_html_accd6b165a9454cad9972bc153061215a"><div class="ttname"><a href="classCharacter.html#accd6b165a9454cad9972bc153061215a">Character::recoil_vehicle</a></div><div class="ttdeci">double recoil_vehicle() const</div><div class="ttdoc">Get maximum recoil penalty due to vehicle motion.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l12348">character.cpp:12348</a></div></div>
<div class="ttc" id="aclasstarget__ui_html_ae0dd055ba040ba97125cbf165a33c997abd2b7e5f85a6ea65065c4ebc6d7c95bb"><div class="ttname"><a href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997abd2b7e5f85a6ea65065c4ebc6d7c95bb">target_ui::TargetMode::Fire</a></div><div class="ttdeci">@ Fire</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game__constants_8h_source.html#l00130">accuracy_critical</a>, <a class="el" href="game__constants_8h_source.html#l00133">accuracy_grazing</a>, <a class="el" href="game__constants_8h_source.html#l00132">accuracy_standard</a>, <a class="el" href="dispersion_8h_source.html#l00022">dispersion_sources::add_range()</a>, <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>, <a class="el" href="classtarget__ui.html#ae0dd055ba040ba97125cbf165a33c997abd2b7e5f85a6ea65065c4ebc6d7c95bb">target_ui::Fire</a>, <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>, <a class="el" href="creature_8cpp_source.html#l00178">Creature::pos()</a>, <a class="el" href="math__parser__impl_8h_source.html#l00203">math_opers::pos()</a>, <a class="el" href="ranged_8cpp_source.html#l01805">print_ranged_chance()</a>, <a class="el" href="character_8cpp_source.html#l12348">Character::recoil_vehicle()</a>, and <a class="el" href="translations_8h_source.html#l00025">translate_marker_context</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03551">target_ui::draw_ui_window()</a>.</p>

</div>
</div>
<a id="ad665e86d9214ba9ef7722492a65cac0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad665e86d9214ba9ef7722492a65cac0d">&#9670;&nbsp;</a></span>print_confidence_rating_bar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void print_confidence_rating_bar </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaim__type__prediction.html">aim_type_prediction</a>&#160;</td>
          <td class="paramname"><em>prediction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>line_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01789">1789</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;{</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="output_8cpp.html#a86a68d80cad5052d3e456a9fb8b1769d">RatingVector</a> confidence_ratings;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    std::transform( prediction.<a class="code" href="structaim__type__prediction.html#aaeeb40de07b50ebc88e227fa4f5f05f1">ratings</a>.begin(), prediction.<a class="code" href="structaim__type__prediction.html#aaeeb40de07b50ebc88e227fa4f5f05f1">ratings</a>.end(),</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                    std::back_inserter( confidence_ratings ),</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    [&amp;]( <span class="keyword">const</span> <a class="code" href="structconfidence__rating.html">confidence_rating</a> &amp; config ) {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        return std::make_tuple( config.aim_level, config.symbol, config.color );</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    } );</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keyword">const</span> std::string &amp;confidence_bar = <a class="code" href="ranged_8cpp.html#ae485e14f2f0d97810da8125353dfa101">get_colored_bar</a>( prediction.<a class="code" href="structaim__type__prediction.html#aa1ed8d79daea94f79f6c5a17e25332ab">confidence</a>, width, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                                        confidence_ratings.begin(), confidence_ratings.end() );</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number++ ), col, col, confidence_bar );</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;}</div>
<div class="ttc" id="aoutput_8cpp_html_a64a769083b78bb93dbb99935b959f3f5"><div class="ttname"><a href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a></div><div class="ttdeci">void print_colored_text(const catacurses::window &amp;w, const point &amp;p, nc_color &amp;color, const nc_color &amp;base_color, const std::string_view text, const report_color_error color_error)</div><div class="ttdoc">Print text with embedded color_tags, x, y are in curses system.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00239">output.cpp:239</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a86a68d80cad5052d3e456a9fb8b1769d"><div class="ttname"><a href="output_8cpp.html#a86a68d80cad5052d3e456a9fb8b1769d">RatingVector</a></div><div class="ttdeci">std::vector&lt; std::tuple&lt; double, char, std::string &gt; &gt; RatingVector</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02741">output.cpp:2741</a></div></div>
<div class="ttc" id="aranged_8cpp_html_ae485e14f2f0d97810da8125353dfa101"><div class="ttname"><a href="ranged_8cpp.html#ae485e14f2f0d97810da8125353dfa101">get_colored_bar</a></div><div class="ttdeci">static std::string get_colored_bar(const double val, const int width, const std::string &amp;label, RatingVector::iterator begin, RatingVector::iterator end)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01586">ranged.cpp:1586</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00020">point.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ranged_8cpp_source.html#l01643">aim_type_prediction::confidence</a>, <a class="el" href="ranged_8cpp_source.html#l01586">get_colored_bar()</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, and <a class="el" href="ranged_8cpp_source.html#l01638">aim_type_prediction::ratings</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01805">print_ranged_chance()</a>.</p>

</div>
</div>
<a id="ae2f62035db4e943bb2c797e8c3febedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f62035db4e943bb2c797e8c3febedd">&#9670;&nbsp;</a></span>print_confidence_ratings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void print_confidence_ratings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structconfidence__rating.html">confidence_rating</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ratings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>line_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>column_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01771">1771</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;{</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structconfidence__rating.html">confidence_rating</a> &amp;cr : ratings ) {</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        std::string <a class="code" href="structlabel.html">label</a> = <a class="code" href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a>( <span class="stringliteral">&quot;aim_confidence&quot;</span>, cr.label.c_str() );</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        std::string <a class="code" href="namespaceanonymous__namespace_02rotatable__symbols_8cpp_03.html#a0828f572b03c625d4b291dd36d0d0a4c">symbols</a> = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_%s&gt;%s&lt;/color&gt; = %s&quot;</span>, cr.color, cr.symbol, <a class="code" href="structlabel.html">label</a> );</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordtype">int</span> line_len = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="structlabel.html">label</a> ) + 5; <span class="comment">// 5 for &#39;# = &#39; and whitespace at end</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">if</span>( ( width - column_number ) &lt; line_len ) {</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            column_number = 1;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            line_number++;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        }</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w, <a class="code" href="structpoint.html">point</a>( column_number, line_number ), col, col, <a class="code" href="namespaceanonymous__namespace_02rotatable__symbols_8cpp_03.html#a0828f572b03c625d4b291dd36d0d0a4c">symbols</a> );</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        column_number += line_len;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    }</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    line_number++;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;}</div>
<div class="ttc" id="acatacharset_8cpp_html_af20ee33da59ccceb9f4c14005c0bbe80"><div class="ttname"><a href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a></div><div class="ttdeci">int utf8_width(const std::string_view s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00104">catacharset.cpp:104</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02rotatable__symbols_8cpp_03_html_a0828f572b03c625d4b291dd36d0d0a4c"><div class="ttname"><a href="namespaceanonymous__namespace_02rotatable__symbols_8cpp_03.html#a0828f572b03c625d4b291dd36d0d0a4c">anonymous_namespace{rotatable_symbols.cpp}::symbols</a></div><div class="ttdeci">std::vector&lt; rotatable_symbol &gt; symbols</div><div class="ttdef"><b>Definition:</b> <a href="rotatable__symbols_8cpp_source.html#l00031">rotatable_symbols.cpp:31</a></div></div>
<div class="ttc" id="atranslations_8h_html_a46bdf4dff9d320938561cade1c9a5f7e"><div class="ttname"><a href="translations_8h.html#a46bdf4dff9d320938561cade1c9a5f7e">pgettext</a></div><div class="ttdeci">#define pgettext(STRING1, STRING2)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00092">translations.h:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00092">pgettext</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="rotatable__symbols_8cpp_source.html#l00031">anonymous_namespace{rotatable_symbols.cpp}::symbols</a>, and <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01805">print_ranged_chance()</a>.</p>

</div>
</div>
<a id="a4fd0e174103e30dd7949347118557bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd0e174103e30dd7949347118557bc8">&#9670;&nbsp;</a></span>print_ranged_chance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int print_ranged_chance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structaim__type__prediction.html">aim_type_prediction</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>aim_chances</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01805">1805</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;{</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    std::vector&lt;aim_type_prediction&gt; <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a> = aim_chances;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="comment">// Sort aim types so that &#39;current&#39; mode is placed at the current probability it provides</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="comment">// TODO: consider removing it, but for now it demonstrates the odds changing pretty well</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    std::sort( <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>.begin(), <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>.end(),</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    []( <span class="keyword">const</span> <span class="keyword">auto</span> &amp; lhs, <span class="keyword">const</span> <span class="keyword">auto</span> &amp; rhs ) {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        return lhs.confidence &lt;= rhs.confidence;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    } );</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordtype">int</span> width = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2; <span class="comment">// window width minus borders</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> bars_pad = 3;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordtype">bool</span> display_numbers = get_option&lt;std::string&gt;( <span class="stringliteral">&quot;ACCURACY_DISPLAY&quot;</span> ) == <span class="stringliteral">&quot;numbers&quot;</span>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    std::string panel_type = <a class="code" href="classpanel__manager.html#a5acbe61fa6ec7eaf06ea15c80f14ebc6">panel_manager::get_manager</a>().<a class="code" href="classpanel__manager.html#a3f6290efcd5bca21c3cf44762bca2a91">get_current_layout_id</a>();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="classnc__color.html">nc_color</a> col = <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">// Start printing by panel type, inside each branch whether to output numbers or &quot;bars&quot;</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">if</span>( panel_type == <span class="stringliteral">&quot;legacy_labels_narrow_sidebar&quot;</span> || panel_type == <span class="stringliteral">&quot;legacy_compact_sidebar&quot;</span> ) {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="keywordtype">bool</span> narrow = panel_type == <span class="stringliteral">&quot;legacy_labels_narrow_sidebar&quot;</span>;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <span class="comment">// TODO: who uses this? this is broken likely since work started</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="comment">// on sidebar widgets and yet nobody complains...</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        std::vector&lt;std::string&gt; t_aims( 4 );</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        std::vector&lt;std::string&gt; t_confidence( 20 );</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <span class="keywordtype">int</span> aim_iter = 0;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="keywordtype">int</span> conf_iter = 0;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keywordflow">if</span>( !display_numbers ) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <span class="keywordtype">int</span> column_number = 1;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            <a class="code" href="ranged_8cpp.html#ae2f62035db4e943bb2c797e8c3febedd">print_confidence_ratings</a>( w, aim_chances.front().ratings, line_number, width, column_number, col );</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            width -= bars_pad;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            std::string <a class="code" href="namespaceanonymous__namespace_02rotatable__symbols_8cpp_03.html#a0828f572b03c625d4b291dd36d0d0a4c">symbols</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot; &lt;color_green&gt;Great&lt;/color&gt; &lt;color_light_gray&gt;Normal&lt;/color&gt;&quot;</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                                     <span class="stringliteral">&quot; &lt;color_magenta&gt;Graze&lt;/color&gt; &lt;color_dark_gray&gt;Miss&lt;/color&gt; &lt;color_light_blue&gt;Moves&lt;/color&gt;&quot;</span> );</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <a class="code" href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number++ ), width + bars_pad, <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, <a class="code" href="namespaceanonymous__namespace_02rotatable__symbols_8cpp_03.html#a0828f572b03c625d4b291dd36d0d0a4c">symbols</a> );</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="keywordtype">int</span> len = <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="namespaceanonymous__namespace_02rotatable__symbols_8cpp_03.html#a0828f572b03c625d4b291dd36d0d0a4c">symbols</a> ) - 121; <span class="comment">// to subtract color codes</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <span class="keywordflow">if</span>( len &gt; width + bars_pad ) {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                line_number++;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; width; i++ ) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="structpoint.html">point</a>( i + 1, line_number ), <span class="stringliteral">&quot;-&quot;</span> );</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;            }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structaim__type__prediction.html">aim_type_prediction</a> &amp;out : sorted ) {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            <span class="keywordflow">if</span>( display_numbers ) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                t_aims[aim_iter] = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_dark_gray&gt;%s:&lt;/color&gt;&quot;</span>, out.name );</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                t_confidence[( aim_iter * 5 ) + 4] = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_light_blue&gt;%d&lt;/color&gt;&quot;</span>, out.moves );</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number ), col, col, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;%s %s:&quot;</span> ), out.name,</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                                    <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Aim&quot;</span> ) ) );</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, line_number++, 1, <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Moves&quot;</span> ) );</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                <a class="code" href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a>( w, line_number, 1, <a class="code" href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a>, <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d&quot;</span>, out.moves ) );</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160; </div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;            <span class="keywordflow">if</span>( display_numbers ) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                <span class="keywordtype">int</span> last_chance = 0;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                conf_iter = 0;</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structconfidence__rating.html">confidence_rating</a> &amp;cr : narrow ? aim_chances.front().ratings : out.ratings ) {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                    <span class="keywordtype">int</span> chance = std::min&lt;int&gt;( 100, 100.0 * ( cr.aim_level ) * out.confidence ) - last_chance;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                    last_chance += chance;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                    t_confidence[conf_iter + ( aim_iter * 5 )] = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_%s&gt;%3d%%&lt;/color&gt;&quot;</span>, cr.color,</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                            chance );</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                    conf_iter++;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                    <span class="keywordflow">if</span>( conf_iter == 3 ) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                        t_confidence[conf_iter + ( aim_iter * 5 )] = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_%s&gt;%3d%%&lt;/color&gt;&quot;</span>, <span class="stringliteral">&quot;dark_gray&quot;</span>,</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                                100 - last_chance );</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                    }</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                aim_iter++;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                <a class="code" href="ranged_8cpp.html#ad665e86d9214ba9ef7722492a65cac0d">print_confidence_rating_bar</a>( w, out, line_number, width, col );</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            }</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="comment">// Draw tables for compact Numbers display</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        <span class="keywordflow">if</span>( display_numbers ) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keyword">const</span> std::string divider = <span class="stringliteral">&quot;|&quot;</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            <span class="keywordtype">int</span> left_pad = 8;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="keywordtype">int</span> columns = 5;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            <a class="code" href="output_8cpp.html#add4e31deb8a6e0444b89c79343c34a9c">insert_table</a>( w, left_pad, ++line_number, columns, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, divider, <span class="keyword">true</span>, t_confidence );</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            <a class="code" href="output_8cpp.html#add4e31deb8a6e0444b89c79343c34a9c">insert_table</a>( w, 0, line_number, 1, <a class="code" href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>, t_aims );</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            line_number = line_number + 4; <span class="comment">// 4 to account for the tables</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        }</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">return</span> line_number;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// print the &quot;legacy classic&quot; one</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="comment">// there&#39;s more legacy sidebars but appear to not be used</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160; </div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;current_steadiness_it = std::find_if( <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>.begin(),</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>.end(), []( <span class="keyword">const</span> <a class="code" href="structaim__type__prediction.html">aim_type_prediction</a> &amp; atp ) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            return atp.is_default;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        } );</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">if</span>( current_steadiness_it != <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>.end() ) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            line_number = <a class="code" href="ranged_8cpp.html#ab1ce33f7e8ed6c701d44bf39e98de576">print_steadiness</a>( w, line_number, current_steadiness_it-&gt;steadiness );</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160; </div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <span class="keywordtype">int</span> column_number = 1;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">if</span>( !( panel_type == <span class="stringliteral">&quot;compact&quot;</span> || panel_type == <span class="stringliteral">&quot;labels-narrow&quot;</span> ) ) {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            std::string <a class="code" href="structlabel.html">label</a> = <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Symbols:&quot;</span> );</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="structpoint.html">point</a>( column_number, line_number ), <a class="code" href="structlabel.html">label</a> );</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            column_number += <a class="code" href="catacharset_8cpp.html#af20ee33da59ccceb9f4c14005c0bbe80">utf8_width</a>( <a class="code" href="structlabel.html">label</a> ) + 1; <span class="comment">// 1 for whitespace after &#39;Symbols:&#39;</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <a class="code" href="ranged_8cpp.html#ae2f62035db4e943bb2c797e8c3febedd">print_confidence_ratings</a>( w, <a class="code" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>.front().ratings, line_number, width, column_number, col );</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structaim__type__prediction.html">aim_type_prediction</a> &amp;out : sorted ) {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            std::string col_hl = out.is_default ? <span class="stringliteral">&quot;light_green&quot;</span> : <span class="stringliteral">&quot;light_gray&quot;</span>;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            std::string desc =</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;&lt;color_white&gt;[%s]&lt;/color&gt; &lt;color_%s&gt;%s %s&lt;/color&gt; | %s: &lt;color_light_blue&gt;%3d&lt;/color&gt;&quot;</span>,</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                               out.hotkey, col_hl, out.name, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Aim&quot;</span> ), <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Moves to fire&quot;</span> ), out.moves );</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <a class="code" href="output_8cpp.html#a64a769083b78bb93dbb99935b959f3f5">print_colored_text</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number++ ), col, col, desc );</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            <span class="keywordflow">if</span>( display_numbers ) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                <span class="keyword">const</span> std::string <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> = <a class="code" href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a>( out.chances.cbegin(), out.chances.cend(),</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                []( <span class="keyword">const</span> <a class="code" href="structaim__type__prediction_1_1aim__confidence.html">aim_type_prediction::aim_confidence</a> &amp; conf ) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                    const std::string label_loc = pgettext( <span class="stringliteral">&quot;aim_confidence&quot;</span>, conf.label.c_str() );</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                    return string_format( <span class="stringliteral">&quot;%s: &lt;color_%s&gt;%3d%%&lt;/color&gt;&quot;</span>, label_loc, conf.color, conf.chance );</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                }, <a class="code" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a> );</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160; </div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                line_number += <a class="code" href="output_8cpp.html#a2f8515020638461e15374b3bf6555c75">fold_and_print_from</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number ), width, 0, <a class="code" href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a>, <a class="code" href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a> );</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                <a class="code" href="ranged_8cpp.html#ad665e86d9214ba9ef7722492a65cac0d">print_confidence_rating_bar</a>( w, out, line_number, width, col );</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;            }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        <span class="keywordflow">return</span> line_number;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    }</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;}</div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00347">color.h:348</a></div></div>
<div class="ttc" id="aclasspanel__manager_html_a3f6290efcd5bca21c3cf44762bca2a91"><div class="ttname"><a href="classpanel__manager.html#a3f6290efcd5bca21c3cf44762bca2a91">panel_manager::get_current_layout_id</a></div><div class="ttdeci">std::string get_current_layout_id() const</div><div class="ttdef"><b>Definition:</b> <a href="panels_8cpp_source.html#l00385">panels.cpp:385</a></div></div>
<div class="ttc" id="aclasspanel__manager_html_a5acbe61fa6ec7eaf06ea15c80f14ebc6"><div class="ttname"><a href="classpanel__manager.html#a5acbe61fa6ec7eaf06ea15c80f14ebc6">panel_manager::get_manager</a></div><div class="ttdeci">static panel_manager &amp; get_manager()</div><div class="ttdef"><b>Definition:</b> <a href="panels_8h_source.html#l00132">panels.h:132</a></div></div>
<div class="ttc" id="acolor_8h_html_a1b1e3c0bef566a83c3535e38a93ad733"><div class="ttname"><a href="color_8h.html#a1b1e3c0bef566a83c3535e38a93ad733">c_light_gray</a></div><div class="ttdeci">#define c_light_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00017">color.h:17</a></div></div>
<div class="ttc" id="acolor_8h_html_a5738d18ff9e165cca088a623cb1883ae"><div class="ttname"><a href="color_8h.html#a5738d18ff9e165cca088a623cb1883ae">c_dark_gray</a></div><div class="ttdeci">#define c_dark_gray</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a7b00fb82de0be83f6fc5f7965ea86623"><div class="ttname"><a href="color_8h.html#a7b00fb82de0be83f6fc5f7965ea86623">c_light_blue</a></div><div class="ttdeci">#define c_light_blue</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00027">color.h:27</a></div></div>
<div class="ttc" id="acreature_8h_html_aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126"><div class="ttname"><a href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">get_body_part_flags::sorted</a></div><div class="ttdeci">@ sorted</div></div>
<div class="ttc" id="amapgen_8cpp_html_a4f3a5fd278254d867d914ad5953679e2"><div class="ttname"><a href="mapgen_8cpp.html#a4f3a5fd278254d867d914ad5953679e2">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2, int z)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l07721">mapgen.cpp:7721</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00091">ncurses_def.cpp:91</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_abde9c157650e464f0a27441d81c84644"><div class="ttname"><a href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">catacurses::mvwprintw</a></div><div class="ttdeci">void mvwprintw(const window &amp;win, const point &amp;p, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00163">ncurses_def.cpp:163</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a2f8515020638461e15374b3bf6555c75"><div class="ttname"><a href="output_8cpp.html#a2f8515020638461e15374b3bf6555c75">fold_and_print_from</a></div><div class="ttdeci">int fold_and_print_from(const catacurses::window &amp;w, const point &amp;begin, int width, int begin_line, const nc_color &amp;base_color, const std::string &amp;text)</div><div class="ttdoc">Like fold_and_print, but starts the output with the N-th line of the folded string.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00391">output.cpp:391</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_aa6093ccb0ebc7f7ee1f11edd5cc2711c"><div class="ttname"><a href="output_8cpp.html#aa6093ccb0ebc7f7ee1f11edd5cc2711c">right_print</a></div><div class="ttdeci">int right_print(const catacurses::window &amp;w, const int line, const int right_indent, const nc_color &amp;FG, const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00574">output.cpp:574</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab9659cbe9ec23a2efd813f795cb7fb73"><div class="ttname"><a href="output_8cpp.html#ab9659cbe9ec23a2efd813f795cb7fb73">fold_and_print</a></div><div class="ttdeci">int fold_and_print(const catacurses::window &amp;w, const point &amp;begin, int width, const nc_color &amp;base_color, const std::string &amp;text, const char split)</div><div class="ttdoc">Fold and print text in the given window.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00379">output.cpp:379</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_add4e31deb8a6e0444b89c79343c34a9c"><div class="ttname"><a href="output_8cpp.html#add4e31deb8a6e0444b89c79343c34a9c">insert_table</a></div><div class="ttdeci">void insert_table(const catacurses::window &amp;w, int pad, int line, int columns, const nc_color &amp;FG, const std::string &amp;divider, bool r_align, const std::vector&lt; std::string &gt; &amp;data)</div><div class="ttdoc">Inserts a table into a window, with data right-aligned.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02793">output.cpp:2793</a></div></div>
<div class="ttc" id="aoutput_8h_html_a4be67498ee67b5186fcae5cf706f7512"><div class="ttname"><a href="output_8h.html#a4be67498ee67b5186fcae5cf706f7512">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00647">output.h:647</a></div></div>
<div class="ttc" id="aoutput_8h_html_acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8">enumeration_conjunction::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="aranged_8cpp_html_ab1ce33f7e8ed6c701d44bf39e98de576"><div class="ttname"><a href="ranged_8cpp.html#ab1ce33f7e8ed6c701d44bf39e98de576">print_steadiness</a></div><div class="ttdeci">static int print_steadiness(const catacurses::window &amp;w, int line_number, double steadiness)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01546">ranged.cpp:1546</a></div></div>
<div class="ttc" id="aranged_8cpp_html_ad665e86d9214ba9ef7722492a65cac0d"><div class="ttname"><a href="ranged_8cpp.html#ad665e86d9214ba9ef7722492a65cac0d">print_confidence_rating_bar</a></div><div class="ttdeci">static void print_confidence_rating_bar(const catacurses::window &amp;w, aim_type_prediction prediction, int &amp;line_number, int width, nc_color col)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01789">ranged.cpp:1789</a></div></div>
<div class="ttc" id="aranged_8cpp_html_ae2f62035db4e943bb2c797e8c3febedd"><div class="ttname"><a href="ranged_8cpp.html#ae2f62035db4e943bb2c797e8c3febedd">print_confidence_ratings</a></div><div class="ttdeci">static void print_confidence_ratings(const catacurses::window &amp;w, const std::vector&lt; confidence_rating &gt; &amp;ratings, int &amp;line_number, int width, int &amp;column_number, nc_color col)</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01771">ranged.cpp:1771</a></div></div>
<div class="ttc" id="astructaim__type__prediction_1_1aim__confidence_html"><div class="ttname"><a href="structaim__type__prediction_1_1aim__confidence.html">aim_type_prediction::aim_confidence</a></div><div class="ttdef"><b>Definition:</b> <a href="ranged_8cpp_source.html#l01630">ranged.cpp:1630</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="color_8h_source.html#l00018">c_dark_gray</a>, <a class="el" href="color_8h_source.html#l00027">c_light_blue</a>, <a class="el" href="color_8h_source.html#l00017">c_light_gray</a>, <a class="el" href="output_8h_source.html#l00647">enumerate_as_string()</a>, <a class="el" href="output_8cpp_source.html#l00379">fold_and_print()</a>, <a class="el" href="output_8cpp_source.html#l00391">fold_and_print_from()</a>, <a class="el" href="panels_8cpp_source.html#l00385">panel_manager::get_current_layout_id()</a>, <a class="el" href="panels_8h_source.html#l00132">panel_manager::get_manager()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="output_8cpp_source.html#l02793">insert_table()</a>, <a class="el" href="mapgen_8cpp_source.html#l07721">line()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00163">catacurses::mvwprintw()</a>, <a class="el" href="output_8h.html#acff0d12357d8a4690e781eed41b36b98a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>, <a class="el" href="output_8cpp_source.html#l00239">print_colored_text()</a>, <a class="el" href="ranged_8cpp_source.html#l01789">print_confidence_rating_bar()</a>, <a class="el" href="ranged_8cpp_source.html#l01771">print_confidence_ratings()</a>, <a class="el" href="ranged_8cpp_source.html#l01546">print_steadiness()</a>, <a class="el" href="output_8cpp_source.html#l00574">right_print()</a>, <a class="el" href="creature_8h.html#aeb8b361a289bc1747bf10888c18fbfaea26decc94d83c358f67f11c3cbd99b126">sorted</a>, <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>, <a class="el" href="rotatable__symbols_8cpp_source.html#l00031">anonymous_namespace{rotatable_symbols.cpp}::symbols</a>, and <a class="el" href="catacharset_8cpp_source.html#l00104">utf8_width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01967">draw_throw_aim()</a>, and <a class="el" href="ranged_8cpp_source.html#l01941">print_aim()</a>.</p>

</div>
</div>
<a id="ab1ce33f7e8ed6c701d44bf39e98de576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ce33f7e8ed6c701d44bf39e98de576">&#9670;&nbsp;</a></span>print_steadiness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int print_steadiness </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>steadiness</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01546">1546</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;{</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> window_width = <a class="code" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) - 2; <span class="comment">// Window width minus borders.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">if</span>( get_option&lt;std::string&gt;( <span class="stringliteral">&quot;ACCURACY_DISPLAY&quot;</span> ) == <span class="stringliteral">&quot;numbers&quot;</span> ) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        std::string steadiness_s = <a class="code" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%s: %d%%&quot;</span>, <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Steadiness&quot;</span> ),</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                                   <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( 100.0 * steadiness ) );</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number++ ), steadiness_s );</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        <span class="keyword">const</span> std::string &amp;steadiness_bar = <a class="code" href="output_8cpp.html#add34b080694a5b887cf3b201051bf1c0">get_labeled_bar</a>( steadiness, window_width,</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                                            <a class="code" href="translations_8h.html#ab92bb4161a6308b302d283816975c3a6">_</a>( <span class="stringliteral">&quot;Steadiness&quot;</span> ), <span class="charliteral">&#39;*&#39;</span> );</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <a class="code" href="namespacecatacurses.html#abde9c157650e464f0a27441d81c84644">mvwprintw</a>( w, <a class="code" href="structpoint.html">point</a>( 1, line_number++ ), steadiness_bar );</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">return</span> line_number;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div>
<div class="ttc" id="aoutput_8cpp_html_add34b080694a5b887cf3b201051bf1c0"><div class="ttname"><a href="output_8cpp.html#add34b080694a5b887cf3b201051bf1c0">get_labeled_bar</a></div><div class="ttdeci">std::string get_labeled_bar(const double val, const int width, const std::string &amp;label, char c)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02724">output.cpp:2724</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00089">_</a>, <a class="el" href="output_8cpp_source.html#l02724">get_labeled_bar()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00091">catacurses::getmaxx()</a>, <a class="el" href="ncurses__def_8cpp_source.html#l00163">catacurses::mvwprintw()</a>, and <a class="el" href="string__formatter_8h_source.html#l00417">string_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01805">print_ranged_chance()</a>.</p>

</div>
</div>
<a id="a6b4c3a2a360b378de261413fbb7d84f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b4c3a2a360b378de261413fbb7d84f0">&#9670;&nbsp;</a></span>range_with_even_chance_of_good_hit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int range_with_even_chance_of_good_hit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dispersion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00577">577</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordtype">int</span> even_chance_range = 0;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">while</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>( even_chance_range ) &lt;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;           <a class="code" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a>.<a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>() &amp;&amp;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;           dispersion &lt; <a class="code" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a>[ even_chance_range ] ) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        even_chance_range++;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> even_chance_range;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a73b9cb6320e4447addaec375887e7861"><div class="ttname"><a href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a></div><div class="ttdeci">static std::vector&lt; int &gt; dispersion_for_even_chance_of_good_hit</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l01271">creature.h:1271</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="omdata_8h_source.html#l00066">omdata.h:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="creature_8h_source.html#l01271">Creature::dispersion_for_even_chance_of_good_hit</a>, and <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l02687">npc::confident_gun_mode_range()</a>, and <a class="el" href="item_8cpp_source.html#l03102">item::gun_info()</a>.</p>

</div>
</div>
<a id="a967f906a89a2a31d1bdb0fbc93e6ddf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967f906a89a2a31d1bdb0fbc93e6ddf9">&#9670;&nbsp;</a></span>target_size_in_moa()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double target_size_in_moa </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01597">1597</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;{</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="line_8cpp.html#aaa43dcdfe5b511b116fafb32c5cff349">atan2</a>( <a class="code" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a>, range ) * 60 * 180 / <a class="code" href="math__defines_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="line_8cpp_source.html#l00288">atan2()</a>, <a class="el" href="math__defines_8h_source.html#l00023">M_PI</a>, and <a class="el" href="omdata_8h_source.html#l00066">om_direction::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01602">Target_attributes::Target_attributes()</a>.</p>

</div>
</div>
<a id="aa55aace1fedc5b64c6d3d0418e251c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55aace1fedc5b64c6d3d0418e251c38">&#9670;&nbsp;</a></span>throw_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int throw_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>to_throw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
Throw increases throwing speed Dexterity increases throwing speed 
<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01110">1110</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// Very similar to player::attack_speed</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="comment">// TODO: Extract into a function?</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="comment">// Differences:</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="comment">// Dex is more (2x) important for throwing speed</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="comment">// At 10 skill, the cost is down to 0.75%, not 0.66%</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> base_move_cost = to_throw.<a class="code" href="classitem.html#a5ac32d5d8193f5fad10893881f53cb1c">attack_time</a>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) / 2;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> throw_skill = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ),</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                        <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_skill_level( <a class="code" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> ) );<span class="comment"></span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">    ///\EFFECT_THROW increases throwing speed</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> skill_cost = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( ( base_move_cost * ( 20 - throw_skill ) / 20 ) );<span class="comment"></span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">    ///\EFFECT_DEX increases throwing speed</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> dexbonus = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_dex();</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> stamina_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_stamina() ) / <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_stamina_max();</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> stamina_penalty = 1.0 + <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( ( 0.25f - stamina_ratio ) * 4.0f, 0.0f );</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> = base_move_cost;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> *= <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_modifier( <a class="code" href="ranged_8cpp.html#a8d4ed92ee82965b00b2c043ef36261d2">character_modifier_melee_thrown_move_lift_mod</a> );</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> *= <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.get_modifier( <a class="code" href="ranged_8cpp.html#a591e788884fe3dc8032be8a9fc2ceb3c">character_modifier_melee_thrown_move_balance_mod</a> );</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="comment">// Stamina penalty only affects base/2 and encumbrance parts of the cost</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> *= stamina_penalty;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> += skill_cost;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> -= dexbonus;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">move_cost</a> = <a class="code" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.enchantment_cache-&gt;modify_value( <a class="code" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a3d3e5fcb0b68fc939d4e32a894e620a8">enchant_vals::mod::ATTACK_SPEED</a>, move_cost );</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 25, move_cost );</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="ttc" id="aclassitem_html_a5ac32d5d8193f5fad10893881f53cb1c"><div class="ttname"><a href="classitem.html#a5ac32d5d8193f5fad10893881f53cb1c">item::attack_time</a></div><div class="ttdeci">int attack_time(const Character &amp;you) const</div><div class="ttdoc">Base number of moves (Creature::moves) that a single melee attack with this items takes.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07444">item.cpp:7444</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">static constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01568">magic.cpp:1568</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a993dede52d23a9a3d15b01a342391ef4"><div class="ttname"><a href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">min</a></div><div class="ttdeci">double min(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00043">math_parser_func.h:43</a></div></div>
<div class="ttc" id="anamespaceactivity__handlers_html_a88e87301f5548ff4bc7076a59fcde638"><div class="ttname"><a href="namespaceactivity__handlers.html#a88e87301f5548ff4bc7076a59fcde638">activity_handlers::move_cost</a></div><div class="ttdeci">int move_cost(const item &amp;it, const tripoint_bub_ms &amp;src, const tripoint_bub_ms &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00538">activity_item_handling.cpp:538</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998a3d3e5fcb0b68fc939d4e32a894e620a8"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a3d3e5fcb0b68fc939d4e32a894e620a8">enchant_vals::mod::ATTACK_SPEED</a></div><div class="ttdeci">@ ATTACK_SPEED</div></div>
<div class="ttc" id="aranged_8cpp_html_a591e788884fe3dc8032be8a9fc2ceb3c"><div class="ttname"><a href="ranged_8cpp.html#a591e788884fe3dc8032be8a9fc2ceb3c">character_modifier_melee_thrown_move_balance_mod</a></div><div class="ttdeci">static const character_modifier_id character_modifier_melee_thrown_move_balance_mod(&quot;melee_thrown_move_balance_mod&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_a8d4ed92ee82965b00b2c043ef36261d2"><div class="ttname"><a href="ranged_8cpp.html#a8d4ed92ee82965b00b2c043ef36261d2">character_modifier_melee_thrown_move_lift_mod</a></div><div class="ttdeci">static const character_modifier_id character_modifier_melee_thrown_move_lift_mod(&quot;melee_thrown_move_lift_mod&quot;)</div></div>
<div class="ttc" id="aranged_8cpp_html_aca8ae2b9cbc86602a56a3885b72a4ed1"><div class="ttname"><a href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a></div><div class="ttdeci">static const skill_id skill_throw(&quot;throw&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a3d3e5fcb0b68fc939d4e32a894e620a8">enchant_vals::ATTACK_SPEED</a>, <a class="el" href="item_8cpp_source.html#l07444">item::attack_time()</a>, <a class="el" href="magic_8cpp_source.html#l01568">c</a>, <a class="el" href="ranged_8cpp.html#a591e788884fe3dc8032be8a9fc2ceb3c">character_modifier_melee_thrown_move_balance_mod</a>, <a class="el" href="ranged_8cpp.html#a8d4ed92ee82965b00b2c043ef36261d2">character_modifier_melee_thrown_move_lift_mod</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="game__constants_8h_source.html#l00120">MAX_SKILL</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, and <a class="el" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>, <a class="el" href="npc__attack_8cpp_source.html#l00798">npc_attack_throw::evaluate_tripoint()</a>, and <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>.</p>

</div>
</div>
<a id="a6a73511d720b80c22f04cdb5a5662393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a73511d720b80c22f04cdb5a5662393">&#9670;&nbsp;</a></span>throwing_skill_adjusted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static float throwing_skill_adjusted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>guy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l01242">1242</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;{</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordtype">float</span> skill_level = <a class="code" href="math__parser__func_8h.html#a993dede52d23a9a3d15b01a342391ef4">std::min</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> ), guy.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>( <a class="code" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a> ) );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">// if you are lying on the floor, you can&#39;t really throw that well</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">if</span>( guy.<a class="code" href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">has_effect</a>( <a class="code" href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        skill_level = <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( 0.0f, skill_level - 5 );</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> skill_level;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div>
<div class="ttc" id="aclassCreature_html_a7bf62f4f36b0475f1f39ea27f3beebb0"><div class="ttname"><a href="classCreature.html#a7bf62f4f36b0475f1f39ea27f3beebb0">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, const bodypart_id &amp;bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01770">creature.cpp:1770</a></div></div>
<div class="ttc" id="aranged_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ranged_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, <a class="el" href="character_8cpp_source.html#l03428">Character::get_skill_level()</a>, <a class="el" href="creature_8cpp_source.html#l01770">Creature::has_effect()</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="game__constants_8h_source.html#l00120">MAX_SKILL</a>, <a class="el" href="math__parser__func_8h_source.html#l00043">min()</a>, and <a class="el" href="ranged_8cpp.html#aca8ae2b9cbc86602a56a3885b72a4ed1">skill_throw</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, <a class="el" href="ranged_8cpp_source.html#l01272">Character::thrown_item_projectile()</a>, and <a class="el" href="ranged_8cpp_source.html#l01281">Character::thrown_item_total_damage_raw()</a>.</p>

</div>
</div>
<a id="a613a8b59e4b2f2aaf05091d354bb4aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a613a8b59e4b2f2aaf05091d354bb4aa3">&#9670;&nbsp;</a></span>time_to_attack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int time_to_attack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structitype.html">itype</a> &amp;&#160;</td>
          <td class="paramname"><em>firing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l02107">2107</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;{</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    <span class="keyword">const</span> <a class="code" href="classstring__id.html">skill_id</a> &amp;skill_used = firing.<a class="code" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keyword">const</span> <a class="code" href="structtime__info__t.html">time_info_t</a> &amp;info = skill_used-&gt;<a class="code" href="classSkill.html#a879f0e8d0da73f0cdebd825134cd32d6">time_to_attack</a>();</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="math__parser__func_8h.html#a9009aa9e5eb1323238ebddffd8e1aedf">std::max</a>( info.<a class="code" href="structtime__info__t.html#a562e779c37f25968ccd5f5298a8c308c">min_time</a>,</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code" href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a>( info.<a class="code" href="structtime__info__t.html#ab3676d37128ef1625abe58686c8c2bfb">base_time</a> - info.<a class="code" href="structtime__info__t.html#a1cb4c0bb33cbe25f4e889533d8ae1721">time_reduction_per_level</a> * p.<a class="code" href="classCharacter.html#a93a3570e884214ba5c0eb3cdf1af75cc">get_skill_level</a>(</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                                           skill_used ) ) ) );</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;}</div>
<div class="ttc" id="aclassSkill_html_a879f0e8d0da73f0cdebd825134cd32d6"><div class="ttname"><a href="classSkill.html#a879f0e8d0da73f0cdebd825134cd32d6">Skill::time_to_attack</a></div><div class="ttdeci">time_info_t time_to_attack() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00087">skill.h:87</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; Skill &gt;</a></div></div>
<div class="ttc" id="amath__parser__func_8h_html_a5834219bcffc7118c95b395b8cdeec20"><div class="ttname"><a href="math__parser__func_8h.html#a5834219bcffc7118c95b395b8cdeec20">round</a></div><div class="ttdeci">double round(std::vector&lt; double &gt; const &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="math__parser__func_8h_source.html#l00110">math_parser_func.h:110</a></div></div>
<div class="ttc" id="astructitype_html_a623ec8243b1e599086fa3a23c3179370"><div class="ttname"><a href="structitype.html#a623ec8243b1e599086fa3a23c3179370">itype::gun</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gun &gt; gun</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01207">itype.h:1207</a></div></div>
<div class="ttc" id="astructtime__info__t_html"><div class="ttname"><a href="structtime__info__t.html">time_info_t</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00023">skill.h:23</a></div></div>
<div class="ttc" id="astructtime__info__t_html_a1cb4c0bb33cbe25f4e889533d8ae1721"><div class="ttname"><a href="structtime__info__t.html#a1cb4c0bb33cbe25f4e889533d8ae1721">time_info_t::time_reduction_per_level</a></div><div class="ttdeci">int time_reduction_per_level</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00029">skill.h:29</a></div></div>
<div class="ttc" id="astructtime__info__t_html_a562e779c37f25968ccd5f5298a8c308c"><div class="ttname"><a href="structtime__info__t.html#a562e779c37f25968ccd5f5298a8c308c">time_info_t::min_time</a></div><div class="ttdeci">int min_time</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00025">skill.h:25</a></div></div>
<div class="ttc" id="astructtime__info__t_html_ab3676d37128ef1625abe58686c8c2bfb"><div class="ttname"><a href="structtime__info__t.html#ab3676d37128ef1625abe58686c8c2bfb">time_info_t::base_time</a></div><div class="ttdeci">int base_time</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00027">skill.h:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="skill_8h_source.html#l00027">time_info_t::base_time</a>, <a class="el" href="character_8cpp_source.html#l03428">Character::get_skill_level()</a>, <a class="el" href="itype_8h_source.html#l01207">itype::gun</a>, <a class="el" href="math__parser__func_8h_source.html#l00035">max()</a>, <a class="el" href="skill_8h_source.html#l00025">time_info_t::min_time</a>, <a class="el" href="math__parser__func_8h_source.html#l00110">round()</a>, <a class="el" href="skill_8h_source.html#l00029">time_info_t::time_reduction_per_level</a>, and <a class="el" href="skill_8h_source.html#l00087">Skill::time_to_attack()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01692">calculate_ranged_chances()</a>, <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02339">Character::gun_value()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae134db696195500e4ff1835e6f784aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae134db696195500e4ff1835e6f784aca">&#9670;&nbsp;</a></span>AIF_DURATION_LIMIT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int AIF_DURATION_LIMIT = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00155">155</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02463">target_ui::run()</a>.</p>

</div>
</div>
<a id="a5b115344b066e0eebf72b6fcafaebfb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b115344b066e0eebf72b6fcafaebfb2">&#9670;&nbsp;</a></span>ammo_120mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_120mm(&quot;120mm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;120mm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a7c9a7d0a1b73c0f70f96584ecc262420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9a7d0a1b73c0f70f96584ecc262420">&#9670;&nbsp;</a></span>ammo_12mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_12mm(&quot;12mm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;12mm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a5894429e236b2dc2ee157ce48d7ad02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5894429e236b2dc2ee157ce48d7ad02e">&#9670;&nbsp;</a></span>ammo_40x46mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_40x46mm(&quot;40x46mm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;40x46mm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a57ab4ea57b22b751cee023b1798c68f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57ab4ea57b22b751cee023b1798c68f2">&#9670;&nbsp;</a></span>ammo_40x53mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_40x53mm(&quot;40x53mm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;40x53mm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="ab386b4796e39e527e91a503f6975c82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab386b4796e39e527e91a503f6975c82d">&#9670;&nbsp;</a></span>ammo_66mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_66mm(&quot;66mm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;66mm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a638a17e59573d9d6bac0a05980096c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638a17e59573d9d6bac0a05980096c37">&#9670;&nbsp;</a></span>ammo_84x246mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_84x246mm(&quot;84x246mm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;84x246mm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a282ca1601a24be0ae7aae003597e7ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282ca1601a24be0ae7aae003597e7ada">&#9670;&nbsp;</a></span>ammo_arrow</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_arrow(&quot;arrow&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;arrow&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a990502dafd582f371f40de17ae3f5ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990502dafd582f371f40de17ae3f5ef4">&#9670;&nbsp;</a></span>ammo_atgm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_atgm(&quot;atgm&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;atgm&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a6ce4de21dacf3a60c3da7dcead0fd08f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce4de21dacf3a60c3da7dcead0fd08f">&#9670;&nbsp;</a></span>ammo_atlatl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_atlatl(&quot;atlatl&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;atlatl&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a609c386685fa395233e3f1765e57a38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609c386685fa395233e3f1765e57a38b">&#9670;&nbsp;</a></span>ammo_bolt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_bolt(&quot;bolt&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bolt&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="abab3d18c8a6ece5b486b6e3965e27dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab3d18c8a6ece5b486b6e3965e27dde">&#9670;&nbsp;</a></span>ammo_bolt_ballista</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_bolt_ballista(&quot;bolt_ballista&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bolt_ballista&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a66543644370f9b1d803abac7d90cd033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66543644370f9b1d803abac7d90cd033">&#9670;&nbsp;</a></span>ammo_flammable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_flammable(&quot;flammable&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;flammable&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="aecf1c5ee613ec0609d2ae3a7a46b4b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf1c5ee613ec0609d2ae3a7a46b4b8d">&#9670;&nbsp;</a></span>ammo_homebrew_rocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_homebrew_rocket(&quot;homebrew_rocket&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;homebrew_rocket&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a81c0e98b7eaad878f45b27c21f4d6393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81c0e98b7eaad878f45b27c21f4d6393">&#9670;&nbsp;</a></span>ammo_m235</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_m235(&quot;m235&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;m235&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="ac283fa14509e26bd1becc0a28dfcb8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac283fa14509e26bd1becc0a28dfcb8d1">&#9670;&nbsp;</a></span>ammo_metal_rail</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_metal_rail(&quot;metal_rail&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;metal_rail&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a68193ecd0be34e65f12a3febf6f7b6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68193ecd0be34e65f12a3febf6f7b6e1">&#9670;&nbsp;</a></span>ammo_RPG_7</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_RPG_7(&quot;RPG-7&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;RPG-7&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a4daea1de5d5e6f0b8d268b627b874139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4daea1de5d5e6f0b8d268b627b874139">&#9670;&nbsp;</a></span>ammo_strange_arrow</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a> ammo_strange_arrow(&quot;strange_arrow&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;strange_arrow&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02185">item::gun_noise()</a>.</p>

</div>
</div>
<a id="a738f726f320c7f5b5edca445777a14fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738f726f320c7f5b5edca445777a14fa">&#9670;&nbsp;</a></span>bio_railgun</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bio_railgun(&quot;bio_railgun&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bio_railgun&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, and <a class="el" href="ranged_8cpp_source.html#l01252">Character::thrown_item_adjusted_damage()</a>.</p>

</div>
</div>
<a id="a591e788884fe3dc8032be8a9fc2ceb3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a591e788884fe3dc8032be8a9fc2ceb3c">&#9670;&nbsp;</a></span>character_modifier_melee_thrown_move_balance_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a> character_modifier_melee_thrown_move_balance_mod(&quot;melee_thrown_move_balance_mod&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;melee_thrown_move_balance_mod&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01110">throw_cost()</a>.</p>

</div>
</div>
<a id="a8d4ed92ee82965b00b2c043ef36261d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4ed92ee82965b00b2c043ef36261d2">&#9670;&nbsp;</a></span>character_modifier_melee_thrown_move_lift_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a> character_modifier_melee_thrown_move_lift_mod(&quot;melee_thrown_move_lift_mod&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;melee_thrown_move_lift_mod&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01110">throw_cost()</a>.</p>

</div>
</div>
<a id="aef6b532c29ec965cbee404c29746a7da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6b532c29ec965cbee404c29746a7da">&#9670;&nbsp;</a></span>character_modifier_ranged_dispersion_manip_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a> character_modifier_ranged_dispersion_manip_mod(&quot;ranged_dispersion_manip_mod&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;ranged_dispersion_manip_mod&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>.</p>

</div>
</div>
<a id="aaab2235167b3bf7fa8f2e8c9163d64d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaab2235167b3bf7fa8f2e8c9163d64d2">&#9670;&nbsp;</a></span>character_modifier_thrown_dex_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a0af53b8f4b2dd62ae6f45df37389df9c">character_modifier_id</a> character_modifier_thrown_dex_mod(&quot;thrown_dex_mod&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;thrown_dex_mod&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01170">Character::throw_dispersion_per_dodge()</a>.</p>

</div>
</div>
<a id="a157369b3ee1f3f5a889eb1d42ed97638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157369b3ee1f3f5a889eb1d42ed97638">&#9670;&nbsp;</a></span>damage_bash</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> damage_bash(&quot;bash&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bash&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, and <a class="el" href="ranged_8cpp_source.html#l01281">Character::thrown_item_total_damage_raw()</a>.</p>

</div>
</div>
<a id="aecd517a9e74b5a5a21f0c75f88f50090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd517a9e74b5a5a21f0c75f88f50090">&#9670;&nbsp;</a></span>damage_cut</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a119965745ae171b731d18a45ec6ee424">damage_type_id</a> damage_cut(&quot;cut&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;cut&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, and <a class="el" href="ranged_8cpp_source.html#l01281">Character::thrown_item_total_damage_raw()</a>.</p>

</div>
</div>
<a id="a08481f62adb6937636ea44b855311037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08481f62adb6937636ea44b855311037">&#9670;&nbsp;</a></span>effect_downed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_downed(&quot;downed&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;downed&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01242">throwing_skill_adjusted()</a>.</p>

</div>
</div>
<a id="a4de2ef4c2e145815427b09adfaa0def5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de2ef4c2e145815427b09adfaa0def5">&#9670;&nbsp;</a></span>effect_hit_by_player</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_hit_by_player(&quot;hit_by_player&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;hit_by_player&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03959">target_ui::on_target_accepted()</a>.</p>

</div>
</div>
<a id="a3be9304af3e12dfef2f28becb7b93011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3be9304af3e12dfef2f28becb7b93011">&#9670;&nbsp;</a></span>effect_on_roof</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_on_roof(&quot;on_roof&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;on_roof&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>.</p>

</div>
</div>
<a id="a308f7276ae25fff301d31c7fd64270e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a308f7276ae25fff301d31c7fd64270e4">&#9670;&nbsp;</a></span>effect_quadruped_full</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_quadruped_full(&quot;quadruped_full&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;quadruped_full&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00547">Creature::ranged_target_size()</a>.</p>

</div>
</div>
<a id="a6a67c1570499e9c4ab345a0c6f1ba026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a67c1570499e9c4ab345a0c6f1ba026">&#9670;&nbsp;</a></span>fault_gun_blackpowder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_gun_blackpowder(&quot;fault_gun_blackpowder&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_gun_blackpowder&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00606">Character::handle_gun_damage()</a>.</p>

</div>
</div>
<a id="ace607007c38b8d55a601963b24f89e7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace607007c38b8d55a601963b24f89e7e">&#9670;&nbsp;</a></span>fault_gun_chamber_spent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_gun_chamber_spent(&quot;fault_gun_chamber_spent&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_gun_chamber_spent&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, and <a class="el" href="ranged_8cpp_source.html#l00606">Character::handle_gun_damage()</a>.</p>

</div>
</div>
<a id="a0ea533037e4a6a02394d39e2d62174bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea533037e4a6a02394d39e2d62174bc">&#9670;&nbsp;</a></span>fault_gun_dirt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_gun_dirt(&quot;fault_gun_dirt&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_gun_dirt&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00606">Character::handle_gun_damage()</a>.</p>

</div>
</div>
<a id="a5a490676abb8e2a402ec62817da5311b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a490676abb8e2a402ec62817da5311b">&#9670;&nbsp;</a></span>fault_overheat_explosion</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_overheat_explosion(&quot;fault_overheat_explosion&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_overheat_explosion&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00771">Character::handle_gun_overheat()</a>.</p>

</div>
</div>
<a id="aaa28e14858a862e5085b9c4d06f5bfdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa28e14858a862e5085b9c4d06f5bfdc">&#9670;&nbsp;</a></span>fault_overheat_melting</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_overheat_melting(&quot;fault_overheat_melting&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_overheat_melting&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00771">Character::handle_gun_overheat()</a>.</p>

</div>
</div>
<a id="a52f20bf5a32adb49385320ff391b2f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f20bf5a32adb49385320ff391b2f8e">&#9670;&nbsp;</a></span>fault_overheat_safety</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_overheat_safety(&quot;fault_overheat_safety&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_overheat_safety&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00771">Character::handle_gun_overheat()</a>.</p>

</div>
</div>
<a id="a0f268fc372aed3ee28ba36bd2d2d5287"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f268fc372aed3ee28ba36bd2d2d5287">&#9670;&nbsp;</a></span>fault_overheat_venting</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a70d37599d2ba5925c91a04d551b57b93">fault_id</a> fault_overheat_venting(&quot;fault_overheat_venting&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;fault_overheat_venting&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00771">Character::handle_gun_overheat()</a>.</p>

</div>
</div>
<a id="a6cd87802123477df1237fa5271842f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd87802123477df1237fa5271842f8b">&#9670;&nbsp;</a></span>ferric</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt;<a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&gt; ferric = { <a class="el" href="ranged_8cpp.html#a770eb7c8ac46ca214eafc8a3778dc4be">material_iron</a>, <a class="el" href="trapfunc_8cpp.html#a6cda9e7cd9c37d3822410cf6280babdf">material_steel</a>, <a class="el" href="ranged_8cpp.html#a26815bd1f0ea7814c8d82103ce7458d8">material_budget_steel</a>, <a class="el" href="ranged_8cpp.html#a263771acb00bdae9183f85580fcb1b43">material_case_hardened_steel</a>, <a class="el" href="ranged_8cpp.html#a1e9f8f3600585654b27d71a2dc99a449">material_high_steel</a>, <a class="el" href="ranged_8cpp.html#ad75fbfd35a5881cf4652a8cf745f52b7">material_low_steel</a>, <a class="el" href="ranged_8cpp.html#a5fa8fef66699e3dfe7059a6e9cc672a6">material_med_steel</a>, <a class="el" href="ranged_8cpp.html#a37b3abec3c86a9a6473849010adee218">material_tempered_steel</a> }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ranged_8cpp_source.html#l00152">152</a> of file <a class="el" href="ranged_8cpp_source.html">ranged.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, and <a class="el" href="ranged_8cpp_source.html#l01252">Character::thrown_item_adjusted_damage()</a>.</p>

</div>
</div>
<a id="a4df4dd60924cd337468bb34326d879a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df4dd60924cd337468bb34326d879a7">&#9670;&nbsp;</a></span>json_flag_FILTHY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a65869bf196f1d97bcfd690e07ffbbd7d">flag_id</a> json_flag_FILTHY(&quot;FILTHY&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;FILTHY&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02116">cycle_action()</a>.</p>

</div>
</div>
<a id="a26815bd1f0ea7814c8d82103ce7458d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26815bd1f0ea7814c8d82103ce7458d8">&#9670;&nbsp;</a></span>material_budget_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_budget_steel(&quot;budget_steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;budget_steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a263771acb00bdae9183f85580fcb1b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263771acb00bdae9183f85580fcb1b43">&#9670;&nbsp;</a></span>material_case_hardened_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_case_hardened_steel(&quot;case_hardened_steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;case_hardened_steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0445510734214e05ba923feabd4b85d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0445510734214e05ba923feabd4b85d9">&#9670;&nbsp;</a></span>material_glass</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_glass(&quot;glass&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;glass&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, and <a class="el" href="ranged_8cpp_source.html#l01281">Character::thrown_item_total_damage_raw()</a>.</p>

</div>
</div>
<a id="a1e9f8f3600585654b27d71a2dc99a449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9f8f3600585654b27d71a2dc99a449">&#9670;&nbsp;</a></span>material_high_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_high_steel(&quot;high_steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;high_steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a770eb7c8ac46ca214eafc8a3778dc4be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770eb7c8ac46ca214eafc8a3778dc4be">&#9670;&nbsp;</a></span>material_iron</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_iron(&quot;iron&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;iron&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad75fbfd35a5881cf4652a8cf745f52b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75fbfd35a5881cf4652a8cf745f52b7">&#9670;&nbsp;</a></span>material_low_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_low_steel(&quot;low_steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;low_steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fa8fef66699e3dfe7059a6e9cc672a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa8fef66699e3dfe7059a6e9cc672a6">&#9670;&nbsp;</a></span>material_med_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_med_steel(&quot;med_steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;med_steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6cda9e7cd9c37d3822410cf6280babdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cda9e7cd9c37d3822410cf6280babdf">&#9670;&nbsp;</a></span>material_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_steel(&quot;steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a37b3abec3c86a9a6473849010adee218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b3abec3c86a9a6473849010adee218">&#9670;&nbsp;</a></span>material_tempered_steel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> material_tempered_steel(&quot;tempered_steel&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;tempered_steel&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af94296ce179c8a7441548e43d0b8235f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94296ce179c8a7441548e43d0b8235f">&#9670;&nbsp;</a></span>proficiency_prof_bow_basic</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a3eacdceec9e9a9ff9da9c9167aacc582">proficiency_id</a> proficiency_prof_bow_basic(&quot;prof_bow_basic&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;prof_bow_basic&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01455">practice_archery_proficiency()</a>.</p>

</div>
</div>
<a id="a5a31fd4e066d23b9f26579e931b87113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a31fd4e066d23b9f26579e931b87113">&#9670;&nbsp;</a></span>proficiency_prof_bow_expert</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a3eacdceec9e9a9ff9da9c9167aacc582">proficiency_id</a> proficiency_prof_bow_expert(&quot;prof_bow_expert&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;prof_bow_expert&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01455">practice_archery_proficiency()</a>.</p>

</div>
</div>
<a id="ab1f819e79b8cfdcbf08cca629e3073ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1f819e79b8cfdcbf08cca629e3073ba">&#9670;&nbsp;</a></span>proficiency_prof_bow_master</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a3eacdceec9e9a9ff9da9c9167aacc582">proficiency_id</a> proficiency_prof_bow_master(&quot;prof_bow_master&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;prof_bow_master&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01455">practice_archery_proficiency()</a>.</p>

</div>
</div>
<a id="a2f8b66e6fc62f3d92b208655f5525bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8b66e6fc62f3d92b208655f5525bba">&#9670;&nbsp;</a></span>skill_archery</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_archery(&quot;archery&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;archery&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01516">do_aim()</a>, <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>, <a class="el" href="ranged_8cpp_source.html#l01497">mod_stamina_archery()</a>, and <a class="el" href="ranged_8cpp_source.html#l01455">practice_archery_proficiency()</a>.</p>

</div>
</div>
<a id="a1d5482b7403ee4ac3e70e88ecfee2141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d5482b7403ee4ac3e70e88ecfee2141">&#9670;&nbsp;</a></span>skill_dodge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_dodge(&quot;dodge&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;dodge&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02339">Character::gun_value()</a>.</p>

</div>
</div>
<a id="afee8dcfd12a225c469ee6171063d7594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee8dcfd12a225c469ee6171063d7594">&#9670;&nbsp;</a></span>skill_driving</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_driving(&quot;driving&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;driving&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>.</p>

</div>
</div>
<a id="a3eadead4a9aa7fee079c0b1acce7965e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eadead4a9aa7fee079c0b1acce7965e">&#9670;&nbsp;</a></span>skill_gun</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_gun(&quot;gun&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;gun&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>, <a class="el" href="ranged_8cpp_source.html#l02290">Character::get_weapon_dispersion()</a>, and <a class="el" href="ranged_8cpp_source.html#l03255">target_ui::recalc_aim_turning_penalty()</a>.</p>

</div>
</div>
<a id="a0c6f7a1d7eeb2c38d69b568d85eb9f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c6f7a1d7eeb2c38d69b568d85eb9f0d">&#9670;&nbsp;</a></span>skill_launcher</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_launcher(&quot;launcher&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;launcher&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>.</p>

</div>
</div>
<a id="a1d815a8053cfecc8a05374bf92924ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d815a8053cfecc8a05374bf92924ba2">&#9670;&nbsp;</a></span>skill_swimming</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_swimming(&quot;swimming&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;swimming&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01497">mod_stamina_archery()</a>.</p>

</div>
</div>
<a id="aca8ae2b9cbc86602a56a3885b72a4ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca8ae2b9cbc86602a56a3885b72a4ed1">&#9670;&nbsp;</a></span>skill_throw</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_throw(&quot;throw&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;throw&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l01110">throw_cost()</a>, <a class="el" href="ranged_8cpp_source.html#l01308">Character::throw_item()</a>, <a class="el" href="ranged_8cpp_source.html#l01183">Character::throwing_dispersion()</a>, <a class="el" href="ranged_8cpp_source.html#l01242">throwing_skill_adjusted()</a>, and <a class="el" href="ranged_8cpp_source.html#l01252">Character::thrown_item_adjusted_damage()</a>.</p>

</div>
</div>
<a id="a26f773999c96865544c00b5496637d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f773999c96865544c00b5496637d56">&#9670;&nbsp;</a></span>tr_practice_target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#aaf07656eb0d8c6676fbb1849d92cfa26">trap_str_id</a> tr_practice_target(&quot;tr_practice_target&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;tr_practice_target&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fb9c66af29eade7d376e89264128bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb9c66af29eade7d376e89264128bcd">&#9670;&nbsp;</a></span>trait_BRAWLER</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_BRAWLER(&quot;BRAWLER&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;BRAWLER&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l03975">gunmode_checks_common()</a>.</p>

</div>
</div>
<a id="a512959ad2b35ea057f2fed5445fc23c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a512959ad2b35ea057f2fed5445fc23c4">&#9670;&nbsp;</a></span>trait_PYROMANIA</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_PYROMANIA(&quot;PYROMANIA&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PYROMANIA&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ranged_8cpp_source.html#l00867">Character::fire_gun()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 7 2024 08:48:34 for Cataclysm DDA by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
